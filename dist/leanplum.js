!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t,n){var r=n(19),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.4.0",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_METADATA:"actionMetadata",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_METADATA:"__leanplum_action_metadata",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)"}}},function(e,t,n){var r=n(46),o=n(52);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){return void 0===t?this:(this.argString&&(this.argString+="&"),this.argString+=e+"="+encodeURIComponent(t),this.argValues[e]=t,this)},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(o.default.PARAMS.APP_ID,e).add(o.default.PARAMS.CLIENT,o.default.CLIENT).add(o.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o={},a=function(){function e(){}return e.getFromLocalStorage=function(e){return!1===r?o[e]:localStorage[e]},e.saveToLocalStorage=function(e,t){if(!1!==r)try{localStorage[e]=t}catch(n){r=!1,o[e]=t}else o[e]=t},e.removeFromLocalStorage=function(e){if(!1!==r)try{localStorage.removeItem(e)}catch(t){r=!1,delete o[e]}else delete o[e]},e}();t.default=a},function(e,t,n){var r=n(36),o=n(37),a=n(38),i=n(39),s=n(40);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(17);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(12),o=n(48),a=n(49),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},function(e,t,n){var r=n(2)(Object,"create");e.exports=r},function(e,t,n){var r=n(61);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(2)(n(0),"Map");e.exports=r},function(e,t,n){var r=n(0).Symbol;e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3)),a=r(n(1)),i=r(n(4)),s=r(n(15)),u=void 0,c=null,l=function(){function e(){}return e.request=function(t,n,r){if(void 0===r&&(r={}),r=r||{},n=n||new o.default,e.deviceId||(e.deviceId=i.default.getFromLocalStorage(a.default.DEFAULT_KEYS.DEVICE_ID)),!e.deviceId){for(var l="",f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;d<16;d++)l+=f.charAt(Math.floor(Math.random()*f.length));e.deviceId=l,i.default.saveToLocalStorage(a.default.DEFAULT_KEYS.DEVICE_ID,l)}e.userId||(e.userId=i.default.getFromLocalStorage(a.default.DEFAULT_KEYS.USER_ID),e.userId||(e.userId=e.deviceId)),i.default.saveToLocalStorage(a.default.DEFAULT_KEYS.USER_ID,e.userId);var p=n.attachApiKeys(e.appId,e.clientKey).add(a.default.PARAMS.SDK_VERSION,a.default.SDK_VERSION).add(a.default.PARAMS.DEVICE_ID,e.deviceId).add(a.default.PARAMS.USER_ID,e.userId).add(a.default.PARAMS.ACTION,t).add(a.default.PARAMS.VERSION_NAME,e.versionName).add(a.default.PARAMS.DEV_MODE,r.devMode).add(a.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),v=r.success||r.response,h=r.error||r.response;if(!e.appId||!e.clientKey){var S="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(S),void(h&&h(S))}if(n.body())s.default.ajax("POST",e.apiPath+"?"+p.build(),n.body(),v,h,r.queued);else{var _=r.devMode||r.sendNow||!e.batchEnabled,g=function(){var t=e.popUnsentRequests();if(t.length>0){var n=JSON.stringify({data:t}),i=(new o.default).attachApiKeys(e.appId,e.clientKey).add(a.default.PARAMS.SDK_VERSION,a.default.SDK_VERSION).add(a.default.PARAMS.ACTION,a.default.METHODS.MULTI).add(a.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();s.default.ajax("POST",e.apiPath+"?"+i,n,v,h,r.queued)}};if(!_&&e.batchCooldown){var b=(new Date).getTime()/1e3;!u||b-u>=e.batchCooldown?(_=!0,u=b):c||(c=setTimeout((function(){c=null,u=(new Date).getTime()/1e3,g()}),1e3*(e.batchCooldown-(b-u))))}e.saveRequestForLater(p.buildDict()),_&&g()}},e.setNetworkTimeout=function(e){s.default.setNetworkTimeout(e)},e.saveRequestForLater=function(e){var t=i.default.getFromLocalStorage(a.default.DEFAULT_KEYS.COUNT)||0,n=a.default.DEFAULT_KEYS.ITEM+t;i.default.saveToLocalStorage(n,JSON.stringify(e)),t++,i.default.saveToLocalStorage(a.default.DEFAULT_KEYS.COUNT,t)},e.popUnsentRequests=function(){var e=[],t=i.default.getFromLocalStorage(a.default.DEFAULT_KEYS.COUNT)||0;i.default.removeFromLocalStorage(a.default.DEFAULT_KEYS.COUNT);for(var n=0;n<t;n++){var r=a.default.DEFAULT_KEYS.ITEM+n;try{var o=JSON.parse(i.default.getFromLocalStorage(r));e.push(o)}catch(e){}i.default.removeFromLocalStorage(r)}return e},e.numResponses=function(e){return e&&e.response?e.response.length:0},e.getResponseAt=function(e,t){return e&&e.response?e.response[t]:null},e.getLastResponse=function(t){var n=e.numResponses(t);return n>0?e.getResponseAt(t,n-1):null},e.isResponseSuccess=function(e){return!!e&&!!e.success},e.getResponseError=function(e){if(!e)return null;var t=e.error;return t?t.message:null},e.apiPath="https://www.leanplum.com/api",e.batchEnabled=!0,e.batchCooldown=5,e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Function.prototype.apply,o=[],a=10,i=function(){function e(){}return e.setNetworkTimeout=function(e){a=e},e.ajax=function(t,n,o,i,s,u,c){if(u){if(e.runningRequest)return e.enqueueRequest(arguments);e.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===n.indexOf("https:")&&(n="http:"+n.substring(6)),r.call(e.ajaxIE8,null,arguments);var l=!1,f=new XMLHttpRequest;f.onreadystatechange=function(){if(4===f.readyState){if(l)return;var t;l=!0;var n=!1;if(c)t=f.responseText;else try{t=JSON.parse(f.responseText)}catch(e){setTimeout((function(){s&&s(null,f)}),0),n=!0}n||(f.status>=200&&f.status<300?setTimeout((function(){i&&i(t,f)}),0):setTimeout((function(){s&&s(t,f)}),0)),u&&(e.runningRequest=!1,e.dequeueRequest())}},f.open(t,n,!0),f.setRequestHeader("Content-Type","text/plain"),f.send(o),setTimeout((function(){l||f.abort()}),1e3*a)},e.ajaxIE8=function(t,n,r,o,i,s,u){var c=new XDomainRequest;c.onload=function(){var t,n=!1;if(u)t=c.responseText;else try{t=JSON.parse(c.responseText)}catch(e){setTimeout((function(){i&&i(null,c)}),0),n=!0}n||setTimeout((function(){o&&o(t,c)}),0),s&&(e.runningRequest=!1,e.dequeueRequest())},c.onerror=c.ontimeout=function(){setTimeout((function(){i&&i(null,c)}),0),s&&(e.runningRequest=!1,e.dequeueRequest())},c.onprogress=function(){},c.open(t,n),c.timeout=1e3*a,c.send(r)},e.enqueueRequest=function(e){o.push(e)},e.dequeueRequest=function(){var t=o.shift();t&&r.call(e.ajax,null,t)},e.runningRequest=!1,e}();t.default=i},function(e,t,n){var r=n(33);e.exports=function(e,t){return r(e,t)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(7),o=n(20);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(47))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(53),o=n(60),a=n(62),i=n(63),s=n(64);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(65),o=n(68),a=n(69);e.exports=function(e,t,n,i,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e);if(d&&u.get(t))return d==t;var p=-1,v=!0,h=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var S=e[p],_=t[p];if(i)var g=c?i(_,S,p,t,e,u):i(S,_,p,e,t,u);if(void 0!==g){if(g)continue;v=!1;break}if(h){if(!o(t,(function(e,t){if(!a(h,t)&&(S===e||s(S,e,n,i,u)))return h.push(t)}))){v=!1;break}}else if(S!==_&&!s(S,_,n,i,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},function(e,t,n){(function(e){var r=n(0),o=n(86),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u}).call(this,n(25)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(88),o=n(89),a=n(90),i=a&&a.isTypedArray,s=i?o(i):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(29);e.exports=r.default},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(3)),i=o(n(30)),s=o(n(1)),u=o(n(31)),c=o(n(14)),l=o(n(32)),f=o(n(4)),d=o(n(102)),p=o(n(103)),v=new i.default,h=function(){function e(){}return e.setApiPath=function(e){c.default.apiPath&&(c.default.apiPath=e)},e.setEmail=function(t){e._email=t},e.setNetworkTimeout=function(e){c.default.setNetworkTimeout(e)},e.setVariantDebugInfoEnabled=function(t){e._internalState.variantDebugInfoEnabled=t},e.getVariantDebugInfo=function(){return e._varCache.getVariantDebugInfo()},e.setAppIdForDevelopmentMode=function(t,n){c.default.appId=t,c.default.clientKey=n,e._internalState.devMode=!0},e.setAppIdForProductionMode=function(t,n){c.default.appId=t,c.default.clientKey=n,e._internalState.devMode=!1},e.setSocketHost=function(t){e._lpSocket.setSocketHost(t)},e.setDeviceId=function(e){c.default.deviceId=e},e.setAppVersion=function(e){c.default.versionName=e},e.setDeviceName=function(t){e._deviceName=t},e.setDeviceModel=function(t){e._deviceModel=t},e.setSystemName=function(t){e._systemName=t},e.setSystemVersion=function(t){e._systemVersion=t},e.setVariables=function(t){e._varCache.setVariables(t)},e.setRequestBatching=function(e,t){c.default.batchEnabled=e,c.default.batchCooldown=t},e.getVariables=function(){return e._varCache.getVariables()},e.getVariable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=e.getVariables(),o=0;o<t.length;o++)r=r[t[o]];return r},e.getVariants=function(){return e._varCache.variants||[]},e.addStartResponseHandler=function(t){e._internalState.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._internalState.removeStartResponseHandler(t)},e.__destroy=function(){c.default.apiPath="https://www.leanplum.com/api",c.default.batchEnabled=!0,c.default.batchCooldown=5,c.default.deviceId=void 0,c.default.userId=void 0,c.default.appId=void 0,c.default.clientKey=void 0,c.default.versionName=void 0,e._internalState=new u.default,e._lpSocket=new l.default,e._pushManager=new d.default(e.createRequest),e._varCache=new p.default(e.createRequest)},e.addVariablesChangedHandler=function(t){e._varCache.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._varCache.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){var n=(new a.default).add(s.default.PARAMS.INCLUDE_DEFAULTS,!1).add(s.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,e._internalState.variantDebugInfoEnabled);e.createRequest(s.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(n){var r=c.default.getLastResponse(n),o=c.default.isResponseSuccess(r);o&&(e._varCache.applyDiffs(r[s.default.KEYS.VARS],r[s.default.KEYS.VARIANTS],r[s.default.KEYS.ACTION_METADATA]),e._varCache.setVariantDebugInfo(r[s.default.KEYS.VARIANT_DEBUG_INFO])),t&&t(o)}})},e.start=function(t,n,r){"function"==typeof t?(r=t,n={},t=null):"object"==typeof t&&null!=t?(r=n,n=t,t=null):"function"==typeof n&&(r=n,n={}),c.default.userId=t,r&&e.addStartResponseHandler(r),e._varCache.onUpdate=function(){e._varCache.triggerVariablesChangedHandlers()};var o=(new a.default).add(s.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(n)).add(s.default.PARAMS.COUNTRY,s.default.VALUES.DETECT).add(s.default.PARAMS.REGION,s.default.VALUES.DETECT).add(s.default.PARAMS.CITY,s.default.VALUES.DETECT).add(s.default.PARAMS.LOCATION,s.default.VALUES.DETECT).add(s.default.PARAMS.SYSTEM_NAME,e._systemName||v.OS).add(s.default.PARAMS.SYSTEM_VERSION,(e._systemVersion||"").toString()).add(s.default.PARAMS.BROWSER_NAME,v.browser).add(s.default.PARAMS.BROWSER_VERSION,v.version.toString()).add(s.default.PARAMS.LOCALE,s.default.VALUES.DETECT).add(s.default.PARAMS.DEVICE_NAME,e._deviceName||v.browser+" "+v.version).add(s.default.PARAMS.DEVICE_MODEL,e._deviceModel||"Web Browser").add(s.default.PARAMS.INCLUDE_DEFAULTS,!1).add(s.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,e._internalState.variantDebugInfoEnabled);e.createRequest(s.default.METHODS.START,o,{queued:!0,sendNow:!0,response:function(t){e._internalState.hasStarted=!0;var n=c.default.getLastResponse(t);if(c.default.isResponseSuccess(n)){if(e._internalState.startSuccessful=!0,e._internalState.devMode){var r=n[s.default.KEYS.LATEST_VERSION];r&&console.log("A newer version of Leanplum, "+r+', is available.\nUse "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.'),e._lpSocket.connect(e._varCache,e.createRequest)}e._varCache.applyDiffs(n[s.default.KEYS.VARS],n[s.default.KEYS.VARIANTS],n[s.default.KEYS.ACTION_METADATA]),e._varCache.setVariantDebugInfo(n[s.default.KEYS.VARIANT_DEBUG_INFO]),e._varCache.token=n[s.default.KEYS.TOKEN]}else e._internalState.startSuccessful=!1,e._varCache.loadDiffs();e._internalState.triggerStartHandlers()}})},e.startFromCache=function(t,n,r){"function"==typeof t?(r=t,n={},t=null):"object"==typeof t&&null!=t?(r=n,n=t,t=null):"function"==typeof n&&(r=n,n={}),c.default.userId=t,r&&e.addStartResponseHandler(r),e._internalState.hasStarted=!0,e._internalState.startSuccessful=!0,e._internalState.devMode&&e._lpSocket.connect(e._varCache,e.createRequest),e._varCache.loadDiffs(),e._internalState.triggerStartHandlers()},e.stop=function(){e.createRequest(s.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0})},e.pauseSession=function(){e.createRequest(s.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.resumeSession=function(){e.createRequest(s.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.pauseState=function(){e.createRequest(s.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.resumeState=function(){e.createRequest(s.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,n){if(void 0===n)if("object"==typeof t)n=t,t=void 0;else if("string"!=typeof t)return void console.log("Leanplum: setUserAttributes expects a string or an object");var r=(new a.default).add(s.default.PARAMS.USER_ATTRIBUTES,n?JSON.stringify(n):void 0).add(s.default.PARAMS.NEW_USER_ID,t);e.createRequest(s.default.METHODS.SET_USER_ATTRIBUTES,r,{queued:!0}),t&&(c.default.userId=t,f.default.saveToLocalStorage(s.default.DEFAULT_KEYS.USER_ID,c.default.userId))},e.track=function(t,n,r,o){"object"==typeof n&&null!=n?(o=n,r=void 0,n=void 0):"string"==typeof n?(o=r,r=n,n=void 0):"object"==typeof r&&null!=r&&(o=r,r=void 0);var i=(new a.default).add(s.default.PARAMS.EVENT,t).add(s.default.PARAMS.VALUE,n||0).add(s.default.PARAMS.INFO,r).add(s.default.PARAMS.PARAMS,JSON.stringify(o));e.createRequest(s.default.METHODS.TRACK,i,{queued:!0})},e.advanceTo=function(t,n,r){"object"==typeof n&&null!=n&&(r=n,n=void 0);var o=(new a.default).add(s.default.PARAMS.STATE,t).add(s.default.PARAMS.INFO,n).add(s.default.PARAMS.PARAMS,JSON.stringify(r));e.createRequest(s.default.METHODS.ADVANCE,o,{queued:!0})},e.isWebPushSupported=function(){return e._pushManager.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._pushManager.isWebPushSubscribed()},e.registerForWebPush=function(t){return e._pushManager.isWebPushSupported()?e._pushManager.register(t,(function(t){return t?Promise.resolve(!0):e._pushManager.subscribeUser()})):Promise.reject("Leanplum: WebPush is not supported.")},e.unregisterFromWebPush=function(){return e._pushManager.unsubscribeUser()},e.clearUserContent=function(){e._varCache.clearUserContent()},e.createRequest=function(t,n,o){void 0===o&&(o={}),c.default.request(t,n,r({devMode:e._internalState.devMode},o))},e._internalState=new u.default,e._lpSocket=new l.default,e._pushManager=new d.default(e.createRequest),e._varCache=new p.default(e.createRequest),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],o=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac OS"},{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],a=function(){function e(){this.browser=this._searchString(r)||"Unknown Browser",this.version=this._searchVersion(navigator.userAgent)||this._searchVersion(navigator.appVersion)||"Unknown Version",this.OS=this._searchString(o)||"Unknown OS"}return e.prototype._searchString=function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!==n.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},e.prototype._searchVersion=function(e){if(!e)return-1;var t=e.indexOf(this.versionSearchString);return-1===t?-1:parseFloat(e.substring(t+this.versionSearchString.length+1))},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(16)),a=r(n(3)),i=r(n(1)),s=r(n(14)),u=r(n(101)),c=function(){function e(){this.socketHost="dev.leanplum.com"}return e.prototype.connect=function(e,t){var n=this;if(WebSocket){var r=new u.default,c=!1;r.onopen=function(){var e;c||(console.log("Leanplum: Connected to development server."),r.send("auth",((e={})[i.default.PARAMS.APP_ID]=s.default.appId,e[i.default.PARAMS.DEVICE_ID]=s.default.deviceId,e)),c=!0)},r.onerror=function(e){console.log("Leanplum: Socket error",e)},r.onmessage=function(n,u){if("updateVars"===n){var c=(new a.default).add(i.default.PARAMS.INCLUDE_DEFAULTS,!1);t(i.default.METHODS.GET_VARS,c,{queued:!1,sendNow:!0,response:function(t){var n=s.default.getLastResponse(t),r=n[i.default.KEYS.VARS],a=n[i.default.KEYS.VARIANTS],u=n[i.default.KEYS.ACTION_METADATA];o.default(r,e.diffs)||e.applyDiffs(r,a,u)}})}else"getVariables"===n?(e.sendVariables(),r.send("getContentResponse",{updated:!0})):"getActions"===n?r.send("getContentResponse",{updated:!1}):"registerDevice"===n&&alert("Your device has been registered to "+u[0].email+".")},r.onclose=function(){console.log("Leanplum: Disconnected to development server."),c=!1},r.connect(this.socketHost),setInterval((function(){r.connected||r.connecting||r.connect(n.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e},e}();t.default=c},function(e,t,n){var r=n(34),o=n(10);e.exports=function e(t,n,a,i,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,a,i,e,s))}},function(e,t,n){var r=n(35),o=n(23),a=n(70),i=n(74),s=n(96),u=n(13),c=n(24),l=n(26),f="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,v,h){var S=u(e),_=u(t),g=S?"[object Array]":s(e),b=_?"[object Array]":s(t),A=(g="[object Arguments]"==g?f:g)==f,y=(b="[object Arguments]"==b?f:b)==f,E=g==b;if(E&&c(e)){if(!c(t))return!1;S=!0,A=!1}if(E&&!A)return h||(h=new r),S||l(e)?o(e,t,n,p,v,h):a(e,t,g,n,p,v,h);if(!(1&n)){var T=A&&d.call(e,"__wrapped__"),R=y&&d.call(t,"__wrapped__");if(T||R){var I=T?e.value():e,O=R?t.value():t;return h||(h=new r),v(I,O,n,p,h)}}return!!E&&(h||(h=new r),i(e,t,n,p,v,h))}},function(e,t,n){var r=n(5),o=n(41),a=n(42),i=n(43),s=n(44),u=n(45);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(6),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(6);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(6);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(6);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(5);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(5),o=n(11),a=n(22);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(18),o=n(50),a=n(20),i=n(21),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?d:s).test(i(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(12),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(51),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(0)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(54),o=n(5),a=n(11);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},function(e,t,n){var r=n(55),o=n(56),a=n(57),i=n(58),s=n(59);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(8);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(8),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(8),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(9);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(9);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(9);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(9);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(22),o=n(66),a=n(67);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(12),o=n(71),a=n(17),i=n(23),s=n(72),u=n(73),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var v=1&r;if(p||(p=u),e.size!=t.size&&!v)return!1;var h=d.get(e);if(h)return h==t;r|=2,d.set(e,t);var S=i(p(e),p(t),r,c,f,d);return d.delete(e),S;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t,n){var r=n(0).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(75),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,i,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in t:o.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var v=!0;s.set(e,t),s.set(t,e);for(var h=u;++f<l;){var S=e[d=c[f]],_=t[d];if(a)var g=u?a(_,S,d,t,e,s):a(S,_,d,e,t,s);if(!(void 0===g?S===_||i(S,_,n,a,s):g)){v=!1;break}h||(h="constructor"==d)}if(v&&!h){var b=e.constructor,A=t.constructor;b!=A&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A)&&(v=!1)}return s.delete(e),s.delete(t),v}},function(e,t,n){var r=n(76),o=n(78),a=n(81);e.exports=function(e){return r(e,a,o)}},function(e,t,n){var r=n(77),o=n(13);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(79),o=n(80),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return a.call(e,t)})))}:o;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(82),o=n(91),a=n(95);e.exports=function(e){return a(e)?r(e):o(e)}},function(e,t,n){var r=n(83),o=n(84),a=n(13),i=n(24),s=n(87),u=n(26),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&o(e),f=!n&&!l&&i(e),d=!n&&!l&&!f&&u(e),p=n||l||f||d,v=p?r(e.length,String):[],h=v.length;for(var S in e)!t&&!c.call(e,S)||p&&("length"==S||f&&("offset"==S||"parent"==S)||d&&("buffer"==S||"byteLength"==S||"byteOffset"==S)||s(S,h))||v.push(S);return v}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(85),o=n(10),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){var r=n(7),o=n(10);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(7),o=n(27),a=n(10),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(19),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(this,n(25)(e))},function(e,t,n){var r=n(92),o=n(93),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(94)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(18),o=n(27);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(97),o=n(11),a=n(98),i=n(99),s=n(100),u=n(7),c=n(21),l=c(r),f=c(o),d=c(a),p=c(i),v=c(s),h=u;(r&&"[object DataView]"!=h(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=h(new o)||a&&"[object Promise]"!=h(a.resolve())||i&&"[object Set]"!=h(new i)||s&&"[object WeakMap]"!=h(new s))&&(h=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case v:return"[object WeakMap]"}return t}),e.exports=h},function(e,t,n){var r=n(2)(n(0),"DataView");e.exports=r},function(e,t,n){var r=n(2)(n(0),"Promise");e.exports=r},function(e,t,n){var r=n(2)(n(0),"Set");e.exports=r},function(e,t,n){var r=n(2)(n(0),"WeakMap");e.exports=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(15)),a=function(){function e(){this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;t.connecting=!0,o.default.ajax("POST","https://"+e+"/socket.io/1","",(function(n){var r=n.split(":"),o=r[0],a=parseInt(r[1])/2*1e3;t.socket=new WebSocket("wss://"+e+"/socket.io/1/websocket/"+o);var i=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),i=setInterval((function(){t.socket.send("2:::")}),a)},t.socket.onclose=function(){t.connected=!1,clearInterval(i),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var n=e.data.split(":"),r=parseInt(n[0]);if(2===r)t.socket.send("2::");else if(5===r){var o=n[1],a=JSON.parse(n.slice(3).join(":")),i=a.name,s=a.args;o&&t.socket.send("6:::"+o),t.onmessage&&t.onmessage(i,s)}else 7===r&&console.log("Socket error: "+e.data)},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.send=function(e,t){if(this.connected){var n=JSON.stringify({name:e,args:t});this.socket.send("5:::"+n)}else console.log("Leanplum: Socket is not connected.")},e}();t.default=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(16)),s=a(n(3)),u=a(n(1)),c=a(n(4)),l=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return e.prototype.isWebPushSupported=function(){var e;return Boolean(void 0!==(null===(e=window)||void 0===e?void 0:e.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration()]:[3,3];case 1:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[3,3];case 2:return t=r.sent(),(n=null!==t)&&this.updateNewSubscriptionOnServer(t),[2,n];case 3:return[2,!1]}}))}))},e.prototype.register=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a,i;return o(this,(function(o){switch(o.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,t(!1)];o.label=1;case 1:return o.trys.push([1,3,,4]),n=this,[4,navigator.serviceWorker.register(e||"/sw.min.js",null)];case 2:return n.serviceWorkerRegistration=o.sent(),r=this.serviceWorkerRegistration.pushManager.getSubscription(),(a=null!==r)&&this.updateNewSubscriptionOnServer(r),[2,t(a)];case 3:return i=o.sent(),console.log("Leanplum: Service Worker Error: ",i),[2,t(!1)];case 4:return[2]}}))}))},e.prototype.subscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=r.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw n=r.sent(),new Error("Leanplum: Failed to subscribe the user: "+n);case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return[4,this.isWebPushSubscribed()];case 1:if(!(e=r.sent()))return[3,7];r.label=2;case 2:return r.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(t=r.sent()))throw new Error;return[4,t.unsubscribe()];case 4:return e=r.sent(),[3,6];case 5:throw n=r.sent(),new Error("Leanplum: Error unsubscribing: "+n);case 6:if(e)throw new Error;r.label=7;case 7:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.serviceWorkerRegistration?[3,2]:(e=this,[4,navigator.serviceWorker.getRegistration()]);case 1:e.serviceWorkerRegistration=t.sent(),t.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},e.prototype.prepareSubscription=function(e){var t=Function.prototype.apply,n=e.getKey?e.getKey("p256dh"):"",r=e.getKey?e.getKey("auth"):"",o=btoa(t.call(String.fromCharCode,null,new Uint8Array(n))),a=btoa(t.call(String.fromCharCode,null,new Uint8Array(r)));return{endpoint:e.endpoint,key:o,auth:a}},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),n=JSON.stringify(t),r=c.default.getFromLocalStorage(u.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION);i.default(r,n)||(c.default.saveToLocalStorage(u.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,n),this.setSubscription(n))}},e.prototype.setSubscription=function(e){if(e){var t=(new s.default).add(u.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(u.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e}();t.default=l},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3)),a=r(n(1)),i=r(n(4)),s=function(){function e(e){this.createRequest=e,this.actionMetadata={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,n){this.diffs=e,this.variants=t,this.actionMetadata=n,this.hasReceivedDiffs=!0,this.merged=function e(t,n){if("number"==typeof n||"boolean"==typeof n||"string"==typeof n)return n;if(null==n)return t;var r=function(e){return function(t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n]);else for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r)}},o=r(t),a=r(n),i=!1;if(null===t&&!(n instanceof Array))for(var s in i=null,n)if(n.hasOwnProperty(s)){if(null===i&&(i=!0),"string"!=typeof s){i=!1;break}if(s.length<3||"["!==s.charAt(0)||"]"!==s.charAt(s.length-1)){i=!1;break}}if(t instanceof Array||i){var u=[];return o((function(e){u.push(e)})),a((function(t){for(var r=parseInt(t.substring(1,t.length-1)),o=n[t];r>=u.length;)u.push(null);u[r]=e(u[r],o)})),u}var c={};return o((function(e){null!==n[e]&&void 0!==n[e]||(c[e]=t[e])})),a((function(r){c[r]=e(null===t?null:t[r]||{},n[r])})),c}(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(a.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(a.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(a.default.DEFAULT_KEYS.ACTION_METADATA)||null)),this.token=this.loadLocal(a.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(a.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: "+e)}},e.prototype.saveDiffs=function(){this.saveLocal(a.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(a.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(a.default.DEFAULT_KEYS.ACTION_METADATA,JSON.stringify(this.actionMetadata||{})),this.saveLocal(a.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(a.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendVariables=function(){var e,t=((e={})[a.default.PARAMS.VARIABLES]=this.variables,e),n=(new o.default).body(JSON.stringify(t));this.createRequest(a.default.METHODS.SET_VARS,n,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.loadLocal=function(e){return i.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){i.default.saveToLocalStorage(e,t)},e}();t.default=s}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE5hdGl2ZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9BcmdzQnVpbGRlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Mb2NhbFN0b3JhZ2VNYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTGlzdENhY2hlLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXNzb2NJbmRleE9mLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUNyZWF0ZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE1hcERhdGEuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX01hcC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTmV0d29yay50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNFcXVhbC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZXEuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RvU291cmNlLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19lcXVhbEFycmF5cy5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1R5cGVkQXJyYXkuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTGVuZ3RoLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL2J1bmRsZXMvbGVhbnBsdW0uZnVsbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Ccm93c2VyRGV0ZWN0b3IudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvSW50ZXJuYWxTdGF0ZS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVNvY2tldC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0VxdWFsLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzRXF1YWxEZWVwLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3RhY2suanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVDbGVhci5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZURlbGV0ZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZUdldC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZUhhcy5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZVNldC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrQ2xlYXIuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zdGFja0RlbGV0ZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrR2V0LmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tIYXMuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zdGFja1NldC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc05hdGl2ZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vYmplY3RUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29yZUpzRGF0YS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldFZhbHVlLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVDbGVhci5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX0hhc2guanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoQ2xlYXIuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoRGVsZXRlLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaEdldC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hIYXMuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoU2V0LmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVEZWxldGUuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0tleWFibGUuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUdldC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlSGFzLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVTZXQuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TZXRDYWNoZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NldENhY2hlQWRkLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2V0Q2FjaGVIYXMuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheVNvbWUuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jYWNoZUhhcy5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2VxdWFsQnlUYWcuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19VaW50OEFycmF5LmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NldFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19lcXVhbE9iamVjdHMuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRBbGxLZXlzLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldEFsbEtleXMuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheVB1c2guanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRTeW1ib2xzLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3N0dWJBcnJheS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gva2V5cy5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5TGlrZUtleXMuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVGltZXMuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJndW1lbnRzLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzQXJndW1lbnRzLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9zdHViRmFsc2UuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0luZGV4LmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzVHlwZWRBcnJheS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25vZGVVdGlsLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUtleXMuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc1Byb3RvdHlwZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUtleXMuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyQXJnLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldFRhZy5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX0RhdGFWaWV3LmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1NldC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1dlYWtNYXAuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvU29ja2V0SW9DbGllbnQudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvUHVzaE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvVmFyQ2FjaGUudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJGdW5jdGlvbiIsImRlZmF1bHQiLCJNRVRIT0RTIiwiU1RBUlQiLCJTVE9QIiwiQURWQU5DRSIsIlRSQUNLIiwiUEFVU0VfU0VTU0lPTiIsIlJFU1VNRV9TRVNTSU9OIiwiUEFVU0VfU1RBVEUiLCJSRVNVTUVfU1RBVEUiLCJET1dOTE9BRF9GSUxFIiwiTVVMVEkiLCJTRVRfVkFSUyIsIkdFVF9WQVJTIiwiU0VUX1VTRVJfQVRUUklCVVRFUyIsIlNFVF9ERVZJQ0VfQVRUUklCVVRFUyIsIlVQTE9BRF9GSUxFIiwiUkVHSVNURVJfREVWSUNFIiwiU0RLX1ZFUlNJT04iLCJDTElFTlQiLCJQQVJBTVMiLCJBQ1RJT04iLCJBUFBfSUQiLCJDTElFTlRfS0VZIiwiREVWSUNFX0lEIiwiVVNFUl9JRCIsIk5FV19VU0VSX0lEIiwiREVWX01PREUiLCJWRVJTSU9OX05BTUUiLCJTWVNURU1fTkFNRSIsIlNZU1RFTV9WRVJTSU9OIiwiQlJPV1NFUl9OQU1FIiwiQlJPV1NFUl9WRVJTSU9OIiwiREVWSUNFX05BTUUiLCJERVZJQ0VfTU9ERUwiLCJVU0VSX0FUVFJJQlVURVMiLCJMT0NBTEUiLCJDT1VOVFJZIiwiUkVHSU9OIiwiQ0lUWSIsIkxPQ0FUSU9OIiwiU1RBVEUiLCJJTkZPIiwiRVZFTlQiLCJWQUxVRSIsIkZJTEVOQU1FIiwiVElNRSIsIkRBVEEiLCJWQVJTIiwiRklMRSIsIlNJWkUiLCJWQVJJQVRJT04iLCJIQVNIIiwiRU1BSUwiLCJWQVJJQUJMRVMiLCJJTkNMVURFX0RFRkFVTFRTIiwiSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk8iLCJXRUJfUFVTSF9TVUJTQ1JJUFRJT04iLCJLRVlTIiwiSVNfUkVHSVNURVJFRCIsIkxBVEVTVF9WRVJTSU9OIiwiVkFSSUFOVFMiLCJWQVJJQU5UX0RFQlVHX0lORk8iLCJBQ1RJT05fTUVUQURBVEEiLCJUT0tFTiIsIkRFRkFVTFRfS0VZUyIsIkNPVU5UIiwiSVRFTSIsIlBVU0hfU1VCU0NSSVBUSU9OIiwiVkFMVUVTIiwiREVURUNUIiwiYmFzZUlzTmF0aXZlIiwiZ2V0VmFsdWUiLCJ1bmRlZmluZWQiLCJfX2ltcG9ydERlZmF1bHQiLCJ0aGlzIiwibW9kIiwiQ29uc3RhbnRzXzEiLCJBcmdzQnVpbGRlciIsImFyZ1N0cmluZyIsImFyZ1ZhbHVlcyIsImFkZCIsImVuY29kZVVSSUNvbXBvbmVudCIsImJvZHkiLCJfYm9keSIsImF0dGFjaEFwaUtleXMiLCJhcHBJZCIsImNsaWVudEtleSIsImJ1aWxkIiwiYnVpbGREaWN0IiwibG9jYWxTdG9yYWdlRW5hYmxlZCIsImFsdGVybmF0ZUxvY2FsU3RvcmFnZSIsIkxvY2FsU3RvcmFnZU1hbmFnZXIiLCJnZXRGcm9tTG9jYWxTdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwic2F2ZVRvTG9jYWxTdG9yYWdlIiwiZSIsInJlbW92ZUZyb21Mb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwibGlzdENhY2hlQ2xlYXIiLCJsaXN0Q2FjaGVEZWxldGUiLCJsaXN0Q2FjaGVHZXQiLCJsaXN0Q2FjaGVIYXMiLCJsaXN0Q2FjaGVTZXQiLCJMaXN0Q2FjaGUiLCJlbnRyaWVzIiwiaW5kZXgiLCJsZW5ndGgiLCJjbGVhciIsImVudHJ5Iiwic2V0IiwiaGFzIiwiZXEiLCJhcnJheSIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwic3ltVG9TdHJpbmdUYWciLCJuYXRpdmVDcmVhdGUiLCJnZXROYXRpdmUiLCJpc0tleWFibGUiLCJtYXAiLCJkYXRhIiwiX19kYXRhX18iLCJNYXAiLCJpc0FycmF5IiwiQXJyYXkiLCJBcmdzQnVpbGRlcl8xIiwiTG9jYWxTdG9yYWdlTWFuYWdlcl8xIiwiTmV0d29ya18xIiwibGFzdFJlcXVlc3RUaW1lIiwiY29vbGRvd25UaW1lb3V0IiwiTGVhbnBsdW1SZXF1ZXN0IiwicmVxdWVzdCIsImFjdGlvbiIsInBhcmFtcyIsIm9wdGlvbnMiLCJkZXZpY2VJZCIsImlkIiwicG9zc2libGUiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1c2VySWQiLCJhcmdzQnVpbGRlciIsInZlcnNpb25OYW1lIiwiZGV2TW9kZSIsIkRhdGUiLCJnZXRUaW1lIiwidG9TdHJpbmciLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJlcnJvciIsImVyciIsImNvbnNvbGUiLCJhamF4IiwiYXBpUGF0aCIsInF1ZXVlZCIsInNlbmROb3ciLCJiYXRjaEVuYWJsZWQiLCJzZW5kVW5zZW50UmVxdWVzdHMiLCJyZXF1ZXN0c1RvU2VuZCIsInBvcFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdERhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwibXVsdGlSZXF1ZXN0QXJncyIsImJhdGNoQ29vbGRvd24iLCJub3ciLCJzZXRUaW1lb3V0Iiwic2F2ZVJlcXVlc3RGb3JMYXRlciIsInNldE5ldHdvcmtUaW1lb3V0Iiwic2Vjb25kcyIsImFyZ3MiLCJjb3VudCIsIml0ZW1LZXkiLCJyZXF1ZXN0QXJncyIsInBhcnNlIiwicHVzaCIsImlnbm9yZWQiLCJudW1SZXNwb25zZXMiLCJnZXRSZXNwb25zZUF0IiwiZ2V0TGFzdFJlc3BvbnNlIiwiaXNSZXNwb25zZVN1Y2Nlc3MiLCJnZXRSZXNwb25zZUVycm9yIiwibWVzc2FnZSIsImFwcGx5IiwicmVxdWVzdFF1ZXVlIiwibmV0d29ya1RpbWVvdXRTZWNvbmRzIiwiTmV0d29yayIsIm1ldGhvZCIsInVybCIsInBsYWluVGV4dCIsInJ1bm5pbmdSZXF1ZXN0IiwiZW5xdWV1ZVJlcXVlc3QiLCJhcmd1bWVudHMiLCJYRG9tYWluUmVxdWVzdCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJpbmRleE9mIiwic3Vic3RyaW5nIiwiYWpheElFOCIsImhhbmRsZWQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZV8xIiwicmFuQ2FsbGJhY2siLCJyZXNwb25zZVRleHQiLCJzdGF0dXMiLCJkZXF1ZXVlUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsImFib3J0IiwieGRyIiwib25sb2FkIiwib25lcnJvciIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJ0aW1lb3V0IiwicmVxdWVzdEFyZ3VtZW50cyIsInNoaWZ0IiwiYmFzZUlzRXF1YWwiLCJvdGhlciIsImJhc2VHZXRUYWciLCJpc09iamVjdCIsInRhZyIsImdsb2JhbCIsInR5cGUiLCJmdW5jVG9TdHJpbmciLCJmdW5jIiwibWFwQ2FjaGVDbGVhciIsIm1hcENhY2hlRGVsZXRlIiwibWFwQ2FjaGVHZXQiLCJtYXBDYWNoZUhhcyIsIm1hcENhY2hlU2V0IiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsImFycmF5U29tZSIsImNhY2hlSGFzIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJlcXVhbEZ1bmMiLCJzdGFjayIsImlzUGFydGlhbCIsImFyckxlbmd0aCIsIm90aExlbmd0aCIsInN0YWNrZWQiLCJyZXN1bHQiLCJzZWVuIiwiYXJyVmFsdWUiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwib3RoSW5kZXgiLCJzdHViRmFsc2UiLCJmcmVlRXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIkJ1ZmZlciIsImlzQnVmZmVyIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsImJhc2VJc1R5cGVkQXJyYXkiLCJiYXNlVW5hcnkiLCJub2RlVXRpbCIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJMZWFucGx1bSIsIl9fYXNzaWduIiwiYXNzaWduIiwiQnJvd3NlckRldGVjdG9yXzEiLCJJbnRlcm5hbFN0YXRlXzEiLCJMZWFucGx1bVJlcXVlc3RfMSIsIkxlYW5wbHVtU29ja2V0XzEiLCJQdXNoTWFuYWdlcl8xIiwiVmFyQ2FjaGVfMSIsIl9icm93c2VyRGV0ZWN0b3IiLCJzZXRBcGlQYXRoIiwic2V0RW1haWwiLCJlbWFpbCIsIl9lbWFpbCIsInNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkIiwidmFyaWFudERlYnVnSW5mb0VuYWJsZWQiLCJfaW50ZXJuYWxTdGF0ZSIsImdldFZhcmlhbnREZWJ1Z0luZm8iLCJfdmFyQ2FjaGUiLCJzZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSIsImFjY2Vzc0tleSIsInNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUiLCJzZXRTb2NrZXRIb3N0IiwiaG9zdCIsIl9scFNvY2tldCIsInNldERldmljZUlkIiwic2V0QXBwVmVyc2lvbiIsInNldERldmljZU5hbWUiLCJkZXZpY2VOYW1lIiwiX2RldmljZU5hbWUiLCJzZXREZXZpY2VNb2RlbCIsImRldmljZU1vZGVsIiwiX2RldmljZU1vZGVsIiwic2V0U3lzdGVtTmFtZSIsInN5c3RlbU5hbWUiLCJfc3lzdGVtTmFtZSIsInNldFN5c3RlbVZlcnNpb24iLCJzeXN0ZW1WZXJzaW9uIiwiX3N5c3RlbVZlcnNpb24iLCJzZXRWYXJpYWJsZXMiLCJ2YXJpYWJsZXMiLCJzZXRSZXF1ZXN0QmF0Y2hpbmciLCJjb29sZG93blNlY29uZHMiLCJnZXRWYXJpYWJsZXMiLCJnZXRWYXJpYWJsZSIsIl9pIiwiY3VycmVudCIsImdldFZhcmlhbnRzIiwidmFyaWFudHMiLCJhZGRTdGFydFJlc3BvbnNlSGFuZGxlciIsImhhbmRsZXIiLCJyZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciIsIl9fZGVzdHJveSIsIl9wdXNoTWFuYWdlciIsImNyZWF0ZVJlcXVlc3QiLCJhZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciIsInJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyIiwiZm9yY2VDb250ZW50VXBkYXRlIiwiY2FsbGJhY2siLCJnZXRWYXJzUmVzcG9uc2UiLCJpc1N1Y2Nlc3MiLCJhcHBseURpZmZzIiwic2V0VmFyaWFudERlYnVnSW5mbyIsInN0YXJ0IiwidXNlckF0dHJpYnV0ZXMiLCJvblVwZGF0ZSIsInRyaWdnZXJWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMiLCJPUyIsImJyb3dzZXIiLCJ2ZXJzaW9uIiwiaGFzU3RhcnRlZCIsInN0YXJ0UmVzcG9uc2UiLCJzdGFydFN1Y2Nlc3NmdWwiLCJsYXRlc3RWZXJzaW9uIiwibG9nIiwiY29ubmVjdCIsInRva2VuIiwibG9hZERpZmZzIiwidHJpZ2dlclN0YXJ0SGFuZGxlcnMiLCJzdGFydEZyb21DYWNoZSIsInN0b3AiLCJwYXVzZVNlc3Npb24iLCJyZXN1bWVTZXNzaW9uIiwicGF1c2VTdGF0ZSIsInJlc3VtZVN0YXRlIiwic2V0VXNlcklkIiwic2V0VXNlckF0dHJpYnV0ZXMiLCJ0cmFjayIsImV2ZW50IiwiaW5mbyIsImFkdmFuY2VUbyIsInN0YXRlIiwiaXNXZWJQdXNoU3VwcG9ydGVkIiwiaXNXZWJQdXNoU3Vic2NyaWJlZCIsInJlZ2lzdGVyRm9yV2ViUHVzaCIsInNlcnZpY2VXb3JrZXJVcmwiLCJyZWdpc3RlciIsImlzU3Vic2NyaWJlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic3Vic2NyaWJlVXNlciIsInJlamVjdCIsInVucmVnaXN0ZXJGcm9tV2ViUHVzaCIsInVuc3Vic2NyaWJlVXNlciIsImNsZWFyVXNlckNvbnRlbnQiLCJkYXRhQnJvd3NlciIsInN0cmluZyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInN1YlN0cmluZyIsImlkZW50aXR5IiwidmVyc2lvblNlYXJjaCIsInZlbmRvciIsInByb3AiLCJvcGVyYSIsImRhdGFPUyIsInBsYXRmb3JtIiwiQnJvd3NlckRldGVjdG9yIiwiX3NlYXJjaFN0cmluZyIsIl9zZWFyY2hWZXJzaW9uIiwiYXBwVmVyc2lvbiIsImRhdGFTdHJpbmciLCJkYXRhUHJvcCIsInZlcnNpb25TZWFyY2hTdHJpbmciLCJwYXJzZUZsb2F0IiwiSW50ZXJuYWxTdGF0ZSIsInN0YXJ0SGFuZGxlcnMiLCJpZHgiLCJzcGxpY2UiLCJpc0VxdWFsXzEiLCJTb2NrZXRJb0NsaWVudF8xIiwiTGVhbnBsdW1Tb2NrZXQiLCJzb2NrZXRIb3N0IiwiY2FjaGUiLCJfdGhpcyIsIldlYlNvY2tldCIsImNsaWVudCIsImF1dGhTZW50Iiwib25vcGVuIiwiX2EiLCJvbm1lc3NhZ2UiLCJhcmdzXzEiLCJ2YWx1ZXMiLCJhY3Rpb25NZXRhZGF0YSIsImRpZmZzIiwic2VuZFZhcmlhYmxlcyIsImFsZXJ0Iiwib25jbG9zZSIsInNldEludGVydmFsIiwiY29ubmVjdGVkIiwiY29ubmVjdGluZyIsImJhc2VJc0VxdWFsRGVlcCIsImlzT2JqZWN0TGlrZSIsIlN0YWNrIiwiZXF1YWxBcnJheXMiLCJlcXVhbEJ5VGFnIiwiZXF1YWxPYmplY3RzIiwiZ2V0VGFnIiwib2JqZWN0VGFnIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJvYmpJc1dyYXBwZWQiLCJvdGhJc1dyYXBwZWQiLCJvYmpVbndyYXBwZWQiLCJvdGhVbndyYXBwZWQiLCJzdGFja0NsZWFyIiwic3RhY2tEZWxldGUiLCJzdGFja0dldCIsInN0YWNrSGFzIiwic3RhY2tTZXQiLCJzaXplIiwiYXNzb2NJbmRleE9mIiwicG9wIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwiaXNGdW5jdGlvbiIsImlzTWFza2VkIiwidG9Tb3VyY2UiLCJyZUlzSG9zdEN0b3IiLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsInJlSXNOYXRpdmUiLCJSZWdFeHAiLCJyZXBsYWNlIiwidGVzdCIsImciLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsImlzT3duIiwidW5tYXNrZWQiLCJ1aWQiLCJjb3JlSnNEYXRhIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJIYXNoIiwiaGFzaENsZWFyIiwiaGFzaERlbGV0ZSIsImhhc2hHZXQiLCJoYXNoSGFzIiwiaGFzaFNldCIsImdldE1hcERhdGEiLCJzZXRDYWNoZUFkZCIsInNldENhY2hlSGFzIiwicHJlZGljYXRlIiwiVWludDhBcnJheSIsIm1hcFRvQXJyYXkiLCJzZXRUb0FycmF5Iiwic3ltYm9sUHJvdG8iLCJzeW1ib2xWYWx1ZU9mIiwidmFsdWVPZiIsImJ5dGVMZW5ndGgiLCJieXRlT2Zmc2V0IiwiYnVmZmVyIiwiY29udmVydCIsImZvckVhY2giLCJnZXRBbGxLZXlzIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJza2lwQ3RvciIsIm9ialZhbHVlIiwib2JqQ3RvciIsImNvbnN0cnVjdG9yIiwib3RoQ3RvciIsImJhc2VHZXRBbGxLZXlzIiwiZ2V0U3ltYm9scyIsImFycmF5UHVzaCIsImtleXNGdW5jIiwic3ltYm9sc0Z1bmMiLCJvZmZzZXQiLCJhcnJheUZpbHRlciIsInN0dWJBcnJheSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwibmF0aXZlR2V0U3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbCIsInJlc0luZGV4IiwiYXJyYXlMaWtlS2V5cyIsImJhc2VLZXlzIiwiaXNBcnJheUxpa2UiLCJiYXNlVGltZXMiLCJpc0FyZ3VtZW50cyIsImlzSW5kZXgiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJnIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJTdHJpbmciLCJpdGVyYXRlZSIsImJhc2VJc0FyZ3VtZW50cyIsInJlSXNVaW50IiwiaXNMZW5ndGgiLCJ0eXBlZEFycmF5VGFncyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsInR5cGVzIiwicmVxdWlyZSIsImJpbmRpbmciLCJpc1Byb3RvdHlwZSIsIm5hdGl2ZUtleXMiLCJDdG9yIiwib3ZlckFyZyIsInRyYW5zZm9ybSIsImFyZyIsIkRhdGFWaWV3IiwiU2V0IiwiV2Vha01hcCIsImRhdGFWaWV3Q3RvclN0cmluZyIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsIkFycmF5QnVmZmVyIiwiY3RvclN0cmluZyIsIlNvY2tldElvQ2xpZW50IiwibGluZSIsInBhcnRzIiwic3BsaXQiLCJzZXNzaW9uIiwiaGVhcnRiZWF0IiwicGFyc2VJbnQiLCJzb2NrZXQiLCJoZWFydGJlYXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJtZXNzYWdlUGFydHMiLCJjb2RlIiwibWVzc2FnZUlkIiwic2xpY2UiLCJqb2luIiwibWVzc2FnZUV2ZW50IiwiY2xvc2UiLCJhcmdzSnNvbiIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiZiIsInkiLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsIlB1c2hNYW5hZ2VyIiwic2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsIkJvb2xlYW4iLCJyZWdpc3RyYXRpb25fMSIsInN1YnNjcmlwdGlvbiIsImdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJwdXNoTWFuYWdlciIsImdldFN1YnNjcmlwdGlvbiIsInVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyIiwiZXJyb3JfMSIsIl9iIiwic2VydmljZVdvcmtlciIsImFwcGxpY2F0aW9uU2VydmVyS2V5IiwiZXJyb3JfMiIsInVybEI2NFRvVWludDhBcnJheSIsInN1YnNjcmliZSIsInVzZXJWaXNpYmxlT25seSIsIkVycm9yIiwic3Vic2NyaWJlZCIsImVycm9yXzMiLCJ1bnN1YnNjcmliZSIsImdldFJlZ2lzdHJhdGlvbiIsImJhc2U2NFN0cmluZyIsImJhc2U2NCIsInJlcGVhdCIsInJhd0RhdGEiLCJhdG9iIiwib3V0cHV0QXJyYXkiLCJjaGFyQ29kZUF0IiwicHJlcGFyZVN1YnNjcmlwdGlvbiIsImdldEtleSIsImF1dGgiLCJrZXlBc2NpaSIsImJ0b2EiLCJmcm9tQ2hhckNvZGUiLCJhdXRoQXNjaWkiLCJlbmRwb2ludCIsInByZXBhcmVkU3Vic2NyaXB0aW9uIiwicHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmciLCJleGlzdGluZ1N1YnNjcmlwdGlvblN0cmluZyIsInNldFN1YnNjcmlwdGlvbiIsIlZhckNhY2hlIiwiaGFzUmVjZWl2ZWREaWZmcyIsIm1lcmdlZCIsInZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyIsInZhcmlhbnREZWJ1Z0luZm8iLCJtZXJnZUhlbHBlciIsInZhcnMiLCJkaWZmIiwib2JqSXRlcmF0b3IiLCJvYmoiLCJhdHRyIiwidmFyc0l0ZXJhdG9yIiwiZGlmZkl0ZXJhdG9yIiwiYXR0cmlidXRlIiwibWVyZ2VkXzEiLCJ2YXJTdWJzY3JpcHQiLCJzdWJzY3JpcHQiLCJkaWZmVmFsdWUiLCJzYXZlRGlmZnMiLCJsb2FkTG9jYWwiLCJzYXZlTG9jYWwiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsR0FDZSxpQkFBWkMsUUFDZEEsUUFBa0IsU0FBSUQsSUFFdEJELEVBQWUsU0FBSUMsSUFSckIsQ0FTR0ssUUFBUSxXQUNYLE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVUCxRQUduQyxJQUFJQyxFQUFTSSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIVCxRQUFTLElBVVYsT0FOQVUsRUFBUUgsR0FBVUksS0FBS1YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU00sR0FHL0RMLEVBQU9RLEdBQUksRUFHSlIsRUFBT0QsUUEwRGYsT0FyREFNLEVBQW9CTSxFQUFJRixFQUd4QkosRUFBb0JPLEVBQUlSLEVBR3hCQyxFQUFvQlEsRUFBSSxTQUFTZCxFQUFTZSxFQUFNQyxHQUMzQ1YsRUFBb0JXLEVBQUVqQixFQUFTZSxJQUNsQ0csT0FBT0MsZUFBZW5CLEVBQVNlLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVYsRUFBb0JnQixFQUFJLFNBQVN0QixHQUNYLG9CQUFYdUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlbkIsRUFBU3VC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WTdFLFFBQVFDLFFBQVFXLFNBQVVpSyxFQUFNLENBQzNEZixTQUFTLEtBR2pCNmQsRUFBU25vQixVQUFVK1gsaUJBQW1CLFdBQ2xDNVMsS0FBS29WLFdBQVF0VixFQUNiRSxLQUFLNE8sVUFBWSxLQUNqQjVPLEtBQUtvUCxTQUFXLEdBQ2hCcFAsS0FBS29qQixpQkFBbUIsR0FDeEJwakIsS0FBS2tqQixZQUFTcGpCLEdBRWxCa2pCLEVBQVNub0IsVUFBVXNwQixVQUFZLFNBQVUzcEIsR0FDckMsT0FBTzRJLEVBQXNCL0gsUUFBUTZGLG9CQUFvQjFHLElBRTdEd29CLEVBQVNub0IsVUFBVXVwQixVQUFZLFNBQVU1cEIsRUFBS04sR0FDMUNrSixFQUFzQi9ILFFBQVErRixtQkFBbUI1RyxFQUFLTixJQUVuRDhvQixFQTNGa0IsR0E2RjdCdnFCLEVBQVE0QyxRQUFVMm5CIiwiZmlsZSI6ImxlYW5wbHVtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiTGVhbnBsdW1cIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiTGVhbnBsdW1cIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyOCk7XG4iLCJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgTUVUSE9EUzoge1xuICAgICAgICBTVEFSVDogJ3N0YXJ0JyxcbiAgICAgICAgU1RPUDogJ3N0b3AnLFxuICAgICAgICBBRFZBTkNFOiAnYWR2YW5jZScsXG4gICAgICAgIFRSQUNLOiAndHJhY2snLFxuICAgICAgICBQQVVTRV9TRVNTSU9OOiAncGF1c2VTZXNzaW9uJyxcbiAgICAgICAgUkVTVU1FX1NFU1NJT046ICdyZXN1bWVTZXNzaW9uJyxcbiAgICAgICAgUEFVU0VfU1RBVEU6ICdwYXVzZVN0YXRlJyxcbiAgICAgICAgUkVTVU1FX1NUQVRFOiAncmVzdW1lU3RhdGUnLFxuICAgICAgICBET1dOTE9BRF9GSUxFOiAnZG93bmxvYWRGaWxlJyxcbiAgICAgICAgTVVMVEk6ICdtdWx0aScsXG4gICAgICAgIFNFVF9WQVJTOiAnc2V0VmFycycsXG4gICAgICAgIEdFVF9WQVJTOiAnZ2V0VmFycycsXG4gICAgICAgIFNFVF9VU0VSX0FUVFJJQlVURVM6ICdzZXRVc2VyQXR0cmlidXRlcycsXG4gICAgICAgIFNFVF9ERVZJQ0VfQVRUUklCVVRFUzogJ3NldERldmljZUF0dHJpYnV0ZXMnLFxuICAgICAgICBVUExPQURfRklMRTogJ3VwbG9hZEZpbGUnLFxuICAgICAgICBSRUdJU1RFUl9ERVZJQ0U6ICdyZWdpc3RlckRldmljZSdcbiAgICB9LFxuICAgIFNES19WRVJTSU9OOiAnMS40LjAnLFxuICAgIENMSUVOVDogJ2pzJyxcbiAgICBQQVJBTVM6IHtcbiAgICAgICAgQUNUSU9OOiAnYWN0aW9uJyxcbiAgICAgICAgQVBQX0lEOiAnYXBwSWQnLFxuICAgICAgICBDTElFTlQ6ICdjbGllbnQnLFxuICAgICAgICBDTElFTlRfS0VZOiAnY2xpZW50S2V5JyxcbiAgICAgICAgREVWSUNFX0lEOiAnZGV2aWNlSWQnLFxuICAgICAgICBTREtfVkVSU0lPTjogJ3Nka1ZlcnNpb24nLFxuICAgICAgICBVU0VSX0lEOiAndXNlcklkJyxcbiAgICAgICAgTkVXX1VTRVJfSUQ6ICduZXdVc2VySWQnLFxuICAgICAgICBERVZfTU9ERTogJ2Rldk1vZGUnLFxuICAgICAgICBWRVJTSU9OX05BTUU6ICd2ZXJzaW9uTmFtZScsXG4gICAgICAgIFNZU1RFTV9OQU1FOiAnc3lzdGVtTmFtZScsXG4gICAgICAgIFNZU1RFTV9WRVJTSU9OOiAnc3lzdGVtVmVyc2lvbicsXG4gICAgICAgIEJST1dTRVJfTkFNRTogJ2Jyb3dzZXJOYW1lJyxcbiAgICAgICAgQlJPV1NFUl9WRVJTSU9OOiAnYnJvd3NlclZlcnNpb24nLFxuICAgICAgICBERVZJQ0VfTkFNRTogJ2RldmljZU5hbWUnLFxuICAgICAgICBERVZJQ0VfTU9ERUw6ICdkZXZpY2VNb2RlbCcsXG4gICAgICAgIFVTRVJfQVRUUklCVVRFUzogJ3VzZXJBdHRyaWJ1dGVzJyxcbiAgICAgICAgTE9DQUxFOiAnbG9jYWxlJyxcbiAgICAgICAgQ09VTlRSWTogJ2NvdW50cnknLFxuICAgICAgICBSRUdJT046ICdyZWdpb24nLFxuICAgICAgICBDSVRZOiAnY2l0eScsXG4gICAgICAgIExPQ0FUSU9OOiAnbG9jYXRpb24nLFxuICAgICAgICBTVEFURTogJ3N0YXRlJyxcbiAgICAgICAgSU5GTzogJ2luZm8nLFxuICAgICAgICBFVkVOVDogJ2V2ZW50JyxcbiAgICAgICAgVkFMVUU6ICd2YWx1ZScsXG4gICAgICAgIEZJTEVOQU1FOiAnZmlsZW5hbWUnLFxuICAgICAgICBUSU1FOiAndGltZScsXG4gICAgICAgIERBVEE6ICdkYXRhJyxcbiAgICAgICAgVkFSUzogJ3ZhcnMnLFxuICAgICAgICBGSUxFOiAnZmlsZScsXG4gICAgICAgIFNJWkU6ICdzaXplJyxcbiAgICAgICAgVkFSSUFUSU9OOiAndmFyaWF0aW9uJyxcbiAgICAgICAgSEFTSDogJ2hhc2gnLFxuICAgICAgICBFTUFJTDogJ2VtYWlsJyxcbiAgICAgICAgVkFSSUFCTEVTOiAndmFycycsXG4gICAgICAgIFBBUkFNUzogJ3BhcmFtcycsXG4gICAgICAgIElOQ0xVREVfREVGQVVMVFM6ICdpbmNsdWRlRGVmYXVsdHMnLFxuICAgICAgICBJTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTzogJ2luY2x1ZGVWYXJpYW50RGVidWdJbmZvJyxcbiAgICAgICAgV0VCX1BVU0hfU1VCU0NSSVBUSU9OOiAnd2ViUHVzaFN1YnNjcmlwdGlvbidcbiAgICB9LFxuICAgIEtFWVM6IHtcbiAgICAgICAgSVNfUkVHSVNURVJFRDogJ2lzUmVnaXN0ZXJlZCcsXG4gICAgICAgIExBVEVTVF9WRVJTSU9OOiAnbGF0ZXN0VmVyc2lvbicsXG4gICAgICAgIFZBUlM6ICd2YXJzJyxcbiAgICAgICAgVkFSSUFOVFM6ICd2YXJpYW50cycsXG4gICAgICAgIFZBUklBTlRfREVCVUdfSU5GTzogJ3ZhcmlhbnREZWJ1Z0luZm8nLFxuICAgICAgICBBQ1RJT05fTUVUQURBVEE6ICdhY3Rpb25NZXRhZGF0YScsXG4gICAgICAgIFRPS0VOOiAndG9rZW4nXG4gICAgfSxcbiAgICBERUZBVUxUX0tFWVM6IHtcbiAgICAgICAgQ09VTlQ6ICdfX2xlYW5wbHVtX3Vuc3luY2VkJyxcbiAgICAgICAgSVRFTTogJ19fbGVhbnBsdW1fdW5zeW5jZWRfJyxcbiAgICAgICAgVkFSSUFCTEVTOiAnX19sZWFucGx1bV92YXJpYWJsZXMnLFxuICAgICAgICBWQVJJQU5UUzogJ19fbGVhbnBsdW1fdmFyaWFudHMnLFxuICAgICAgICBWQVJJQU5UX0RFQlVHX0lORk86ICdfX2xlYW5wbHVtX3ZhcmlhbnRfZGVidWdfaW5mbycsXG4gICAgICAgIEFDVElPTl9NRVRBREFUQTogJ19fbGVhbnBsdW1fYWN0aW9uX21ldGFkYXRhJyxcbiAgICAgICAgVE9LRU46ICdfX2xlYW5wbHVtX3Rva2VuJyxcbiAgICAgICAgREVWSUNFX0lEOiAnX19sZWFucGx1bV9kZXZpY2VfaWQnLFxuICAgICAgICBVU0VSX0lEOiAnX19sZWFucGx1bV91c2VyX2lkJyxcbiAgICAgICAgUFVTSF9TVUJTQ1JJUFRJT046ICdfX2xlYW5wbHVtX3B1c2hfc3Vic2NyaXB0aW9uJ1xuICAgIH0sXG4gICAgVkFMVUVTOiB7XG4gICAgICAgIERFVEVDVDogJyhkZXRlY3QpJ1xuICAgIH1cbn07XG4iLCJ2YXIgYmFzZUlzTmF0aXZlID0gcmVxdWlyZSgnLi9fYmFzZUlzTmF0aXZlJyksXG4gICAgZ2V0VmFsdWUgPSByZXF1aXJlKCcuL19nZXRWYWx1ZScpO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE5hdGl2ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xuLyoqXG4gKiBMZWFucGx1bSBBcmdzQnVpbGRlciwgdXNlIHRvIGNvbnN0cnVjdCByZXF1ZXN0IHBheWxvYWQuXG4gKi9cbnZhciBBcmdzQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgZW1wdHkgcmVxdWVzdCBhcmd1bWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcmdzQnVpbGRlcigpIHtcbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgPSAnJztcbiAgICAgICAgdGhpcy5hcmdWYWx1ZXMgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGdpdmVuIGtleSwgdmFsdWUgdG8gdGhlIHBheWxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gdmFsdWUgVGhlIHZhbHVlIGZvciBnaXZlbiBrZXkuXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ9IFJldHVybnMgYW4gb2JqZWN0IG9mIEFyZ3NCdWlsZGVyLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXJnU3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmFyZ1N0cmluZyArPSAnJic7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0ga2V5ICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgICB0aGlzLmFyZ1ZhbHVlc1trZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FjaGUgdGhlIGdpdmVuIGJvZHkuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBbYm9keV0gQSBnaXZlbiBib2R5LlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfFN0cmluZ30gUmV0dXJucyBBcmdzQnVpbGRlciBpZiBib2R5IGdpdmVuLCBlbHNlIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYm9keSA9IGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgIGlmIChib2R5KSB7XG4gICAgICAgICAgICB0aGlzLl9ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIHRvIGF0dGFjaCBnaXZlbiBhcHBJZCBhbmQgYXBwS2V5IHRvIHJlcXVlc3QuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBhcHBJZCBUaGUgYXBwSWQgdG8gYXR0YWNoLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gY2xpZW50S2V5IFRoZSBhcHBLZXkgdG8gYXR0YWNoLlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfSBSZXR1cm5zIGFuIG9iamVjdCBvZiBBcmdzQnVpbGRlci5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYXR0YWNoQXBpS2V5cyA9IGZ1bmN0aW9uIChhcHBJZCwgY2xpZW50S2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BUFBfSUQsIGFwcElkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DTElFTlQsIENvbnN0YW50c18xLmRlZmF1bHQuQ0xJRU5UKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DTElFTlRfS0VZLCBjbGllbnRLZXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcmd1bWVudHMuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBBcmd1bWVudHMgc3RyaW5nLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJnU3RyaW5nO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcmd1bWVudCB2YWx1ZXMuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgYXJndW1lbnQgdmFsdWVzLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5idWlsZERpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyZ1ZhbHVlcztcbiAgICB9O1xuICAgIHJldHVybiBBcmdzQnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBBcmdzQnVpbGRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsb2NhbFN0b3JhZ2VFbmFibGVkO1xudmFyIGFsdGVybmF0ZUxvY2FsU3RvcmFnZSA9IHt9O1xudmFyIExvY2FsU3RvcmFnZU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9jYWxTdG9yYWdlTWFuYWdlcigpIHtcbiAgICB9XG4gICAgTG9jYWxTdG9yYWdlTWFuYWdlci5nZXRGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlW2tleV07XG4gICAgfTtcbiAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2VFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9jYWxTdG9yYWdlTWFuYWdlci5yZW1vdmVGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZGVsZXRlIGFsdGVybmF0ZUxvY2FsU3RvcmFnZVtrZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTG9jYWxTdG9yYWdlTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMb2NhbFN0b3JhZ2VNYW5hZ2VyO1xuIiwidmFyIGxpc3RDYWNoZUNsZWFyID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlQ2xlYXInKSxcbiAgICBsaXN0Q2FjaGVEZWxldGUgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVEZWxldGUnKSxcbiAgICBsaXN0Q2FjaGVHZXQgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVHZXQnKSxcbiAgICBsaXN0Q2FjaGVIYXMgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVIYXMnKSxcbiAgICBsaXN0Q2FjaGVTZXQgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExpc3RDYWNoZTtcbiIsInZhciBlcSA9IHJlcXVpcmUoJy4vZXEnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NvY0luZGV4T2Y7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgZ2V0UmF3VGFnID0gcmVxdWlyZSgnLi9fZ2V0UmF3VGFnJyksXG4gICAgb2JqZWN0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19vYmplY3RUb1N0cmluZycpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlR2V0VGFnO1xuIiwidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdGl2ZUNyZWF0ZTtcbiIsInZhciBpc0tleWFibGUgPSByZXF1aXJlKCcuL19pc0tleWFibGUnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE1hcERhdGE7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG4iLCJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyksXG4gICAgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTWFwO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIGxhc3RSZXF1ZXN0VGltZSA9IHVuZGVmaW5lZDtcbnZhciBjb29sZG93blRpbWVvdXQgPSBudWxsO1xudmFyIExlYW5wbHVtUmVxdWVzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVJlcXVlc3QoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdGlvblxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBvcHRpb25zLnN1Y2Nlc3NcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5lcnJvclxuICAgICAqIEBwYXJhbSBvcHRpb25zLnJlc3BvbnNlXG4gICAgICogQHBhcmFtIG9wdGlvbnMucXVldWVkXG4gICAgICogQHBhcmFtIG9wdGlvbnMuc2VuZE5vd1xuICAgICAqIEBwYXJhbSBvcHRpb25zLmRldk1vZGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExlYW5wbHVtUmVxdWVzdC5yZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICAvLyBHZXQgb3IgY3JlYXRlIGRldmljZSBJRCBhbmQgdXNlciBJRC5cbiAgICAgICAgaWYgKCFMZWFucGx1bVJlcXVlc3QuZGV2aWNlSWQpIHtcbiAgICAgICAgICAgIExlYW5wbHVtUmVxdWVzdC5kZXZpY2VJZCA9XG4gICAgICAgICAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0RnJvbUxvY2FsU3RvcmFnZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghTGVhbnBsdW1SZXF1ZXN0LmRldmljZUlkKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAnJztcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBMZWFucGx1bVJlcXVlc3QuZGV2aWNlSWQgPSBpZDtcbiAgICAgICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUxlYW5wbHVtUmVxdWVzdC51c2VySWQpIHtcbiAgICAgICAgICAgIExlYW5wbHVtUmVxdWVzdC51c2VySWQgPSBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQpO1xuICAgICAgICAgICAgaWYgKCFMZWFucGx1bVJlcXVlc3QudXNlcklkKSB7XG4gICAgICAgICAgICAgICAgTGVhbnBsdW1SZXF1ZXN0LnVzZXJJZCA9IExlYW5wbHVtUmVxdWVzdC5kZXZpY2VJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgTGVhbnBsdW1SZXF1ZXN0LnVzZXJJZCk7XG4gICAgICAgIHZhciBhcmdzQnVpbGRlciA9IHBhcmFtc1xuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXMoTGVhbnBsdW1SZXF1ZXN0LmFwcElkLCBMZWFucGx1bVJlcXVlc3QuY2xpZW50S2V5KVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TREtfVkVSU0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX0lELCBMZWFucGx1bVJlcXVlc3QuZGV2aWNlSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfSUQsIExlYW5wbHVtUmVxdWVzdC51c2VySWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgYWN0aW9uKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WRVJTSU9OX05BTUUsIExlYW5wbHVtUmVxdWVzdC52ZXJzaW9uTmFtZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWX01PREUsIG9wdGlvbnMuZGV2TW9kZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVElNRSwgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkudG9TdHJpbmcoKSk7XG4gICAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzIHx8IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIHZhciBlcnJvciA9IG9wdGlvbnMuZXJyb3IgfHwgb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgaWYgKCFMZWFucGx1bVJlcXVlc3QuYXBwSWQgfHwgIUxlYW5wbHVtUmVxdWVzdC5jbGllbnRLZXkpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSAnTGVhbnBsdW0gQXBwIElEIGFuZCBjbGllbnQga2V5IGFyZSBub3Qgc2V0LiBNYWtlIHN1cmUgeW91ICcgK1xuICAgICAgICAgICAgICAgICdhcmUgY2FsbGluZyBzZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSBvciBzZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlICcgK1xuICAgICAgICAgICAgICAgICdiZWZvcmUgaXNzdWluZyBBUEkgY2FsbHMuJztcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICBlcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuYm9keSgpKSB7XG4gICAgICAgICAgICBOZXR3b3JrXzEuZGVmYXVsdC5hamF4KCdQT1NUJywgTGVhbnBsdW1SZXF1ZXN0LmFwaVBhdGggKyBcIj9cIiArIGFyZ3NCdWlsZGVyLmJ1aWxkKCksIHBhcmFtcy5ib2R5KCksIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbmROb3cgPSBvcHRpb25zLmRldk1vZGUgfHwgb3B0aW9ucy5zZW5kTm93IHx8ICFMZWFucGx1bVJlcXVlc3QuYmF0Y2hFbmFibGVkO1xuICAgICAgICB2YXIgc2VuZFVuc2VudFJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3RzVG9TZW5kID0gTGVhbnBsdW1SZXF1ZXN0LnBvcFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgICAgICBpZiAocmVxdWVzdHNUb1NlbmQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiByZXF1ZXN0c1RvU2VuZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBtdWx0aVJlcXVlc3RBcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRhY2hBcGlLZXlzKExlYW5wbHVtUmVxdWVzdC5hcHBJZCwgTGVhbnBsdW1SZXF1ZXN0LmNsaWVudEtleSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TREtfVkVSU0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTilcbiAgICAgICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sIENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5NVUxUSSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5USU1FLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKS50b1N0cmluZygpLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIC5idWlsZCgpO1xuICAgICAgICAgICAgICAgIE5ldHdvcmtfMS5kZWZhdWx0LmFqYXgoJ1BPU1QnLCBMZWFucGx1bVJlcXVlc3QuYXBpUGF0aCArIFwiP1wiICsgbXVsdGlSZXF1ZXN0QXJncywgcmVxdWVzdERhdGEsIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIERlYWwgd2l0aCBjb29sZG93bi5cbiAgICAgICAgaWYgKCFzZW5kTm93ICYmIExlYW5wbHVtUmVxdWVzdC5iYXRjaENvb2xkb3duKSB7XG4gICAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgICAgICAgaWYgKCFsYXN0UmVxdWVzdFRpbWUgfHxcbiAgICAgICAgICAgICAgICBub3cgLSBsYXN0UmVxdWVzdFRpbWUgPj0gTGVhbnBsdW1SZXF1ZXN0LmJhdGNoQ29vbGRvd24pIHtcbiAgICAgICAgICAgICAgICBzZW5kTm93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsYXN0UmVxdWVzdFRpbWUgPSBub3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghY29vbGRvd25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY29vbGRvd25UaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb2xkb3duVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RSZXF1ZXN0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgICAgICAgICAgfSwgKExlYW5wbHVtUmVxdWVzdC5iYXRjaENvb2xkb3duIC0gKG5vdyAtIGxhc3RSZXF1ZXN0VGltZSkpICogMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgTGVhbnBsdW1SZXF1ZXN0LnNhdmVSZXF1ZXN0Rm9yTGF0ZXIoYXJnc0J1aWxkZXIuYnVpbGREaWN0KCkpO1xuICAgICAgICBpZiAoc2VuZE5vdykge1xuICAgICAgICAgICAgc2VuZFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtUmVxdWVzdC5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIE5ldHdvcmtfMS5kZWZhdWx0LnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnNhdmVSZXF1ZXN0Rm9yTGF0ZXIgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgY291bnQgPSBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKSB8fCAwO1xuICAgICAgICB2YXIgaXRlbUtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklURU0gKyBjb3VudDtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKGl0ZW1LZXksIEpTT04uc3RyaW5naWZ5KGFyZ3MpKTtcbiAgICAgICAgY291bnQrKztcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5ULCBjb3VudCk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucG9wVW5zZW50UmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IFtdO1xuICAgICAgICB2YXIgY291bnQgPSBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKSB8fCAwO1xuICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5yZW1vdmVGcm9tTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbUtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklURU0gKyBpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdEFyZ3MgPSBKU09OLnBhcnNlKExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2UoaXRlbUtleSkpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhLnB1c2gocmVxdWVzdEFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5yZW1vdmVGcm9tTG9jYWxTdG9yYWdlKGl0ZW1LZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0RGF0YTtcbiAgICB9O1xuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8gUmVzcG9uc2UgcGFyc2luZyAvLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBMZWFucGx1bVJlcXVlc3QubnVtUmVzcG9uc2VzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzcG9uc2UubGVuZ3RoO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LmdldFJlc3BvbnNlQXQgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGluZGV4KSB7XG4gICAgICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzcG9uc2VbaW5kZXhdO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LmdldExhc3RSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgY291bnQgPSBMZWFucGx1bVJlcXVlc3QubnVtUmVzcG9uc2VzKHJlc3BvbnNlKTtcbiAgICAgICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIExlYW5wbHVtUmVxdWVzdC5nZXRSZXNwb25zZUF0KHJlc3BvbnNlLCBjb3VudCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEhcmVzcG9uc2Uuc3VjY2VzcztcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5nZXRSZXNwb25zZUVycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5hcGlQYXRoID0gJ2h0dHBzOi8vd3d3LmxlYW5wbHVtLmNvbS9hcGknO1xuICAgIExlYW5wbHVtUmVxdWVzdC5iYXRjaEVuYWJsZWQgPSB0cnVlO1xuICAgIExlYW5wbHVtUmVxdWVzdC5iYXRjaENvb2xkb3duID0gNTtcbiAgICByZXR1cm4gTGVhbnBsdW1SZXF1ZXN0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtUmVxdWVzdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBBamF4IGZ1bmN0aW9ucyBmcm9tOlxuICpcbiAqIFBhcnNlIEphdmFTY3JpcHQgU0RLXG4gKiBWZXJzaW9uOiAxLjEuNVxuICogQnVpbHQ6IE1vbiBPY3QgMDEgMjAxMiAxNzo1NzoxM1xuICogaHR0cDovL3BhcnNlLmNvbVxuICpcbiAqIENvcHlyaWdodCAyMDEyIFBhcnNlLCBJbmMuXG4gKiBUaGUgUGFyc2UgSmF2YVNjcmlwdCBTREsgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUlxuICogREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG52YXIgcmVxdWVzdFF1ZXVlID0gW107XG52YXIgbmV0d29ya1RpbWVvdXRTZWNvbmRzID0gMTA7XG52YXIgTmV0d29yayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZXR3b3JrKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBOZXR3b3JrLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgbmV0d29ya1RpbWVvdXRTZWNvbmRzID0gc2Vjb25kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gYWpheCByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgVGhlIGh0dHAgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCB0byBvcGVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfEJsb2J8RG9jdW1lbnR8Rm9ybURhdGF9IGRhdGEgVGhlIGRhdGEgdG8gYmUgc2VudCBpbiBib2R5LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3MgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gc3VjY2Vzcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvciBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1ZXVlZCBXaGV0aGVyIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBxdWV1ZWQgb3IgaW1tZWRpYXRlbHkgc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwbGFpblRleHRdIFdoZXRoZXIgdGhlIHJlc3BvbnNlIHNob3VsZCBiZSByZXR1cm5lZCBhcyBwbGFpbiB0ZXh0IG9yIGpzb24uXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBOZXR3b3JrLmFqYXggPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCkge1xuICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICBpZiAoTmV0d29yay5ydW5uaW5nUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICByZXR1cm4gTmV0d29yay5lbnF1ZXVlUmVxdWVzdChhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTmV0d29yay5ydW5uaW5nUmVxdWVzdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEBuYW1lc3BhY2UgWERvbWFpblJlcXVlc3QgKiovXG4gICAgICAgIC8qKiBAbmFtZXNwYWNlIGxvY2F0aW9uICoqL1xuICAgICAgICBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cDonICYmIHVybC5pbmRleE9mKCdodHRwczonKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cDpcIiArIHVybC5zdWJzdHJpbmcoNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICByZXR1cm4gYXBwbHkuY2FsbChOZXR3b3JrLmFqYXhJRTgsIG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VfMTtcbiAgICAgICAgICAgICAgICB2YXIgcmFuQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAocGxhaW5UZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlXzEgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlXzEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbkNhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXJhbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlXzEsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IocmVzcG9uc2VfMSwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIE5ldHdvcmsucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgTmV0d29yay5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQvcGxhaW4nKTsgLy8gQXZvaWQgcHJlLWZsaWdodC5cbiAgICAgICAgeGhyLnNlbmQoZGF0YSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG5ldHdvcmtUaW1lb3V0U2Vjb25kcyAqIDEwMDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiBhamF4IHJlcXVlc3QgZm9yIElFOC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gb3Blbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcnxCbG9ifERvY3VtZW50fEZvcm1EYXRhfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHNlbnQgaW4gYm9keS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZXJyb3IgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBxdWV1ZWQgV2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgYmUgcXVldWVkIG9yIGltbWVkaWF0ZWx5IHNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwbGFpblRleHQgV2hldGhlciB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHJldHVybmVkIGFzIHBsYWluIHRleHQgb3IganNvbi5cbiAgICAgKi9cbiAgICBOZXR3b3JrLmFqYXhJRTggPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCkge1xuICAgICAgICB2YXIgeGRyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgIHhkci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgICAgICB2YXIgcmFuQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChwbGFpblRleHQpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHhkci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UoeGRyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbkNhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJhbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlLCB4ZHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgTmV0d29yay5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIE5ldHdvcmsuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9uZXJyb3IgPSB4ZHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhkcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgTmV0d29yay5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIE5ldHdvcmsuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH07XG4gICAgICAgIHhkci5vcGVuKG1ldGhvZCwgdXJsKTtcbiAgICAgICAgeGRyLnRpbWVvdXQgPSBuZXR3b3JrVGltZW91dFNlY29uZHMgKiAxMDAwO1xuICAgICAgICB4ZHIuc2VuZChkYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHJlcXVlc3QgdG8gdGhlIHJlcXVlc3QgcXVldWUuXG4gICAgICogQHBhcmFtIHtBcmd1bWVudHN9IHJlcXVlc3RBcmd1bWVudHMgVGhlIHJlcXVlc3QgYXJndW1lbnRzIGZyb20gdGhlIGluaXRpYWwgbWV0aG9kIGNhbGwuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOZXR3b3JrLmVucXVldWVSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3RBcmd1bWVudHMpIHtcbiAgICAgICAgcmVxdWVzdFF1ZXVlLnB1c2gocmVxdWVzdEFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSByZXF1ZXN0IGZyb20gdGhlIHJlcXVlc3QgcXVldWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOZXR3b3JrLmRlcXVldWVSZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IHJlcXVlc3RRdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoYXJncykge1xuICAgICAgICAgICAgYXBwbHkuY2FsbChOZXR3b3JrLmFqYXgsIG51bGwsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOZXR3b3JrLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgcmV0dXJuIE5ldHdvcms7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTmV0d29yaztcbiIsInZhciBiYXNlSXNFcXVhbCA9IHJlcXVpcmUoJy4vX2Jhc2VJc0VxdWFsJyk7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICogZXF1aXZhbGVudC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogb2JqZWN0ID09PSBvdGhlcjtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRXF1YWw7XG4iLCIvKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcTtcbiIsInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb247XG4iLCIvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZyZWVHbG9iYWw7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1NvdXJjZTtcbiIsInZhciBtYXBDYWNoZUNsZWFyID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVDbGVhcicpLFxuICAgIG1hcENhY2hlRGVsZXRlID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVEZWxldGUnKSxcbiAgICBtYXBDYWNoZUdldCA9IHJlcXVpcmUoJy4vX21hcENhY2hlR2V0JyksXG4gICAgbWFwQ2FjaGVIYXMgPSByZXF1aXJlKCcuL19tYXBDYWNoZUhhcycpLFxuICAgIG1hcENhY2hlU2V0ID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gTWFwQ2FjaGU7XG4iLCJ2YXIgU2V0Q2FjaGUgPSByZXF1aXJlKCcuL19TZXRDYWNoZScpLFxuICAgIGFycmF5U29tZSA9IHJlcXVpcmUoJy4vX2FycmF5U29tZScpLFxuICAgIGNhY2hlSGFzID0gcmVxdWlyZSgnLi9fY2FjaGVIYXMnKTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKHNlZW4pIHtcbiAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcXVhbEFycmF5cztcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpLFxuICAgIHN0dWJGYWxzZSA9IHJlcXVpcmUoJy4vc3R1YkZhbHNlJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0J1ZmZlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsInZhciBiYXNlSXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9fYmFzZUlzVHlwZWRBcnJheScpLFxuICAgIGJhc2VVbmFyeSA9IHJlcXVpcmUoJy4vX2Jhc2VVbmFyeScpLFxuICAgIG5vZGVVdGlsID0gcmVxdWlyZSgnLi9fbm9kZVV0aWwnKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNUeXBlZEFycmF5O1xuIiwiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTGVuZ3RoO1xuIiwidmFyIExlYW5wbHVtID0gcmVxdWlyZSgnLi4vTGVhbnBsdW0udHMnKTtcbm1vZHVsZS5leHBvcnRzID0gTGVhbnBsdW0uZGVmYXVsdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQnJvd3NlckRldGVjdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQnJvd3NlckRldGVjdG9yXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIEludGVybmFsU3RhdGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9JbnRlcm5hbFN0YXRlXCIpKTtcbnZhciBMZWFucGx1bVJlcXVlc3RfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bVJlcXVlc3RcIikpO1xudmFyIExlYW5wbHVtU29ja2V0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1Tb2NrZXRcIikpO1xudmFyIExvY2FsU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Mb2NhbFN0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBQdXNoTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1B1c2hNYW5hZ2VyXCIpKTtcbnZhciBWYXJDYWNoZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZhckNhY2hlXCIpKTtcbnZhciBfYnJvd3NlckRldGVjdG9yID0gbmV3IEJyb3dzZXJEZXRlY3Rvcl8xLmRlZmF1bHQoKTtcbnZhciBMZWFucGx1bSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bSgpIHtcbiAgICB9XG4gICAgTGVhbnBsdW0uc2V0QXBpUGF0aCA9IGZ1bmN0aW9uIChhcGlQYXRoKSB7XG4gICAgICAgIGlmICghTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC5hcGlQYXRoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC5hcGlQYXRoID0gYXBpUGF0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEVtYWlsID0gZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgICAgIExlYW5wbHVtLl9lbWFpbCA9IGVtYWlsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0uc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0LnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbiAodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2ludGVybmFsU3RhdGUudmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSB2YXJpYW50RGVidWdJbmZvRW5hYmxlZDtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fdmFyQ2FjaGUuZ2V0VmFyaWFudERlYnVnSW5mbygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0LmFwcElkID0gYXBwSWQ7XG4gICAgICAgIExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICBMZWFucGx1bS5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlID0gdHJ1ZTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0LmFwcElkID0gYXBwSWQ7XG4gICAgICAgIExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICBMZWFucGx1bS5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlID0gZmFsc2U7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gKGhvc3QpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwU29ja2V0LnNldFNvY2tldEhvc3QoaG9zdCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VJZCA9IGZ1bmN0aW9uIChkZXZpY2VJZCkge1xuICAgICAgICBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0LmRldmljZUlkID0gZGV2aWNlSWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OYW1lKSB7XG4gICAgICAgIExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQudmVyc2lvbk5hbWUgPSB2ZXJzaW9uTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZU5hbWUgPSBmdW5jdGlvbiAoZGV2aWNlTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fZGV2aWNlTmFtZSA9IGRldmljZU5hbWU7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VNb2RlbCA9IGZ1bmN0aW9uIChkZXZpY2VNb2RlbCkge1xuICAgICAgICBMZWFucGx1bS5fZGV2aWNlTW9kZWwgPSBkZXZpY2VNb2RlbDtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fc3lzdGVtTmFtZSA9IHN5c3RlbU5hbWU7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTeXN0ZW1WZXJzaW9uID0gZnVuY3Rpb24gKHN5c3RlbVZlcnNpb24pIHtcbiAgICAgICAgTGVhbnBsdW0uX3N5c3RlbVZlcnNpb24gPSBzeXN0ZW1WZXJzaW9uO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICBMZWFucGx1bS5fdmFyQ2FjaGUuc2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRSZXF1ZXN0QmF0Y2hpbmcgPSBmdW5jdGlvbiAoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpIHtcbiAgICAgICAgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC5iYXRjaEVuYWJsZWQgPSBiYXRjaEVuYWJsZWQ7XG4gICAgICAgIExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQuYmF0Y2hDb29sZG93biA9IGNvb2xkb3duU2Vjb25kcztcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl92YXJDYWNoZS5nZXRWYXJpYWJsZXMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gTGVhbnBsdW0uZ2V0VmFyaWFibGVzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbYXJnc1tpXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl92YXJDYWNoZS52YXJpYW50cyB8fCBbXTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2ludGVybmFsU3RhdGUuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9pbnRlcm5hbFN0YXRlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uX19kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0LmFwaVBhdGggPSAnaHR0cHM6Ly93d3cubGVhbnBsdW0uY29tL2FwaSc7XG4gICAgICAgIExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQuYmF0Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC5iYXRjaENvb2xkb3duID0gNTtcbiAgICAgICAgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC5kZXZpY2VJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC51c2VySWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQuYXBwSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQuY2xpZW50S2V5ID0gdW5kZWZpbmVkO1xuICAgICAgICBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0LnZlcnNpb25OYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICBMZWFucGx1bS5faW50ZXJuYWxTdGF0ZSA9IG5ldyBJbnRlcm5hbFN0YXRlXzEuZGVmYXVsdCgpO1xuICAgICAgICBMZWFucGx1bS5fbHBTb2NrZXQgPSBuZXcgTGVhbnBsdW1Tb2NrZXRfMS5kZWZhdWx0KCk7XG4gICAgICAgIExlYW5wbHVtLl9wdXNoTWFuYWdlciA9IG5ldyBQdXNoTWFuYWdlcl8xLmRlZmF1bHQoTGVhbnBsdW0uY3JlYXRlUmVxdWVzdCk7XG4gICAgICAgIExlYW5wbHVtLl92YXJDYWNoZSA9IG5ldyBWYXJDYWNoZV8xLmRlZmF1bHQoTGVhbnBsdW0uY3JlYXRlUmVxdWVzdCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl92YXJDYWNoZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX3ZhckNhY2hlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgTGVhbnBsdW0uX2ludGVybmFsU3RhdGUudmFyaWFudERlYnVnSW5mb0VuYWJsZWQpO1xuICAgICAgICBMZWFucGx1bS5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5HRVRfVkFSUywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdldFZhcnNSZXNwb25zZSA9IExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzID0gTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC5pc1Jlc3BvbnNlU3VjY2VzcyhnZXRWYXJzUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgTGVhbnBsdW0uX3ZhckNhY2hlLmFwcGx5RGlmZnMoZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU10sIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuQUNUSU9OX01FVEFEQVRBXSk7XG4gICAgICAgICAgICAgICAgICAgIExlYW5wbHVtLl92YXJDYWNoZS5zZXRWYXJpYW50RGVidWdJbmZvKGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVF9ERUJVR19JTkZPXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpc1N1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgTGVhbnBsdW0uYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIExlYW5wbHVtLl92YXJDYWNoZS5vblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIExlYW5wbHVtLl92YXJDYWNoZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DT1VOVFJZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlJFR0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DSVRZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9OQU1FLCBMZWFucGx1bS5fc3lzdGVtTmFtZSB8fCBfYnJvd3NlckRldGVjdG9yLk9TKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TWVNURU1fVkVSU0lPTiwgKExlYW5wbHVtLl9zeXN0ZW1WZXJzaW9uIHx8ICcnKS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX05BTUUsIF9icm93c2VyRGV0ZWN0b3IuYnJvd3NlcilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQlJPV1NFUl9WRVJTSU9OLCBfYnJvd3NlckRldGVjdG9yLnZlcnNpb24udG9TdHJpbmcoKSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTE9DQUxFLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9OQU1FLCBMZWFucGx1bS5fZGV2aWNlTmFtZSB8fFxuICAgICAgICAgICAgX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyICsgXCIgXCIgKyBfYnJvd3NlckRldGVjdG9yLnZlcnNpb24pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9NT0RFTCwgTGVhbnBsdW0uX2RldmljZU1vZGVsIHx8ICdXZWIgQnJvd3NlcicpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgTGVhbnBsdW0uX2ludGVybmFsU3RhdGUudmFyaWFudERlYnVnSW5mb0VuYWJsZWQpO1xuICAgICAgICAvLyBJc3N1ZSByZXF1ZXN0LlxuICAgICAgICAvLyBub2luc3BlY3Rpb24gQW5ub3RhdG9yXG4gICAgICAgIExlYW5wbHVtLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNUQVJULCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIExlYW5wbHVtLl9pbnRlcm5hbFN0YXRlLmhhc1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydFJlc3BvbnNlID0gTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC5nZXRMYXN0UmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmIChMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0LmlzUmVzcG9uc2VTdWNjZXNzKHN0YXJ0UmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIExlYW5wbHVtLl9pbnRlcm5hbFN0YXRlLnN0YXJ0U3VjY2Vzc2Z1bCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChMZWFucGx1bS5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ZXN0VmVyc2lvbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkxBVEVTVF9WRVJTSU9OXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBIG5ld2VyIHZlcnNpb24gb2YgTGVhbnBsdW0sIFwiICsgbGF0ZXN0VmVyc2lvbiArIFwiLCBpcyBhdmFpbGFibGUuXFxuVXNlIFxcXCJucG0gdXBkYXRlIGxlYW5wbHVtLXNka1xcXCIgb3IgZ28gdG8gaHR0cHM6Ly9kb2NzLmxlYW5wbHVtLmNvbS9yZWZlcmVuY2UjamF2YXNjcmlwdC1zZXR1cCB0byBkb3dubG9hZCBpdC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBMZWFucGx1bS5fbHBTb2NrZXQuY29ubmVjdChMZWFucGx1bS5fdmFyQ2FjaGUsIExlYW5wbHVtLmNyZWF0ZVJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIExlYW5wbHVtLl92YXJDYWNoZS5hcHBseURpZmZzKHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdLCBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU10sIHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9NRVRBREFUQV0pO1xuICAgICAgICAgICAgICAgICAgICBMZWFucGx1bS5fdmFyQ2FjaGUuc2V0VmFyaWFudERlYnVnSW5mbyhzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UX0RFQlVHX0lORk9dKTtcbiAgICAgICAgICAgICAgICAgICAgTGVhbnBsdW0uX3ZhckNhY2hlLnRva2VuID0gc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVE9LRU5dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgTGVhbnBsdW0uX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIExlYW5wbHVtLl92YXJDYWNoZS5sb2FkRGlmZnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTGVhbnBsdW0uX2ludGVybmFsU3RhdGUudHJpZ2dlclN0YXJ0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdGFydEZyb21DYWNoZSA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlcklkID09PSAnb2JqZWN0JyAmJiB1c2VySWQgIT09IG51bGwgJiYgdXNlcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJBdHRyaWJ1dGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBMZWFucGx1bS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgTGVhbnBsdW0uX2ludGVybmFsU3RhdGUuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIExlYW5wbHVtLl9pbnRlcm5hbFN0YXRlLnN0YXJ0U3VjY2Vzc2Z1bCA9IHRydWU7XG4gICAgICAgIGlmIChMZWFucGx1bS5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICBMZWFucGx1bS5fbHBTb2NrZXQuY29ubmVjdChMZWFucGx1bS5fdmFyQ2FjaGUsIExlYW5wbHVtLmNyZWF0ZVJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIExlYW5wbHVtLl92YXJDYWNoZS5sb2FkRGlmZnMoKTtcbiAgICAgICAgTGVhbnBsdW0uX2ludGVybmFsU3RhdGUudHJpZ2dlclN0YXJ0SGFuZGxlcnMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBBbm5vdGF0b3JcbiAgICAgICAgTGVhbnBsdW0uY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU1RPUCwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucGF1c2VTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBub2luc3BlY3Rpb24gQW5ub3RhdG9yXG4gICAgICAgIExlYW5wbHVtLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlBBVVNFX1NFU1NJT04sIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlc3VtZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBBbm5vdGF0b3JcbiAgICAgICAgTGVhbnBsdW0uY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUkVTVU1FX1NFU1NJT04sIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnBhdXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBBbm5vdGF0b3JcbiAgICAgICAgTGVhbnBsdW0uY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU1RBVEUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVzdW1lU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBBbm5vdGF0b3JcbiAgICAgICAgTGVhbnBsdW0uY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUkVTVU1FX1NUQVRFLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgTGVhbnBsdW0uc2V0VXNlckF0dHJpYnV0ZXModXNlcklkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFVzZXJBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKHVzZXJBdHRyaWJ1dGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgICAgIHVzZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBzZXRVc2VyQXR0cmlidXRlcyBleHBlY3RzIGEgc3RyaW5nIG9yIGFuICcgK1xuICAgICAgICAgICAgICAgICAgICAnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgdXNlckF0dHJpYnV0ZXMgPyBKU09OLnN0cmluZ2lmeSh1c2VyQXR0cmlidXRlcykgOiB1bmRlZmluZWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV19VU0VSX0lELCB1c2VySWQpO1xuICAgICAgICAvLyBub2luc3BlY3Rpb24gQW5ub3RhdG9yXG4gICAgICAgIExlYW5wbHVtLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9VU0VSX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICAgICAgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC51c2VySWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bS50cmFjayA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGluZm8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHZhbHVlO1xuICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5FVkVOVCwgZXZlbnQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB2YWx1ZSB8fCAwLjApXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBBbm5vdGF0b3JcbiAgICAgICAgTGVhbnBsdW0uY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkdmFuY2VUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNUQVRFLCBzdGF0ZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgTGVhbnBsdW0uY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuQURWQU5DRSwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdWJzY3JpYmVkLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHRydWUsIHJlamVjdHMgaWYgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9wdXNoTWFuYWdlci5pc1dlYlB1c2hTdWJzY3JpYmVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0aGUgYnJvd3NlciBmb3Igd2ViIHB1c2guXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCBvbiB5b3VyIHNlcnZlciB0aGF0IGhvc3RzIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zdy5taW4uanMgc2VydmljZSB3b3JrZXIganMgZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgICAgICBSZXNvbHZlcyBpZiByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UgZmFpbHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0ucmVnaXN0ZXJGb3JXZWJQdXNoID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICAgICAgaWYgKExlYW5wbHVtLl9wdXNoTWFuYWdlci5pc1dlYlB1c2hTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9wdXNoTWFuYWdlci5yZWdpc3RlcihzZXJ2aWNlV29ya2VyVXJsLCBmdW5jdGlvbiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gTGVhbnBsdW0uX3B1c2hNYW5hZ2VyLnN1YnNjcmliZVVzZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdMZWFucGx1bTogV2ViUHVzaCBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyB0aGUgYnJvd3NlciBmb3JtIHdlYiBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgUmVzb2x2ZXMgb24gc3VjY2Vzcywgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0udW5yZWdpc3RlckZyb21XZWJQdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX3B1c2hNYW5hZ2VyLnVuc3Vic2NyaWJlVXNlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGNhY2hlZCB2YWx1ZXMgZm9yIG1lc3NhZ2VzLCB2YXJpYWJsZXMgYW5kIHRlc3QgYXNzaWdubWVudHMuXG4gICAgICogVXNlIHNwYXJpbmdseSBhcyBpZiB0aGUgYXBwIGlzIHVwZGF0ZWQsIHlvdSdsbCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWxseVxuICAgICAqIGluY29uc2lzdGVudCBzdGF0ZSBvciB1c2VyIGV4cGVyaWVuY2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX3ZhckNhY2hlLmNsZWFyVXNlckNvbnRlbnQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmNyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQucmVxdWVzdChhY3Rpb24sIGFyZ3MsIF9fYXNzaWduKHsgZGV2TW9kZTogTGVhbnBsdW0uX2ludGVybmFsU3RhdGUuZGV2TW9kZSB9LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5faW50ZXJuYWxTdGF0ZSA9IG5ldyBJbnRlcm5hbFN0YXRlXzEuZGVmYXVsdCgpO1xuICAgIExlYW5wbHVtLl9scFNvY2tldCA9IG5ldyBMZWFucGx1bVNvY2tldF8xLmRlZmF1bHQoKTtcbiAgICBMZWFucGx1bS5fcHVzaE1hbmFnZXIgPSBuZXcgUHVzaE1hbmFnZXJfMS5kZWZhdWx0KExlYW5wbHVtLmNyZWF0ZVJlcXVlc3QpO1xuICAgIExlYW5wbHVtLl92YXJDYWNoZSA9IG5ldyBWYXJDYWNoZV8xLmRlZmF1bHQoTGVhbnBsdW0uY3JlYXRlUmVxdWVzdCk7XG4gICAgcmV0dXJuIExlYW5wbHVtO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xudmFyIGRhdGFCcm93c2VyID0gW3tcbiAgICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICBzdWJTdHJpbmc6ICdDaHJvbWUnLFxuICAgICAgICBpZGVudGl0eTogJ0Nocm9tZSdcbiAgICB9LCB7XG4gICAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgc3ViU3RyaW5nOiAnT21uaVdlYicsXG4gICAgICAgIHZlcnNpb25TZWFyY2g6ICdPbW5pV2ViLycsXG4gICAgICAgIGlkZW50aXR5OiAnT21uaVdlYidcbiAgICB9LCB7XG4gICAgICAgIHN0cmluZzogbmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgc3ViU3RyaW5nOiAnQXBwbGUnLFxuICAgICAgICBpZGVudGl0eTogJ1NhZmFyaScsXG4gICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJ1xuICAgIH0sIHtcbiAgICAgICAgcHJvcDogd2luZG93Lm9wZXJhLFxuICAgICAgICBpZGVudGl0eTogJ09wZXJhJyxcbiAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nXG4gICAgfSwge1xuICAgICAgICBzdHJpbmc6IG5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgIHN1YlN0cmluZzogJ2lDYWInLFxuICAgICAgICBpZGVudGl0eTogJ2lDYWInXG4gICAgfSwge1xuICAgICAgICBzdHJpbmc6IG5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgIHN1YlN0cmluZzogJ0tERScsXG4gICAgICAgIGlkZW50aXR5OiAnS29ucXVlcm9yJ1xuICAgIH0sIHtcbiAgICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICBzdWJTdHJpbmc6ICdGaXJlZm94JyxcbiAgICAgICAgaWRlbnRpdHk6ICdGaXJlZm94J1xuICAgIH0sIHtcbiAgICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICBzdWJTdHJpbmc6ICdDYW1pbm8nLFxuICAgICAgICBpZGVudGl0eTogJ0NhbWlubydcbiAgICB9LCB7XG4gICAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgc3ViU3RyaW5nOiAnTmV0c2NhcGUnLFxuICAgICAgICBpZGVudGl0eTogJ05ldHNjYXBlJ1xuICAgIH0sIHtcbiAgICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICBzdWJTdHJpbmc6ICdNU0lFJyxcbiAgICAgICAgaWRlbnRpdHk6ICdFeHBsb3JlcicsXG4gICAgICAgIHZlcnNpb25TZWFyY2g6ICdNU0lFJ1xuICAgIH0sIHtcbiAgICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICBzdWJTdHJpbmc6ICdHZWNrbycsXG4gICAgICAgIGlkZW50aXR5OiAnTW96aWxsYScsXG4gICAgICAgIHZlcnNpb25TZWFyY2g6ICdydidcbiAgICB9LCB7XG4gICAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgc3ViU3RyaW5nOiAnTW96aWxsYScsXG4gICAgICAgIGlkZW50aXR5OiAnTmV0c2NhcGUnLFxuICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnTW96aWxsYSdcbiAgICB9XTtcbnZhciBkYXRhT1MgPSBbe1xuICAgICAgICBzdHJpbmc6IG5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgc3ViU3RyaW5nOiAnV2luJyxcbiAgICAgICAgaWRlbnRpdHk6ICdXaW5kb3dzJ1xuICAgIH0sIHtcbiAgICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgIHN1YlN0cmluZzogJ01hYycsXG4gICAgICAgIGlkZW50aXR5OiAnTWFjIE9TJ1xuICAgIH0sIHtcbiAgICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICBzdWJTdHJpbmc6ICdpUGhvbmUnLFxuICAgICAgICBpZGVudGl0eTogJ2lPUydcbiAgICB9LCB7XG4gICAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgc3ViU3RyaW5nOiAnQW5kcm9pZCcsXG4gICAgICAgIGlkZW50aXR5OiAnQW5kcm9pZCdcbiAgICB9LCB7XG4gICAgICAgIHN0cmluZzogbmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICBzdWJTdHJpbmc6ICdMaW51eCcsXG4gICAgICAgIGlkZW50aXR5OiAnTGludXgnXG4gICAgfV07XG4vLyBCcm93c2VyIGRldGVjdGlvbi4gU291cmNlOiBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2RldGVjdC5odG1sXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBkZXRlY3Qgd2hpY2ggYnJvd3NlciBjbGllbnQgaXMgdXNpbmcuXG4gKi9cbnZhciBCcm93c2VyRGV0ZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIG9iamVjdCB3aXRoIGN1cnJlbnQgYnJvd3NlciBzZXR0aW5ncy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCcm93c2VyRGV0ZWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYnJvd3NlciA9IHRoaXMuX3NlYXJjaFN0cmluZyhkYXRhQnJvd3NlcikgfHwgJ1Vua25vd24gQnJvd3Nlcic7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHRoaXMuX3NlYXJjaFZlcnNpb24obmF2aWdhdG9yLnVzZXJBZ2VudCkgfHxcbiAgICAgICAgICAgIHRoaXMuX3NlYXJjaFZlcnNpb24obmF2aWdhdG9yLmFwcFZlcnNpb24pIHx8ICdVbmtub3duIFZlcnNpb24nO1xuICAgICAgICB0aGlzLk9TID0gdGhpcy5fc2VhcmNoU3RyaW5nKGRhdGFPUykgfHwgJ1Vua25vd24gT1MnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaGVzIHRoZSBjbGllbnQncyBzeXN0ZW0gdG8gdGhlIHByZWRlZmluZWQgc3lzdGVtIGxpc3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgVGhlIGRhdGEgb2JqZWN0IHRvIHNjYW4uXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZm91bmQgaWRlbnRpdHkgc3RyaW5nLlxuICAgICAqL1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuX3NlYXJjaFN0cmluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGFTdHJpbmcgPSBkYXRhW2ldLnN0cmluZztcbiAgICAgICAgICAgIHZhciBkYXRhUHJvcCA9IGRhdGFbaV0ucHJvcDtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyA9IGRhdGFbaV0udmVyc2lvblNlYXJjaCB8fCBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVN0cmluZy5pbmRleE9mKGRhdGFbaV0uc3ViU3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVByb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhU3RyaW5nIFRoZSBkYXRhIG9iamVjdCB0byBzY2FuLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGZvdW5kIG51bWJlci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuX3NlYXJjaFZlcnNpb24gPSBmdW5jdGlvbiAoZGF0YVN0cmluZykge1xuICAgICAgICBpZiAoIWRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBkYXRhU3RyaW5nLmluZGV4T2YodGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGRhdGFTdHJpbmcuc3Vic3RyaW5nKGluZGV4ICsgdGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nLmxlbmd0aCArIDEpKTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyRGV0ZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnJvd3NlckRldGVjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEludGVybmFsU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJuYWxTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuZGV2TW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydFN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuc3RhcnRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5oYXNTdGFydGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVyKHRoaXMuc3RhcnRTdWNjZXNzZnVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW50ZXJuYWxTdGF0ZS5wcm90b3R5cGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5zdGFydEhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS50cmlnZ2VyU3RhcnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXJ0SGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIYW5kbGVyc1tpXSh0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbnRlcm5hbFN0YXRlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEludGVybmFsU3RhdGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGlzRXF1YWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoL2lzRXF1YWxcIikpO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTGVhbnBsdW1SZXF1ZXN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1SZXF1ZXN0XCIpKTtcbnZhciBTb2NrZXRJb0NsaWVudF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1NvY2tldElvQ2xpZW50XCIpKTtcbnZhciBMZWFucGx1bVNvY2tldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVNvY2tldCgpIHtcbiAgICAgICAgdGhpcy5zb2NrZXRIb3N0ID0gJ2Rldi5sZWFucGx1bS5jb20nO1xuICAgIH1cbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChjYWNoZSwgY3JlYXRlUmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIVdlYlNvY2tldCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBXZWJTb2NrZXRzLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGllbnQgPSBuZXcgU29ja2V0SW9DbGllbnRfMS5kZWZhdWx0KCk7XG4gICAgICAgIHZhciBhdXRoU2VudCA9IGZhbHNlO1xuICAgICAgICBjbGllbnQub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFhdXRoU2VudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogQ29ubmVjdGVkIHRvIGRldmVsb3BtZW50IHNlcnZlci4nKTtcbiAgICAgICAgICAgICAgICBjbGllbnQuc2VuZCgnYXV0aCcsIChfYSA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BUFBfSURdID0gTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdC5hcHBJZCxcbiAgICAgICAgICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX0lEXSA9IExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQuZGV2aWNlSWQsXG4gICAgICAgICAgICAgICAgICAgIF9hKSk7XG4gICAgICAgICAgICAgICAgYXV0aFNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjbGllbnQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTb2NrZXQgZXJyb3InLCBldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIGNsaWVudC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ3VwZGF0ZVZhcnMnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3NfMSA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLkdFVF9WQVJTLCBhcmdzXzEsIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldFZhcnNSZXNwb25zZSA9IExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhbnRzID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uTWV0YWRhdGEgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9NRVRBREFUQV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRXF1YWxfMS5kZWZhdWx0KHZhbHVlcywgY2FjaGUuZGlmZnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGUuYXBwbHlEaWZmcyh2YWx1ZXMsIHZhcmlhbnRzLCBhY3Rpb25NZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0VmFyaWFibGVzJykge1xuICAgICAgICAgICAgICAgIGNhY2hlLnNlbmRWYXJpYWJsZXMoKTtcbiAgICAgICAgICAgICAgICBjbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgICAgICAndXBkYXRlZCc6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0QWN0aW9ucycpIHtcbiAgICAgICAgICAgICAgICAvLyBVbnN1cHBvcnRlZCBpbiBKYXZhU2NyaXB0IFNESy5cbiAgICAgICAgICAgICAgICBjbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgICAgICAndXBkYXRlZCc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ3JlZ2lzdGVyRGV2aWNlJykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hbGVydFxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91ciBkZXZpY2UgaGFzIGJlZW4gcmVnaXN0ZXJlZCB0byBcIiArIGFyZ3NbMF0uZW1haWwgKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNsaWVudC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBEaXNjb25uZWN0ZWQgdG8gZGV2ZWxvcG1lbnQgc2VydmVyLicpO1xuICAgICAgICAgICAgYXV0aFNlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xpZW50LmNvbm5lY3QodGhpcy5zb2NrZXRIb3N0KTtcbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFjbGllbnQuY29ubmVjdGVkICYmICFjbGllbnQuY29ubmVjdGluZykge1xuICAgICAgICAgICAgICAgIGNsaWVudC5jb25uZWN0KF90aGlzLnNvY2tldEhvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCA1MDAwKTtcbiAgICB9O1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5zZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc29ja2V0SG9zdCA9IHZhbHVlO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtU29ja2V0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtU29ja2V0O1xuIiwidmFyIGJhc2VJc0VxdWFsRGVlcCA9IHJlcXVpcmUoJy4vX2Jhc2VJc0VxdWFsRGVlcCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICB9XG4gIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc0VxdWFsO1xuIiwidmFyIFN0YWNrID0gcmVxdWlyZSgnLi9fU3RhY2snKSxcbiAgICBlcXVhbEFycmF5cyA9IHJlcXVpcmUoJy4vX2VxdWFsQXJyYXlzJyksXG4gICAgZXF1YWxCeVRhZyA9IHJlcXVpcmUoJy4vX2VxdWFsQnlUYWcnKSxcbiAgICBlcXVhbE9iamVjdHMgPSByZXF1aXJlKCcuL19lcXVhbE9iamVjdHMnKSxcbiAgICBnZXRUYWcgPSByZXF1aXJlKCcuL19nZXRUYWcnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNCdWZmZXIgPSByZXF1aXJlKCcuL2lzQnVmZmVyJyksXG4gICAgaXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9pc1R5cGVkQXJyYXknKTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICBvYmpJc09iaiA9IGZhbHNlO1xuICB9XG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzRXF1YWxEZWVwO1xuIiwidmFyIExpc3RDYWNoZSA9IHJlcXVpcmUoJy4vX0xpc3RDYWNoZScpLFxuICAgIHN0YWNrQ2xlYXIgPSByZXF1aXJlKCcuL19zdGFja0NsZWFyJyksXG4gICAgc3RhY2tEZWxldGUgPSByZXF1aXJlKCcuL19zdGFja0RlbGV0ZScpLFxuICAgIHN0YWNrR2V0ID0gcmVxdWlyZSgnLi9fc3RhY2tHZXQnKSxcbiAgICBzdGFja0hhcyA9IHJlcXVpcmUoJy4vX3N0YWNrSGFzJyksXG4gICAgc3RhY2tTZXQgPSByZXF1aXJlKCcuL19zdGFja1NldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gU3RhY2s7XG4iLCIvKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlQ2xlYXI7XG4iLCJ2YXIgYXNzb2NJbmRleE9mID0gcmVxdWlyZSgnLi9fYXNzb2NJbmRleE9mJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZTtcblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVEZWxldGU7XG4iLCJ2YXIgYXNzb2NJbmRleE9mID0gcmVxdWlyZSgnLi9fYXNzb2NJbmRleE9mJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlR2V0O1xuIiwidmFyIGFzc29jSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Fzc29jSW5kZXhPZicpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVIYXM7XG4iLCJ2YXIgYXNzb2NJbmRleE9mID0gcmVxdWlyZSgnLi9fYXNzb2NJbmRleE9mJyk7XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVTZXQ7XG4iLCJ2YXIgTGlzdENhY2hlID0gcmVxdWlyZSgnLi9fTGlzdENhY2hlJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RhY2tDbGVhcjtcbiIsIi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0RlbGV0ZTtcbiIsIi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0dldDtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RhY2tIYXM7XG4iLCJ2YXIgTGlzdENhY2hlID0gcmVxdWlyZSgnLi9fTGlzdENhY2hlJyksXG4gICAgTWFwID0gcmVxdWlyZSgnLi9fTWFwJyksXG4gICAgTWFwQ2FjaGUgPSByZXF1aXJlKCcuL19NYXBDYWNoZScpO1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja1NldDtcbiIsInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNNYXNrZWQgPSByZXF1aXJlKCcuL19pc01hc2tlZCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNOYXRpdmU7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iLCIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvYmplY3RUb1N0cmluZztcbiIsInZhciBjb3JlSnNEYXRhID0gcmVxdWlyZSgnLi9fY29yZUpzRGF0YScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTWFza2VkO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbm1vZHVsZS5leHBvcnRzID0gY29yZUpzRGF0YTtcbiIsIi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZhbHVlO1xuIiwidmFyIEhhc2ggPSByZXF1aXJlKCcuL19IYXNoJyksXG4gICAgTGlzdENhY2hlID0gcmVxdWlyZSgnLi9fTGlzdENhY2hlJyksXG4gICAgTWFwID0gcmVxdWlyZSgnLi9fTWFwJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZUNsZWFyO1xuIiwidmFyIGhhc2hDbGVhciA9IHJlcXVpcmUoJy4vX2hhc2hDbGVhcicpLFxuICAgIGhhc2hEZWxldGUgPSByZXF1aXJlKCcuL19oYXNoRGVsZXRlJyksXG4gICAgaGFzaEdldCA9IHJlcXVpcmUoJy4vX2hhc2hHZXQnKSxcbiAgICBoYXNoSGFzID0gcmVxdWlyZSgnLi9faGFzaEhhcycpLFxuICAgIGhhc2hTZXQgPSByZXF1aXJlKCcuL19oYXNoU2V0Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEhhc2g7XG4iLCJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hDbGVhcjtcbiIsIi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaERlbGV0ZTtcbiIsInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hHZXQ7XG4iLCJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoSGFzO1xuIiwidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoU2V0O1xuIiwidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlRGVsZXRlO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzS2V5YWJsZTtcbiIsInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVHZXQ7XG4iLCJ2YXIgZ2V0TWFwRGF0YSA9IHJlcXVpcmUoJy4vX2dldE1hcERhdGEnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZUhhcztcbiIsInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVTZXQ7XG4iLCJ2YXIgTWFwQ2FjaGUgPSByZXF1aXJlKCcuL19NYXBDYWNoZScpLFxuICAgIHNldENhY2hlQWRkID0gcmVxdWlyZSgnLi9fc2V0Q2FjaGVBZGQnKSxcbiAgICBzZXRDYWNoZUhhcyA9IHJlcXVpcmUoJy4vX3NldENhY2hlSGFzJyk7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG5TZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcblNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxubW9kdWxlLmV4cG9ydHMgPSBTZXRDYWNoZTtcbiIsIi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqXG4gKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBhZGRcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQGFsaWFzIHB1c2hcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldENhY2hlQWRkO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldENhY2hlSGFzO1xuIiwiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcnJheVNvbWU7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYWNoZUhhcztcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBVaW50OEFycmF5ID0gcmVxdWlyZSgnLi9fVWludDhBcnJheScpLFxuICAgIGVxID0gcmVxdWlyZSgnLi9lcScpLFxuICAgIGVxdWFsQXJyYXlzID0gcmVxdWlyZSgnLi9fZXF1YWxBcnJheXMnKSxcbiAgICBtYXBUb0FycmF5ID0gcmVxdWlyZSgnLi9fbWFwVG9BcnJheScpLFxuICAgIHNldFRvQXJyYXkgPSByZXF1aXJlKCcuL19zZXRUb0FycmF5Jyk7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgYm9vbFRhZzpcbiAgICBjYXNlIGRhdGVUYWc6XG4gICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgY2FzZSBlcnJvclRhZzpcbiAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICBjYXNlIG1hcFRhZzpcbiAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXF1YWxCeVRhZztcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVpbnQ4QXJyYXk7XG4iLCIvKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcFRvQXJyYXk7XG4iLCIvKipcbiAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFRvQXJyYXk7XG4iLCJ2YXIgZ2V0QWxsS2V5cyA9IHJlcXVpcmUoJy4vX2dldEFsbEtleXMnKTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHRydWU7XG4gIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICB9XG4gIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXF1YWxPYmplY3RzO1xuIiwidmFyIGJhc2VHZXRBbGxLZXlzID0gcmVxdWlyZSgnLi9fYmFzZUdldEFsbEtleXMnKSxcbiAgICBnZXRTeW1ib2xzID0gcmVxdWlyZSgnLi9fZ2V0U3ltYm9scycpLFxuICAgIGtleXMgPSByZXF1aXJlKCcuL2tleXMnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRBbGxLZXlzO1xuIiwidmFyIGFycmF5UHVzaCA9IHJlcXVpcmUoJy4vX2FycmF5UHVzaCcpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VHZXRBbGxLZXlzO1xuIiwiLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5UHVzaDtcbiIsInZhciBhcnJheUZpbHRlciA9IHJlcXVpcmUoJy4vX2FycmF5RmlsdGVyJyksXG4gICAgc3R1YkFycmF5ID0gcmVxdWlyZSgnLi9zdHViQXJyYXknKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN5bWJvbHM7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlGaWx0ZXI7XG4iLCIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0dWJBcnJheTtcbiIsInZhciBhcnJheUxpa2VLZXlzID0gcmVxdWlyZSgnLi9fYXJyYXlMaWtlS2V5cycpLFxuICAgIGJhc2VLZXlzID0gcmVxdWlyZSgnLi9fYmFzZUtleXMnKSxcbiAgICBpc0FycmF5TGlrZSA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2UnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5cztcbiIsInZhciBiYXNlVGltZXMgPSByZXF1aXJlKCcuL19iYXNlVGltZXMnKSxcbiAgICBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vaXNBcmd1bWVudHMnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNCdWZmZXIgPSByZXF1aXJlKCcuL2lzQnVmZmVyJyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL2lzVHlwZWRBcnJheScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlMaWtlS2V5cztcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVRpbWVzO1xuIiwidmFyIGJhc2VJc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vX2Jhc2VJc0FyZ3VtZW50cycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJndW1lbnRzO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNBcmd1bWVudHM7XG4iLCIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R1YkZhbHNlO1xuIiwiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSW5kZXg7XG4iLCJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc0xlbmd0aCA9IHJlcXVpcmUoJy4vaXNMZW5ndGgnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzVHlwZWRBcnJheTtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVW5hcnk7XG4iLCJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgIGlmICh0eXBlcykge1xuICAgICAgcmV0dXJuIHR5cGVzO1xuICAgIH1cblxuICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBub2RlVXRpbDtcbiIsInZhciBpc1Byb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2lzUHJvdG90eXBlJyksXG4gICAgbmF0aXZlS2V5cyA9IHJlcXVpcmUoJy4vX25hdGl2ZUtleXMnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VLZXlzO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUHJvdG90eXBlO1xuIiwidmFyIG92ZXJBcmcgPSByZXF1aXJlKCcuL19vdmVyQXJnJyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBuYXRpdmVLZXlzO1xuIiwiLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcbiIsInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNMZW5ndGggPSByZXF1aXJlKCcuL2lzTGVuZ3RoJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXlMaWtlO1xuIiwidmFyIERhdGFWaWV3ID0gcmVxdWlyZSgnLi9fRGF0YVZpZXcnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKSxcbiAgICBQcm9taXNlID0gcmVxdWlyZSgnLi9fUHJvbWlzZScpLFxuICAgIFNldCA9IHJlcXVpcmUoJy4vX1NldCcpLFxuICAgIFdlYWtNYXAgPSByZXF1aXJlKCcuL19XZWFrTWFwJyksXG4gICAgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICB0b1NvdXJjZSA9IHJlcXVpcmUoJy4vX3RvU291cmNlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XSc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG52YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xudmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbi8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbmlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VGFnO1xuIiwidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpLFxuICAgIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXRhVmlldztcbiIsInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKSxcbiAgICByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG4iLCJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyksXG4gICAgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2V0O1xuIiwidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpLFxuICAgIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gV2Vha01hcDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOZXR3b3JrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTmV0d29ya1wiKSk7XG4vKipcbiAqIFNvY2tldC5pbyAxLjAgY2xpZW50IGNsYXNzLlxuICovXG52YXIgU29ja2V0SW9DbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBuZXcgU29ja2V0SW9DbGllbnQsIG5vdCBjb25uZWN0ZWQgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTb2NrZXRJb0NsaWVudCgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyB0byB0aGUgZ2l2ZW4gc29ja2V0SG9zdC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHNvY2tldEhvc3QgVGhlIGhvc3QgdG8gY29ubmVjdCB0by5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChzb2NrZXRIb3N0KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXRoaXNcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLmNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICBOZXR3b3JrXzEuZGVmYXVsdC5hamF4KCdQT1NUJywgXCJodHRwczovL1wiICsgc29ja2V0SG9zdCArIFwiL3NvY2tldC5pby8xXCIsICcnLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIHZhciBoZWFydGJlYXQgPSBwYXJzZUludChwYXJ0c1sxXSkgLyAyICogMTAwMDtcbiAgICAgICAgICAgIHNlbGYuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzczovL1wiICsgc29ja2V0SG9zdCArIFwiL3NvY2tldC5pby8xL3dlYnNvY2tldC9cIiArIHNlc3Npb24pO1xuICAgICAgICAgICAgdmFyIGhlYXJ0YmVhdEludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgIHNlbGYuc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYub25vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub25vcGVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhlYXJ0YmVhdEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNvY2tldC5zZW5kKCcyOjo6Jyk7XG4gICAgICAgICAgICAgICAgfSwgaGVhcnRiZWF0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZWxmLnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChoZWFydGJlYXRJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYub25jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VsZi5zb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VQYXJ0cyA9IGV2ZW50LmRhdGEuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICB2YXIgY29kZSA9IHBhcnNlSW50KG1lc3NhZ2VQYXJ0c1swXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zb2NrZXQuc2VuZCgnMjo6Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IG1lc3NhZ2VQYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2VQYXJ0cy5zbGljZSgzKS5qb2luKCc6JykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUV2ZW50ID0gZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGRhdGEuYXJncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zb2NrZXQuc2VuZChcIjY6OjpcIiArIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYub25tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9ubWVzc2FnZShtZXNzYWdlRXZlbnQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTb2NrZXQgZXJyb3I6IFwiICsgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNlbGYuc29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLm9uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbmVycm9yKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBudWxsLCBmYWxzZSwgdHJ1ZSAvLyBudWxsLCBxdWV1ZWQsIHBsYWluVGV4dFxuICAgICAgICApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZHMgZ2l2ZW4gZXZlbnQgd2l0aCBhcmd1bWVudHMgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtICB7Kn0gYXJncyBBcmd1bWVudHMgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3NKc29uID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGFyZ3M6IGFyZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc29ja2V0LnNlbmQoXCI1Ojo6XCIgKyBhcmdzSnNvbik7XG4gICAgfTtcbiAgICByZXR1cm4gU29ja2V0SW9DbGllbnQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU29ja2V0SW9DbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGlzRXF1YWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoL2lzRXF1YWxcIikpO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTG9jYWxTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xvY2FsU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIEFQUExJQ0FUSU9OX1NFUlZFUl9QVUJMSUNfS0VZID0gJ0JJbldQcFdudGZSMzlyZ1hTUDA0cHFkbUVkREdhNTB6NnpxYk12eHl4SkN3elhJdVNwU2g4Qzg4OC1DZko4MldFTGw3WGU4Y2pBbmZDdC0zdkswQ2k2OCc7XG4vKipcbiAqIFB1c2ggTWFuYWdlciBoYW5kbGVzIHRoZSByZWdpc3RyYXRpb24gYW5kIHN1YnNjcmlwdGlvbiBmb3Igd2ViIHB1c2guXG4gKi9cbnZhciBQdXNoTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXNoTWFuYWdlcihjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHdlYiBwdXNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN1cHBvcnRlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBCb29sZWFuKCgoX2EgPSB3aW5kb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYXZpZ2F0b3IpICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICdzZXJ2aWNlV29ya2VyJyBpbiB3aW5kb3cubmF2aWdhdG9yICYmXG4gICAgICAgICAgICAnUHVzaE1hbmFnZXInIGluIHdpbmRvdyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYnJvd3NlciBpcyBzdWJzY3JpYmVkIHRvIHdlYiBwdXNoIG5vdGlmaWNhdGlvbnMuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gVHJ1ZSBpZiBzdWJzY3JpYmVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVnaXN0cmF0aW9uXzEsIHN1YnNjcmlwdGlvbiwgaXNTdWJzY3JpYmVkO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZ2lzdHJhdGlvbl8xKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlZ2lzdHJhdGlvbl8xLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkID0gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpc1N1YnNjcmliZWRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgZm9yIFdlYlB1c2guXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCB0aGF0IHNlcnZlcyB0aGUgc2VydmljZSB3b3JrZXJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbiB5b3VyIGRvbWFpbi5cbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICBUaGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdpdGggcmVzdWx0LlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gbm90aGluZ1xuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyVXJsLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIHN1YnNjcmlwdGlvbiwgaXNTdWJzY3JpYmVkLCBlcnJvcl8xO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBQdXNoIG1lc3NhZ2luZyBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc2VydmljZVdvcmtlclVybCB8fCAnL3N3Lm1pbi5qcycsIG51bGwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3Vic2NyaWJlZCA9IHN1YnNjcmlwdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soaXNTdWJzY3JpYmVkKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNlcnZpY2UgV29ya2VyIEVycm9yOiAnLCBlcnJvcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdGhlIHVzZXIoYnJvd3NlcikgdG8gcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiBzdWJzY3JpcHRpb24gc3VjY2Vzc2Z1bCwgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnN1YnNjcmliZVVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcHBsaWNhdGlvblNlcnZlcktleSwgc3Vic2NyaXB0aW9uLCBlcnJvcl8yO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXkgPSB0aGlzLnVybEI2NFRvVWludDhBcnJheShBUFBMSUNBVElPTl9TRVJWRVJfUFVCTElDX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleTogYXBwbGljYXRpb25TZXJ2ZXJLZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxlYW5wbHVtOiBGYWlsZWQgdG8gc3Vic2NyaWJlIHRoZSB1c2VyOiBcIiArIGVycm9yXzIpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZSB0aGUgdXNlcihicm93c2VyKSBmcm9tIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdW5zdWJzY3JpYmVkLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudW5zdWJzY3JpYmVVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlZCwgc3Vic2NyaXB0aW9uLCBlcnJvcl8zO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmlzV2ViUHVzaFN1YnNjcmliZWQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZWQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZWQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzIsIDUsICwgNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlZCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8zID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVhbnBsdW06IEVycm9yIHVuc3Vic2NyaWJpbmc6IFwiICsgZXJyb3JfMyk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIG9iamVjdCBmcm9tIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBSZXR1cm5zIHRoZSByZWdpc3RyYXRpb24gb3IgbnVsbC5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmNvZGVzIGEgYmFzZTY0IHVybCBzdHJpbmcgdG8gYW4gdWludDggYXJyYXJ5LlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gYmFzZTY0U3RyaW5nIFtkZXNjcmlwdGlvbl1cbiAgICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fSAgICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51cmxCNjRUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYmFzZTY0U3RyaW5nKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gJz0nLnJlcGVhdCgoNCAtIGJhc2U2NFN0cmluZy5sZW5ndGggJSA0KSAlIDQpO1xuICAgICAgICB2YXIgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gICAgICAgIHZhciByYXdEYXRhID0gd2luZG93LmF0b2IoYmFzZTY0KTtcbiAgICAgICAgdmFyIG91dHB1dEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG91dHB1dEFycmF5W2ldID0gcmF3RGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXRBcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFtwcmVwYXJlU3Vic2NyaXB0aW9uIGRlc2NyaXB0aW9uXVxuICAgICAqIEBwYXJhbSAge29iamVjdH0gc3Vic2NyaXB0aW9uIFRoZSByYXcgc3Vic2NyaXB0aW9uIGZyb20gYnJvd3Nlci5cbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gc3Vic2NyaXB0aW9uLmdldEtleSBUaGUgc3Vic2NyaXB0aW9uIGtleS5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHN1YnNjcmlwdGlvbi5lbmRwb2ludCBUaGUgc3Vic2NyaXB0aW9uIGtleS5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBzdWJzY3JpcHRpb24gb2JqZWN0IHRvIGJlIHNlbnQgdG8gc2VydmVyLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5wcmVwYXJlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG4gICAgICAgIHZhciBrZXkgPSBzdWJzY3JpcHRpb24uZ2V0S2V5ID8gc3Vic2NyaXB0aW9uLmdldEtleSgncDI1NmRoJykgOiAnJztcbiAgICAgICAgdmFyIGF1dGggPSBzdWJzY3JpcHRpb24uZ2V0S2V5ID8gc3Vic2NyaXB0aW9uLmdldEtleSgnYXV0aCcpIDogJyc7XG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBFUzZNb2R1bGVzRGVwZW5kZW5jaWVzXG4gICAgICAgIHZhciBrZXlBc2NpaSA9IGJ0b2EoYXBwbHkuY2FsbChTdHJpbmcuZnJvbUNoYXJDb2RlLCBudWxsLCBuZXcgVWludDhBcnJheShrZXkpKSk7XG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBFUzZNb2R1bGVzRGVwZW5kZW5jaWVzXG4gICAgICAgIHZhciBhdXRoQXNjaWkgPSBidG9hKGFwcGx5LmNhbGwoU3RyaW5nLmZyb21DaGFyQ29kZSwgbnVsbCwgbmV3IFVpbnQ4QXJyYXkoYXV0aCkpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuZHBvaW50OiBzdWJzY3JpcHRpb24uZW5kcG9pbnQsXG4gICAgICAgICAgICBrZXk6IGtleUFzY2lpLFxuICAgICAgICAgICAgYXV0aDogYXV0aEFzY2lpXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbmV3IHN1YnNjcmlwdGlvbiBvYmplY3QgdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24uXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcHJlcGFyZWRTdWJzY3JpcHRpb24gPSB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHByZXBhcmVkU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1N1YnNjcmlwdGlvblN0cmluZyA9IExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuUFVTSF9TVUJTQ1JJUFRJT04pO1xuICAgICAgICAgICAgaWYgKCFpc0VxdWFsXzEuZGVmYXVsdChleGlzdGluZ1N1YnNjcmlwdGlvblN0cmluZywgcHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlBVU0hfU1VCU0NSSVBUSU9OLCBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdWJzY3JpcHRpb24ocHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZy9PYmplY3R9IHN1YnNjcmlwdGlvbiBUaGUgc3Vic2NyaXB0aW9uIHN0cmluZy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuc2V0U3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuV0VCX1BVU0hfU1VCU0NSSVBUSU9OLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfREVWSUNFX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUHVzaE1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUHVzaE1hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgVmFyQ2FjaGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmFyQ2FjaGUoY3JlYXRlUmVxdWVzdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLmFjdGlvbk1ldGFkYXRhID0ge307XG4gICAgICAgIHRoaXMuaGFzUmVjZWl2ZWREaWZmcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1lcmdlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB7fTtcbiAgICAgICAgdGhpcy5kaWZmcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50b2tlbiA9ICcnO1xuICAgICAgICB0aGlzLnZhcmlhbnRzID0gW107XG4gICAgfVxuICAgIFZhckNhY2hlLnByb3RvdHlwZS5hcHBseURpZmZzID0gZnVuY3Rpb24gKGRpZmZzLCB2YXJpYW50cywgYWN0aW9uTWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5kaWZmcyA9IGRpZmZzO1xuICAgICAgICB0aGlzLnZhcmlhbnRzID0gdmFyaWFudHM7XG4gICAgICAgIHRoaXMuYWN0aW9uTWV0YWRhdGEgPSBhY3Rpb25NZXRhZGF0YTtcbiAgICAgICAgdGhpcy5oYXNSZWNlaXZlZERpZmZzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSBtZXJnZUhlbHBlcih0aGlzLnZhcmlhYmxlcywgZGlmZnMpO1xuICAgICAgICB0aGlzLnNhdmVEaWZmcygpO1xuICAgICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUubG9hZERpZmZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5hcHBseURpZmZzKEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFCTEVTKSB8fCBudWxsKSwgSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UUykgfHwgbnVsbCksIEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQUNUSU9OX01FVEFEQVRBKSB8fCBudWxsKSk7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVE9LRU4pO1xuICAgICAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVF9ERUJVR19JTkZPKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZWFucGx1bTogSW52YWxpZCBkaWZmczogXCIgKyBlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNhdmVEaWZmcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFCTEVTLCBKU09OLnN0cmluZ2lmeSh0aGlzLmRpZmZzIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRTLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhcmlhbnRzIHx8IFtdKSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkFDVElPTl9NRVRBREFUQSwgSlNPTi5zdHJpbmdpZnkodGhpcy5hY3Rpb25NZXRhZGF0YSB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UX0RFQlVHX0lORk8sIEpTT04uc3RyaW5naWZ5KHRoaXMudmFyaWFudERlYnVnSW5mbyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5UT0tFTiwgdGhpcy50b2tlbik7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXJnZWQgIT09IHVuZGVmaW5lZCA/IHRoaXMubWVyZ2VkIDogdGhpcy52YXJpYWJsZXM7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IHZhcmlhYmxlcztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLmhhc1JlY2VpdmVkRGlmZnMpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyc1tpXSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudERlYnVnSW5mbztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHZhbHVlO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNlbmRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGJvZHkgPSAoX2EgPSB7fSwgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFSSUFCTEVTXSA9IHRoaXMudmFyaWFibGVzLCBfYSk7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmJvZHkoSlNPTi5zdHJpbmdpZnkoYm9keSkpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9WQVJTLCBhcmdzLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmNsZWFyVXNlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlmZnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB7fTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUubG9hZExvY2FsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0RnJvbUxvY2FsU3RvcmFnZShrZXkpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNhdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBWYXJDYWNoZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWYXJDYWNoZTtcbmZ1bmN0aW9uIG1lcmdlSGVscGVyKHZhcnMsIGRpZmYpIHtcbiAgICBpZiAodHlwZW9mIGRpZmYgPT09ICdudW1iZXInIHx8IHR5cGVvZiBkaWZmID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGRpZmYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgIH1cbiAgICBpZiAoZGlmZiA9PT0gbnVsbCB8fCBkaWZmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfVxuICAgIHZhciBvYmpJdGVyYXRvciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGl0ZXJhdGUoZikge1xuICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZihvYmpbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2VlbXMgdG8gYmUgYmVzdCBwcmFjdGljZTogaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzcwNzFcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZWZsZWN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgYXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYoYXR0cik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICB2YXIgdmFyc0l0ZXJhdG9yID0gb2JqSXRlcmF0b3IodmFycyk7XG4gICAgdmFyIGRpZmZJdGVyYXRvciA9IG9iakl0ZXJhdG9yKGRpZmYpO1xuICAgIC8vIEluZmVyIHRoYXQgdGhlIGRpZmZzIGlzIGFuIGFycmF5IGlmIHRoZSB2YXJzIHZhbHVlIGRvZXNuJ3QgZXhpc3QgdG8gdGVsbCB1cyB0aGUgdHlwZS5cbiAgICB2YXIgaXNBcnJheSA9IGZhbHNlO1xuICAgIGlmICh2YXJzID09PSBudWxsKSB7XG4gICAgICAgIGlmICghKGRpZmYgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIGlzQXJyYXkgPSBudWxsO1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlIGluIGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRpZmYuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmxlbmd0aCA8IDMgfHwgYXR0cmlidXRlLmNoYXJBdCgwKSAhPT0gJ1snIHx8XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5jaGFyQXQoYXR0cmlidXRlLmxlbmd0aCAtIDEpICE9PSAnXScpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTWVyZ2UgYXJyYXlzLlxuICAgIGlmICh2YXJzIGluc3RhbmNlb2YgQXJyYXkgfHwgaXNBcnJheSkge1xuICAgICAgICB2YXIgbWVyZ2VkXzEgPSBbXTtcbiAgICAgICAgdmFyc0l0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgICBtZXJnZWRfMS5wdXNoKGF0dHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGlmZkl0ZXJhdG9yKGZ1bmN0aW9uICh2YXJTdWJzY3JpcHQpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHQgPSBwYXJzZUludCh2YXJTdWJzY3JpcHQuc3Vic3RyaW5nKDEsIHZhclN1YnNjcmlwdC5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICB2YXIgZGlmZlZhbHVlID0gZGlmZlt2YXJTdWJzY3JpcHRdO1xuICAgICAgICAgICAgd2hpbGUgKHN1YnNjcmlwdCA+PSBtZXJnZWRfMS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRfMS5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkXzFbc3Vic2NyaXB0XSA9IG1lcmdlSGVscGVyKG1lcmdlZF8xW3N1YnNjcmlwdF0sIGRpZmZWYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkXzE7XG4gICAgfVxuICAgIC8vIE1lcmdlIGRpY3Rpb25hcmllcy5cbiAgICB2YXIgbWVyZ2VkID0ge307XG4gICAgdmFyc0l0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIGlmIChkaWZmW2F0dHJdID09PSBudWxsIHx8IGRpZmZbYXR0cl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWVyZ2VkW2F0dHJdID0gdmFyc1thdHRyXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRpZmZJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBtZXJnZWRbYXR0cl0gPSBtZXJnZUhlbHBlcih2YXJzID09PSBudWxsID8gbnVsbCA6IHZhcnNbYXR0cl0gfHwge30sIGRpZmZbYXR0cl0pO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZWQ7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9