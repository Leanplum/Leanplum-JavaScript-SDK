!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.6.0",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_METADATA:"actionMetadata",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_METADATA:"__leanplum_action_metadata",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var n="";return n=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+=e+"="+n,this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(o.default.PARAMS.APP_ID,e).add(o.default.PARAMS.CLIENT,o.default.CLIENT).add(o.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=i},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o={},i=function(){function e(){}return e.getFromLocalStorage=function(e){return!1===r?o[e]:localStorage[e]},e.saveToLocalStorage=function(e,t){if(!1!==r)try{localStorage[e]=t}catch(n){r=!1,o[e]=t}else o[e]=t},e.removeFromLocalStorage=function(e){if(!1!==r)try{localStorage.removeItem(e)}catch(t){r=!1,delete o[e]}else delete o[e]},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,n,r,o,i,s){var a=this;if(i){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:"+t.substring(6)),this.ajaxIE8(e,t,n,r,o,i,s);var u=!1,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(u)return;var e;u=!0;var t=!1;if(s)e=c.responseText;else try{e=JSON.parse(c.responseText)}catch(e){setTimeout((function(){o&&o(null,c)}),0),t=!0}t||(c.status>=200&&c.status<300?setTimeout((function(){r&&r(e,c)}),0):setTimeout((function(){o&&o(e,c)}),0)),i&&(a.runningRequest=!1,a.dequeueRequest())}},c.open(e,t,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(n),setTimeout((function(){u||c.abort()}),1e3*this.networkTimeoutSeconds)},e.prototype.ajaxIE8=function(e,t,n,r,o,i,s){var a=this,u=new XDomainRequest;u.onload=function(){var e,t=!1;if(s)e=u.responseText;else try{e=JSON.parse(u.responseText)}catch(e){setTimeout((function(){o&&o(null,u)}),0),t=!0}t||setTimeout((function(){r&&r(e,u)}),0),i&&(a.runningRequest=!1,a.dequeueRequest())},u.onerror=u.ontimeout=function(){setTimeout((function(){o&&o(null,u)}),0),i&&(a.runningRequest=!1,a.dequeueRequest())},u.onprogress=function(){},u.open(e,t),u.timeout=1e3*this.networkTimeoutSeconds,u.send(n)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=r},function(e,t,n){(function(e,n){var r="[object Arguments]",o="[object Map]",i="[object Object]",s="[object Set]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[o]=c["[object Number]"]=c[i]=c["[object RegExp]"]=c[s]=c["[object String]"]=c["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=t&&!t.nodeType&&t,h=p&&"object"==typeof n&&n&&!n.nodeType&&n,_=h&&h.exports===p,v=_&&l.process,S=function(){try{return v&&v.binding&&v.binding("util")}catch(e){}}(),g=S&&S.isTypedArray;function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function y(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function A(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var E,m,R,T=Array.prototype,I=Function.prototype,D=Object.prototype,M=f["__core-js_shared__"],w=I.toString,O=D.hasOwnProperty,N=(E=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",C=D.toString,P=RegExp("^"+w.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=_?f.Buffer:void 0,V=f.Symbol,L=f.Uint8Array,k=D.propertyIsEnumerable,j=T.splice,q=V?V.toStringTag:void 0,F=Object.getOwnPropertySymbols,H=U?U.isBuffer:void 0,K=(m=Object.keys,R=Object,function(e){return m(R(e))}),W=Se(f,"DataView"),x=Se(f,"Map"),Y=Se(f,"Promise"),B=Se(f,"Set"),z=Se(f,"WeakMap"),G=Se(Object,"create"),J=Ae(W),X=Ae(x),Q=Ae(Y),$=Ae(B),Z=Ae(z),ee=V?V.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oe;++t<n;)this.add(e[t])}function se(e){var t=this.__data__=new re(e);this.size=t.size}function ae(e,t){var n=Re(e),r=!n&&me(e),o=!n&&!r&&Te(e),i=!n&&!r&&!o&&Oe(e),s=n||r||o||i,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=a.length;for(var c in e)!t&&!O.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ye(c,u))||a.push(c);return a}function ue(e,t){for(var n=e.length;n--;)if(Ee(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":q&&q in Object(e)?function(e){var t=O.call(e,q),n=e[q];try{e[q]=void 0;var r=!0}catch(e){}var o=C.call(e);r&&(t?e[q]=n:delete e[q]);return o}(e):function(e){return C.call(e)}(e)}function le(e){return we(e)&&ce(e)==r}function de(e,t,n,a,u){return e===t||(null==e||null==t||!we(e)&&!we(t)?e!=e&&t!=t:function(e,t,n,a,u,c){var l=Re(e),d=Re(t),f=l?"[object Array]":be(e),p=d?"[object Array]":be(t),h=(f=f==r?i:f)==i,_=(p=p==r?i:p)==i,v=f==p;if(v&&Te(e)){if(!Te(t))return!1;l=!0,h=!1}if(v&&!h)return c||(c=new se),l||Oe(e)?he(e,t,n,a,u,c):function(e,t,n,r,i,a,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new L(e),new L(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ee(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var c=y;case s:var l=1&r;if(c||(c=A),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;r|=2,u.set(e,t);var f=he(c(e),c(t),r,i,a,u);return u.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,a,u,c);if(!(1&n)){var S=h&&O.call(e,"__wrapped__"),g=_&&O.call(t,"__wrapped__");if(S||g){var b=S?e.value():e,E=g?t.value():t;return c||(c=new se),u(b,E,n,a,c)}}if(!v)return!1;return c||(c=new se),function(e,t,n,r,o,i){var s=1&n,a=_e(e),u=a.length,c=_e(t).length;if(u!=c&&!s)return!1;var l=u;for(;l--;){var d=a[l];if(!(s?d in t:O.call(t,d)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);var h=s;for(;++l<u;){d=a[l];var _=e[d],v=t[d];if(r)var S=s?r(v,_,d,t,e,i):r(_,v,d,e,t,i);if(!(void 0===S?_===v||o(_,v,n,r,i):S)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,a,u,c)}(e,t,n,a,de,u))}function fe(e){return!(!Me(e)||function(e){return!!N&&N in e}(e))&&(Ie(e)?P:a).test(Ae(e))}function pe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||D,t!==r)return K(e);var t,n,r,o=[];for(var i in Object(e))O.call(e,i)&&"constructor"!=i&&o.push(i);return o}function he(e,t,n,r,o,i){var s=1&n,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,d=!0,f=2&n?new ie:void 0;for(i.set(e,t),i.set(t,e);++l<a;){var p=e[l],h=t[l];if(r)var _=s?r(h,p,l,t,e,i):r(p,h,l,e,t,i);if(void 0!==_){if(_)continue;d=!1;break}if(f){if(!b(t,(function(e,t){if(s=t,!f.has(s)&&(p===e||o(p,e,n,r,i)))return f.push(t);var s}))){d=!1;break}}else if(p!==h&&!o(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function _e(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ne,ge)}function ve(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Se(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(G){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return O.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:O.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=G&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ue(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ue(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ue(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ue(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(x||re),string:new ne}},oe.prototype.delete=function(e){var t=ve(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return ve(this,e).get(e)},oe.prototype.has=function(e){return ve(this,e).has(e)},oe.prototype.set=function(e,t){var n=ve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},se.prototype.clear=function(){this.__data__=new re,this.size=0},se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!x||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oe(r)}return n.set(e,t),this.size=n.size,this};var ge=F?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}(F(e),(function(t){return k.call(e,t)})))}:function(){return[]},be=ce;function ye(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ee(e,t){return e===t||e!=e&&t!=t}(W&&"[object DataView]"!=be(new W(new ArrayBuffer(1)))||x&&be(new x)!=o||Y&&"[object Promise]"!=be(Y.resolve())||B&&be(new B)!=s||z&&"[object WeakMap]"!=be(new z))&&(be=function(e){var t=ce(e),n=t==i?e.constructor:void 0,r=n?Ae(n):"";if(r)switch(r){case J:return"[object DataView]";case X:return o;case Q:return"[object Promise]";case $:return s;case Z:return"[object WeakMap]"}return t});var me=le(function(){return arguments}())?le:function(e){return we(e)&&O.call(e,"callee")&&!k.call(e,"callee")},Re=Array.isArray;var Te=H||function(){return!1};function Ie(e){if(!Me(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function De(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Me(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function we(e){return null!=e&&"object"==typeof e}var Oe=g?function(e){return function(t){return e(t)}}(g):function(e){return we(e)&&De(e.length)&&!!c[ce(e)]};function Ne(e){return null!=(t=e)&&De(t.length)&&!Ie(t)?ae(e):pe(e);var t}n.exports=function(e,t){return de(e,t)}}).call(this,n(13),n(14)(e))},function(e,t,n){var r=n(6);e.exports=r.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(7)),s=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(t){e._lp.setEmail(t)},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,n){e._lp.setAppIdForDevelopmentMode(t,n)},e.setAppIdForProductionMode=function(t,n){e._lp.setAppIdForProductionMode(t,n)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,n){e._lp.setRequestBatching(t,n)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e._lp).getVariable.apply(t,n)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,n,r){e._lp.start(t,n,r)},e.startFromCache=function(t,n,r){e._lp.startFromCache(t,n,r)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,n){e._lp.setUserAttributes(t,n)},e.track=function(t,n,r,o){e._lp.track(t,n,r,o)},e.trackPurchase=function(t,n,r,o){void 0===o&&(o="Purchase"),e._lp.trackPurchase(t,n,r,o)},e.advanceTo=function(t,n,r){e._lp.advanceTo(t,n,r)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.applyQueue=function(t){e._lp.applyQueue(t)},e.on=function(t,n){e._lp.on(t,n)},e.off=function(t,n){e._lp.off(t,n)},e.__destroy=function(){this._lp=new i.default(window)},e._lp=new i.default(window),e.VERSION=o.default.SDK_VERSION,e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1)),s=o(n(8)),a=o(n(0)),u=o(n(9)),c=o(n(10)),l=o(n(11)),d=o(n(12)),f=o(n(2)),p=o(n(16)),h=o(n(4)),_=o(n(17)),v=o(n(18)),S=a.default.DEFAULT_KEYS.SESSION,g=function(){function e(e){this.wnd=e,this._events=new _.default,this._internalState=new u.default,this._lpInbox=new c.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new l.default,this._lpSocket=new d.default,this._pushManager=new p.default(this.createRequest.bind(this)),this._varCache=new v.default(this.createRequest.bind(this)),this._browserDetector=new s.default(e)}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setEmail=function(e){this._email=e},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype.onInboxAction=function(e,t){var n=this;this.trackMessage(e,"Open",(function(){return t&&n.onAction(t)}))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.forceContentUpdate=function(e){var t=this,n=(new i.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(n){var r=t._lpRequest.getLastResponse(n),o=t._lpRequest.isResponseSuccess(r);o&&(t._varCache.applyDiffs(r[a.default.KEYS.VARS],r[a.default.KEYS.VARIANTS],r[a.default.KEYS.ACTION_METADATA]),t._varCache.setVariantDebugInfo(r[a.default.KEYS.VARIANT_DEBUG_INFO])),e&&e(o)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,n){var r=this;if("function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.hasActiveSession())return this.startFromCache(e,t,n);this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._varCache.onUpdate=function(){r._varCache.triggerVariablesChangedHandlers()};var o=(new i.default).add(a.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(a.default.PARAMS.COUNTRY,a.default.VALUES.DETECT).add(a.default.PARAMS.REGION,a.default.VALUES.DETECT).add(a.default.PARAMS.CITY,a.default.VALUES.DETECT).add(a.default.PARAMS.LOCATION,a.default.VALUES.DETECT).add(a.default.PARAMS.SYSTEM_NAME,this._systemName||this._browserDetector.OS).add(a.default.PARAMS.SYSTEM_VERSION,(this._systemVersion||"").toString()).add(a.default.PARAMS.BROWSER_NAME,this._browserDetector.browser).add(a.default.PARAMS.BROWSER_VERSION,this._browserDetector.version.toString()).add(a.default.PARAMS.LOCALE,a.default.VALUES.DETECT).add(a.default.PARAMS.DEVICE_NAME,this._deviceName||this._browserDetector.browser+" "+this._browserDetector.version).add(a.default.PARAMS.DEVICE_MODEL,this._deviceModel||"Web Browser").add(a.default.PARAMS.NEWSFEED_MESSAGES,this._lpInbox.messageIds()).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.START,o,{queued:!0,sendNow:!0,response:function(e){r._internalState.hasStarted=!0;var t=r._lpRequest.getLastResponse(e),n=r._lpRequest.isResponseSuccess(t);if(n){if(r._internalState.startSuccessful=!0,r.updateSession(),r._messageCache=t[a.default.KEYS.MESSAGES],t[a.default.KEYS.SYNC_INBOX]&&r._lpInbox.downloadMessages(),r._internalState.devMode){var o=t[a.default.KEYS.LATEST_VERSION];o&&console.log("A newer version of the Leanplum SDK, "+o+', is available.\nUse "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.'),r.connectSocket()}r._varCache.applyDiffs(t[a.default.KEYS.VARS],t[a.default.KEYS.VARIANTS],t[a.default.KEYS.ACTION_METADATA]),r._varCache.setVariantDebugInfo(t[a.default.KEYS.VARIANT_DEBUG_INFO]),r._varCache.token=t[a.default.KEYS.TOKEN]}else r._internalState.startSuccessful=!1,r._varCache.loadDiffs();r._events.emit("start",{success:n}),r._internalState.triggerStartHandlers()}})},e.prototype.startFromCache=function(e,t,n){"function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.updateSession(),this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._events.emit("resume"),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(a.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){f.default.removeFromLocalStorage(S)}})},e.prototype.pauseSession=function(){this.createRequest(a.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this._events.emit("resume"),this.createRequest(a.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(a.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(a.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var n=(new i.default).add(a.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(a.default.PARAMS.NEW_USER_ID,e);this._events.emit("setUserAttribute",t),this.createRequest(a.default.METHODS.SET_USER_ATTRIBUTES,n,{queued:!0}),e&&(this._lpRequest.userId=e,f.default.saveToLocalStorage(a.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,n,r){var o=this;"object"==typeof t&&null!=t?(r=t,n=void 0,t=void 0):"string"==typeof t?(r=n,n=t,t=void 0):"object"==typeof n&&null!=n&&(r=n,n=void 0);var s=(new i.default).add(a.default.PARAMS.EVENT,e).add(a.default.PARAMS.VALUE,t||0).add(a.default.PARAMS.INFO,n).add(a.default.PARAMS.PARAMS,JSON.stringify(r));this._events.emit("track",{eventName:e,params:r}),this.createRequest(a.default.METHODS.TRACK,s,{queued:!0,response:function(){return o.updateSession()}})},e.prototype.trackPurchase=function(e,t,n,r){void 0===r&&(r="Purchase");var o=(new i.default).add(a.default.PARAMS.EVENT,r).add(a.default.PARAMS.VALUE,e||0).add(a.default.PARAMS.PARAMS,JSON.stringify(n));t&&o.add(a.default.PARAMS.CURRENCY_CODE,t),this._events.emit("track",{eventName:r}),this.createRequest(a.default.METHODS.TRACK,o,{queued:!0})},e.prototype.advanceTo=function(e,t,n){"object"==typeof t&&null!=t&&(n=t,t=void 0);var r=(new i.default).add(a.default.PARAMS.STATE,e).add(a.default.PARAMS.INFO,t).add(a.default.PARAMS.PARAMS,JSON.stringify(n));this._events.emit("advanceState",{state:e}),this.createRequest(a.default.METHODS.ADVANCE,r,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){return this._pushManager.isWebPushSubscribed()},e.prototype.setWebPushOptions=function(e){this._webPushOptions=r({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var n=this._webPushOptions,r=e||n.serviceWorkerUrl,o=n&&n.scope?{scope:n.scope}:null;return this._pushManager.register(r,o,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){return this._pushManager.unsubscribeUser()},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,n){void 0===n&&(n={}),this._lpRequest.request(e,t,r({devMode:this._internalState.devMode},n))},e.prototype.connectSocket=function(){this._lpSocket.connect(this._varCache,{appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId},this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest))},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(f.default.getFromLocalStorage(S));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){f.default.saveToLocalStorage(S,String(Date.now()))},e.prototype.trackMessage=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=function(){});var r=(new i.default).add(a.default.PARAMS.MESSAGE_ID,e);t&&r.add(a.default.PARAMS.EVENT,t),this.createRequest(a.default.METHODS.TRACK,r,{queued:!1,sendNow:!0,response:n})},e.prototype.onAction=function(e){var t=this,n=this._messageCache||{};if(e&&"Chain to Existing Message"===e.__name__){var r=e["Chained message"],o=n[r];o&&this.trackMessage(r,"View",(function(){return t.onAction(o.vars)}))}else{var i=function(){"Open URL"===e.__name__&&t.wnd.location.assign(e.URL)},s=this.messageIdFromAction(e);s?this.trackMessage(s,null,i):i()}},e.prototype.messageIdFromAction=function(e){var t=this._messageCache||{},n=r({},e);delete n.parentCampaignId;for(var o=0,i=Object.keys(t);o<i.length;o++){var s=i[o],a=t[s];if(a.parentCampaignId===e.parentCampaignId&&h.default(a.vars,n))return s}},e}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!==n.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1)),s=o(n(0)),a=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var n=t.response[0];n&&n.newsfeedMessages&&(e.messageMap=n.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var n=new i.default;n.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",n,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),n=e.split("##")[0],r=(null==t?void 0:t.openAction())||null;this.onAction(n,r)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new i.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){this.changeHandlers.push(e)},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){sessionStorage.setItem(s.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap))},e.prototype.load=function(){var e=sessionStorage.getItem(s.default.DEFAULT_KEYS.INBOX_MESSAGES);this.messageMap=JSON.parse(e)||{}},e.prototype.count=function(){return Object.values(this.messageMap).length},e.prototype.unreadCount=function(){return Object.values(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var n in this.messageMap){var r=this.messageMap[n];e(r)&&t.push(u.create(n,r))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?u.create(e,t):null},e}();t.default=a;var u=function(){function e(e,t,n,r,o,i,s){this._id=e,this._title=t,this._subtitle=n,this._timestamp=r,this._isRead=o,this._imageUrl=i,this._openAction=s}return e.create=function(t,n){var o,i,a,u,c,l,d,f,p,h=null===(o=n.messageData)||void 0===o?void 0:o.parentCampaignId,_=r(r({},null===(a=null===(i=n.messageData)||void 0===i?void 0:i.vars)||void 0===a?void 0:a[s.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:h});return new e(t,null===(c=null===(u=n.messageData)||void 0===u?void 0:u.vars)||void 0===c?void 0:c.Title,null===(d=null===(l=n.messageData)||void 0===l?void 0:l.vars)||void 0===d?void 0:d.Subtitle,n.deliveryTimestamp,n.isRead,null===(p=null===(f=n.messageData)||void 0===f?void 0:f.vars)||void 0===p?void 0:p.Image,_)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),i=r(n(0)),s=r(n(2)),a=r(n(3)),u=function(){function e(){this.cooldownTimeout=null,this.lastRequestTime=void 0,this.network=new a.default,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(i.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!0,configurable:!0}),e.prototype.request=function(e,t,n){var r=this;if(void 0===n&&(n={}),n=n||{},t=t||new o.default,this.deviceId||(this.deviceId=this.loadLocal(i.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var s="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=0;u<16;u++)s+=a.charAt(Math.floor(Math.random()*a.length));this.deviceId=s,this.saveLocal(i.default.DEFAULT_KEYS.DEVICE_ID,s)}this.saveLocal(i.default.DEFAULT_KEYS.USER_ID,this.userId);var c=t.attachApiKeys(this.appId,this.clientKey).add(i.default.PARAMS.SDK_VERSION,i.default.SDK_VERSION).add(i.default.PARAMS.DEVICE_ID,this.deviceId).add(i.default.PARAMS.USER_ID,this.userId).add(i.default.PARAMS.ACTION,e).add(i.default.PARAMS.VERSION_NAME,this.versionName).add(i.default.PARAMS.DEV_MODE,n.devMode).add(i.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),l=n.success||n.response,d=n.error||n.response;if(!this.appId||!this.clientKey){var f="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(f),void(d&&d(f))}if(t.body())this.network.ajax("POST",this.apiPath+"?"+c.build(),t.body(),l,d,n.queued);else{var p=n.devMode||n.sendNow||!this.batchEnabled,h=function(){var e=r.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),s=(new o.default).attachApiKeys(r.appId,r.clientKey).add(i.default.PARAMS.SDK_VERSION,i.default.SDK_VERSION).add(i.default.PARAMS.ACTION,i.default.METHODS.MULTI).add(i.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();r.network.ajax("POST",r.apiPath+"?"+s,t,l,d,n.queued)}};if(!p&&this.batchCooldown){var _=(new Date).getTime()/1e3;!this.lastRequestTime||_-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=_):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){r.cooldownTimeout=null,r.lastRequestTime=(new Date).getTime()/1e3,h()}),1e3*(this.batchCooldown-(_-this.lastRequestTime))))}this.saveRequestForLater(c.buildDict()),p&&h()}},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,n,r,o=null!==(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==n?n:0;return o>0?null===(r=null==e?void 0:e.response)||void 0===r?void 0:r[o-1]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(i.default.DEFAULT_KEYS.COUNT)||0,n=i.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(n,JSON.stringify(e)),t++,this.saveLocal(i.default.DEFAULT_KEYS.COUNT,t)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(i.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(i.default.DEFAULT_KEYS.COUNT);for(var n=0;n<t;n++){var r=i.default.DEFAULT_KEYS.ITEM+n;try{e.push(JSON.parse(this.loadLocal(r)))}catch(e){}this.removeLocal(r)}return e},e.prototype.loadLocal=function(e){return s.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){s.default.saveToLocalStorage(e,t)},e.prototype.removeLocal=function(e){s.default.removeFromLocalStorage(e)},e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(4)),i=r(n(1)),s=r(n(0)),a=r(n(15)),u=function(){function e(){this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com"}return e.prototype.connect=function(e,t,n,r){var u=this;if(WebSocket){var c=!1;this.socketClient=new a.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var e;c||(console.log("Leanplum: Connected to development server."),u.socketClient.send("auth",((e={})[s.default.PARAMS.APP_ID]=t.appId,e[s.default.PARAMS.DEVICE_ID]=t.deviceId,e)),c=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=function(t,a){if("updateVars"===t){var c=(new i.default).add(s.default.PARAMS.INCLUDE_DEFAULTS,!1);n(s.default.METHODS.GET_VARS,c,{queued:!1,sendNow:!0,response:function(t){var n=r(t),i=n[s.default.KEYS.VARS],a=n[s.default.KEYS.VARIANTS],u=n[s.default.KEYS.ACTION_METADATA];o.default(i,e.diffs)||e.applyDiffs(i,a,u)}})}else"getVariables"===t?(e.sendVariables(),u.socketClient.send("getContentResponse",{updated:!0})):"getActions"===t?u.socketClient.send("getContentResponse",{updated:!1}):"registerDevice"===t&&alert("Your device has been registered to "+a[0].email+".")},this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),c=!1},this.socketClient.connect(this.socketHost),setInterval((function(){u.socketClient.connected||u.socketClient.connecting||u.socketClient.connect(u.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e}();t.default=u},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3)),i=function(){function e(){this.network=new o.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://"+e+"/socket.io/1","",(function(n){var r=n.split(":"),o=r[0],i=parseInt(r[1])/2*1e3;t.socket=new WebSocket("wss://"+e+"/socket.io/1/websocket/"+o);var s=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),s=setInterval((function(){t.socket.send("2:::")}),i)},t.socket.onclose=function(){t.connected=!1,clearInterval(s),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var n=e.data.split(":"),r=parseInt(n[0]);if(2===r)t.socket.send("2::");else if(5===r){var o=n[1],i=JSON.parse(n.slice(3).join(":")),s=i.name,a=i.args;o&&t.socket.send("6:::"+o),t.onmessage&&t.onmessage(s,a)}else 7===r&&console.log("Socket error: "+e.data)},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.send=function(e,t){if(this.connected){var n=JSON.stringify({name:e,args:t});this.socket.send("5:::"+n)}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),a=i(n(0)),u=i(n(2)),c=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!0,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration()]:[2,!1];case 1:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[2,!1];case 2:return t=r.sent(),(n=null!==t)&&this.updateNewSubscriptionOnServer(t),[2,n]}}))}))},e.prototype.register=function(e,t,n){return r(this,void 0,void 0,(function(){var r,i,s,a;return o(this,(function(o){switch(o.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,n(!1)];o.label=1;case 1:return o.trys.push([1,4,,5]),r=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return r.serviceWorkerRegistration=o.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return i=o.sent(),(s=null!==i)&&this.updateNewSubscriptionOnServer(i),[2,n(s)];case 4:return a=o.sent(),console.log("Leanplum: Service Worker Error: ",a),[2,n(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=r.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw n=r.sent(),new Error("Leanplum: Failed to subscribe the user: "+n);case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return[4,this.isWebPushSubscribed()];case 1:if(!n.sent())return[3,6];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(e=n.sent()))throw new Error;return[4,e.unsubscribe()];case 4:return n.sent(),[3,6];case 5:throw t=n.sent(),new Error("Leanplum: Error unsubscribing: "+t);case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.serviceWorkerRegistration?[3,2]:(e=this,[4,this.serviceWorker.getRegistration()]);case 1:e.serviceWorkerRegistration=t.sent(),t.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=this.decodeData(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),n=JSON.stringify(t);u.default.getFromLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==n&&(u.default.saveToLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,n),this.setSubscription(n))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],n="getKey"in e?e.getKey("auth"):[],r=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),o=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(n)));return{endpoint:e.endpoint,key:r,auth:o}},e.prototype.setSubscription=function(e){if(e){var t=(new s.default).add(a.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(a.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.handlers=[]}return e.prototype.on=function(e,t){this.handlers.push({eventName:e,callback:t})},e.prototype.off=function(e,t){this.handlers=this.handlers.filter((function(n){return n.eventName!==e||n.callback!==t}))},e.prototype.emit=function(e,t){this.handlers.forEach((function(n){n.eventName===e&&n.callback(t)}))},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),i=r(n(0)),s=r(n(2)),a=function(){function e(e){this.createRequest=e,this.actionMetadata={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,n){this.diffs=e,this.variants=t,this.actionMetadata=n,this.hasReceivedDiffs=!0,this.merged=function e(t,n){if("number"==typeof n||"boolean"==typeof n||"string"==typeof n)return n;if(null==n)return t;var r=function(e){return function(t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n]);else for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r)}},o=r(t),i=r(n),s=!1;if(null===t&&!(n instanceof Array))for(var a in s=null,n)if(n.hasOwnProperty(a)){if(null===s&&(s=!0),"string"!=typeof a){s=!1;break}if(a.length<3||"["!==a.charAt(0)||"]"!==a.charAt(a.length-1)){s=!1;break}}if(t instanceof Array||s){var u=[];return o((function(e){u.push(e)})),i((function(t){for(var r=parseInt(t.substring(1,t.length-1)),o=n[t];r>=u.length;)u.push(null);u[r]=e(u[r],o)})),u}var c={};return o((function(e){null!==n[e]&&void 0!==n[e]||(c[e]=t[e])})),i((function(r){c[r]=e(null===t?null:t[r]||{},n[r])})),c}(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(i.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(i.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(i.default.DEFAULT_KEYS.ACTION_METADATA)||null)),this.token=this.loadLocal(i.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(i.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: "+e)}},e.prototype.saveDiffs=function(){this.saveLocal(i.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(i.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(i.default.DEFAULT_KEYS.ACTION_METADATA,JSON.stringify(this.actionMetadata||{})),this.saveLocal(i.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(i.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getVariables();if(n)for(var r=0;r<e.length;r++)n=n[e[r]];return n},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendVariables=function(){var e,t=((e={})[i.default.PARAMS.VARIABLES]=this.variables,e),n=(new o.default).body(JSON.stringify(t));this.createRequest(i.default.METHODS.SET_VARS,n,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.loadLocal=function(e){return s.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){s.default.saveToLocalStorage(e,t)},e}();t.default=a}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0FyZ3NCdWlsZGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xvY2FsU3RvcmFnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTmV0d29yay50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNlcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9idW5kbGVzL2xlYW5wbHVtLmZ1bGwudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW0udHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1JbnRlcm5hbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Ccm93c2VyRGV0ZWN0b3IudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvSW50ZXJuYWxTdGF0ZS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bUluYm94LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtUmVxdWVzdC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVNvY2tldC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1NvY2tldElvQ2xpZW50LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1B1c2hNYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0V2ZW50RW1pdHRlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9WYXJDYWNoZS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZGVmYXVsdCIsIk1FVEhPRFMiLCJTVEFSVCIsIlNUT1AiLCJBRFZBTkNFIiwiVFJBQ0siLCJQQVVTRV9TRVNTSU9OIiwiUkVTVU1FX1NFU1NJT04iLCJQQVVTRV9TVEFURSIsIlJFU1VNRV9TVEFURSIsIkRPV05MT0FEX0ZJTEUiLCJNVUxUSSIsIlNFVF9WQVJTIiwiR0VUX1ZBUlMiLCJTRVRfVVNFUl9BVFRSSUJVVEVTIiwiU0VUX0RFVklDRV9BVFRSSUJVVEVTIiwiVVBMT0FEX0ZJTEUiLCJSRUdJU1RFUl9ERVZJQ0UiLCJTREtfVkVSU0lPTiIsIkNMSUVOVCIsIlBBUkFNUyIsIkFDVElPTiIsIkFQUF9JRCIsIkNMSUVOVF9LRVkiLCJDVVJSRU5DWV9DT0RFIiwiREVWSUNFX0lEIiwiVVNFUl9JRCIsIk5FV19VU0VSX0lEIiwiREVWX01PREUiLCJWRVJTSU9OX05BTUUiLCJTWVNURU1fTkFNRSIsIlNZU1RFTV9WRVJTSU9OIiwiQlJPV1NFUl9OQU1FIiwiQlJPV1NFUl9WRVJTSU9OIiwiREVWSUNFX05BTUUiLCJERVZJQ0VfTU9ERUwiLCJVU0VSX0FUVFJJQlVURVMiLCJMT0NBTEUiLCJDT1VOVFJZIiwiUkVHSU9OIiwiQ0lUWSIsIkxPQ0FUSU9OIiwiU1RBVEUiLCJJTkZPIiwiRVZFTlQiLCJWQUxVRSIsIkZJTEVOQU1FIiwiVElNRSIsIkRBVEEiLCJWQVJTIiwiRklMRSIsIlNJWkUiLCJWQVJJQVRJT04iLCJIQVNIIiwiRU1BSUwiLCJWQVJJQUJMRVMiLCJJTkNMVURFX0RFRkFVTFRTIiwiSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk8iLCJORVdTRkVFRF9NRVNTQUdFUyIsIk1FU1NBR0VfSUQiLCJXRUJfUFVTSF9TVUJTQ1JJUFRJT04iLCJLRVlTIiwiSVNfUkVHSVNURVJFRCIsIkxBVEVTVF9WRVJTSU9OIiwiU1lOQ19JTkJPWCIsIk1FU1NBR0VTIiwiVkFSSUFOVFMiLCJWQVJJQU5UX0RFQlVHX0lORk8iLCJBQ1RJT05fTUVUQURBVEEiLCJUT0tFTiIsIkRFRkFVTFRfS0VZUyIsIkNPVU5UIiwiSVRFTSIsIklOQk9YX01FU1NBR0VTIiwiU0VTU0lPTiIsIlBVU0hfU1VCU0NSSVBUSU9OIiwiVkFMVUVTIiwiREVURUNUIiwiREVGQVVMVF9QVVNIX0FDVElPTiIsIl9faW1wb3J0RGVmYXVsdCIsInRoaXMiLCJtb2QiLCJDb25zdGFudHNfMSIsIkFyZ3NCdWlsZGVyIiwiYXJnU3RyaW5nIiwiYXJnVmFsdWVzIiwiYWRkIiwidmFsIiwiQXJyYXkiLCJKU09OIiwic3RyaW5naWZ5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYm9keSIsIl9ib2R5IiwiYXR0YWNoQXBpS2V5cyIsImFwcElkIiwiY2xpZW50S2V5IiwiYnVpbGQiLCJidWlsZERpY3QiLCJsb2NhbFN0b3JhZ2VFbmFibGVkIiwiYWx0ZXJuYXRlTG9jYWxTdG9yYWdlIiwiTG9jYWxTdG9yYWdlTWFuYWdlciIsImdldEZyb21Mb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJlIiwicmVtb3ZlRnJvbUxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJOZXR3b3JrIiwibmV0d29ya1RpbWVvdXRTZWNvbmRzIiwicmVxdWVzdFF1ZXVlIiwicnVubmluZ1JlcXVlc3QiLCJzZXROZXR3b3JrVGltZW91dCIsInNlY29uZHMiLCJhamF4IiwibWV0aG9kIiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJlcnJvciIsInF1ZXVlZCIsInBsYWluVGV4dCIsIl90aGlzIiwiZW5xdWV1ZVJlcXVlc3QiLCJhcmd1bWVudHMiLCJYRG9tYWluUmVxdWVzdCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJpbmRleE9mIiwic3Vic3RyaW5nIiwiYWpheElFOCIsImhhbmRsZWQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZV8xIiwicmFuQ2FsbGJhY2siLCJyZXNwb25zZVRleHQiLCJwYXJzZSIsInNldFRpbWVvdXQiLCJzdGF0dXMiLCJkZXF1ZXVlUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsImFib3J0IiwieGRyIiwib25sb2FkIiwicmVzcG9uc2UiLCJvbmVycm9yIiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsInRpbWVvdXQiLCJyZXF1ZXN0QXJndW1lbnRzIiwicHVzaCIsImFyZ3MiLCJzaGlmdCIsImFwcGx5IiwiYXJnc1RhZyIsIm1hcFRhZyIsIm9iamVjdFRhZyIsInNldFRhZyIsInJlSXNIb3N0Q3RvciIsInJlSXNVaW50IiwidHlwZWRBcnJheVRhZ3MiLCJmcmVlR2xvYmFsIiwiZ2xvYmFsIiwiZnJlZVNlbGYiLCJzZWxmIiwiRnVuY3Rpb24iLCJmcmVlRXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsInByb2Nlc3MiLCJub2RlVXRpbCIsImJpbmRpbmciLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwiYXJyYXlTb21lIiwiYXJyYXkiLCJwcmVkaWNhdGUiLCJpbmRleCIsImxlbmd0aCIsIm1hcFRvQXJyYXkiLCJtYXAiLCJyZXN1bHQiLCJzaXplIiwiZm9yRWFjaCIsInNldFRvQXJyYXkiLCJzZXQiLCJ1aWQiLCJmdW5jIiwidHJhbnNmb3JtIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsInRvU3RyaW5nIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsInJlSXNOYXRpdmUiLCJSZWdFeHAiLCJyZXBsYWNlIiwiQnVmZmVyIiwidW5kZWZpbmVkIiwiVWludDhBcnJheSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ltVG9TdHJpbmdUYWciLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUtleXMiLCJhcmciLCJEYXRhVmlldyIsImdldE5hdGl2ZSIsIk1hcCIsIlByb21pc2UiLCJTZXQiLCJXZWFrTWFwIiwibmF0aXZlQ3JlYXRlIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsInZhbHVlcyIsIl9fZGF0YV9fIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FycmF5IiwiaXNBcmciLCJpc0FyZ3VtZW50cyIsImlzQnVmZiIsImlzVHlwZSIsInNraXBJbmRleGVzIiwiaXRlcmF0ZWUiLCJiYXNlVGltZXMiLCJTdHJpbmciLCJpc0luZGV4IiwiYXNzb2NJbmRleE9mIiwiZXEiLCJiYXNlR2V0VGFnIiwiaXNPd24iLCJ0YWciLCJ1bm1hc2tlZCIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwiYmFzZUlzQXJndW1lbnRzIiwiaXNPYmplY3RMaWtlIiwiYmFzZUlzRXF1YWwiLCJvdGhlciIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJlcXVhbEZ1bmMiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwiZ2V0VGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsImVxdWFsQXJyYXlzIiwiYnl0ZUxlbmd0aCIsImJ5dGVPZmZzZXQiLCJidWZmZXIiLCJtZXNzYWdlIiwiY29udmVydCIsImlzUGFydGlhbCIsInN0YWNrZWQiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJnZXRBbGxLZXlzIiwib2JqTGVuZ3RoIiwib3RoTGVuZ3RoIiwic2tpcEN0b3IiLCJvYmpWYWx1ZSIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwiY29uc3RydWN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYmFzZUlzTmF0aXZlIiwiaXNPYmplY3QiLCJpc01hc2tlZCIsImlzRnVuY3Rpb24iLCJ0ZXN0IiwiYmFzZUtleXMiLCJDdG9yIiwicHJvdG8iLCJhcnJMZW5ndGgiLCJzZWVuIiwiYXJyVmFsdWUiLCJvdGhJbmRleCIsImhhcyIsImtleXNGdW5jIiwic3ltYm9sc0Z1bmMiLCJvZmZzZXQiLCJhcnJheVB1c2giLCJiYXNlR2V0QWxsS2V5cyIsImdldFN5bWJvbHMiLCJnZXRNYXBEYXRhIiwidHlwZSIsImdldFZhbHVlIiwicG9wIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwicmVzSW5kZXgiLCJhcnJheUZpbHRlciIsInN5bWJvbCIsIkFycmF5QnVmZmVyIiwicmVzb2x2ZSIsImN0b3JTdHJpbmciLCJpc0xlbmd0aCIsImJhc2VVbmFyeSIsIkxlYW5wbHVtIiwiTGVhbnBsdW1JbnRlcm5hbF8xIiwic2V0QXBpUGF0aCIsImFwaVBhdGgiLCJfbHAiLCJzZXRFbWFpbCIsImVtYWlsIiwic2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUiLCJhY2Nlc3NLZXkiLCJzZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlIiwic2V0U29ja2V0SG9zdCIsImhvc3QiLCJzZXREZXZpY2VJZCIsImRldmljZUlkIiwic2V0QXBwVmVyc2lvbiIsInZlcnNpb25OYW1lIiwic2V0RGV2aWNlTmFtZSIsImRldmljZU5hbWUiLCJzZXREZXZpY2VNb2RlbCIsImRldmljZU1vZGVsIiwic2V0UmVxdWVzdEJhdGNoaW5nIiwiYmF0Y2hFbmFibGVkIiwiY29vbGRvd25TZWNvbmRzIiwic2V0U3lzdGVtTmFtZSIsInN5c3RlbU5hbWUiLCJzZXRTeXN0ZW1WZXJzaW9uIiwic3lzdGVtVmVyc2lvbiIsInNldFZhcmlhYmxlcyIsInZhcmlhYmxlcyIsInNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkIiwidmFyaWFudERlYnVnSW5mb0VuYWJsZWQiLCJnZXRWYXJpYW50RGVidWdJbmZvIiwiZ2V0VmFyaWFibGVzIiwiZ2V0VmFyaWFibGUiLCJfYSIsIl9pIiwiZ2V0VmFyaWFudHMiLCJpbmJveCIsImFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyIiwiaGFuZGxlciIsInJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyIiwiYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIiLCJyZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciIsImZvcmNlQ29udGVudFVwZGF0ZSIsImNhbGxiYWNrIiwidXNlU2Vzc2lvbkxlbmd0aCIsInN0YXJ0IiwidXNlcklkIiwidXNlckF0dHJpYnV0ZXMiLCJzdGFydEZyb21DYWNoZSIsInN0b3AiLCJwYXVzZVNlc3Npb24iLCJyZXN1bWVTZXNzaW9uIiwicGF1c2VTdGF0ZSIsInJlc3VtZVN0YXRlIiwiZ2V0VXNlcklkIiwic2V0VXNlcklkIiwic2V0VXNlckF0dHJpYnV0ZXMiLCJ0cmFjayIsImV2ZW50IiwiaW5mbyIsInBhcmFtcyIsInRyYWNrUHVyY2hhc2UiLCJjdXJyZW5jeUNvZGUiLCJhZHZhbmNlVG8iLCJzdGF0ZSIsImlzV2ViUHVzaFN1cHBvcnRlZCIsImlzV2ViUHVzaFN1YnNjcmliZWQiLCJzZXRXZWJQdXNoT3B0aW9ucyIsIm9wdGlvbnMiLCJyZWdpc3RlckZvcldlYlB1c2giLCJzZXJ2aWNlV29ya2VyVXJsIiwidW5yZWdpc3RlckZyb21XZWJQdXNoIiwiY2xlYXJVc2VyQ29udGVudCIsImFwcGx5UXVldWUiLCJxdWV1ZSIsIm9uIiwiZXZlbnROYW1lIiwib2ZmIiwiX19kZXN0cm95IiwiVkVSU0lPTiIsIl9fYXNzaWduIiwiYXNzaWduIiwiQXJnc0J1aWxkZXJfMSIsIkJyb3dzZXJEZXRlY3Rvcl8xIiwiSW50ZXJuYWxTdGF0ZV8xIiwiTGVhbnBsdW1JbmJveF8xIiwiTGVhbnBsdW1SZXF1ZXN0XzEiLCJMZWFucGx1bVNvY2tldF8xIiwiTG9jYWxTdG9yYWdlTWFuYWdlcl8xIiwiUHVzaE1hbmFnZXJfMSIsImxvZGFzaF9pc2VxdWFsXzEiLCJFdmVudEVtaXR0ZXJfMSIsIlZhckNhY2hlXzEiLCJTRVNTSU9OX0tFWSIsIkxlYW5wbHVtSW50ZXJuYWwiLCJ3bmQiLCJfZXZlbnRzIiwiX2ludGVybmFsU3RhdGUiLCJfbHBJbmJveCIsImNyZWF0ZVJlcXVlc3QiLCJvbkluYm94QWN0aW9uIiwiX2xwUmVxdWVzdCIsIl9scFNvY2tldCIsIl9wdXNoTWFuYWdlciIsIl92YXJDYWNoZSIsIl9icm93c2VyRGV0ZWN0b3IiLCJfZW1haWwiLCJkZXZNb2RlIiwiX2RldmljZU5hbWUiLCJfZGV2aWNlTW9kZWwiLCJiYXRjaENvb2xkb3duIiwiX3N5c3RlbU5hbWUiLCJfc3lzdGVtVmVyc2lvbiIsInZhcmlhbnRzIiwibWVzc2FnZUlkIiwiYWN0aW9uIiwidHJhY2tNZXNzYWdlIiwib25BY3Rpb24iLCJzZW5kTm93IiwiZ2V0VmFyc1Jlc3BvbnNlIiwiZ2V0TGFzdFJlc3BvbnNlIiwiaXNTdWNjZXNzIiwiaXNSZXNwb25zZVN1Y2Nlc3MiLCJhcHBseURpZmZzIiwic2V0VmFyaWFudERlYnVnSW5mbyIsIl9zZXNzaW9uTGVuZ3RoIiwiaGFzQWN0aXZlU2Vzc2lvbiIsIm9uVXBkYXRlIiwidHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyIsIk9TIiwiYnJvd3NlciIsInZlcnNpb24iLCJtZXNzYWdlSWRzIiwiaGFzU3RhcnRlZCIsInN0YXJ0UmVzcG9uc2UiLCJzdGFydFN1Y2Nlc3NmdWwiLCJ1cGRhdGVTZXNzaW9uIiwiX21lc3NhZ2VDYWNoZSIsImRvd25sb2FkTWVzc2FnZXMiLCJsYXRlc3RWZXJzaW9uIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3RTb2NrZXQiLCJ0b2tlbiIsImxvYWREaWZmcyIsImVtaXQiLCJ0cmlnZ2VyU3RhcnRIYW5kbGVycyIsIl93ZWJQdXNoT3B0aW9ucyIsIndvcmtlclVybCIsInNjb3BlIiwicmVnaXN0ZXIiLCJpc1N1YnNjcmliZWQiLCJzdWJzY3JpYmVVc2VyIiwicmVqZWN0IiwidW5zdWJzY3JpYmVVc2VyIiwiaW52b2NhdGlvbiIsInJlcXVlc3QiLCJjb25uZWN0IiwiY3VycmVudFRpbWUiLCJEYXRlIiwibm93IiwibGFzdEFjdGl2ZSIsInBhcnNlSW50IiwiaXNOYU4iLCJtZXNzYWdlcyIsIl9fbmFtZV9fIiwiY2hhaW5lZE1lc3NhZ2VJZCIsIm1lc3NhZ2VfMSIsInZhcnMiLCJwcm9jZXNzQWN0aW9uIiwiVVJMIiwibWVzc2FnZUlkRnJvbUFjdGlvbiIsImlkIiwicGFyZW50Q2FtcGFpZ25JZCIsIkJyb3dzZXJEZXRlY3RvciIsInNlYXJjaFN0cmluZyIsImdldEJyb3dzZXJEYXRhIiwic2VhcmNoVmVyc2lvbiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImFwcFZlcnNpb24iLCJnZXRPU0RhdGEiLCJkYXRhU3RyaW5nIiwic3RyaW5nIiwiZGF0YVByb3AiLCJwcm9wIiwidmVyc2lvblNlYXJjaFN0cmluZyIsInZlcnNpb25TZWFyY2giLCJpZGVudGl0eSIsInN1YlN0cmluZyIsInBhcnNlRmxvYXQiLCJ2ZW5kb3IiLCJvcGVyYSIsInBsYXRmb3JtIiwiSW50ZXJuYWxTdGF0ZSIsInN0YXJ0SGFuZGxlcnMiLCJpZHgiLCJMZWFucGx1bUluYm94IiwibWVzc2FnZU1hcCIsImNoYW5nZUhhbmRsZXJzIiwibG9hZCIsIm5ld3NmZWVkTWVzc2FnZXMiLCJ0cmlnZ2VyQ2hhbmdlSGFuZGxlcnMiLCJtYXJrQXNSZWFkIiwiaXNSZWFkIiwicmVhZCIsImluYm94TWVzc2FnZSIsInNwbGl0Iiwib3BlbkFjdGlvbiIsInJlbW92ZSIsIm9uQ2hhbmdlZCIsInNhdmUiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiY291bnQiLCJ1bnJlYWRDb3VudCIsImZpbHRlciIsIngiLCJMZWFucGx1bUluYm94TWVzc2FnZSIsImFsbE1lc3NhZ2VzIiwidW5yZWFkTWVzc2FnZXMiLCJfaWQiLCJfdGl0bGUiLCJfc3VidGl0bGUiLCJfdGltZXN0YW1wIiwiX2lzUmVhZCIsIl9pbWFnZVVybCIsIl9vcGVuQWN0aW9uIiwibWVzc2FnZUluZm8iLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJfaCIsIl9qIiwibWVzc2FnZURhdGEiLCJUaXRsZSIsIlN1YnRpdGxlIiwiZGVsaXZlcnlUaW1lc3RhbXAiLCJJbWFnZSIsInRpdGxlIiwic3VidGl0bGUiLCJ0aW1lc3RhbXAiLCJpbWFnZVVybCIsIk5ldHdvcmtfMSIsIkxlYW5wbHVtUmVxdWVzdCIsImNvb2xkb3duVGltZW91dCIsImxhc3RSZXF1ZXN0VGltZSIsIm5ldHdvcmsiLCJ1c2VySWRWYWx1ZSIsImxvYWRMb2NhbCIsImNvbmZpZ3VyYWJsZSIsInBvc3NpYmxlIiwiY2hhckF0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2F2ZUxvY2FsIiwiYXJnc0J1aWxkZXIiLCJnZXRUaW1lIiwiZXJyIiwic2VuZFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdHNUb1NlbmQiLCJwb3BVbnNlbnRSZXF1ZXN0cyIsInJlcXVlc3REYXRhIiwibXVsdGlSZXF1ZXN0QXJncyIsInNhdmVSZXF1ZXN0Rm9yTGF0ZXIiLCJCb29sZWFuIiwiaXRlbUtleSIsInJlbW92ZUxvY2FsIiwiaWdub3JlZCIsIlNvY2tldElvQ2xpZW50XzEiLCJMZWFucGx1bVNvY2tldCIsInNvY2tldENsaWVudCIsInNvY2tldEhvc3QiLCJjYWNoZSIsImF1dGgiLCJXZWJTb2NrZXQiLCJhdXRoU2VudCIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsImFyZ3NfMSIsImFjdGlvbk1ldGFkYXRhIiwiZGlmZnMiLCJzZW5kVmFyaWFibGVzIiwiYWxlcnQiLCJvbmNsb3NlIiwic2V0SW50ZXJ2YWwiLCJjb25uZWN0ZWQiLCJjb25uZWN0aW5nIiwiZyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJTb2NrZXRJb0NsaWVudCIsImxpbmUiLCJwYXJ0cyIsInNlc3Npb24iLCJoZWFydGJlYXQiLCJzb2NrZXQiLCJoZWFydGJlYXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJtZXNzYWdlUGFydHMiLCJjb2RlIiwic2xpY2UiLCJqb2luIiwibWVzc2FnZUV2ZW50IiwiY2xvc2UiLCJhcmdzSnNvbiIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiZiIsInkiLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsIlB1c2hNYW5hZ2VyIiwic2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RyYXRpb24iLCJzdWJzY3JpcHRpb24iLCJnZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIiwicHVzaE1hbmFnZXIiLCJnZXRTdWJzY3JpcHRpb24iLCJ1cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlciIsImVycm9yXzEiLCJhcHBsaWNhdGlvblNlcnZlcktleSIsImVycm9yXzIiLCJ1cmxCNjRUb1VpbnQ4QXJyYXkiLCJzdWJzY3JpYmUiLCJ1c2VyVmlzaWJsZU9ubHkiLCJFcnJvciIsImVycm9yXzMiLCJ1bnN1YnNjcmliZSIsImdldFJlZ2lzdHJhdGlvbiIsImJhc2U2NFN0cmluZyIsImJhc2U2NCIsInJlcGVhdCIsInJhd0RhdGEiLCJkZWNvZGVEYXRhIiwib3V0cHV0QXJyYXkiLCJjaGFyQ29kZUF0IiwicHJlcGFyZWRTdWJzY3JpcHRpb24iLCJwcmVwYXJlU3Vic2NyaXB0aW9uIiwicHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmciLCJzZXRTdWJzY3JpcHRpb24iLCJnZXRLZXkiLCJrZXlBc2NpaSIsImVuY29kZURhdGEiLCJmcm9tQ2hhckNvZGUiLCJhdXRoQXNjaWkiLCJlbmRwb2ludCIsImJ0b2EiLCJhdG9iIiwiRXZlbnRFbWl0dGVyIiwiaGFuZGxlcnMiLCJWYXJDYWNoZSIsImhhc1JlY2VpdmVkRGlmZnMiLCJtZXJnZWQiLCJ2YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMiLCJ2YXJpYW50RGVidWdJbmZvIiwibWVyZ2VIZWxwZXIiLCJkaWZmIiwib2JqSXRlcmF0b3IiLCJvYmoiLCJhdHRyIiwidmFyc0l0ZXJhdG9yIiwiZGlmZkl0ZXJhdG9yIiwiYXR0cmlidXRlIiwibWVyZ2VkXzEiLCJ2YXJTdWJzY3JpcHQiLCJzdWJzY3JpcHQiLCJkaWZmVmFsdWUiLCJzYXZlRGlmZnMiLCJjdXJyZW50Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RBLFFBQWtCLFNBQUlELElBRXRCRCxFQUFlLFNBQUlDLElBUnJCLENBU0dLLFFBQVEsV0FDWCxPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVAsUUFHbkMsSUFBSUMsRUFBU0ksRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFQsUUFBUyxJQVVWLE9BTkFVLEVBQVFILEdBQVVJLEtBQUtWLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNNLEdBRy9ETCxFQUFPUSxHQUFJLEVBR0pSLEVBQU9ELFFBMERmLE9BckRBTSxFQUFvQk0sRUFBSUYsRUFHeEJKLEVBQW9CTyxFQUFJUixFQUd4QkMsRUFBb0JRLEVBQUksU0FBU2QsRUFBU2UsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFakIsRUFBU2UsSUFDbENHLE9BQU9DLGVBQWVuQixFQUFTZSxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVWLEVBQW9CZ0IsRUFBSSxTQUFTdEIsR0FDWCxvQkFBWHVCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZW5CLEVBQVN1QixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWVuQixFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sS0FRdkRuQixFQUFvQm9CLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRbkIsRUFBb0JtQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQXhCLEVBQW9CZ0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9uQixFQUFvQlEsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnZCLEVBQW9CMkIsRUFBSSxTQUFTaEMsR0FDaEMsSUFBSWUsRUFBU2YsR0FBVUEsRUFBTzJCLFdBQzdCLFdBQXdCLE9BQU8zQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSyxFQUFvQlEsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlYsRUFBb0JXLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHN0IsRUFBb0JnQyxFQUFJLEdBSWpCaEMsRUFBb0JBLEVBQW9CaUMsRUFBSSxHLCtCQ2pGckRyQixPQUFPQyxlQUFlbkIsRUFBUyxhQUFjLENBQUV5QixPQUFPLElBa0J0RHpCLEVBQVF3QyxRQUFVLENBQ2RDLFFBQVMsQ0FDTEMsTUFBTyxRQUNQQyxLQUFNLE9BQ05DLFFBQVMsVUFDVEMsTUFBTyxRQUNQQyxjQUFlLGVBQ2ZDLGVBQWdCLGdCQUNoQkMsWUFBYSxhQUNiQyxhQUFjLGNBQ2RDLGNBQWUsZUFDZkMsTUFBTyxRQUNQQyxTQUFVLFVBQ1ZDLFNBQVUsVUFDVkMsb0JBQXFCLG9CQUNyQkMsc0JBQXVCLHNCQUN2QkMsWUFBYSxhQUNiQyxnQkFBaUIsa0JBRXJCQyxZQUFhLFFBQ2JDLE9BQVEsS0FDUkMsT0FBUSxDQUNKQyxPQUFRLFNBQ1JDLE9BQVEsUUFDUkgsT0FBUSxTQUNSSSxXQUFZLFlBQ1pDLGNBQWUsZUFDZkMsVUFBVyxXQUNYUCxZQUFhLGFBQ2JRLFFBQVMsU0FDVEMsWUFBYSxZQUNiQyxTQUFVLFVBQ1ZDLGFBQWMsY0FDZEMsWUFBYSxhQUNiQyxlQUFnQixnQkFDaEJDLGFBQWMsY0FDZEMsZ0JBQWlCLGlCQUNqQkMsWUFBYSxhQUNiQyxhQUFjLGNBQ2RDLGdCQUFpQixpQkFDakJDLE9BQVEsU0FDUkMsUUFBUyxVQUNUQyxPQUFRLFNBQ1JDLEtBQU0sT0FDTkMsU0FBVSxXQUNWQyxNQUFPLFFBQ1BDLEtBQU0sT0FDTkMsTUFBTyxRQUNQQyxNQUFPLFFBQ1BDLFNBQVUsV0FDVkMsS0FBTSxPQUNOQyxLQUFNLE9BQ05DLEtBQU0sT0FDTkMsS0FBTSxPQUNOQyxLQUFNLE9BQ05DLFVBQVcsWUFDWEMsS0FBTSxPQUNOQyxNQUFPLFFBQ1BDLFVBQVcsT0FDWG5DLE9BQVEsU0FDUm9DLGlCQUFrQixrQkFDbEJDLDJCQUE0QiwwQkFDNUJDLGtCQUFtQixtQkFDbkJDLFdBQVksWUFDWkMsc0JBQXVCLHVCQUUzQkMsS0FBTSxDQUNGQyxjQUFlLGVBQ2ZDLGVBQWdCLGdCQUNoQkMsV0FBWSxlQUNaQyxTQUFVLFdBQ1ZoQixLQUFNLE9BQ05pQixTQUFVLFdBQ1ZDLG1CQUFvQixtQkFDcEJDLGdCQUFpQixpQkFDakJDLE1BQU8sU0FFWEMsYUFBYyxDQUNWQyxNQUFPLHNCQUNQQyxLQUFNLHVCQUNOakIsVUFBVyx1QkFDWFcsU0FBVSxzQkFDVkMsbUJBQW9CLGdDQUNwQkMsZ0JBQWlCLDZCQUNqQkssZUFBZ0IsNEJBQ2hCSixNQUFPLG1CQUNQNUMsVUFBVyx1QkFDWEMsUUFBUyxxQkFDVGdELFFBQVMscUJBQ1RDLGtCQUFtQixnQ0FFdkJDLE9BQVEsQ0FDSkMsT0FBUSxXQUNSQyxvQkFBcUIsaUIsNkJDaEc3QixJQUFJQyxFQUFtQkMsTUFBUUEsS0FBS0QsaUJBQW9CLFNBQVVFLEdBQzlELE9BQVFBLEdBQU9BLEVBQUk3RixXQUFjNkYsRUFBTSxDQUFFLFFBQVdBLElBRXhEdkcsT0FBT0MsZUFBZW5CLEVBQVMsYUFBYyxDQUFFeUIsT0FBTyxJQUN0RCxJQUFJaUcsRUFBY0gsRUFBZ0IsRUFBUSxJQUt0Q0ksRUFBNkIsV0FJN0IsU0FBU0EsSUFDTEgsS0FBS0ksVUFBWSxHQUNqQkosS0FBS0ssVUFBWSxHQWdFckIsT0F4REFGLEVBQVl2RixVQUFVMEYsSUFBTSxTQUFVL0YsRUFBS04sR0FDdkMsUUFBcUIsSUFBVkEsRUFDUCxPQUFPK0YsS0FFUEEsS0FBS0ksWUFDTEosS0FBS0ksV0FBYSxLQUV0QixJQUFJRyxFQUFNLEdBU1YsT0FQSUEsRUFEQXRHLGFBQWlCdUcsTUFDWEMsS0FBS0MsVUFBVXpHLEdBR2YwRyxtQkFBbUIxRyxHQUU3QitGLEtBQUtJLFdBQWE3RixFQUFNLElBQU1nRyxFQUM5QlAsS0FBS0ssVUFBVTlGLEdBQU9OLEVBQ2YrRixNQVFYRyxFQUFZdkYsVUFBVWdHLEtBQU8sU0FBVUEsR0FDbkMsT0FBSUEsR0FDQVosS0FBS2EsTUFBUUQsRUFDTlosTUFFSkEsS0FBS2EsT0FRaEJWLEVBQVl2RixVQUFVa0csY0FBZ0IsU0FBVUMsRUFBT0MsR0FDbkQsT0FBT2hCLEtBQUtNLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT0UsT0FBUXlFLEdBQzlDVCxJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU9ELE9BQVErRCxFQUFZbEYsUUFBUW1CLFFBQzNEbUUsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPRyxXQUFZeUUsSUFNcERiLEVBQVl2RixVQUFVcUcsTUFBUSxXQUMxQixPQUFPakIsS0FBS0ksV0FNaEJELEVBQVl2RixVQUFVc0csVUFBWSxXQUM5QixPQUFPbEIsS0FBS0ssV0FFVEYsRUF0RXFCLEdBd0VoQzNILEVBQVF3QyxRQUFVbUYsRyw2QkM5RWxCLElBQUlnQixFQURKekgsT0FBT0MsZUFBZW5CLEVBQVMsYUFBYyxDQUFFeUIsT0FBTyxJQUV0RCxJQUFJbUgsRUFBd0IsR0FDeEJDLEVBQXFDLFdBQ3JDLFNBQVNBLEtBbUNULE9BaENBQSxFQUFvQkMsb0JBQXNCLFNBQVUvRyxHQUNoRCxPQUE0QixJQUF4QjRHLEVBQ09DLEVBQXNCN0csR0FFMUJnSCxhQUFhaEgsSUFFeEI4RyxFQUFvQkcsbUJBQXFCLFNBQVVqSCxFQUFLTixHQUNwRCxJQUE0QixJQUF4QmtILEVBSUosSUFDSUksYUFBYWhILEdBQU9OLEVBRXhCLE1BQU93SCxHQUNITixHQUFzQixFQUN0QkMsRUFBc0I3RyxHQUFPTixPQVI3Qm1ILEVBQXNCN0csR0FBT04sR0FXckNvSCxFQUFvQkssdUJBQXlCLFNBQVVuSCxHQUNuRCxJQUE0QixJQUF4QjRHLEVBSUosSUFDSUksYUFBYUksV0FBV3BILEdBRTVCLE1BQU9rSCxHQUNITixHQUFzQixTQUNmQyxFQUFzQjdHLGVBUnRCNkcsRUFBc0I3RyxJQVc5QjhHLEVBcEM2QixHQXNDeEM3SSxFQUFRd0MsUUFBVXFHLEcsNkJDdkNsQjNILE9BQU9DLGVBQWVuQixFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sSUFDdEQsSUFBSTJILEVBQXlCLFdBQ3pCLFNBQVNBLElBQ0w1QixLQUFLNkIsc0JBQXdCLEdBQzdCN0IsS0FBSzhCLGFBQWUsR0FDcEI5QixLQUFLK0IsZ0JBQWlCLEVBMksxQixPQXJLQUgsRUFBUWhILFVBQVVvSCxrQkFBb0IsU0FBVUMsR0FDNUNqQyxLQUFLNkIsc0JBQXdCSSxHQWFqQ0wsRUFBUWhILFVBQVVzSCxLQUFPLFNBQVVDLEVBQVFDLEVBQUtDLEVBQU1DLEVBQVNDLEVBQU9DLEVBQVFDLEdBQzFFLElBQUlDLEVBQVExQyxLQUNaLEdBQUl3QyxFQUFRLENBQ1IsR0FBSXhDLEtBQUsrQixlQUVMLE9BQU8vQixLQUFLMkMsZUFBZUMsV0FFL0I1QyxLQUFLK0IsZ0JBQWlCLEVBRTFCLEdBQThCLG9CQUFuQmMsZUFJUCxNQUgwQixVQUF0QkMsU0FBU0MsVUFBa0QsSUFBMUJYLEVBQUlZLFFBQVEsWUFDN0NaLEVBQU0sUUFBVUEsRUFBSWEsVUFBVSxJQUUzQmpELEtBQUtrRCxRQUFRZixFQUFRQyxFQUFLQyxFQUFNQyxFQUFTQyxFQUFPQyxFQUFRQyxHQUVuRSxJQUFJVSxHQUFVLEVBQ1ZDLEVBQU0sSUFBSUMsZUFDZEQsRUFBSUUsbUJBQXFCLFdBQ3JCLEdBQXVCLElBQW5CRixFQUFJRyxXQUFrQixDQUN0QixHQUFJSixFQUNBLE9BR0osSUFBSUssRUFESkwsR0FBVSxFQUVWLElBQUlNLEdBQWMsRUFDbEIsR0FBSWhCLEVBQ0FlLEVBQWFKLEVBQUlNLGtCQUdqQixJQUNJRixFQUFhL0MsS0FBS2tELE1BQU1QLEVBQUlNLGNBRWhDLE1BQU9qQyxHQUNIbUMsWUFBVyxXQUNIckIsR0FDQUEsRUFBTSxLQUFNYSxLQUVqQixHQUNISyxHQUFjLEVBR2pCQSxJQUNHTCxFQUFJUyxRQUFVLEtBQU9ULEVBQUlTLE9BQVMsSUFDbENELFlBQVcsV0FDSHRCLEdBQ0FBLEVBQVFrQixFQUFZSixLQUV6QixHQUdIUSxZQUFXLFdBQ0hyQixHQUNBQSxFQUFNaUIsRUFBWUosS0FFdkIsSUFHUFosSUFDQUUsRUFBTVgsZ0JBQWlCLEVBQ3ZCVyxFQUFNb0Isb0JBSWxCVixFQUFJVyxLQUFLNUIsRUFBUUMsR0FBSyxHQUN0QmdCLEVBQUlZLGlCQUFpQixlQUFnQixjQUNyQ1osRUFBSWEsS0FBSzVCLEdBQ1R1QixZQUFXLFdBQ0ZULEdBQ0RDLEVBQUljLFVBRW9CLElBQTdCbEUsS0FBSzZCLHdCQVlaRCxFQUFRaEgsVUFBVXNJLFFBQVUsU0FBVWYsRUFBUUMsRUFBS0MsRUFBTUMsRUFBU0MsRUFBT0MsRUFBUUMsR0FDN0UsSUFBSUMsRUFBUTFDLEtBQ1JtRSxFQUFNLElBQUl0QixlQUNkc0IsRUFBSUMsT0FBUyxXQUNULElBQUlDLEVBQ0FaLEdBQWMsRUFDbEIsR0FBSWhCLEVBQ0E0QixFQUFXRixFQUFJVCxrQkFHZixJQUNJVyxFQUFXNUQsS0FBS2tELE1BQU1RLEVBQUlULGNBRTlCLE1BQU9qQyxHQUNIbUMsWUFBVyxXQUNIckIsR0FDQUEsRUFBTSxLQUFNNEIsS0FFakIsR0FDSFYsR0FBYyxFQUdqQkEsR0FDREcsWUFBVyxXQUNIdEIsR0FDQUEsRUFBUStCLEVBQVVGLEtBRXZCLEdBRUgzQixJQUNBRSxFQUFNWCxnQkFBaUIsRUFDdkJXLEVBQU1vQixtQkFHZEssRUFBSUcsUUFBVUgsRUFBSUksVUFBWSxXQUMxQlgsWUFBVyxXQUNIckIsR0FDQUEsRUFBTSxLQUFNNEIsS0FFakIsR0FDQzNCLElBQ0FFLEVBQU1YLGdCQUFpQixFQUN2QlcsRUFBTW9CLG1CQUdkSyxFQUFJSyxXQUFhLGFBQ2pCTCxFQUFJSixLQUFLNUIsRUFBUUMsR0FDakIrQixFQUFJTSxRQUF1QyxJQUE3QnpFLEtBQUs2QixzQkFDbkJzQyxFQUFJRixLQUFLNUIsSUFPYlQsRUFBUWhILFVBQVUrSCxlQUFpQixTQUFVK0IsR0FDekMxRSxLQUFLOEIsYUFBYTZDLEtBQUtELElBTTNCOUMsRUFBUWhILFVBQVVrSixlQUFpQixXQUMvQixJQUFJYyxFQUFPNUUsS0FBSzhCLGFBQWErQyxRQUN6QkQsR0FFQTVFLEtBQUtrQyxLQUFLNEMsTUFBTTlFLEtBQU00RSxJQUd2QmhELEVBL0tpQixHQWlMNUJwSixFQUFRd0MsUUFBVTRHLEcsaUJDdE1sQixjQVVBLElBYUltRCxFQUFVLHFCQVFWQyxFQUFTLGVBR1RDLEVBQVksa0JBSVpDLEVBQVMsZUF5QlRDLEVBQWUsOEJBR2ZDLEVBQVcsbUJBR1hDLEVBQWlCLEdBQ3JCQSxFQXhCaUIseUJBd0JZQSxFQXZCWix5QkF3QmpCQSxFQXZCYyxzQkF1QllBLEVBdEJYLHVCQXVCZkEsRUF0QmUsdUJBc0JZQSxFQXJCWix1QkFzQmZBLEVBckJzQiw4QkFxQllBLEVBcEJsQix3QkFxQmhCQSxFQXBCZ0IseUJBb0JZLEVBQzVCQSxFQUFlTixHQUFXTSxFQW5EWCxrQkFvRGZBLEVBaENxQix3QkFnQ1lBLEVBbERuQixvQkFtRGRBLEVBaENrQixxQkFnQ1lBLEVBbERoQixpQkFtRGRBLEVBbERlLGtCQWtEWUEsRUFqRGIscUJBa0RkQSxFQUFlTCxHQUFVSyxFQS9DVCxtQkFnRGhCQSxFQUFlSixHQUFhSSxFQTNDWixtQkE0Q2hCQSxFQUFlSCxHQUFVRyxFQTFDVCxtQkEyQ2hCQSxFQXhDaUIscUJBd0NZLEVBRzdCLElBQUlDLEVBQThCLGlCQUFWQyxHQUFzQkEsR0FBVUEsRUFBTzdMLFNBQVdBLFFBQVU2TCxFQUdoRkMsRUFBMEIsaUJBQVJDLE1BQW9CQSxNQUFRQSxLQUFLL0wsU0FBV0EsUUFBVStMLEtBR3hFbk4sRUFBT2dOLEdBQWNFLEdBQVlFLFNBQVMsY0FBVEEsR0FHakNDLEVBQTRDbk4sSUFBWUEsRUFBUW9OLFVBQVlwTixFQUc1RXFOLEVBQWFGLEdBQWdDLGlCQUFWbE4sR0FBc0JBLElBQVdBLEVBQU9tTixVQUFZbk4sRUFHdkZxTixFQUFnQkQsR0FBY0EsRUFBV3JOLFVBQVltTixFQUdyREksRUFBY0QsR0FBaUJSLEVBQVdVLFFBRzFDQyxFQUFZLFdBQ2QsSUFDRSxPQUFPRixHQUFlQSxFQUFZRyxTQUFXSCxFQUFZRyxRQUFRLFFBQ2pFLE1BQU96RSxLQUhJLEdBT1gwRSxFQUFtQkYsR0FBWUEsRUFBU0csYUF1RDVDLFNBQVNDLEVBQVVDLEVBQU9DLEdBSXhCLElBSEEsSUFBSUMsR0FBUyxFQUNUQyxFQUFrQixNQUFUSCxFQUFnQixFQUFJQSxFQUFNRyxTQUU5QkQsRUFBUUMsR0FDZixHQUFJRixFQUFVRCxFQUFNRSxHQUFRQSxFQUFPRixHQUNqQyxPQUFPLEVBR1gsT0FBTyxFQWtFVCxTQUFTSSxFQUFXQyxHQUNsQixJQUFJSCxHQUFTLEVBQ1RJLEVBQVNwRyxNQUFNbUcsRUFBSUUsTUFLdkIsT0FIQUYsRUFBSUcsU0FBUSxTQUFTN00sRUFBT00sR0FDMUJxTSxJQUFTSixHQUFTLENBQUNqTSxFQUFLTixNQUVuQjJNLEVBd0JULFNBQVNHLEVBQVdDLEdBQ2xCLElBQUlSLEdBQVMsRUFDVEksRUFBU3BHLE1BQU13RyxFQUFJSCxNQUt2QixPQUhBRyxFQUFJRixTQUFRLFNBQVM3TSxHQUNuQjJNLElBQVNKLEdBQVN2TSxLQUViMk0sRUFJVCxJQWVNSyxFQXZDV0MsRUFBTUMsRUF3Qm5CQyxFQUFhNUcsTUFBTTVGLFVBQ25CeU0sRUFBWTNCLFNBQVM5SyxVQUNyQjBNLEVBQWM1TixPQUFPa0IsVUFHckIyTSxFQUFhalAsRUFBSyxzQkFHbEJrUCxFQUFlSCxFQUFVSSxTQUd6QjVNLEVBQWlCeU0sRUFBWXpNLGVBRzdCNk0sR0FDRVQsRUFBTSxTQUFTVSxLQUFLSixHQUFjQSxFQUFXSyxNQUFRTCxFQUFXSyxLQUFLQyxVQUFZLEtBQ3ZFLGlCQUFtQlosRUFBTyxHQVF0Q2EsRUFBdUJSLEVBQVlHLFNBR25DTSxFQUFhQyxPQUFPLElBQ3RCUixFQUFhck8sS0FBSzBCLEdBQWdCb04sUUE3UGpCLHNCQTZQdUMsUUFDdkRBLFFBQVEseURBQTBELFNBQVcsS0FJNUVDLEVBQVNwQyxFQUFnQnhOLEVBQUs0UCxZQUFTQyxFQUN2Q3BPLEVBQVN6QixFQUFLeUIsT0FDZHFPLEVBQWE5UCxFQUFLOFAsV0FDbEJDLEVBQXVCZixFQUFZZSxxQkFDbkNDLEVBQVNsQixFQUFXa0IsT0FDcEJDLEVBQWlCeE8sRUFBU0EsRUFBT0MsaUJBQWNtTyxFQUcvQ0ssRUFBbUI5TyxPQUFPK08sc0JBQzFCQyxFQUFpQlIsRUFBU0EsRUFBT1MsY0FBV1IsRUFDNUNTLEdBbkVhMUIsRUFtRVF4TixPQUFPa08sS0FuRVRULEVBbUVlek4sT0FsRTdCLFNBQVNtUCxHQUNkLE9BQU8zQixFQUFLQyxFQUFVMEIsTUFvRXRCQyxFQUFXQyxHQUFVelEsRUFBTSxZQUMzQjBRLEVBQU1ELEdBQVV6USxFQUFNLE9BQ3RCMlEsRUFBVUYsR0FBVXpRLEVBQU0sV0FDMUI0USxFQUFNSCxHQUFVelEsRUFBTSxPQUN0QjZRLEVBQVVKLEdBQVV6USxFQUFNLFdBQzFCOFEsRUFBZUwsR0FBVXJQLE9BQVEsVUFHakMyUCxFQUFxQkMsR0FBU1IsR0FDOUJTLEVBQWdCRCxHQUFTTixHQUN6QlEsRUFBb0JGLEdBQVNMLEdBQzdCUSxFQUFnQkgsR0FBU0osR0FDekJRLEVBQW9CSixHQUFTSCxHQUc3QlEsR0FBYzVQLEVBQVNBLEVBQU9hLGVBQVl1TixFQUMxQ3lCLEdBQWdCRCxHQUFjQSxHQUFZRSxhQUFVMUIsRUFTeEQsU0FBUzJCLEdBQUtDLEdBQ1osSUFBSXZELEdBQVMsRUFDVEMsRUFBb0IsTUFBWHNELEVBQWtCLEVBQUlBLEVBQVF0RCxPQUczQyxJQURBekcsS0FBS2dLLFVBQ0l4RCxFQUFRQyxHQUFRLENBQ3ZCLElBQUl3RCxFQUFRRixFQUFRdkQsR0FDcEJ4RyxLQUFLZ0gsSUFBSWlELEVBQU0sR0FBSUEsRUFBTSxLQStGN0IsU0FBU0MsR0FBVUgsR0FDakIsSUFBSXZELEdBQVMsRUFDVEMsRUFBb0IsTUFBWHNELEVBQWtCLEVBQUlBLEVBQVF0RCxPQUczQyxJQURBekcsS0FBS2dLLFVBQ0l4RCxFQUFRQyxHQUFRLENBQ3ZCLElBQUl3RCxFQUFRRixFQUFRdkQsR0FDcEJ4RyxLQUFLZ0gsSUFBSWlELEVBQU0sR0FBSUEsRUFBTSxLQTRHN0IsU0FBU0UsR0FBU0osR0FDaEIsSUFBSXZELEdBQVMsRUFDVEMsRUFBb0IsTUFBWHNELEVBQWtCLEVBQUlBLEVBQVF0RCxPQUczQyxJQURBekcsS0FBS2dLLFVBQ0l4RCxFQUFRQyxHQUFRLENBQ3ZCLElBQUl3RCxFQUFRRixFQUFRdkQsR0FDcEJ4RyxLQUFLZ0gsSUFBSWlELEVBQU0sR0FBSUEsRUFBTSxLQStGN0IsU0FBU0csR0FBU0MsR0FDaEIsSUFBSTdELEdBQVMsRUFDVEMsRUFBbUIsTUFBVjRELEVBQWlCLEVBQUlBLEVBQU81RCxPQUd6QyxJQURBekcsS0FBS3NLLFNBQVcsSUFBSUgsS0FDWDNELEVBQVFDLEdBQ2Z6RyxLQUFLTSxJQUFJK0osRUFBTzdELElBMkNwQixTQUFTK0QsR0FBTVIsR0FDYixJQUFJMUgsRUFBT3JDLEtBQUtzSyxTQUFXLElBQUlKLEdBQVVILEdBQ3pDL0osS0FBSzZHLEtBQU94RSxFQUFLd0UsS0FtR25CLFNBQVMyRCxHQUFjdlEsRUFBT3dRLEdBQzVCLElBQUlDLEVBQVFDLEdBQVExUSxHQUNoQjJRLEdBQVNGLEdBQVNHLEdBQVk1USxHQUM5QjZRLEdBQVVKLElBQVVFLEdBQVNqQyxHQUFTMU8sR0FDdEM4USxHQUFVTCxJQUFVRSxJQUFVRSxHQUFVMUUsR0FBYW5NLEdBQ3JEK1EsRUFBY04sR0FBU0UsR0FBU0UsR0FBVUMsRUFDMUNuRSxFQUFTb0UsRUFsb0JmLFNBQW1CdlEsRUFBR3dRLEdBSXBCLElBSEEsSUFBSXpFLEdBQVMsRUFDVEksRUFBU3BHLE1BQU0vRixLQUVWK0wsRUFBUS9MLEdBQ2ZtTSxFQUFPSixHQUFTeUUsRUFBU3pFLEdBRTNCLE9BQU9JLEVBMm5Cb0JzRSxDQUFValIsRUFBTXdNLE9BQVEwRSxRQUFVLEdBQ3pEMUUsRUFBU0csRUFBT0gsT0FFcEIsSUFBSyxJQUFJbE0sS0FBT04sR0FDVHdRLElBQWE1UCxFQUFlMUIsS0FBS2MsRUFBT00sSUFDdkN5USxJQUVRLFVBQVB6USxHQUVDdVEsSUFBa0IsVUFBUHZRLEdBQTBCLFVBQVBBLElBRTlCd1EsSUFBa0IsVUFBUHhRLEdBQTBCLGNBQVBBLEdBQThCLGNBQVBBLElBRXRENlEsR0FBUTdRLEVBQUtrTSxLQUVsQkcsRUFBT2pDLEtBQUtwSyxHQUdoQixPQUFPcU0sRUFXVCxTQUFTeUUsR0FBYS9FLEVBQU8vTCxHQUUzQixJQURBLElBQUlrTSxFQUFTSCxFQUFNRyxPQUNaQSxLQUNMLEdBQUk2RSxHQUFHaEYsRUFBTUcsR0FBUSxHQUFJbE0sR0FDdkIsT0FBT2tNLEVBR1gsT0FBUSxFQTBCVixTQUFTOEUsR0FBV3RSLEdBQ2xCLE9BQWEsTUFBVEEsT0FDZWtPLElBQVZsTyxFQXQxQlEscUJBUkwsZ0JBZzJCSnNPLEdBQWtCQSxLQUFrQjdPLE9BQU9PLEdBMGFyRCxTQUFtQkEsR0FDakIsSUFBSXVSLEVBQVEzUSxFQUFlMUIsS0FBS2MsRUFBT3NPLEdBQ25Da0QsRUFBTXhSLEVBQU1zTyxHQUVoQixJQUNFdE8sRUFBTXNPLFFBQWtCSixFQUN4QixJQUFJdUQsR0FBVyxFQUNmLE1BQU9qSyxJQUVULElBQUltRixFQUFTa0IsRUFBcUIzTyxLQUFLYyxHQUNuQ3lSLElBQ0VGLEVBQ0Z2UixFQUFNc08sR0FBa0JrRCxTQUVqQnhSLEVBQU1zTyxJQUdqQixPQUFPM0IsRUExYkgrRSxDQUFVMVIsR0E0aUJoQixTQUF3QkEsR0FDdEIsT0FBTzZOLEVBQXFCM08sS0FBS2MsR0E1aUI3QjJSLENBQWUzUixHQVVyQixTQUFTNFIsR0FBZ0I1UixHQUN2QixPQUFPNlIsR0FBYTdSLElBQVVzUixHQUFXdFIsSUFBVThLLEVBaUJyRCxTQUFTZ0gsR0FBWTlSLEVBQU8rUixFQUFPQyxFQUFTQyxFQUFZQyxHQUN0RCxPQUFJbFMsSUFBVStSLElBR0QsTUFBVC9SLEdBQTBCLE1BQVQrUixJQUFtQkYsR0FBYTdSLEtBQVc2UixHQUFhRSxHQUNwRS9SLEdBQVVBLEdBQVMrUixHQUFVQSxFQW1CeEMsU0FBeUJ0UixFQUFRc1IsRUFBT0MsRUFBU0MsRUFBWUUsRUFBV0QsR0FDdEUsSUFBSUUsRUFBVzFCLEdBQVFqUSxHQUNuQjRSLEVBQVczQixHQUFRcUIsR0FDbkJPLEVBQVNGLEVBbDZCQSxpQkFrNkJzQkcsR0FBTzlSLEdBQ3RDK1IsRUFBU0gsRUFuNkJBLGlCQW02QnNCRSxHQUFPUixHQUt0Q1UsR0FISkgsRUFBU0EsR0FBVXhILEVBQVVFLEVBQVlzSCxJQUdoQnRILEVBQ3JCMEgsR0FISkYsRUFBU0EsR0FBVTFILEVBQVVFLEVBQVl3SCxJQUdoQnhILEVBQ3JCMkgsRUFBWUwsR0FBVUUsRUFFMUIsR0FBSUcsR0FBYWpFLEdBQVNqTyxHQUFTLENBQ2pDLElBQUtpTyxHQUFTcUQsR0FDWixPQUFPLEVBRVRLLEdBQVcsRUFDWEssR0FBVyxFQUViLEdBQUlFLElBQWNGLEVBRWhCLE9BREFQLElBQVVBLEVBQVEsSUFBSTVCLElBQ2Q4QixHQUFZakcsR0FBYTFMLEdBQzdCbVMsR0FBWW5TLEVBQVFzUixFQUFPQyxFQUFTQyxFQUFZRSxFQUFXRCxHQWlLbkUsU0FBb0J6UixFQUFRc1IsRUFBT1AsRUFBS1EsRUFBU0MsRUFBWUUsRUFBV0QsR0FDdEUsT0FBUVYsR0FDTixJQXBrQ2Msb0JBcWtDWixHQUFLL1EsRUFBT29TLFlBQWNkLEVBQU1jLFlBQzNCcFMsRUFBT3FTLFlBQWNmLEVBQU1lLFdBQzlCLE9BQU8sRUFFVHJTLEVBQVNBLEVBQU9zUyxPQUNoQmhCLEVBQVFBLEVBQU1nQixPQUVoQixJQTdrQ2lCLHVCQThrQ2YsUUFBS3RTLEVBQU9vUyxZQUFjZCxFQUFNYyxhQUMzQlYsRUFBVSxJQUFJaEUsRUFBVzFOLEdBQVMsSUFBSTBOLEVBQVc0RCxLQUt4RCxJQXRtQ1UsbUJBdW1DVixJQXRtQ1UsZ0JBdW1DVixJQWxtQ1ksa0JBcW1DVixPQUFPVixJQUFJNVEsR0FBU3NSLEdBRXRCLElBM21DVyxpQkE0bUNULE9BQU90UixFQUFPbkIsTUFBUXlTLEVBQU16UyxNQUFRbUIsRUFBT3VTLFNBQVdqQixFQUFNaUIsUUFFOUQsSUFybUNZLGtCQXNtQ1osSUFwbUNZLGtCQXdtQ1YsT0FBT3ZTLEdBQVdzUixFQUFRLEdBRTVCLEtBQUtoSCxFQUNILElBQUlrSSxFQUFVeEcsRUFFaEIsS0FBS3hCLEVBQ0gsSUFBSWlJLEVBcm9DaUIsRUFxb0NMbEIsRUFHaEIsR0FGQWlCLElBQVlBLEVBQVVuRyxHQUVsQnJNLEVBQU9tTSxNQUFRbUYsRUFBTW5GLE9BQVNzRyxFQUNoQyxPQUFPLEVBR1QsSUFBSUMsRUFBVWpCLEVBQU10UyxJQUFJYSxHQUN4QixHQUFJMFMsRUFDRixPQUFPQSxHQUFXcEIsRUFFcEJDLEdBL29DdUIsRUFrcEN2QkUsRUFBTW5GLElBQUl0TSxFQUFRc1IsR0FDbEIsSUFBSXBGLEVBQVNpRyxHQUFZSyxFQUFReFMsR0FBU3dTLEVBQVFsQixHQUFRQyxFQUFTQyxFQUFZRSxFQUFXRCxHQUUxRixPQURBQSxFQUFjLE9BQUV6UixHQUNUa00sRUFFVCxJQWhvQ1ksa0JBaW9DVixHQUFJZ0QsR0FDRixPQUFPQSxHQUFjelEsS0FBS3VCLElBQVdrUCxHQUFjelEsS0FBSzZTLEdBRzlELE9BQU8sRUE5TkRxQixDQUFXM1MsRUFBUXNSLEVBQU9PLEVBQVFOLEVBQVNDLEVBQVlFLEVBQVdELEdBRXhFLEtBajhCeUIsRUFpOEJuQkYsR0FBaUMsQ0FDckMsSUFBSXFCLEVBQWVaLEdBQVk3UixFQUFlMUIsS0FBS3VCLEVBQVEsZUFDdkQ2UyxFQUFlWixHQUFZOVIsRUFBZTFCLEtBQUs2UyxFQUFPLGVBRTFELEdBQUlzQixHQUFnQkMsRUFBYyxDQUNoQyxJQUFJQyxFQUFlRixFQUFlNVMsRUFBT1QsUUFBVVMsRUFDL0MrUyxFQUFlRixFQUFldkIsRUFBTS9SLFFBQVUrUixFQUdsRCxPQURBRyxJQUFVQSxFQUFRLElBQUk1QixJQUNmNkIsRUFBVW9CLEVBQWNDLEVBQWN4QixFQUFTQyxFQUFZQyxJQUd0RSxJQUFLUyxFQUNILE9BQU8sRUFHVCxPQURBVCxJQUFVQSxFQUFRLElBQUk1QixJQTZOeEIsU0FBc0I3UCxFQUFRc1IsRUFBT0MsRUFBU0MsRUFBWUUsRUFBV0QsR0FDbkUsSUFBSWdCLEVBOXFDcUIsRUE4cUNUbEIsRUFDWnlCLEVBQVdDLEdBQVdqVCxHQUN0QmtULEVBQVlGLEVBQVNqSCxPQUVyQm9ILEVBRFdGLEdBQVczQixHQUNEdkYsT0FFekIsR0FBSW1ILEdBQWFDLElBQWNWLEVBQzdCLE9BQU8sRUFFVCxJQUFJM0csRUFBUW9ILEVBQ1osS0FBT3BILEtBQVMsQ0FDZCxJQUFJak0sRUFBTW1ULEVBQVNsSCxHQUNuQixLQUFNMkcsRUFBWTVTLEtBQU95UixFQUFRblIsRUFBZTFCLEtBQUs2UyxFQUFPelIsSUFDMUQsT0FBTyxFQUlYLElBQUk2UyxFQUFVakIsRUFBTXRTLElBQUlhLEdBQ3hCLEdBQUkwUyxHQUFXakIsRUFBTXRTLElBQUltUyxHQUN2QixPQUFPb0IsR0FBV3BCLEVBRXBCLElBQUlwRixHQUFTLEVBQ2J1RixFQUFNbkYsSUFBSXRNLEVBQVFzUixHQUNsQkcsRUFBTW5GLElBQUlnRixFQUFPdFIsR0FFakIsSUFBSW9ULEVBQVdYLEVBQ2YsT0FBUzNHLEVBQVFvSCxHQUFXLENBQzFCclQsRUFBTW1ULEVBQVNsSCxHQUNmLElBQUl1SCxFQUFXclQsRUFBT0gsR0FDbEJ5VCxFQUFXaEMsRUFBTXpSLEdBRXJCLEdBQUkyUixFQUNGLElBQUkrQixFQUFXZCxFQUNYakIsRUFBVzhCLEVBQVVELEVBQVV4VCxFQUFLeVIsRUFBT3RSLEVBQVF5UixHQUNuREQsRUFBVzZCLEVBQVVDLEVBQVV6VCxFQUFLRyxFQUFRc1IsRUFBT0csR0FHekQsVUFBbUJoRSxJQUFiOEYsRUFDR0YsSUFBYUMsR0FBWTVCLEVBQVUyQixFQUFVQyxFQUFVL0IsRUFBU0MsRUFBWUMsR0FDN0U4QixHQUNELENBQ0xySCxHQUFTLEVBQ1QsTUFFRmtILElBQWFBLEVBQWtCLGVBQVB2VCxHQUUxQixHQUFJcU0sSUFBV2tILEVBQVUsQ0FDdkIsSUFBSUksRUFBVXhULEVBQU95VCxZQUNqQkMsRUFBVXBDLEVBQU1tQyxZQUdoQkQsR0FBV0UsS0FDVixnQkFBaUIxVCxNQUFVLGdCQUFpQnNSLElBQ3pCLG1CQUFYa0MsR0FBeUJBLGFBQW1CQSxHQUNqQyxtQkFBWEUsR0FBeUJBLGFBQW1CQSxJQUN2RHhILEdBQVMsR0FLYixPQUZBdUYsRUFBYyxPQUFFelIsR0FDaEJ5UixFQUFjLE9BQUVILEdBQ1RwRixFQXpSQXlILENBQWEzVCxFQUFRc1IsRUFBT0MsRUFBU0MsRUFBWUUsRUFBV0QsR0EzRDVEbUMsQ0FBZ0JyVSxFQUFPK1IsRUFBT0MsRUFBU0MsRUFBWUgsR0FBYUksSUFzRXpFLFNBQVNvQyxHQUFhdFUsR0FDcEIsU0FBS3VVLEdBQVN2VSxJQXdhaEIsU0FBa0JpTixHQUNoQixRQUFTUSxHQUFlQSxLQUFjUixFQXphZHVILENBQVN4VSxNQUduQnlVLEdBQVd6VSxHQUFTOE4sRUFBYTVDLEdBQ2hDd0osS0FBS3JGLEdBQVNyUCxJQXNCL0IsU0FBUzJVLEdBQVNsVSxHQUNoQixHQXlaSW1VLEdBRGU1VSxFQXhaRlMsSUF5WkdULEVBQU1rVSxZQUN0QlcsRUFBd0IsbUJBQVJELEdBQXNCQSxFQUFLalUsV0FBYzBNLEVBRXREck4sSUFBVTZVLEVBM1pmLE9BQU9sRyxFQUFXbE8sR0F1WnRCLElBQXFCVCxFQUNmNFUsRUFDQUMsRUF2WkFsSSxFQUFTLEdBQ2IsSUFBSyxJQUFJck0sS0FBT2IsT0FBT2dCLEdBQ2pCRyxFQUFlMUIsS0FBS3VCLEVBQVFILElBQWUsZUFBUEEsR0FDdENxTSxFQUFPakMsS0FBS3BLLEdBR2hCLE9BQU9xTSxFQWdCVCxTQUFTaUcsR0FBWXZHLEVBQU8wRixFQUFPQyxFQUFTQyxFQUFZRSxFQUFXRCxHQUNqRSxJQUFJZ0IsRUFsaENxQixFQWtoQ1RsQixFQUNaOEMsRUFBWXpJLEVBQU1HLE9BQ2xCb0gsRUFBWTdCLEVBQU12RixPQUV0QixHQUFJc0ksR0FBYWxCLEtBQWVWLEdBQWFVLEVBQVlrQixHQUN2RCxPQUFPLEVBR1QsSUFBSTNCLEVBQVVqQixFQUFNdFMsSUFBSXlNLEdBQ3hCLEdBQUk4RyxHQUFXakIsRUFBTXRTLElBQUltUyxHQUN2QixPQUFPb0IsR0FBV3BCLEVBRXBCLElBQUl4RixHQUFTLEVBQ1RJLEdBQVMsRUFDVG9JLEVBL2hDdUIsRUEraENmL0MsRUFBb0MsSUFBSTdCLFFBQVdqQyxFQU0vRCxJQUpBZ0UsRUFBTW5GLElBQUlWLEVBQU8wRixHQUNqQkcsRUFBTW5GLElBQUlnRixFQUFPMUYsS0FHUkUsRUFBUXVJLEdBQVcsQ0FDMUIsSUFBSUUsRUFBVzNJLEVBQU1FLEdBQ2pCd0gsRUFBV2hDLEVBQU14RixHQUVyQixHQUFJMEYsRUFDRixJQUFJK0IsRUFBV2QsRUFDWGpCLEVBQVc4QixFQUFVaUIsRUFBVXpJLEVBQU93RixFQUFPMUYsRUFBTzZGLEdBQ3BERCxFQUFXK0MsRUFBVWpCLEVBQVV4SCxFQUFPRixFQUFPMEYsRUFBT0csR0FFMUQsUUFBaUJoRSxJQUFiOEYsRUFBd0IsQ0FDMUIsR0FBSUEsRUFDRixTQUVGckgsR0FBUyxFQUNULE1BR0YsR0FBSW9JLEdBQ0YsSUFBSzNJLEVBQVUyRixHQUFPLFNBQVNnQyxFQUFVa0IsR0FDbkMsR0E3MkJhM1UsRUE2MkJPMlUsR0FBTkYsRUE1MkJYRyxJQUFJNVUsS0E2MkJGMFUsSUFBYWpCLEdBQVk1QixFQUFVNkMsRUFBVWpCLEVBQVUvQixFQUFTQyxFQUFZQyxJQUMvRSxPQUFPNkMsRUFBS3JLLEtBQUt1SyxHQS8yQi9CLElBQXlCM1UsS0FpM0JYLENBQ05xTSxHQUFTLEVBQ1QsWUFFRyxHQUNEcUksSUFBYWpCLElBQ1g1QixFQUFVNkMsRUFBVWpCLEVBQVUvQixFQUFTQyxFQUFZQyxHQUNwRCxDQUNMdkYsR0FBUyxFQUNULE9BS0osT0FGQXVGLEVBQWMsT0FBRTdGLEdBQ2hCNkYsRUFBYyxPQUFFSCxHQUNUcEYsRUF5S1QsU0FBUytHLEdBQVdqVCxHQUNsQixPQXBaRixTQUF3QkEsRUFBUTBVLEVBQVVDLEdBQ3hDLElBQUl6SSxFQUFTd0ksRUFBUzFVLEdBQ3RCLE9BQU9pUSxHQUFRalEsR0FBVWtNLEVBaHVCM0IsU0FBbUJOLEVBQU8rRCxHQUt4QixJQUpBLElBQUk3RCxHQUFTLEVBQ1RDLEVBQVM0RCxFQUFPNUQsT0FDaEI2SSxFQUFTaEosRUFBTUcsU0FFVkQsRUFBUUMsR0FDZkgsRUFBTWdKLEVBQVM5SSxHQUFTNkQsRUFBTzdELEdBRWpDLE9BQU9GLEVBd3RCMkJpSixDQUFVM0ksRUFBUXlJLEVBQVkzVSxJQWtaekQ4VSxDQUFlOVUsRUFBUWtOLEdBQU02SCxJQVd0QyxTQUFTQyxHQUFXL0ksRUFBS3BNLEdBQ3ZCLElBc0hpQk4sRUFDYjBWLEVBdkhBdE4sRUFBT3NFLEVBQUkyRCxTQUNmLE9BdUhnQixXQURacUYsU0FEYTFWLEVBckhBTSxLQXVIbUIsVUFBUm9WLEdBQTRCLFVBQVJBLEdBQTRCLFdBQVJBLEVBQ3JELGNBQVYxVixFQUNVLE9BQVZBLEdBeEhEb0ksRUFBbUIsaUJBQVA5SCxFQUFrQixTQUFXLFFBQ3pDOEgsRUFBS3NFLElBV1gsU0FBU29DLEdBQVVyTyxFQUFRSCxHQUN6QixJQUFJTixFQXhqQ04sU0FBa0JTLEVBQVFILEdBQ3hCLE9BQWlCLE1BQVZHLE9BQWlCeU4sRUFBWXpOLEVBQU9ILEdBdWpDL0JxVixDQUFTbFYsRUFBUUgsR0FDN0IsT0FBT2dVLEdBQWF0VSxHQUFTQSxPQUFRa08sRUFwMkJ2QzJCLEdBQUtsUCxVQUFVb1AsTUF2RWYsV0FDRWhLLEtBQUtzSyxTQUFXbEIsRUFBZUEsRUFBYSxNQUFRLEdBQ3BEcEosS0FBSzZHLEtBQU8sR0FzRWRpRCxHQUFLbFAsVUFBa0IsT0F6RHZCLFNBQW9CTCxHQUNsQixJQUFJcU0sRUFBUzVHLEtBQUttUCxJQUFJNVUsV0FBZXlGLEtBQUtzSyxTQUFTL1AsR0FFbkQsT0FEQXlGLEtBQUs2RyxNQUFRRCxFQUFTLEVBQUksRUFDbkJBLEdBdURUa0QsR0FBS2xQLFVBQVVmLElBM0NmLFNBQWlCVSxHQUNmLElBQUk4SCxFQUFPckMsS0FBS3NLLFNBQ2hCLEdBQUlsQixFQUFjLENBQ2hCLElBQUl4QyxFQUFTdkUsRUFBSzlILEdBQ2xCLE1BM1lpQiw4QkEyWVZxTSxPQUE0QnVCLEVBQVl2QixFQUVqRCxPQUFPL0wsRUFBZTFCLEtBQUtrSixFQUFNOUgsR0FBTzhILEVBQUs5SCxRQUFPNE4sR0FzQ3REMkIsR0FBS2xQLFVBQVV1VSxJQTFCZixTQUFpQjVVLEdBQ2YsSUFBSThILEVBQU9yQyxLQUFLc0ssU0FDaEIsT0FBT2xCLE9BQThCakIsSUFBZDlGLEVBQUs5SCxHQUFzQk0sRUFBZTFCLEtBQUtrSixFQUFNOUgsSUF5QjlFdVAsR0FBS2xQLFVBQVVvTSxJQVpmLFNBQWlCek0sRUFBS04sR0FDcEIsSUFBSW9JLEVBQU9yQyxLQUFLc0ssU0FHaEIsT0FGQXRLLEtBQUs2RyxNQUFRN0csS0FBS21QLElBQUk1VSxHQUFPLEVBQUksRUFDakM4SCxFQUFLOUgsR0FBUTZPLFFBQTBCakIsSUFBVmxPLEVBM2FWLDRCQTJha0RBLEVBQzlEK0YsTUF1SFRrSyxHQUFVdFAsVUFBVW9QLE1BcEZwQixXQUNFaEssS0FBS3NLLFNBQVcsR0FDaEJ0SyxLQUFLNkcsS0FBTyxHQW1GZHFELEdBQVV0UCxVQUFrQixPQXZFNUIsU0FBeUJMLEdBQ3ZCLElBQUk4SCxFQUFPckMsS0FBS3NLLFNBQ1o5RCxFQUFRNkUsR0FBYWhKLEVBQU05SCxHQUUvQixRQUFJaU0sRUFBUSxLQUlSQSxHQURZbkUsRUFBS29FLE9BQVMsRUFFNUJwRSxFQUFLd04sTUFFTHZILEVBQU9uUCxLQUFLa0osRUFBTW1FLEVBQU8sS0FFekJ4RyxLQUFLNkcsTUFDQSxJQTBEVHFELEdBQVV0UCxVQUFVZixJQTlDcEIsU0FBc0JVLEdBQ3BCLElBQUk4SCxFQUFPckMsS0FBS3NLLFNBQ1o5RCxFQUFRNkUsR0FBYWhKLEVBQU05SCxHQUUvQixPQUFPaU0sRUFBUSxPQUFJMkIsRUFBWTlGLEVBQUttRSxHQUFPLElBMkM3QzBELEdBQVV0UCxVQUFVdVUsSUEvQnBCLFNBQXNCNVUsR0FDcEIsT0FBTzhRLEdBQWFyTCxLQUFLc0ssU0FBVS9QLElBQVEsR0ErQjdDMlAsR0FBVXRQLFVBQVVvTSxJQWxCcEIsU0FBc0J6TSxFQUFLTixHQUN6QixJQUFJb0ksRUFBT3JDLEtBQUtzSyxTQUNaOUQsRUFBUTZFLEdBQWFoSixFQUFNOUgsR0FRL0IsT0FOSWlNLEVBQVEsS0FDUnhHLEtBQUs2RyxLQUNQeEUsRUFBS3NDLEtBQUssQ0FBQ3BLLEVBQUtOLEtBRWhCb0ksRUFBS21FLEdBQU8sR0FBS3ZNLEVBRVorRixNQXlHVG1LLEdBQVN2UCxVQUFVb1AsTUF0RW5CLFdBQ0VoSyxLQUFLNkcsS0FBTyxFQUNaN0csS0FBS3NLLFNBQVcsQ0FDZCxLQUFRLElBQUlSLEdBQ1osSUFBTyxJQUFLZCxHQUFPa0IsSUFDbkIsT0FBVSxJQUFJSixLQWtFbEJLLEdBQVN2UCxVQUFrQixPQXJEM0IsU0FBd0JMLEdBQ3RCLElBQUlxTSxFQUFTOEksR0FBVzFQLEtBQU16RixHQUFhLE9BQUVBLEdBRTdDLE9BREF5RixLQUFLNkcsTUFBUUQsRUFBUyxFQUFJLEVBQ25CQSxHQW1EVHVELEdBQVN2UCxVQUFVZixJQXZDbkIsU0FBcUJVLEdBQ25CLE9BQU9tVixHQUFXMVAsS0FBTXpGLEdBQUtWLElBQUlVLElBdUNuQzRQLEdBQVN2UCxVQUFVdVUsSUEzQm5CLFNBQXFCNVUsR0FDbkIsT0FBT21WLEdBQVcxUCxLQUFNekYsR0FBSzRVLElBQUk1VSxJQTJCbkM0UCxHQUFTdlAsVUFBVW9NLElBZG5CLFNBQXFCek0sRUFBS04sR0FDeEIsSUFBSW9JLEVBQU9xTixHQUFXMVAsS0FBTXpGLEdBQ3hCc00sRUFBT3hFLEVBQUt3RSxLQUloQixPQUZBeEUsRUFBSzJFLElBQUl6TSxFQUFLTixHQUNkK0YsS0FBSzZHLE1BQVF4RSxFQUFLd0UsTUFBUUEsRUFBTyxFQUFJLEVBQzlCN0csTUF5RFRvSyxHQUFTeFAsVUFBVTBGLElBQU04SixHQUFTeFAsVUFBVStKLEtBbkI1QyxTQUFxQjFLLEdBRW5CLE9BREErRixLQUFLc0ssU0FBU3RELElBQUkvTSxFQTNxQkMsNkJBNHFCWitGLE1Ba0JUb0ssR0FBU3hQLFVBQVV1VSxJQU5uQixTQUFxQmxWLEdBQ25CLE9BQU8rRixLQUFLc0ssU0FBUzZFLElBQUlsVixJQXFHM0JzUSxHQUFNM1AsVUFBVW9QLE1BM0VoQixXQUNFaEssS0FBS3NLLFNBQVcsSUFBSUosR0FDcEJsSyxLQUFLNkcsS0FBTyxHQTBFZDBELEdBQU0zUCxVQUFrQixPQTlEeEIsU0FBcUJMLEdBQ25CLElBQUk4SCxFQUFPckMsS0FBS3NLLFNBQ1oxRCxFQUFTdkUsRUFBYSxPQUFFOUgsR0FHNUIsT0FEQXlGLEtBQUs2RyxLQUFPeEUsRUFBS3dFLEtBQ1ZELEdBMERUMkQsR0FBTTNQLFVBQVVmLElBOUNoQixTQUFrQlUsR0FDaEIsT0FBT3lGLEtBQUtzSyxTQUFTelEsSUFBSVUsSUE4QzNCZ1EsR0FBTTNQLFVBQVV1VSxJQWxDaEIsU0FBa0I1VSxHQUNoQixPQUFPeUYsS0FBS3NLLFNBQVM2RSxJQUFJNVUsSUFrQzNCZ1EsR0FBTTNQLFVBQVVvTSxJQXJCaEIsU0FBa0J6TSxFQUFLTixHQUNyQixJQUFJb0ksRUFBT3JDLEtBQUtzSyxTQUNoQixHQUFJakksYUFBZ0I2SCxHQUFXLENBQzdCLElBQUk0RixFQUFRek4sRUFBS2lJLFNBQ2pCLElBQUt0QixHQUFROEcsRUFBTXJKLE9BQVNzSixJQUcxQixPQUZBRCxFQUFNbkwsS0FBSyxDQUFDcEssRUFBS04sSUFDakIrRixLQUFLNkcsT0FBU3hFLEVBQUt3RSxLQUNaN0csS0FFVHFDLEVBQU9yQyxLQUFLc0ssU0FBVyxJQUFJSCxHQUFTMkYsR0FJdEMsT0FGQXpOLEVBQUsyRSxJQUFJek0sRUFBS04sR0FDZCtGLEtBQUs2RyxLQUFPeEUsRUFBS3dFLEtBQ1Y3RyxNQStoQlQsSUFBSXlQLEdBQWNqSCxFQUErQixTQUFTOU4sR0FDeEQsT0FBYyxNQUFWQSxFQUNLLElBRVRBLEVBQVNoQixPQUFPZ0IsR0E5c0NsQixTQUFxQjRMLEVBQU9DLEdBTTFCLElBTEEsSUFBSUMsR0FBUyxFQUNUQyxFQUFrQixNQUFUSCxFQUFnQixFQUFJQSxFQUFNRyxPQUNuQ3VKLEVBQVcsRUFDWHBKLEVBQVMsS0FFSkosRUFBUUMsR0FBUSxDQUN2QixJQUFJeE0sRUFBUXFNLEVBQU1FLEdBQ2RELEVBQVV0TSxFQUFPdU0sRUFBT0YsS0FDMUJNLEVBQU9vSixLQUFjL1YsR0FHekIsT0FBTzJNLEVBbXNDQXFKLENBQVl6SCxFQUFpQjlOLElBQVMsU0FBU3dWLEdBQ3BELE9BQU83SCxFQUFxQmxQLEtBQUt1QixFQUFRd1YsUUFzZDdDLFdBQ0UsTUFBTyxJQTVjTDFELEdBQVNqQixHQWtDYixTQUFTSCxHQUFRblIsRUFBT3dNLEdBRXRCLFNBREFBLEVBQW1CLE1BQVZBLEVBdDJDWSxpQkFzMkN3QkEsS0FFMUIsaUJBQVR4TSxHQUFxQm1MLEVBQVN1SixLQUFLMVUsS0FDMUNBLEdBQVMsR0FBS0EsRUFBUSxHQUFLLEdBQUtBLEVBQVF3TSxFQTREN0MsU0FBUzZDLEdBQVNwQyxHQUNoQixHQUFZLE1BQVJBLEVBQWMsQ0FDaEIsSUFDRSxPQUFPTSxFQUFhck8sS0FBSytOLEdBQ3pCLE1BQU96RixJQUNULElBQ0UsT0FBUXlGLEVBQU8sR0FDZixNQUFPekYsS0FFWCxNQUFPLEdBbUNULFNBQVM2SixHQUFHclIsRUFBTytSLEdBQ2pCLE9BQU8vUixJQUFVK1IsR0FBVS9SLEdBQVVBLEdBQVMrUixHQUFVQSxHQTVJckRsRCxHQTd5Q2EscUJBNnlDRDBELEdBQU8sSUFBSTFELEVBQVMsSUFBSXFILFlBQVksTUFDaERuSCxHQUFPd0QsR0FBTyxJQUFJeEQsSUFBUWhFLEdBQzFCaUUsR0F6ekNZLG9CQXl6Q0R1RCxHQUFPdkQsRUFBUW1ILFlBQzFCbEgsR0FBT3NELEdBQU8sSUFBSXRELElBQVFoRSxHQUMxQmlFLEdBcHpDWSxvQkFvekNEcUQsR0FBTyxJQUFJckQsTUFDekJxRCxHQUFTLFNBQVN2UyxHQUNoQixJQUFJMk0sRUFBUzJFLEdBQVd0UixHQUNwQjRVLEVBQU9qSSxHQUFVM0IsRUFBWWhMLEVBQU1rVSxpQkFBY2hHLEVBQ2pEa0ksRUFBYXhCLEVBQU92RixHQUFTdUYsR0FBUSxHQUV6QyxHQUFJd0IsRUFDRixPQUFRQSxHQUNOLEtBQUtoSCxFQUFvQixNQXp6Q2Ysb0JBMHpDVixLQUFLRSxFQUFlLE9BQU92RSxFQUMzQixLQUFLd0UsRUFBbUIsTUFyMENmLG1CQXMwQ1QsS0FBS0MsRUFBZSxPQUFPdkUsRUFDM0IsS0FBS3dFLEVBQW1CLE1BaDBDZixtQkFtMENiLE9BQU85QyxJQThJWCxJQUFJaUUsR0FBY2dCLEdBQWdCLFdBQWEsT0FBT2pKLFVBQXBCLElBQXNDaUosR0FBa0IsU0FBUzVSLEdBQ2pHLE9BQU82UixHQUFhN1IsSUFBVVksRUFBZTFCLEtBQUtjLEVBQU8sWUFDdERvTyxFQUFxQmxQLEtBQUtjLEVBQU8sV0EwQmxDMFEsR0FBVW5LLE1BQU1tSyxRQWdEcEIsSUFBSWhDLEdBQVdELEdBNE9mLFdBQ0UsT0FBTyxHQTFMVCxTQUFTZ0csR0FBV3pVLEdBQ2xCLElBQUt1VSxHQUFTdlUsR0FDWixPQUFPLEVBSVQsSUFBSXdSLEVBQU1GLEdBQVd0UixHQUNyQixNQXBtRFkscUJBb21ETHdSLEdBbm1ESSw4QkFtbURjQSxHQXhtRFosMEJBd21ENkJBLEdBN2xEN0Isa0JBNmxEZ0RBLEVBNkIvRCxTQUFTNkUsR0FBU3JXLEdBQ2hCLE1BQXVCLGlCQUFUQSxHQUNaQSxHQUFTLEdBQUtBLEVBQVEsR0FBSyxHQUFLQSxHQTVvRGIsaUJBd3FEdkIsU0FBU3VVLEdBQVN2VSxHQUNoQixJQUFJMFYsU0FBYzFWLEVBQ2xCLE9BQWdCLE1BQVRBLElBQTBCLFVBQVIwVixHQUE0QixZQUFSQSxHQTJCL0MsU0FBUzdELEdBQWE3UixHQUNwQixPQUFnQixNQUFUQSxHQUFpQyxpQkFBVEEsRUFvQmpDLElBQUltTSxHQUFlRCxFQWhpRG5CLFNBQW1CZSxHQUNqQixPQUFPLFNBQVNqTixHQUNkLE9BQU9pTixFQUFLak4sSUE4aERzQnNXLENBQVVwSyxHQW52QmhELFNBQTBCbE0sR0FDeEIsT0FBTzZSLEdBQWE3UixJQUNsQnFXLEdBQVNyVyxFQUFNd00sV0FBYXBCLEVBQWVrRyxHQUFXdFIsS0Erd0IxRCxTQUFTMk4sR0FBS2xOLEdBQ1osT0ExTmdCLE9BREdULEVBMk5BUyxJQTFOSzRWLEdBQVNyVyxFQUFNd00sVUFBWWlJLEdBQVd6VSxHQTBOakN1USxHQUFjOVAsR0FBVWtVLEdBQVNsVSxHQTNOaEUsSUFBcUJULEVBcVFyQnhCLEVBQU9ELFFBbE5QLFNBQWlCeUIsRUFBTytSLEdBQ3RCLE9BQU9ELEdBQVk5UixFQUFPK1IsTSwyQ0NybUQ1QixJQUFJd0UsRUFBVyxFQUFRLEdBQ3ZCL1gsRUFBT0QsUUFBVWdZLEVBQVN4VixTLDZCQ2MxQixJQUFJK0UsRUFBbUJDLE1BQVFBLEtBQUtELGlCQUFvQixTQUFVRSxHQUM5RCxPQUFRQSxHQUFPQSxFQUFJN0YsV0FBYzZGLEVBQU0sQ0FBRSxRQUFXQSxJQUV4RHZHLE9BQU9DLGVBQWVuQixFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sSUFDdEQsSUFBSWlHLEVBQWNILEVBQWdCLEVBQVEsSUFDdEMwUSxFQUFxQjFRLEVBQWdCLEVBQVEsSUFHN0N5USxFQUEwQixXQUMxQixTQUFTQSxLQXlMVCxPQXZMQUEsRUFBU0UsV0FBYSxTQUFVQyxHQUM1QkgsRUFBU0ksSUFBSUYsV0FBV0MsSUFFNUJILEVBQVNLLFNBQVcsU0FBVUMsR0FDMUJOLEVBQVNJLElBQUlDLFNBQVNDLElBTTFCTixFQUFTeE8sa0JBQW9CLFNBQVVDLEdBQ25DdU8sRUFBU0ksSUFBSTVPLGtCQUFrQkMsSUFFbkN1TyxFQUFTTywyQkFBNkIsU0FBVWhRLEVBQU9pUSxHQUNuRFIsRUFBU0ksSUFBSUcsMkJBQTJCaFEsRUFBT2lRLElBRW5EUixFQUFTUywwQkFBNEIsU0FBVWxRLEVBQU9pUSxHQUNsRFIsRUFBU0ksSUFBSUssMEJBQTBCbFEsRUFBT2lRLElBRWxEUixFQUFTVSxjQUFnQixTQUFVQyxHQUMvQlgsRUFBU0ksSUFBSU0sY0FBY0MsSUFFL0JYLEVBQVNZLFlBQWMsU0FBVUMsR0FDN0JiLEVBQVNJLElBQUlRLFlBQVlDLElBRTdCYixFQUFTYyxjQUFnQixTQUFVQyxHQUMvQmYsRUFBU0ksSUFBSVUsY0FBY0MsSUFFL0JmLEVBQVNnQixjQUFnQixTQUFVQyxHQUMvQmpCLEVBQVNJLElBQUlZLGNBQWNDLElBRS9CakIsRUFBU2tCLGVBQWlCLFNBQVVDLEdBQ2hDbkIsRUFBU0ksSUFBSWMsZUFBZUMsSUFFaENuQixFQUFTb0IsbUJBQXFCLFNBQVVDLEVBQWNDLEdBQ2xEdEIsRUFBU0ksSUFBSWdCLG1CQUFtQkMsRUFBY0MsSUFFbER0QixFQUFTdUIsY0FBZ0IsU0FBVUMsR0FDL0J4QixFQUFTSSxJQUFJbUIsY0FBY0MsSUFFL0J4QixFQUFTeUIsaUJBQW1CLFNBQVVDLEdBQ2xDMUIsRUFBU0ksSUFBSXFCLGlCQUFpQkMsSUFFbEMxQixFQUFTMkIsYUFBZSxTQUFVQyxHQUM5QjVCLEVBQVNJLElBQUl1QixhQUFhQyxJQUU5QjVCLEVBQVM2QiwyQkFBNkIsU0FBVUMsR0FDNUM5QixFQUFTSSxJQUFJeUIsMkJBQTJCQyxJQUU1QzlCLEVBQVMrQixvQkFBc0IsV0FDM0IsT0FBTy9CLEVBQVNJLElBQUkyQix1QkFFeEIvQixFQUFTZ0MsYUFBZSxXQUNwQixPQUFPaEMsRUFBU0ksSUFBSTRCLGdCQUV4QmhDLEVBQVNpQyxZQUFjLFdBR25CLElBRkEsSUFBSUMsRUFDQTlOLEVBQU8sR0FDRitOLEVBQUssRUFBR0EsRUFBSy9QLFVBQVU2RCxPQUFRa00sSUFDcEMvTixFQUFLK04sR0FBTS9QLFVBQVUrUCxHQUV6QixPQUFRRCxFQUFLbEMsRUFBU0ksS0FBSzZCLFlBQVkzTixNQUFNNE4sRUFBSTlOLElBRXJENEwsRUFBU29DLFlBQWMsV0FDbkIsT0FBT3BDLEVBQVNJLElBQUlnQyxlQUV4QnBDLEVBQVNxQyxNQUFRLFdBQ2IsT0FBT3JDLEVBQVNJLElBQUlpQyxTQUV4QnJDLEVBQVNzQyx3QkFBMEIsU0FBVUMsR0FDekN2QyxFQUFTSSxJQUFJa0Msd0JBQXdCQyxJQUV6Q3ZDLEVBQVN3QywyQkFBNkIsU0FBVUQsR0FDNUN2QyxFQUFTSSxJQUFJb0MsMkJBQTJCRCxJQUU1Q3ZDLEVBQVN5QywyQkFBNkIsU0FBVUYsR0FDNUN2QyxFQUFTSSxJQUFJcUMsMkJBQTJCRixJQUU1Q3ZDLEVBQVMwQyw4QkFBZ0MsU0FBVUgsR0FDL0N2QyxFQUFTSSxJQUFJc0MsOEJBQThCSCxJQUUvQ3ZDLEVBQVMyQyxtQkFBcUIsU0FBVUMsR0FDcEM1QyxFQUFTSSxJQUFJdUMsbUJBQW1CQyxJQUVwQzVDLEVBQVM2QyxpQkFBbUIsU0FBVXBSLEdBQ2xDdU8sRUFBU0ksSUFBSXlDLGlCQUFpQnBSLElBRWxDdU8sRUFBUzhDLE1BQVEsU0FBVUMsRUFBUUMsRUFBZ0JKLEdBQy9DNUMsRUFBU0ksSUFBSTBDLE1BQU1DLEVBQVFDLEVBQWdCSixJQUUvQzVDLEVBQVNpRCxlQUFpQixTQUFVRixFQUFRQyxFQUFnQkosR0FDeEQ1QyxFQUFTSSxJQUFJNkMsZUFBZUYsRUFBUUMsRUFBZ0JKLElBRXhENUMsRUFBU2tELEtBQU8sV0FDWmxELEVBQVNJLElBQUk4QyxRQUVqQmxELEVBQVNtRCxhQUFlLFdBQ3BCbkQsRUFBU0ksSUFBSStDLGdCQUVqQm5ELEVBQVNvRCxjQUFnQixXQUNyQnBELEVBQVNJLElBQUlnRCxpQkFFakJwRCxFQUFTcUQsV0FBYSxXQUNsQnJELEVBQVNJLElBQUlpRCxjQUVqQnJELEVBQVNzRCxZQUFjLFdBQ25CdEQsRUFBU0ksSUFBSWtELGVBRWpCdEQsRUFBU3VELFVBQVksV0FDakIsT0FBTy9ULEtBQUs0USxJQUFJbUQsYUFFcEJ2RCxFQUFTd0QsVUFBWSxTQUFVVCxHQUMzQi9DLEVBQVN5RCxrQkFBa0JWLElBRS9CL0MsRUFBU3lELGtCQUFvQixTQUFVVixFQUFRQyxHQUMzQ2hELEVBQVNJLElBQUlxRCxrQkFBa0JWLEVBQVFDLElBRTNDaEQsRUFBUzBELE1BQVEsU0FBVUMsRUFBT2xhLEVBQU9tYSxFQUFNQyxHQUMzQzdELEVBQVNJLElBQUlzRCxNQUFNQyxFQUFPbGEsRUFBT21hLEVBQU1DLElBRTNDN0QsRUFBUzhELGNBQWdCLFNBQVVyYSxFQUFPc2EsRUFBY0YsRUFBUUYsUUFDOUMsSUFBVkEsSUFBb0JBLEVBQVEsWUFDaEMzRCxFQUFTSSxJQUFJMEQsY0FBY3JhLEVBQU9zYSxFQUFjRixFQUFRRixJQUU1RDNELEVBQVNnRSxVQUFZLFNBQVVDLEVBQU9MLEVBQU1DLEdBQ3hDN0QsRUFBU0ksSUFBSTRELFVBQVVDLEVBQU9MLEVBQU1DLElBTXhDN0QsRUFBU2tFLG1CQUFxQixXQUMxQixPQUFPbEUsRUFBU0ksSUFBSThELHNCQU14QmxFLEVBQVNtRSxvQkFBc0IsV0FDM0IsT0FBT25FLEVBQVNJLElBQUkrRCx1QkFFeEJuRSxFQUFTb0Usa0JBQW9CLFNBQVVDLEdBQ25DLE9BQU9yRSxFQUFTSSxJQUFJZ0Usa0JBQWtCQyxJQVMxQ3JFLEVBQVNzRSxtQkFBcUIsU0FBVUMsR0FDcEMsT0FBT3ZFLEVBQVNJLElBQUlrRSxtQkFBbUJDLElBTTNDdkUsRUFBU3dFLHNCQUF3QixXQUM3QixPQUFPeEUsRUFBU0ksSUFBSW9FLHlCQU94QnhFLEVBQVN5RSxpQkFBbUIsV0FDeEJ6RSxFQUFTSSxJQUFJcUUsb0JBRWpCekUsRUFBUzBFLFdBQWEsU0FBVUMsR0FDNUIzRSxFQUFTSSxJQUFJc0UsV0FBV0MsSUFFNUIzRSxFQUFTNEUsR0FBSyxTQUFVQyxFQUFXdEMsR0FDL0J2QyxFQUFTSSxJQUFJd0UsR0FBR0MsRUFBV3RDLElBRS9CdkMsRUFBUzhFLElBQU0sU0FBVUQsRUFBV3RDLEdBQ2hDdkMsRUFBU0ksSUFBSTBFLElBQUlELEVBQVd0QyxJQUVoQ3ZDLEVBQVMrRSxVQUFZLFdBQ2pCdlYsS0FBSzRRLElBQU0sSUFBSUgsRUFBbUJ6VixRQUFRcEMsU0FFOUM0WCxFQUFTSSxJQUFNLElBQUlILEVBQW1CelYsUUFBUXBDLFFBQzlDNFgsRUFBU2dGLFFBQVV0VixFQUFZbEYsUUFBUWtCLFlBQ2hDc1UsRUExTGtCLEdBNEw3QmhZLEVBQVF3QyxRQUFVd1YsRyw2QkNwTWxCLElBQUlpRixFQUFZelYsTUFBUUEsS0FBS3lWLFVBQWEsV0FTdEMsT0FSQUEsRUFBVy9iLE9BQU9nYyxRQUFVLFNBQVN4YixHQUNqQyxJQUFLLElBQUlhLEVBQUcvQixFQUFJLEVBQUd5QixFQUFJbUksVUFBVTZELE9BQVF6TixFQUFJeUIsRUFBR3pCLElBRTVDLElBQUssSUFBSThCLEtBRFRDLEVBQUk2SCxVQUFVNUosR0FDT1UsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLNEIsRUFBR0QsS0FDekRaLEVBQUVZLEdBQUtDLEVBQUVELElBRWpCLE9BQU9aLElBRUs0SyxNQUFNOUUsS0FBTTRDLFlBRTVCN0MsRUFBbUJDLE1BQVFBLEtBQUtELGlCQUFvQixTQUFVRSxHQUM5RCxPQUFRQSxHQUFPQSxFQUFJN0YsV0FBYzZGLEVBQU0sQ0FBRSxRQUFXQSxJQUV4RHZHLE9BQU9DLGVBQWVuQixFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sSUFDdEQsSUFBSTBiLEVBQWdCNVYsRUFBZ0IsRUFBUSxJQUN4QzZWLEVBQW9CN1YsRUFBZ0IsRUFBUSxJQUM1Q0csRUFBY0gsRUFBZ0IsRUFBUSxJQUN0QzhWLEVBQWtCOVYsRUFBZ0IsRUFBUSxJQUMxQytWLEVBQWtCL1YsRUFBZ0IsRUFBUSxLQUMxQ2dXLEVBQW9CaFcsRUFBZ0IsRUFBUSxLQUM1Q2lXLEVBQW1CalcsRUFBZ0IsRUFBUSxLQUMzQ2tXLEVBQXdCbFcsRUFBZ0IsRUFBUSxJQUNoRG1XLEVBQWdCblcsRUFBZ0IsRUFBUSxLQUN4Q29XLEVBQW1CcFcsRUFBZ0IsRUFBUSxJQUMzQ3FXLEVBQWlCclcsRUFBZ0IsRUFBUSxLQUN6Q3NXLEVBQWF0VyxFQUFnQixFQUFRLEtBR3JDdVcsRUFBY3BXLEVBQVlsRixRQUFRc0UsYUFBYUksUUFDL0M2VyxFQUFrQyxXQUNsQyxTQUFTQSxFQUFpQkMsR0FDdEJ4VyxLQUFLd1csSUFBTUEsRUFDWHhXLEtBQUt5VyxRQUFVLElBQUlMLEVBQWVwYixRQUNsQ2dGLEtBQUswVyxlQUFpQixJQUFJYixFQUFnQjdhLFFBQzFDZ0YsS0FBSzJXLFNBQVcsSUFBSWIsRUFBZ0I5YSxRQUFRZ0YsS0FBSzRXLGNBQWNwYyxLQUFLd0YsTUFBT0EsS0FBSzZXLGNBQWNyYyxLQUFLd0YsT0FDbkdBLEtBQUs4VyxXQUFhLElBQUlmLEVBQWtCL2EsUUFDeENnRixLQUFLK1csVUFBWSxJQUFJZixFQUFpQmhiLFFBQ3RDZ0YsS0FBS2dYLGFBQWUsSUFBSWQsRUFBY2xiLFFBQVFnRixLQUFLNFcsY0FBY3BjLEtBQUt3RixPQUN0RUEsS0FBS2lYLFVBQVksSUFBSVosRUFBV3JiLFFBQVFnRixLQUFLNFcsY0FBY3BjLEtBQUt3RixPQUNoRUEsS0FBS2tYLGlCQUFtQixJQUFJdEIsRUFBa0I1YSxRQUFRd2IsR0E0ZTFELE9BMWVBRCxFQUFpQjNiLFVBQVU4VixXQUFhLFNBQVVDLEdBQ3pDM1EsS0FBSzhXLFdBQVduRyxVQUdyQjNRLEtBQUs4VyxXQUFXbkcsUUFBVUEsSUFFOUI0RixFQUFpQjNiLFVBQVVpVyxTQUFXLFNBQVVDLEdBQzVDOVEsS0FBS21YLE9BQVNyRyxHQU1sQnlGLEVBQWlCM2IsVUFBVW9ILGtCQUFvQixTQUFVQyxHQUNyRGpDLEtBQUs4VyxXQUFXOVUsa0JBQWtCQyxHQUNsQ2pDLEtBQUsrVyxVQUFVL1Usa0JBQWtCQyxJQUVyQ3NVLEVBQWlCM2IsVUFBVW1XLDJCQUE2QixTQUFVaFEsRUFBT2lRLEdBQ3JFaFIsS0FBSzhXLFdBQVcvVixNQUFRQSxFQUN4QmYsS0FBSzhXLFdBQVc5VixVQUFZZ1EsRUFDNUJoUixLQUFLMFcsZUFBZVUsU0FBVSxHQUVsQ2IsRUFBaUIzYixVQUFVcVcsMEJBQTRCLFNBQVVsUSxFQUFPaVEsR0FDcEVoUixLQUFLOFcsV0FBVy9WLE1BQVFBLEVBQ3hCZixLQUFLOFcsV0FBVzlWLFVBQVlnUSxFQUM1QmhSLEtBQUswVyxlQUFlVSxTQUFVLEdBRWxDYixFQUFpQjNiLFVBQVVzVyxjQUFnQixTQUFVQyxHQUNqRG5SLEtBQUsrVyxVQUFVN0YsY0FBY0MsSUFFakNvRixFQUFpQjNiLFVBQVV3VyxZQUFjLFNBQVVDLEdBQy9DclIsS0FBSzhXLFdBQVd6RixTQUFXQSxHQUUvQmtGLEVBQWlCM2IsVUFBVTBXLGNBQWdCLFNBQVVDLEdBQ2pEdlIsS0FBSzhXLFdBQVd2RixZQUFjQSxHQUVsQ2dGLEVBQWlCM2IsVUFBVTRXLGNBQWdCLFNBQVVDLEdBQ2pEelIsS0FBS3FYLFlBQWM1RixHQUV2QjhFLEVBQWlCM2IsVUFBVThXLGVBQWlCLFNBQVVDLEdBQ2xEM1IsS0FBS3NYLGFBQWUzRixHQUV4QjRFLEVBQWlCM2IsVUFBVWdYLG1CQUFxQixTQUFVQyxFQUFjQyxHQUNwRTlSLEtBQUs4VyxXQUFXakYsYUFBZUEsRUFDL0I3UixLQUFLOFcsV0FBV1MsY0FBZ0J6RixHQUVwQ3lFLEVBQWlCM2IsVUFBVW1YLGNBQWdCLFNBQVVDLEdBQ2pEaFMsS0FBS3dYLFlBQWN4RixHQUV2QnVFLEVBQWlCM2IsVUFBVXFYLGlCQUFtQixTQUFVQyxHQUNwRGxTLEtBQUt5WCxlQUFpQnZGLEdBRTFCcUUsRUFBaUIzYixVQUFVdVgsYUFBZSxTQUFVQyxHQUNoRHBTLEtBQUtpWCxVQUFVOUUsYUFBYUMsSUFFaENtRSxFQUFpQjNiLFVBQVV5WCwyQkFBNkIsU0FBVUMsR0FDOUR0UyxLQUFLMFcsZUFBZXBFLHdCQUEwQkEsR0FFbERpRSxFQUFpQjNiLFVBQVUyWCxvQkFBc0IsV0FDN0MsT0FBT3ZTLEtBQUtpWCxVQUFVMUUsdUJBRTFCZ0UsRUFBaUIzYixVQUFVNFgsYUFBZSxXQUN0QyxPQUFPeFMsS0FBS2lYLFVBQVV6RSxnQkFFMUIrRCxFQUFpQjNiLFVBQVU2WCxZQUFjLFdBR3JDLElBRkEsSUFBSUMsRUFDQTlOLEVBQU8sR0FDRitOLEVBQUssRUFBR0EsRUFBSy9QLFVBQVU2RCxPQUFRa00sSUFDcEMvTixFQUFLK04sR0FBTS9QLFVBQVUrUCxHQUV6QixPQUFRRCxFQUFLMVMsS0FBS2lYLFdBQVd4RSxZQUFZM04sTUFBTTROLEVBQUk5TixJQUV2RDJSLEVBQWlCM2IsVUFBVWdZLFlBQWMsV0FDckMsT0FBTzVTLEtBQUtpWCxVQUFVUyxVQUFZLElBRXRDbkIsRUFBaUIzYixVQUFVaVksTUFBUSxXQUMvQixPQUFPN1MsS0FBSzJXLFVBRWhCSixFQUFpQjNiLFVBQVV3YSxHQUFLLFNBQVVDLEVBQVd0QyxHQUNqRC9TLEtBQUt5VyxRQUFRckIsR0FBR0MsRUFBV3RDLElBRS9Cd0QsRUFBaUIzYixVQUFVMGEsSUFBTSxTQUFVRCxFQUFXdEMsR0FDbEQvUyxLQUFLeVcsUUFBUW5CLElBQUlELEVBQVd0QyxJQUVoQ3dELEVBQWlCM2IsVUFBVWljLGNBQWdCLFNBQVVjLEVBQVdDLEdBQzVELElBQUlsVixFQUFRMUMsS0FDWkEsS0FBSzZYLGFBQWFGLEVBQVcsUUFBUSxXQUFjLE9BQU9DLEdBQVVsVixFQUFNb1YsU0FBU0YsT0FHdkZyQixFQUFpQjNiLFVBQVVrWSx3QkFBMEIsU0FBVUMsR0FDM0QvUyxLQUFLMFcsZUFBZTVELHdCQUF3QkMsSUFFaER3RCxFQUFpQjNiLFVBQVVvWSwyQkFBNkIsU0FBVUQsR0FDOUQvUyxLQUFLMFcsZUFBZTFELDJCQUEyQkQsSUFFbkR3RCxFQUFpQjNiLFVBQVVxWSwyQkFBNkIsU0FBVUYsR0FDOUQvUyxLQUFLaVgsVUFBVWhFLDJCQUEyQkYsSUFFOUN3RCxFQUFpQjNiLFVBQVVzWSw4QkFBZ0MsU0FBVUgsR0FDakUvUyxLQUFLaVgsVUFBVS9ELDhCQUE4QkgsSUFFakR3RCxFQUFpQjNiLFVBQVV1WSxtQkFBcUIsU0FBVUMsR0FDdEQsSUFBSTFRLEVBQVExQyxLQUNSNEUsR0FBTyxJQUFJK1EsRUFBYzNhLFNBQ3hCc0YsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPb0Msa0JBQWtCLEdBQ2pEOEIsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPcUMsMkJBQTRCdUIsS0FBSzBXLGVBQWVwRSx5QkFDcEZ0UyxLQUFLNFcsY0FBYzFXLEVBQVlsRixRQUFRQyxRQUFRWSxTQUFVK0ksRUFBTSxDQUMzRHBDLFFBQVEsRUFDUnVWLFNBQVMsRUFDVDFULFNBQVUsU0FBVUEsR0FDaEIsSUFBSTJULEVBQWtCdFYsRUFBTW9VLFdBQVdtQixnQkFBZ0I1VCxHQUNuRDZULEVBQVl4VixFQUFNb1UsV0FBV3FCLGtCQUFrQkgsR0FDL0NFLElBQ0F4VixFQUFNdVUsVUFBVW1CLFdBQVdKLEVBQWdCOVgsRUFBWWxGLFFBQVE2RCxLQUFLWixNQUFPK1osRUFBZ0I5WCxFQUFZbEYsUUFBUTZELEtBQUtLLFVBQVc4WSxFQUFnQjlYLEVBQVlsRixRQUFRNkQsS0FBS08sa0JBQ3hLc0QsRUFBTXVVLFVBQVVvQixvQkFBb0JMLEVBQWdCOVgsRUFBWWxGLFFBQVE2RCxLQUFLTSxzQkFFN0VpVSxHQUNBQSxFQUFTOEUsT0FLekIzQixFQUFpQjNiLFVBQVV5WSxpQkFBbUIsU0FBVXBSLEdBQ3BEakMsS0FBS3NZLGVBQWlCclcsR0FFMUJzVSxFQUFpQjNiLFVBQVUwWSxNQUFRLFNBQVVDLEVBQVFDLEVBQWdCSixHQUNqRSxJQUFJMVEsRUFBUTFDLEtBZVosR0Fkc0IsbUJBQVh1VCxHQUNQSCxFQUFXRyxFQUNYQyxFQUFpQixHQUNqQkQsRUFBUyxNQUVjLGlCQUFYQSxHQUFQLE1BQThCQSxHQUNuQ0gsRUFBV0ksRUFDWEEsRUFBaUJELEVBQ2pCQSxFQUFTLE1BRXNCLG1CQUFuQkMsSUFDWkosRUFBV0ksRUFDWEEsRUFBaUIsSUFFakJ4VCxLQUFLdVksbUJBQ0wsT0FBT3ZZLEtBQUt5VCxlQUFlRixFQUFRQyxFQUFnQkosR0FFdkRwVCxLQUFLOFcsV0FBV3ZELE9BQVNBLEVBQ3JCSCxHQUNBcFQsS0FBSzhTLHdCQUF3Qk0sR0FFakNwVCxLQUFLaVgsVUFBVXVCLFNBQVcsV0FDdEI5VixFQUFNdVUsVUFBVXdCLG1DQUVwQixJQUFJN1QsR0FBTyxJQUFJK1EsRUFBYzNhLFNBQ3hCc0YsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPZ0IsZ0JBQWlCcUQsS0FBS0MsVUFBVThTLElBQy9EbFQsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPa0IsUUFBUzRDLEVBQVlsRixRQUFRNEUsT0FBT0MsUUFDbkVTLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT21CLE9BQVEyQyxFQUFZbEYsUUFBUTRFLE9BQU9DLFFBQ2xFUyxJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU9vQixLQUFNMEMsRUFBWWxGLFFBQVE0RSxPQUFPQyxRQUNoRVMsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPcUIsU0FBVXlDLEVBQVlsRixRQUFRNEUsT0FBT0MsUUFDcEVTLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT1UsWUFBYWtELEtBQUt3WCxhQUFleFgsS0FBS2tYLGlCQUFpQndCLElBQ3RGcFksSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPVyxnQkFBaUJpRCxLQUFLeVgsZ0JBQWtCLElBQUloUSxZQUMzRW5ILElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT1ksYUFBY2dELEtBQUtrWCxpQkFBaUJ5QixTQUNuRXJZLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT2EsZ0JBQWlCK0MsS0FBS2tYLGlCQUFpQjBCLFFBQVFuUixZQUM5RW5ILElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT2lCLE9BQVE2QyxFQUFZbEYsUUFBUTRFLE9BQU9DLFFBQ2xFUyxJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU9jLFlBQWE4QyxLQUFLcVgsYUFDbERyWCxLQUFLa1gsaUJBQWlCeUIsUUFBVSxJQUFNM1ksS0FBS2tYLGlCQUFpQjBCLFNBQzNEdFksSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPZSxhQUFjNkMsS0FBS3NYLGNBQWdCLGVBQ2xFaFgsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPc0Msa0JBQW1Cc0IsS0FBSzJXLFNBQVNrQyxjQUNoRXZZLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT29DLGtCQUFrQixHQUNqRDhCLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT3FDLDJCQUE0QnVCLEtBQUswVyxlQUFlcEUseUJBQ3BGdFMsS0FBSzRXLGNBQWMxVyxFQUFZbEYsUUFBUUMsUUFBUUMsTUFBTzBKLEVBQU0sQ0FDeERwQyxRQUFRLEVBQ1J1VixTQUFTLEVBQ1QxVCxTQUFVLFNBQVVBLEdBQ2hCM0IsRUFBTWdVLGVBQWVvQyxZQUFhLEVBQ2xDLElBQUlDLEVBQWdCclcsRUFBTW9VLFdBQVdtQixnQkFBZ0I1VCxHQUNqRDZULEVBQVl4VixFQUFNb1UsV0FBV3FCLGtCQUFrQlksR0FDbkQsR0FBSWIsRUFBVyxDQU9YLEdBTkF4VixFQUFNZ1UsZUFBZXNDLGlCQUFrQixFQUN2Q3RXLEVBQU11VyxnQkFDTnZXLEVBQU13VyxjQUFnQkgsRUFBYzdZLEVBQVlsRixRQUFRNkQsS0FBS0ksVUFDekQ4WixFQUFjN1ksRUFBWWxGLFFBQVE2RCxLQUFLRyxhQUN2QzBELEVBQU1pVSxTQUFTd0MsbUJBRWZ6VyxFQUFNZ1UsZUFBZVUsUUFBUyxDQUM5QixJQUFJZ0MsRUFBZ0JMLEVBQWM3WSxFQUFZbEYsUUFBUTZELEtBQUtFLGdCQUN2RHFhLEdBQ0FDLFFBQVFDLElBQUksd0NBQTBDRixFQUFnQixnSUFFMUUxVyxFQUFNNlcsZ0JBRVY3VyxFQUFNdVUsVUFBVW1CLFdBQVdXLEVBQWM3WSxFQUFZbEYsUUFBUTZELEtBQUtaLE1BQU84YSxFQUFjN1ksRUFBWWxGLFFBQVE2RCxLQUFLSyxVQUFXNlosRUFBYzdZLEVBQVlsRixRQUFRNkQsS0FBS08sa0JBQ2xLc0QsRUFBTXVVLFVBQVVvQixvQkFBb0JVLEVBQWM3WSxFQUFZbEYsUUFBUTZELEtBQUtNLHFCQUMzRXVELEVBQU11VSxVQUFVdUMsTUFBUVQsRUFBYzdZLEVBQVlsRixRQUFRNkQsS0FBS1EsWUFHL0RxRCxFQUFNZ1UsZUFBZXNDLGlCQUFrQixFQUN2Q3RXLEVBQU11VSxVQUFVd0MsWUFFcEIvVyxFQUFNK1QsUUFBUWlELEtBQUssUUFBUyxDQUFFcFgsUUFBUzRWLElBQ3ZDeFYsRUFBTWdVLGVBQWVpRCwyQkFJakNwRCxFQUFpQjNiLFVBQVU2WSxlQUFpQixTQUFVRixFQUFRQyxFQUFnQkosR0FDcEQsbUJBQVhHLEdBQ1BILEVBQVdHLEVBQ1hDLEVBQWlCLEdBQ2pCRCxFQUFTLE1BRWMsaUJBQVhBLEdBQVAsTUFBOEJBLEdBQ25DSCxFQUFXSSxFQUNYQSxFQUFpQkQsRUFDakJBLEVBQVMsTUFFc0IsbUJBQW5CQyxJQUNaSixFQUFXSSxFQUNYQSxFQUFpQixJQUVyQnhULEtBQUtpWixnQkFDTGpaLEtBQUs4VyxXQUFXdkQsT0FBU0EsRUFDckJILEdBQ0FwVCxLQUFLOFMsd0JBQXdCTSxHQUVqQ3BULEtBQUswVyxlQUFlb0MsWUFBYSxFQUNqQzlZLEtBQUswVyxlQUFlc0MsaUJBQWtCLEVBQ2xDaFosS0FBSzBXLGVBQWVVLFNBQ3BCcFgsS0FBS3VaLGdCQUVUdlosS0FBS2lYLFVBQVV3QyxZQUNmelosS0FBS3lXLFFBQVFpRCxLQUFLLFVBQ2xCMVosS0FBSzBXLGVBQWVpRCx3QkFFeEJwRCxFQUFpQjNiLFVBQVU4WSxLQUFPLFdBQzlCMVQsS0FBSzRXLGNBQWMxVyxFQUFZbEYsUUFBUUMsUUFBUUUsVUFBTWdOLEVBQVcsQ0FDNUQ0UCxTQUFTLEVBQ1R2VixRQUFRLEVBQ1I2QixTQUFVLFdBQ040UixFQUFzQmpiLFFBQVEwRyx1QkFBdUI0VSxPQUlqRUMsRUFBaUIzYixVQUFVK1ksYUFBZSxXQUN0QzNULEtBQUs0VyxjQUFjMVcsRUFBWWxGLFFBQVFDLFFBQVFLLG1CQUFlNk0sRUFBVyxDQUNyRTRQLFNBQVMsRUFDVHZWLFFBQVEsS0FHaEIrVCxFQUFpQjNiLFVBQVVnWixjQUFnQixXQUN2QzVULEtBQUt5VyxRQUFRaUQsS0FBSyxVQUNsQjFaLEtBQUs0VyxjQUFjMVcsRUFBWWxGLFFBQVFDLFFBQVFNLG9CQUFnQjRNLEVBQVcsQ0FDdEU0UCxTQUFTLEVBQ1R2VixRQUFRLEtBR2hCK1QsRUFBaUIzYixVQUFVaVosV0FBYSxXQUNwQzdULEtBQUs0VyxjQUFjMVcsRUFBWWxGLFFBQVFDLFFBQVFPLGlCQUFhMk0sRUFBVyxDQUNuRTNGLFFBQVEsS0FHaEIrVCxFQUFpQjNiLFVBQVVrWixZQUFjLFdBQ3JDOVQsS0FBSzRXLGNBQWMxVyxFQUFZbEYsUUFBUUMsUUFBUVEsa0JBQWMwTSxFQUFXLENBQ3BFM0YsUUFBUSxLQUdoQitULEVBQWlCM2IsVUFBVW1aLFVBQVksV0FDbkMsT0FBTy9ULEtBQUs4VyxXQUFXdkQsUUFFM0JnRCxFQUFpQjNiLFVBQVVvWixVQUFZLFNBQVVULEdBQzdDdlQsS0FBS2lVLGtCQUFrQlYsSUFFM0JnRCxFQUFpQjNiLFVBQVVxWixrQkFBb0IsU0FBVVYsRUFBUUMsR0FDN0QsUUFBdUJyTCxJQUFuQnFMLEVBQ0EsR0FBc0IsaUJBQVhELEVBQ1BDLEVBQWlCRCxFQUNqQkEsT0FBU3BMLE9BRVIsR0FBc0IsaUJBQVhvTCxFQUdaLFlBRkE4RixRQUFRQyxJQUFJLDZEQUtwQixJQUFJMVUsR0FBTyxJQUFJK1EsRUFBYzNhLFNBQ3hCc0YsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPZ0IsZ0JBQWlCb1csRUFBaUIvUyxLQUFLQyxVQUFVOFMsUUFBa0JyTCxHQUNsRzdILElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT08sWUFBYTRXLEdBQ2pEdlQsS0FBS3lXLFFBQVFpRCxLQUFLLG1CQUFvQmxHLEdBQ3RDeFQsS0FBSzRXLGNBQWMxVyxFQUFZbEYsUUFBUUMsUUFBUWEsb0JBQXFCOEksRUFBTSxDQUN0RXBDLFFBQVEsSUFFUitRLElBQ0F2VCxLQUFLOFcsV0FBV3ZELE9BQVNBLEVBQ3pCMEMsRUFBc0JqYixRQUFRd0csbUJBQW1CdEIsRUFBWWxGLFFBQVFzRSxhQUFhNUMsUUFBU3NELEtBQUs4VyxXQUFXdkQsVUFHbkhnRCxFQUFpQjNiLFVBQVVzWixNQUFRLFNBQVVDLEVBQU9sYSxFQUFPbWEsRUFBTUMsR0FDN0QsSUFBSTNSLEVBQVExQyxLQUNTLGlCQUFWL0YsR0FBUCxNQUE2QkEsR0FDN0JvYSxFQUFTcGEsRUFDVG1hLE9BQU9qTSxFQUNQbE8sT0FBUWtPLEdBRWMsaUJBQVZsTyxHQUNab2EsRUFBU0QsRUFDVEEsRUFBT25hLEVBQ1BBLE9BQVFrTyxHQUVhLGlCQUFUaU0sR0FBUCxNQUE0QkEsSUFDakNDLEVBQVNELEVBQ1RBLE9BQU9qTSxHQUVYLElBQUl2RCxHQUFPLElBQUkrUSxFQUFjM2EsU0FDeEJzRixJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU93QixNQUFPdVcsR0FDdEM3VCxJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU95QixNQUFPNUQsR0FBUyxHQUMvQ3FHLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT3VCLEtBQU15VyxHQUNyQzlULElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT0EsT0FBUXFFLEtBQUtDLFVBQVUyVCxJQUMzRHJVLEtBQUt5VyxRQUFRaUQsS0FBSyxRQUFTLENBQUVyRSxVQUFXbEIsRUFBT0UsT0FBUUEsSUFDdkRyVSxLQUFLNFcsY0FBYzFXLEVBQVlsRixRQUFRQyxRQUFRSSxNQUFPdUosRUFBTSxDQUN4RHBDLFFBQVEsRUFDUjZCLFNBQVUsV0FBYyxPQUFPM0IsRUFBTXVXLG9CQUc3QzFDLEVBQWlCM2IsVUFBVTBaLGNBQWdCLFNBQVVyYSxFQUFPc2EsRUFBY0YsRUFBUUYsUUFDaEUsSUFBVkEsSUFBb0JBLEVBQVEsWUFDaEMsSUFBSXZQLEdBQU8sSUFBSStRLEVBQWMzYSxTQUN4QnNGLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT3dCLE1BQU91VyxHQUN0QzdULElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT3lCLE1BQU81RCxHQUFTLEdBQy9DcUcsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPQSxPQUFRcUUsS0FBS0MsVUFBVTJULElBQ3ZERSxHQUNBM1AsRUFBS3RFLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT0ksY0FBZStYLEdBRXZEdlUsS0FBS3lXLFFBQVFpRCxLQUFLLFFBQVMsQ0FBRXJFLFVBQVdsQixJQUN4Q25VLEtBQUs0VyxjQUFjMVcsRUFBWWxGLFFBQVFDLFFBQVFJLE1BQU91SixFQUFNLENBQ3hEcEMsUUFBUSxLQUdoQitULEVBQWlCM2IsVUFBVTRaLFVBQVksU0FBVUMsRUFBT0wsRUFBTUMsR0FDdEMsaUJBQVRELEdBQVAsTUFBNEJBLElBQzVCQyxFQUFTRCxFQUNUQSxPQUFPak0sR0FFWCxJQUFJdkQsR0FBTyxJQUFJK1EsRUFBYzNhLFNBQ3hCc0YsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPc0IsTUFBTytXLEdBQ3RDblUsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPdUIsS0FBTXlXLEdBQ3JDOVQsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPQSxPQUFRcUUsS0FBS0MsVUFBVTJULElBQzNEclUsS0FBS3lXLFFBQVFpRCxLQUFLLGVBQWdCLENBQUVqRixNQUFPQSxJQUMzQ3pVLEtBQUs0VyxjQUFjMVcsRUFBWWxGLFFBQVFDLFFBQVFHLFFBQVN3SixFQUFNLENBQzFEcEMsUUFBUSxLQU9oQitULEVBQWlCM2IsVUFBVThaLG1CQUFxQixXQUM1QyxPQUFPMVUsS0FBS2dYLGFBQWF0QyxzQkFNN0I2QixFQUFpQjNiLFVBQVUrWixvQkFBc0IsV0FDN0MsT0FBTzNVLEtBQUtnWCxhQUFhckMsdUJBRTdCNEIsRUFBaUIzYixVQUFVZ2Esa0JBQW9CLFNBQVVDLEdBQ3JEN1UsS0FBSzRaLGdCQUFrQm5FLEVBQVMsR0FBSVosSUFTeEMwQixFQUFpQjNiLFVBQVVrYSxtQkFBcUIsU0FBVUMsR0FDdEQsSUFBSXJTLEVBQVExQyxLQUNaLEdBQUlBLEtBQUtnWCxhQUFhdEMscUJBQXNCLENBQ3hDLElBTUlHLEVBQVU3VSxLQUFLNFosZ0JBQ2ZDLEVBQVk5RSxHQUFvQkYsRUFBUUUsaUJBQ3hDK0UsRUFBUWpGLEdBQVdBLEVBQVFpRixNQUFRLENBQUVBLE1BQU9qRixFQUFRaUYsT0FBVSxLQUNsRSxPQUFPOVosS0FBS2dYLGFBQWErQyxTQUFTRixFQUFXQyxHQVQ3QixTQUFVRSxHQUN0QixPQUFJQSxFQUNPL1EsUUFBUW1ILFNBQVEsR0FFcEIxTixFQUFNc1UsYUFBYWlELG1CQVE5QixPQUFPaFIsUUFBUWlSLE9BQU8sd0NBTzlCM0QsRUFBaUIzYixVQUFVb2Esc0JBQXdCLFdBQy9DLE9BQU9oVixLQUFLZ1gsYUFBYW1ELG1CQU83QjVELEVBQWlCM2IsVUFBVXFhLGlCQUFtQixXQUMxQ2pWLEtBQUtpWCxVQUFVaEMsb0JBR25Cc0IsRUFBaUIzYixVQUFVc2EsV0FBYSxTQUFVQyxHQUM5QyxJQUFJelMsRUFBUTFDLEtBQ1ptVixFQUFNck8sU0FBUSxTQUFVc1QsR0FBYyxPQUFPMVgsRUFBTTBYLEVBQVc3Z0IsTUFBTXVMLE1BQU1wQyxFQUFPMFgsRUFBV3hWLFVBRWhHMlIsRUFBaUIzYixVQUFVZ2MsY0FBZ0IsU0FBVWdCLEVBQVFoVCxFQUFNaVEsUUFDL0MsSUFBWkEsSUFBc0JBLEVBQVUsSUFDcEM3VSxLQUFLOFcsV0FBV3VELFFBQVF6QyxFQUFRaFQsRUFBTTZRLEVBQVMsQ0FBRTJCLFFBQVNwWCxLQUFLMFcsZUFBZVUsU0FBV3ZDLEtBRTdGMEIsRUFBaUIzYixVQUFVMmUsY0FBZ0IsV0FDdkN2WixLQUFLK1csVUFBVXVELFFBQVF0YSxLQUFLaVgsVUFBVyxDQUNuQ2xXLE1BQU9mLEtBQUs4VyxXQUFXL1YsTUFDdkJzUSxTQUFVclIsS0FBSzhXLFdBQVd6RixVQUMzQnJSLEtBQUs0VyxjQUFjcGMsS0FBS3dGLE1BQU9BLEtBQUs4VyxXQUFXbUIsZ0JBQWdCemQsS0FBS3dGLEtBQUs4VyxjQUVoRlAsRUFBaUIzYixVQUFVMmQsaUJBQW1CLFdBQzFDLElBQUt2WSxLQUFLc1ksZUFDTixPQUFPLEVBRVgsSUFBSWlDLEVBQWNDLEtBQUtDLE1BQ25CQyxFQUFhQyxTQUFTMUUsRUFBc0JqYixRQUFRc0csb0JBQW9CZ1YsSUFDNUUsT0FBSXNFLE1BQU1GLElBR05ILEVBQWNHLEVBQW1DLElBQXRCMWEsS0FBS3NZLGdCQUt4Qy9CLEVBQWlCM2IsVUFBVXFlLGNBQWdCLFdBQ3ZDaEQsRUFBc0JqYixRQUFRd0csbUJBQW1COFUsRUFBYW5MLE9BQU9xUCxLQUFLQyxTQUU5RWxFLEVBQWlCM2IsVUFBVWlkLGFBQWUsU0FBVUYsRUFBV3hELEVBQU85UCxRQUNwRCxJQUFWOFAsSUFBb0JBLEVBQVEsV0FDZixJQUFiOVAsSUFBdUJBLEVBQVcsY0FDdEMsSUFBSU8sR0FBTyxJQUFJK1EsRUFBYzNhLFNBQ3hCc0YsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPdUMsV0FBWWdaLEdBQzVDeEQsR0FDQXZQLEVBQUt0RSxJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU93QixNQUFPdVcsR0FFL0NuVSxLQUFLNFcsY0FBYzFXLEVBQVlsRixRQUFRQyxRQUFRSSxNQUFPdUosRUFBTSxDQUN4RHBDLFFBQVEsRUFDUnVWLFNBQVMsRUFDVDFULFNBQVVBLEtBR2xCa1MsRUFBaUIzYixVQUFVa2QsU0FBVyxTQUFVRixHQUM1QyxJQUFJbFYsRUFBUTFDLEtBQ1I2YSxFQUFXN2EsS0FBS2taLGVBQWlCLEdBQ3JDLEdBQUl0QixHQUE4Qiw4QkFBcEJBLEVBQU9rRCxTQUFyQixDQUNJLElBQUlDLEVBQW1CbkQsRUFBTyxtQkFDMUJvRCxFQUFZSCxFQUFTRSxHQUNyQkMsR0FDQWhiLEtBQUs2WCxhQUFha0QsRUFBa0IsUUFBUSxXQUFjLE9BQU9yWSxFQUFNb1YsU0FBU2tELEVBQVVDLGFBSmxHLENBUUEsSUFBSUMsRUFBZ0IsV0FDUSxhQUFwQnRELEVBQU9rRCxVQUNQcFksRUFBTThULElBQUkxVCxTQUFTNFMsT0FBT2tDLEVBQU91RCxNQUdyQ3hELEVBQVkzWCxLQUFLb2Isb0JBQW9CeEQsR0FDckNELEVBQ0EzWCxLQUFLNlgsYUFBYUYsRUFBVyxLQUFNdUQsR0FHbkNBLE1BR1IzRSxFQUFpQjNiLFVBQVV3Z0Isb0JBQXNCLFNBQVV4RCxHQUN2RCxJQUFJaUQsRUFBVzdhLEtBQUtrWixlQUFpQixHQUNqQytCLEVBQU94RixFQUFTLEdBQUltQyxVQUNqQnFELEVBQXVCLGlCQUM5QixJQUFLLElBQUl0SSxFQUFLLEVBQUdELEVBQUtoWixPQUFPa08sS0FBS2lULEdBQVdsSSxFQUFLRCxFQUFHak0sT0FBUWtNLElBQU0sQ0FDL0QsSUFBSTBJLEVBQUszSSxFQUFHQyxHQUNSMUYsRUFBVTROLEVBQVNRLEdBQ3ZCLEdBQUlwTyxFQUFRcU8sbUJBQXFCMUQsRUFBTzBELGtCQUdwQ25GLEVBQWlCbmIsUUFBUWlTLEVBQVFnTyxLQUFNQSxHQUN2QyxPQUFPSSxJQUlaOUUsRUF0ZjBCLEdBd2ZyQy9kLEVBQVF3QyxRQUFVdWIsRyw2QkN0aEJsQjdjLE9BQU9DLGVBQWVuQixFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sSUFLdEQsSUFBSXNoQixFQUFpQyxXQUlqQyxTQUFTQSxFQUFnQi9FLEdBQ3JCeFcsS0FBSzJZLFFBQVUzWSxLQUFLd2IsYUFBYXhiLEtBQUt5YixlQUFlakYsS0FBUyxrQkFDOUR4VyxLQUFLNFksUUFBVzVZLEtBQUswYixjQUFjbEYsRUFBSW1GLFVBQVVDLFlBQzdDNWIsS0FBSzBiLGNBQWNsRixFQUFJbUYsVUFBVUUsYUFDakMsa0JBQ0o3YixLQUFLMFksR0FBSzFZLEtBQUt3YixhQUFheGIsS0FBSzhiLFVBQVV0RixLQUFTLGFBOEl4RCxPQXZJQStFLEVBQWdCM2dCLFVBQVU0Z0IsYUFBZSxTQUFVblosR0FDL0MsSUFBSyxJQUFJckosRUFBSSxFQUFHQSxFQUFJcUosRUFBS29FLE9BQVF6TixJQUFLLENBQ2xDLElBQUkraUIsRUFBYTFaLEVBQUtySixHQUFHZ2pCLE9BQ3JCQyxFQUFXNVosRUFBS3JKLEdBQUdrakIsS0FFdkIsR0FEQWxjLEtBQUttYyxvQkFBc0I5WixFQUFLckosR0FBR29qQixlQUFpQi9aLEVBQUtySixHQUFHcWpCLFNBQ3hETixHQUNBLElBQStDLElBQTNDQSxFQUFXL1ksUUFBUVgsRUFBS3JKLEdBQUdzakIsV0FDM0IsT0FBT2phLEVBQUtySixHQUFHcWpCLGNBR2xCLEdBQUlKLEVBQ0wsT0FBTzVaLEVBQUtySixHQUFHcWpCLFdBVTNCZCxFQUFnQjNnQixVQUFVOGdCLGNBQWdCLFNBQVVLLEdBQ2hELEdBQUtBLEVBQUwsQ0FHQSxJQUFJdlYsRUFBUXVWLEVBQVcvWSxRQUFRaEQsS0FBS21jLHFCQUNwQyxJQUFlLElBQVgzVixFQUdKLE9BQU8rVixXQUFXUixFQUFXOVksVUFBVXVELEVBQVF4RyxLQUFLbWMsb0JBQW9CMVYsT0FBUyxNQUVyRjhVLEVBQWdCM2dCLFVBQVU2Z0IsZUFBaUIsU0FBVWpGLEdBQ2pELE1BQU8sQ0FDSCxDQUNJd0YsT0FBUXhGLEVBQUltRixVQUFVQyxVQUN0QlUsVUFBVyxTQUNYRCxTQUFVLFVBRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVQyxVQUN0QlUsVUFBVyxVQUNYRCxTQUFVLFVBQ1ZELGNBQWUsWUFFbkIsQ0FDSUosT0FBUXhGLEVBQUltRixVQUFVYSxPQUN0QkYsVUFBVyxRQUNYRCxTQUFVLFNBQ1ZELGNBQWUsV0FFbkIsQ0FDSUYsS0FBTTFGLEVBQUlpRyxNQUNWSixTQUFVLFFBQ1ZELGNBQWUsV0FFbkIsQ0FDSUosT0FBUXhGLEVBQUltRixVQUFVYSxPQUN0QkYsVUFBVyxPQUNYRCxTQUFVLFFBRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVYSxPQUN0QkYsVUFBVyxNQUNYRCxTQUFVLGFBRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVQyxVQUN0QlUsVUFBVyxVQUNYRCxTQUFVLFdBRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVYSxPQUN0QkYsVUFBVyxTQUNYRCxTQUFVLFVBRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVQyxVQUN0QlUsVUFBVyxXQUNYRCxTQUFVLFlBRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVQyxVQUN0QlUsVUFBVyxPQUNYRCxTQUFVLFdBQ1ZELGNBQWUsUUFFbkIsQ0FDSUosT0FBUXhGLEVBQUltRixVQUFVQyxVQUN0QlUsVUFBVyxVQUNYRCxTQUFVLGtCQUNWRCxjQUFlLFdBRW5CLENBQ0lKLE9BQVF4RixFQUFJbUYsVUFBVUMsVUFDdEJVLFVBQVcsUUFDWEQsU0FBVSxVQUNWRCxjQUFlLE1BRW5CLENBQ0lKLE9BQVF4RixFQUFJbUYsVUFBVUMsVUFDdEJVLFVBQVcsVUFDWEQsU0FBVSxXQUNWRCxjQUFlLGFBSTNCYixFQUFnQjNnQixVQUFVa2hCLFVBQVksU0FBVXRGLEdBQzVDLE1BQU8sQ0FDSCxDQUNJd0YsT0FBUXhGLEVBQUltRixVQUFVZSxTQUN0QkosVUFBVyxNQUNYRCxTQUFVLFdBRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVZSxTQUN0QkosVUFBVyxNQUNYRCxTQUFVLFVBRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVQyxVQUN0QlUsVUFBVyxTQUNYRCxTQUFVLE9BRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVQyxVQUN0QlUsVUFBVyxVQUNYRCxTQUFVLFdBRWQsQ0FDSUwsT0FBUXhGLEVBQUltRixVQUFVZSxTQUN0QkosVUFBVyxRQUNYRCxTQUFVLFdBSWZkLEVBdkp5QixHQXlKcEMvaUIsRUFBUXdDLFFBQVV1Z0IsRyw2QkM5SmxCN2hCLE9BQU9DLGVBQWVuQixFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sSUFDdEQsSUFBSTBpQixFQUErQixXQUMvQixTQUFTQSxJQUNMM2MsS0FBSzRjLGNBQWdCLEdBQ3JCNWMsS0FBS29YLFNBQVUsRUFDZnBYLEtBQUs4WSxZQUFhLEVBQ2xCOVksS0FBS2daLGlCQUFrQixFQUN2QmhaLEtBQUtzUyx5QkFBMEIsRUFtQm5DLE9BakJBcUssRUFBYy9oQixVQUFVa1ksd0JBQTBCLFNBQVVDLEdBQ3hEL1MsS0FBSzRjLGNBQWNqWSxLQUFLb08sR0FDcEIvUyxLQUFLOFksWUFDTC9GLEVBQVEvUyxLQUFLZ1osa0JBR3JCMkQsRUFBYy9oQixVQUFVb1ksMkJBQTZCLFNBQVVELEdBQzNELElBQUk4SixFQUFNN2MsS0FBSzRjLGNBQWM1WixRQUFRK1AsR0FDakM4SixHQUFPLEdBQ1A3YyxLQUFLNGMsY0FBY3RVLE9BQU91VSxFQUFLLElBR3ZDRixFQUFjL2hCLFVBQVUrZSxxQkFBdUIsV0FDM0MsSUFBSyxJQUFJM2dCLEVBQUksRUFBR0EsRUFBSWdILEtBQUs0YyxjQUFjblcsT0FBUXpOLElBQzNDZ0gsS0FBSzRjLGNBQWM1akIsR0FBR2dILEtBQUtnWixrQkFHNUIyRCxFQXpCdUIsR0EyQmxDbmtCLEVBQVF3QyxRQUFVMmhCLEcsNkJDM0NsQixJQUFJbEgsRUFBWXpWLE1BQVFBLEtBQUt5VixVQUFhLFdBU3RDLE9BUkFBLEVBQVcvYixPQUFPZ2MsUUFBVSxTQUFTeGIsR0FDakMsSUFBSyxJQUFJYSxFQUFHL0IsRUFBSSxFQUFHeUIsRUFBSW1JLFVBQVU2RCxPQUFRek4sRUFBSXlCLEVBQUd6QixJQUU1QyxJQUFLLElBQUk4QixLQURUQyxFQUFJNkgsVUFBVTVKLEdBQ09VLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBSzRCLEVBQUdELEtBQ3pEWixFQUFFWSxHQUFLQyxFQUFFRCxJQUVqQixPQUFPWixJQUVLNEssTUFBTTlFLEtBQU00QyxZQUU1QjdDLEVBQW1CQyxNQUFRQSxLQUFLRCxpQkFBb0IsU0FBVUUsR0FDOUQsT0FBUUEsR0FBT0EsRUFBSTdGLFdBQWM2RixFQUFNLENBQUUsUUFBV0EsSUFFeER2RyxPQUFPQyxlQUFlbkIsRUFBUyxhQUFjLENBQUV5QixPQUFPLElBQ3RELElBQUkwYixFQUFnQjVWLEVBQWdCLEVBQVEsSUFDeENHLEVBQWNILEVBQWdCLEVBQVEsSUFDdEMrYyxFQUErQixXQUMvQixTQUFTQSxFQUFjbEcsRUFBZWtCLEdBQ2xDOVgsS0FBSzRXLGNBQWdCQSxFQUNyQjVXLEtBQUs4WCxTQUFXQSxFQUNoQjlYLEtBQUsrYyxXQUFhLEdBQ2xCL2MsS0FBS2dkLGVBQWlCLEdBQ3RCaGQsS0FBS2lkLE9BNkZULE9BM0ZBSCxFQUFjbGlCLFVBQVV1ZSxpQkFBbUIsV0FDdkMsSUFBSXpXLEVBQVExQyxLQUNaQSxLQUFLNFcsY0FBYywyQkFBdUJ6TyxFQUFXLENBQ2pEM0YsUUFBUSxFQUNSdVYsU0FBUyxFQUNUMVQsU0FBVSxTQUFVaEMsR0FDaEIsSUFBSWdDLEVBQVdoQyxFQUFLZ0MsU0FBUyxHQUN6QkEsR0FBWUEsRUFBUzZZLG1CQUNyQnhhLEVBQU1xYSxXQUFhMVksRUFBUzZZLGlCQUM1QnhhLEVBQU15YSw2QkFLdEJMLEVBQWNsaUIsVUFBVXdpQixXQUFhLFNBQVV6RixHQUMzQyxJQUFJMUssRUFBVWpOLEtBQUsrYyxXQUFXcEYsR0FDOUIsR0FBSzFLLElBR0FBLEVBQVFvUSxPQUFRLENBQ2pCcFEsRUFBUW9RLFFBQVMsRUFDakJyZCxLQUFLbWQsd0JBQ0wsSUFBSXZZLEVBQU8sSUFBSStRLEVBQWMzYSxRQUM3QjRKLEVBQUt0RSxJQUFJLG9CQUFxQnFYLEdBQzlCM1gsS0FBSzRXLGNBQWMsNEJBQTZCaFMsRUFBTSxNQUc5RGtZLEVBQWNsaUIsVUFBVTBpQixLQUFPLFNBQVUzRixHQUNyQzNYLEtBQUtvZCxXQUFXekYsR0FDaEIsSUFBSTRGLEVBQWV2ZCxLQUFLaU4sUUFBUTBLLEdBQzVCMEQsRUFBSzFELEVBQVU2RixNQUFNLE1BQU0sR0FDM0JDLEdBQWNGLGFBQW1ELEVBQVNBLEVBQWFFLGVBQWlCLEtBQzVHemQsS0FBSzhYLFNBQVN1RCxFQUFJb0MsSUFFdEJYLEVBQWNsaUIsVUFBVThpQixPQUFTLFNBQVUvRixHQUV2QyxHQURjM1gsS0FBSytjLFdBQVdwRixHQUM5QixRQUdPM1gsS0FBSytjLFdBQVdwRixHQUN2QjNYLEtBQUttZCx3QkFDTCxJQUFJdlksRUFBTyxJQUFJK1EsRUFBYzNhLFFBQzdCNEosRUFBS3RFLElBQUksb0JBQXFCcVgsR0FDOUIzWCxLQUFLNFcsY0FBYyx3QkFBeUJoUyxFQUFNLE1BRXREa1ksRUFBY2xpQixVQUFVK2lCLFVBQVksU0FBVTVLLEdBQzFDL1MsS0FBS2dkLGVBQWVyWSxLQUFLb08sSUFFN0IrSixFQUFjbGlCLFVBQVV1aUIsc0JBQXdCLFdBQzVDbmQsS0FBS2dkLGVBQWVsVyxTQUFRLFNBQVVpTSxHQUFXLE9BQU9BLE9BQ3hEL1MsS0FBSzRkLFFBRVRkLEVBQWNsaUIsVUFBVWdqQixLQUFPLFdBQzNCQyxlQUFlQyxRQUFRNWQsRUFBWWxGLFFBQVFzRSxhQUFhRyxlQUFnQmdCLEtBQUtDLFVBQVVWLEtBQUsrYyxjQUVoR0QsRUFBY2xpQixVQUFVcWlCLEtBQU8sV0FDM0IsSUFBSXhJLEVBQVFvSixlQUFlRSxRQUFRN2QsRUFBWWxGLFFBQVFzRSxhQUFhRyxnQkFDcEVPLEtBQUsrYyxXQUFhdGMsS0FBS2tELE1BQU04USxJQUFVLElBRTNDcUksRUFBY2xpQixVQUFVb2pCLE1BQVEsV0FDNUIsT0FBT3RrQixPQUFPMlEsT0FBT3JLLEtBQUsrYyxZQUFZdFcsUUFFMUNxVyxFQUFjbGlCLFVBQVVxakIsWUFBYyxXQUNsQyxPQUFPdmtCLE9BQU8yUSxPQUFPckssS0FBSytjLFlBQVltQixRQUFPLFNBQVVDLEdBQUssT0FBUUEsRUFBRWQsVUFBVzVXLFFBRXJGcVcsRUFBY2xpQixVQUFVaWdCLFNBQVcsU0FBVXFELEdBQ3pDLElBQUl0WCxFQUFTLEdBQ2IsSUFBSyxJQUFJeVUsS0FBTXJiLEtBQUsrYyxXQUFZLENBQzVCLElBQUkxYSxFQUFPckMsS0FBSytjLFdBQVcxQixHQUN2QjZDLEVBQU83YixJQUNQdUUsRUFBT2pDLEtBQUt5WixFQUFxQjlqQixPQUFPK2dCLEVBQUloWixJQUdwRCxPQUFPdUUsR0FFWGtXLEVBQWNsaUIsVUFBVXlqQixZQUFjLFdBQ2xDLE9BQU9yZSxLQUFLNmEsVUFBUyxXQUFjLE9BQU8sTUFFOUNpQyxFQUFjbGlCLFVBQVUwakIsZUFBaUIsV0FDckMsT0FBT3RlLEtBQUs2YSxVQUFTLFNBQVVzRCxHQUFLLE9BQVFBLEVBQUVkLFdBRWxEUCxFQUFjbGlCLFVBQVVpZSxXQUFhLFdBQ2pDLE9BQU9uZixPQUFPa08sS0FBSzVILEtBQUsrYyxhQUU1QkQsRUFBY2xpQixVQUFVcVMsUUFBVSxTQUFVb08sR0FDeEMsSUFBSXBPLEVBQVVqTixLQUFLK2MsV0FBVzFCLEdBQzlCLE9BQUtwTyxFQUdFbVIsRUFBcUI5akIsT0FBTytnQixFQUFJcE8sR0FGNUIsTUFJUjZQLEVBbkd1QixHQXFHbEN0a0IsRUFBUXdDLFFBQVU4aEIsRUFDbEIsSUFBSXNCLEVBQXNDLFdBQ3RDLFNBQVNBLEVBQXFCRyxFQUFLQyxFQUFRQyxFQUFXQyxFQUFZQyxFQUFTQyxFQUFXQyxHQUNsRjdlLEtBQUt1ZSxJQUFNQSxFQUNYdmUsS0FBS3dlLE9BQVNBLEVBQ2R4ZSxLQUFLeWUsVUFBWUEsRUFDakJ6ZSxLQUFLMGUsV0FBYUEsRUFDbEIxZSxLQUFLMmUsUUFBVUEsRUFDZjNlLEtBQUs0ZSxVQUFZQSxFQUNqQjVlLEtBQUs2ZSxZQUFjQSxFQTZCdkIsT0EzQkFULEVBQXFCOWpCLE9BQVMsU0FBVStnQixFQUFJeUQsR0FDeEMsSUFBSXBNLEVBQUlxTSxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUNoQ2hFLEVBQXNELFFBQWxDNUksRUFBS29NLEVBQVlTLG1CQUFnQyxJQUFQN00sT0FBZ0IsRUFBU0EsRUFBRzRJLGlCQUMxRjFELEVBQVNuQyxFQUFTQSxFQUFTLEdBQTJGLFFBQXRGdUosRUFBd0MsUUFBbENELEVBQUtELEVBQVlTLG1CQUFnQyxJQUFQUixPQUFnQixFQUFTQSxFQUFHOUQsWUFBeUIsSUFBUCtELE9BQWdCLEVBQVNBLEVBQUc5ZSxFQUFZbEYsUUFBUTRFLE9BQU9FLHNCQUF1QixDQUFFd2IsaUJBQWtCQSxJQUNwTyxPQUFPLElBQUk4QyxFQUFxQi9DLEVBQTJGLFFBQXRGNkQsRUFBd0MsUUFBbENELEVBQUtILEVBQVlTLG1CQUFnQyxJQUFQTixPQUFnQixFQUFTQSxFQUFHaEUsWUFBeUIsSUFBUGlFLE9BQWdCLEVBQVNBLEVBQUdNLE1BQThGLFFBQXRGSixFQUF3QyxRQUFsQ0QsRUFBS0wsRUFBWVMsbUJBQWdDLElBQVBKLE9BQWdCLEVBQVNBLEVBQUdsRSxZQUF5QixJQUFQbUUsT0FBZ0IsRUFBU0EsRUFBR0ssU0FBVVgsRUFBWVksa0JBQW1CWixFQUFZekIsT0FBK0YsUUFBdEZpQyxFQUF3QyxRQUFsQ0QsRUFBS1AsRUFBWVMsbUJBQWdDLElBQVBGLE9BQWdCLEVBQVNBLEVBQUdwRSxZQUF5QixJQUFQcUUsT0FBZ0IsRUFBU0EsRUFBR0ssTUFBTy9ILElBRXBld0csRUFBcUJ4akIsVUFBVXlnQixHQUFLLFdBQ2hDLE9BQU9yYixLQUFLdWUsS0FFaEJILEVBQXFCeGpCLFVBQVVnbEIsTUFBUSxXQUNuQyxPQUFPNWYsS0FBS3dlLFFBRWhCSixFQUFxQnhqQixVQUFVaWxCLFNBQVcsV0FDdEMsT0FBTzdmLEtBQUt5ZSxXQUVoQkwsRUFBcUJ4akIsVUFBVWtsQixVQUFZLFdBQ3ZDLE9BQU85ZixLQUFLMGUsWUFFaEJOLEVBQXFCeGpCLFVBQVV5aUIsT0FBUyxXQUNwQyxPQUFPcmQsS0FBSzJlLFNBRWhCUCxFQUFxQnhqQixVQUFVbWxCLFNBQVcsV0FDdEMsT0FBTy9mLEtBQUs0ZSxXQUVoQlIsRUFBcUJ4akIsVUFBVTZpQixXQUFhLFdBQ3hDLE9BQU96ZCxLQUFLNmUsYUFFVFQsRUFyQzhCLEdBdUN6QzVsQixFQUFRNGxCLHFCQUF1QkEsRyw2QkM5SS9CLElBQUlyZSxFQUFtQkMsTUFBUUEsS0FBS0QsaUJBQW9CLFNBQVVFLEdBQzlELE9BQVFBLEdBQU9BLEVBQUk3RixXQUFjNkYsRUFBTSxDQUFFLFFBQVdBLElBRXhEdkcsT0FBT0MsZUFBZW5CLEVBQVMsYUFBYyxDQUFFeUIsT0FBTyxJQUN0RCxJQUFJMGIsRUFBZ0I1VixFQUFnQixFQUFRLElBQ3hDRyxFQUFjSCxFQUFnQixFQUFRLElBQ3RDa1csRUFBd0JsVyxFQUFnQixFQUFRLElBQ2hEaWdCLEVBQVlqZ0IsRUFBZ0IsRUFBUSxJQUNwQ2tnQixFQUFpQyxXQUNqQyxTQUFTQSxJQUNMamdCLEtBQUtrZ0IsZ0JBQWtCLEtBQ3ZCbGdCLEtBQUttZ0IscUJBQWtCaFksRUFDdkJuSSxLQUFLb2dCLFFBQVUsSUFBSUosRUFBVWhsQixRQUM3QmdGLEtBQUtxZ0IsaUJBQWNsWSxFQUNuQm5JLEtBQUsyUSxRQUFVLCtCQUNmM1EsS0FBS3VYLGNBQWdCLEVBQ3JCdlgsS0FBSzZSLGNBQWUsRUE2SXhCLE9BM0lBblksT0FBT0MsZUFBZXNtQixFQUFnQnJsQixVQUFXLFNBQVUsQ0FDdkRmLElBQUssV0FDRCxJQUFJNlksRUFBSXFNLEVBQ1IsT0FBb0ksUUFBNUhBLEVBQWlDLFFBQTNCck0sRUFBSzFTLEtBQUtxZ0IsbUJBQWdDLElBQVAzTixFQUFnQkEsRUFBSzFTLEtBQUtzZ0IsVUFBVXBnQixFQUFZbEYsUUFBUXNFLGFBQWE1QyxnQkFBNkIsSUFBUHFpQixFQUFnQkEsRUFBSy9lLEtBQUtxUixVQUUxS3JLLElBQUssU0FBVXVNLEdBQ1h2VCxLQUFLcWdCLFlBQWM5TSxHQUV2QjNaLFlBQVksRUFDWjJtQixjQUFjLElBRWxCTixFQUFnQnJsQixVQUFVeWYsUUFBVSxTQUFVekMsRUFBUXZELEVBQVFRLEdBQzFELElBQUluUyxFQUFRMUMsS0FRWixRQVBnQixJQUFaNlUsSUFBc0JBLEVBQVUsSUFDcENBLEVBQVVBLEdBQVcsR0FDckJSLEVBQVNBLEdBQVUsSUFBSXNCLEVBQWMzYSxRQUVoQ2dGLEtBQUtxUixXQUNOclIsS0FBS3FSLFNBQVdyUixLQUFLc2dCLFVBQVVwZ0IsRUFBWWxGLFFBQVFzRSxhQUFhN0MsYUFFL0R1RCxLQUFLcVIsU0FBVSxDQUdoQixJQUZBLElBQUlnSyxFQUFLLEdBQ0xtRixFQUFXLGlFQUNOeG5CLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUNwQnFpQixHQUFNbUYsRUFBU0MsT0FBT0MsS0FBS0MsTUFBTUQsS0FBS0UsU0FBV0osRUFBUy9aLFNBRTlEekcsS0FBS3FSLFNBQVdnSyxFQUNoQnJiLEtBQUs2Z0IsVUFBVTNnQixFQUFZbEYsUUFBUXNFLGFBQWE3QyxVQUFXNGUsR0FFL0RyYixLQUFLNmdCLFVBQVUzZ0IsRUFBWWxGLFFBQVFzRSxhQUFhNUMsUUFBU3NELEtBQUt1VCxRQUM5RCxJQUFJdU4sRUFBY3pNLEVBQ2J2VCxjQUFjZCxLQUFLZSxNQUFPZixLQUFLZ0IsV0FDL0JWLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT0YsWUFBYWdFLEVBQVlsRixRQUFRa0IsYUFDaEVvRSxJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU9LLFVBQVd1RCxLQUFLcVIsVUFDL0MvUSxJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU9NLFFBQVNzRCxLQUFLdVQsUUFDN0NqVCxJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU9DLE9BQVF1YixHQUN2Q3RYLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT1MsYUFBY21ELEtBQUt1UixhQUNsRGpSLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBT1EsU0FBVWlZLEVBQVF1QyxTQUNqRDlXLElBQUlKLEVBQVlsRixRQUFRb0IsT0FBTzJCLE9BQU8sSUFBSXljLE1BQU91RyxVQUFZLEtBQU10WixZQUNwRW5GLEVBQVV1UyxFQUFRdlMsU0FBV3VTLEVBQVF4USxTQUNyQzlCLEVBQVFzUyxFQUFRdFMsT0FBU3NTLEVBQVF4USxTQUNyQyxJQUFLckUsS0FBS2UsUUFBVWYsS0FBS2dCLFVBQVcsQ0FDaEMsSUFBSWdnQixFQUFNLDBKQU1WLE9BSEEzSCxRQUFROVcsTUFBTXllLFFBQ1Z6ZSxHQUNBQSxFQUFNeWUsSUFHZCxHQUFJM00sRUFBT3pULE9BQ1BaLEtBQUtvZ0IsUUFBUWxlLEtBQUssT0FBUWxDLEtBQUsyUSxRQUFVLElBQU1tUSxFQUFZN2YsUUFBU29ULEVBQU96VCxPQUFRMEIsRUFBU0MsRUFBT3NTLEVBQVFyUyxZQUQvRyxDQUlBLElBQUl1VixFQUFVbEQsRUFBUXVDLFNBQVd2QyxFQUFRa0QsVUFBWS9YLEtBQUs2UixhQUN0RG9QLEVBQXFCLFdBQ3JCLElBQUlDLEVBQWlCeGUsRUFBTXllLG9CQUMzQixHQUFJRCxFQUFlemEsT0FBUyxFQUFHLENBQzNCLElBQUkyYSxFQUFjM2dCLEtBQUtDLFVBQVUsQ0FDN0IsS0FBUXdnQixJQUVSRyxHQUFtQixJQUFJMUwsRUFBYzNhLFNBQ3BDOEYsY0FBYzRCLEVBQU0zQixNQUFPMkIsRUFBTTFCLFdBQ2pDVixJQUFJSixFQUFZbEYsUUFBUW9CLE9BQU9GLFlBQWFnRSxFQUFZbEYsUUFBUWtCLGFBQ2hFb0UsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPQyxPQUFRNkQsRUFBWWxGLFFBQVFDLFFBQVFVLE9BQ25FMkUsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPMkIsT0FBTyxJQUFJeWMsTUFBT3VHLFVBQVksS0FBTXRaLFdBQVdBLFlBQzlFeEcsUUFDTHlCLEVBQU0wZCxRQUFRbGUsS0FBSyxPQUFRUSxFQUFNaU8sUUFBVSxJQUFNMFEsRUFBa0JELEVBQWE5ZSxFQUFTQyxFQUFPc1MsRUFBUXJTLFVBSWhILElBQUt1VixHQUFXL1gsS0FBS3VYLGNBQWUsQ0FDaEMsSUFBSWtELEdBQU0sSUFBSUQsTUFBT3VHLFVBQVksS0FDNUIvZ0IsS0FBS21nQixpQkFBbUIxRixFQUFNemEsS0FBS21nQixpQkFBbUJuZ0IsS0FBS3VYLGVBQzVEUSxHQUFVLEVBQ1YvWCxLQUFLbWdCLGdCQUFrQjFGLEdBRWpCemEsS0FBS2tnQixrQkFDWGxnQixLQUFLa2dCLGdCQUFrQnRjLFlBQVcsV0FDOUJsQixFQUFNd2QsZ0JBQWtCLEtBQ3hCeGQsRUFBTXlkLGlCQUFrQixJQUFJM0YsTUFBT3VHLFVBQVksSUFDL0NFLE1BQ3FELEtBQXJEamhCLEtBQUt1WCxlQUFpQmtELEVBQU16YSxLQUFLbWdCLG9CQUc3Q25nQixLQUFLc2hCLG9CQUFvQlIsRUFBWTVmLGFBQ2pDNlcsR0FDQWtKLE1BT1JoQixFQUFnQnJsQixVQUFVb0gsa0JBQW9CLFNBQVVDLEdBQ3BEakMsS0FBS29nQixRQUFRcGUsa0JBQWtCQyxJQUduQ2dlLEVBQWdCcmxCLFVBQVVxZCxnQkFBa0IsU0FBVTVULEdBQ2xELElBQUlxTyxFQUFJcU0sRUFBSUMsRUFDUmhCLEVBQStJLFFBQXRJZSxFQUFzRixRQUFoRnJNLEVBQUtyTyxhQUEyQyxFQUFTQSxFQUFTQSxnQkFBNkIsSUFBUHFPLE9BQWdCLEVBQVNBLEVBQUdqTSxjQUEyQixJQUFQc1ksRUFBZ0JBLEVBQUssRUFDaEwsT0FBUWYsRUFBUSxFQUFzRixRQUFoRmdCLEVBQUszYSxhQUEyQyxFQUFTQSxFQUFTQSxnQkFBNkIsSUFBUDJhLE9BQWdCLEVBQVNBLEVBQUdoQixFQUFRLEdBQUssTUFFM0ppQyxFQUFnQnJsQixVQUFVdWQsa0JBQW9CLFNBQVU5VCxHQUNwRCxPQUFPa2QsUUFBUWxkLGFBQTJDLEVBQVNBLEVBQVMvQixVQUVoRjJkLEVBQWdCcmxCLFVBQVUwbUIsb0JBQXNCLFNBQVUxYyxHQUN0RCxJQUFJb1osRUFBUWhlLEtBQUtzZ0IsVUFBVXBnQixFQUFZbEYsUUFBUXNFLGFBQWFDLFFBQVUsRUFDbEVpaUIsRUFBVXRoQixFQUFZbEYsUUFBUXNFLGFBQWFFLEtBQU93ZSxFQUN0RGhlLEtBQUs2Z0IsVUFBVVcsRUFBUy9nQixLQUFLQyxVQUFVa0UsSUFDdkNvWixJQUNBaGUsS0FBSzZnQixVQUFVM2dCLEVBQVlsRixRQUFRc0UsYUFBYUMsTUFBT3llLElBRzNEaUMsRUFBZ0JybEIsVUFBVXVtQixrQkFBb0IsV0FDMUMsSUFBSUMsRUFBYyxHQUNkcEQsRUFBUWhlLEtBQUtzZ0IsVUFBVXBnQixFQUFZbEYsUUFBUXNFLGFBQWFDLFFBQVUsRUFDdEVTLEtBQUt5aEIsWUFBWXZoQixFQUFZbEYsUUFBUXNFLGFBQWFDLE9BQ2xELElBQUssSUFBSXZHLEVBQUksRUFBR0EsRUFBSWdsQixFQUFPaGxCLElBQUssQ0FDNUIsSUFBSXdvQixFQUFVdGhCLEVBQVlsRixRQUFRc0UsYUFBYUUsS0FBT3hHLEVBQ3RELElBQ0lvb0IsRUFBWXpjLEtBQUtsRSxLQUFLa0QsTUFBTTNELEtBQUtzZ0IsVUFBVWtCLEtBRS9DLE1BQU9FLElBR1AxaEIsS0FBS3loQixZQUFZRCxHQUVyQixPQUFPSixHQUVYbkIsRUFBZ0JybEIsVUFBVTBsQixVQUFZLFNBQVUvbEIsR0FDNUMsT0FBTzBiLEVBQXNCamIsUUFBUXNHLG9CQUFvQi9HLElBRTdEMGxCLEVBQWdCcmxCLFVBQVVpbUIsVUFBWSxTQUFVdG1CLEVBQUtOLEdBQ2pEZ2MsRUFBc0JqYixRQUFRd0csbUJBQW1CakgsRUFBS04sSUFFMURnbUIsRUFBZ0JybEIsVUFBVTZtQixZQUFjLFNBQVVsbkIsR0FDOUMwYixFQUFzQmpiLFFBQVEwRyx1QkFBdUJuSCxJQUVsRDBsQixFQXJKeUIsR0F1SnBDem5CLEVBQVF3QyxRQUFVaWxCLEcsNkJDOUpsQixJQUFJbGdCLEVBQW1CQyxNQUFRQSxLQUFLRCxpQkFBb0IsU0FBVUUsR0FDOUQsT0FBUUEsR0FBT0EsRUFBSTdGLFdBQWM2RixFQUFNLENBQUUsUUFBV0EsSUFFeER2RyxPQUFPQyxlQUFlbkIsRUFBUyxhQUFjLENBQUV5QixPQUFPLElBQ3RELElBQUlrYyxFQUFtQnBXLEVBQWdCLEVBQVEsSUFDM0M0VixFQUFnQjVWLEVBQWdCLEVBQVEsSUFDeENHLEVBQWNILEVBQWdCLEVBQVEsSUFDdEM0aEIsRUFBbUI1aEIsRUFBZ0IsRUFBUSxLQUMzQzZoQixFQUFnQyxXQUNoQyxTQUFTQSxJQUNMNWhCLEtBQUs2QixzQkFBd0IsR0FDN0I3QixLQUFLNmhCLGFBQWUsS0FDcEI3aEIsS0FBSzhoQixXQUFhLG1CQW9GdEIsT0FsRkFGLEVBQWVobkIsVUFBVTBmLFFBQVUsU0FBVXlILEVBQU9DLEVBQU1wTCxFQUUxRHFCLEdBQ0ksSUFBSXZWLEVBQVExQyxLQUNaLEdBQUtpaUIsVUFBTCxDQUlBLElBQUlDLEdBQVcsRUFDZmxpQixLQUFLNmhCLGFBQWUsSUFBSUYsRUFBaUIzbUIsUUFDekNnRixLQUFLNmhCLGFBQWE3ZixrQkFBa0JoQyxLQUFLNkIsdUJBQ3pDN0IsS0FBSzZoQixhQUFhTSxPQUFTLFdBQ3ZCLElBQUl6UCxFQUNDd1AsSUFDRDdJLFFBQVFDLElBQUksOENBQ1o1VyxFQUFNbWYsYUFBYTVkLEtBQUssU0FBU3lPLEVBQUssSUFDL0J4UyxFQUFZbEYsUUFBUW9CLE9BQU9FLFFBQVUwbEIsRUFBS2poQixNQUM3QzJSLEVBQUd4UyxFQUFZbEYsUUFBUW9CLE9BQU9LLFdBQWF1bEIsRUFBSzNRLFNBQ2hEcUIsSUFDSndQLEdBQVcsSUFHbkJsaUIsS0FBSzZoQixhQUFhdmQsUUFBVSxTQUFVNlAsR0FDbENrRixRQUFRQyxJQUFJLHlCQUEwQm5GLElBRTFDblUsS0FBSzZoQixhQUFhTyxVQUFZLFNBQVVqTyxFQUFPdlAsR0FDM0MsR0FBYyxlQUFWdVAsRUFBd0IsQ0FDeEIsSUFBSWtPLEdBQVMsSUFBSTFNLEVBQWMzYSxTQUFVc0YsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPb0Msa0JBQWtCLEdBQzFGb1ksRUFBYzFXLEVBQVlsRixRQUFRQyxRQUFRWSxTQUFVd21CLEVBQVEsQ0FDeEQ3ZixRQUFRLEVBQ1J1VixTQUFTLEVBQ1QxVCxTQUFVLFNBQVVBLEdBQ2hCLElBQUkyVCxFQUFrQkMsRUFBZ0I1VCxHQUNsQ2dHLEVBQVMyTixFQUFnQjlYLEVBQVlsRixRQUFRNkQsS0FBS1osTUFDbER5WixFQUFXTSxFQUFnQjlYLEVBQVlsRixRQUFRNkQsS0FBS0ssVUFDcERvakIsRUFBaUJ0SyxFQUFnQjlYLEVBQVlsRixRQUFRNkQsS0FBS08saUJBQ3pEK1csRUFBaUJuYixRQUFRcVAsRUFBUTBYLEVBQU1RLFFBQ3hDUixFQUFNM0osV0FBVy9OLEVBQVFxTixFQUFVNEssVUFLaEMsaUJBQVZuTyxHQUNMNE4sRUFBTVMsZ0JBQ045ZixFQUFNbWYsYUFBYTVkLEtBQUsscUJBQXNCLENBQzFDLFNBQVcsS0FHQSxlQUFWa1EsRUFFTHpSLEVBQU1tZixhQUFhNWQsS0FBSyxxQkFBc0IsQ0FDMUMsU0FBVyxJQUdBLG1CQUFWa1EsR0FFTHNPLE1BQU0sc0NBQXdDN2QsRUFBSyxHQUFHa00sTUFBUSxNQUd0RTlRLEtBQUs2aEIsYUFBYWEsUUFBVSxXQUN4QnJKLFFBQVFDLElBQUksbURBQ1o0SSxHQUFXLEdBRWZsaUIsS0FBSzZoQixhQUFhdkgsUUFBUXRhLEtBQUs4aEIsWUFDL0JhLGFBQVksV0FDSGpnQixFQUFNbWYsYUFBYWUsV0FBY2xnQixFQUFNbWYsYUFBYWdCLFlBQ3JEbmdCLEVBQU1tZixhQUFhdkgsUUFBUTVYLEVBQU1vZixjQUV0QyxVQS9EQ3pJLFFBQVFDLElBQUksNkNBaUVwQnNJLEVBQWVobkIsVUFBVXNXLGNBQWdCLFNBQVVqWCxHQUMvQytGLEtBQUs4aEIsV0FBYTduQixHQU10QjJuQixFQUFlaG5CLFVBQVVvSCxrQkFBb0IsU0FBVUMsR0FDbkQsSUFBSXlRLEVBQ0oxUyxLQUFLNkIsc0JBQXdCSSxFQUNBLFFBQTVCeVEsRUFBSzFTLEtBQUs2aEIsb0JBQWlDLElBQVBuUCxHQUF5QkEsRUFBRzFRLGtCQUFrQkMsSUFFaEYyZixFQXhGd0IsR0EwRm5DcHBCLEVBQVF3QyxRQUFVNG1CLEcsY0NwSGxCLElBQUlrQixFQUdKQSxFQUFJLFdBQ0gsT0FBTzlpQixLQURKLEdBSUosSUFFQzhpQixFQUFJQSxHQUFLLElBQUlwZCxTQUFTLGNBQWIsR0FDUixNQUFPakUsR0FFYyxpQkFBWDdJLFNBQXFCa3FCLEVBQUlscUIsUUFPckNILEVBQU9ELFFBQVVzcUIsRyxjQ25CakJycUIsRUFBT0QsUUFBVSxTQUFTQyxHQW9CekIsT0FuQktBLEVBQU9zcUIsa0JBQ1h0cUIsRUFBT3VxQixVQUFZLGFBQ25CdnFCLEVBQU93cUIsTUFBUSxHQUVWeHFCLEVBQU95cUIsV0FBVXpxQixFQUFPeXFCLFNBQVcsSUFDeEN4cEIsT0FBT0MsZUFBZWxCLEVBQVEsU0FBVSxDQUN2Q21CLFlBQVksRUFDWkMsSUFBSyxXQUNKLE9BQU9wQixFQUFPUSxLQUdoQlMsT0FBT0MsZUFBZWxCLEVBQVEsS0FBTSxDQUNuQ21CLFlBQVksRUFDWkMsSUFBSyxXQUNKLE9BQU9wQixFQUFPTyxLQUdoQlAsRUFBT3NxQixnQkFBa0IsR0FFbkJ0cUIsSSw2QkNKUixJQUFJc0gsRUFBbUJDLE1BQVFBLEtBQUtELGlCQUFvQixTQUFVRSxHQUM5RCxPQUFRQSxHQUFPQSxFQUFJN0YsV0FBYzZGLEVBQU0sQ0FBRSxRQUFXQSxJQUV4RHZHLE9BQU9DLGVBQWVuQixFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sSUFDdEQsSUFBSStsQixFQUFZamdCLEVBQWdCLEVBQVEsSUFJcENvakIsRUFBZ0MsV0FJaEMsU0FBU0EsSUFDTG5qQixLQUFLb2dCLFFBQVUsSUFBSUosRUFBVWhsQixRQUM3QmdGLEtBQUs0aUIsV0FBWSxFQUNqQjVpQixLQUFLNmlCLFlBQWEsRUFDbEI3aUIsS0FBSzRpQixXQUFZLEVBQ2pCNWlCLEtBQUs2aUIsWUFBYSxFQXNGdEIsT0FoRkFNLEVBQWV2b0IsVUFBVTBmLFFBQVUsU0FBVXdILEdBQ3pDLElBQUlwZixFQUFRMUMsS0FDWkEsS0FBSzZpQixZQUFhLEVBQ2xCN2lCLEtBQUtvZ0IsUUFBUWxlLEtBQUssT0FBUSxXQUFhNGYsRUFBYSxlQUFnQixJQUFJLFNBQVVzQixHQUM5RSxJQUFJQyxFQUFRRCxFQUFLNUYsTUFBTSxLQUNuQjhGLEVBQVVELEVBQU0sR0FDaEJFLEVBQVk1SSxTQUFTMEksRUFBTSxJQUFNLEVBQUksSUFDekMzZ0IsRUFBTThnQixPQUFTLElBQUl2QixVQUFVLFNBQVdILEVBQWEsMEJBQTRCd0IsR0FDakYsSUFBSUcsRUFBb0IsS0FDeEIvZ0IsRUFBTThnQixPQUFPckIsT0FBUyxXQUNsQnpmLEVBQU1rZ0IsV0FBWSxFQUNsQmxnQixFQUFNbWdCLFlBQWEsRUFDZm5nQixFQUFNeWYsUUFDTnpmLEVBQU15ZixTQUVWc0IsRUFBb0JkLGFBQVksV0FDNUJqZ0IsRUFBTThnQixPQUFPdmYsS0FBSyxVQUNuQnNmLElBRVA3Z0IsRUFBTThnQixPQUFPZCxRQUFVLFdBQ25CaGdCLEVBQU1rZ0IsV0FBWSxFQUNsQmMsY0FBY0QsR0FDVi9nQixFQUFNZ2dCLFNBQ05oZ0IsRUFBTWdnQixXQUdkaGdCLEVBQU04Z0IsT0FBT3BCLFVBQVksU0FBVWpPLEdBQy9CLElBQUl3UCxFQUFleFAsRUFBTTlSLEtBQUttYixNQUFNLEtBQ2hDb0csRUFBT2pKLFNBQVNnSixFQUFhLElBQ2pDLEdBQWEsSUFBVEMsRUFDQWxoQixFQUFNOGdCLE9BQU92ZixLQUFLLFlBRWpCLEdBQWEsSUFBVDJmLEVBQVksQ0FDakIsSUFBSWpNLEVBQVlnTSxFQUFhLEdBQ3pCdGhCLEVBQU81QixLQUFLa0QsTUFBTWdnQixFQUFhRSxNQUFNLEdBQUdDLEtBQUssTUFDN0NDLEVBQWUxaEIsRUFBSzlJLEtBQ3BCcUwsRUFBT3ZDLEVBQUt1QyxLQUNaK1MsR0FDQWpWLEVBQU04Z0IsT0FBT3ZmLEtBQUssT0FBUzBULEdBRTNCalYsRUFBTTBmLFdBQ04xZixFQUFNMGYsVUFBVTJCLEVBQWNuZixRQUdwQixJQUFUZ2YsR0FDTHZLLFFBQVFDLElBQUksaUJBQW1CbkYsRUFBTTlSLE9BRzdDSyxFQUFNOGdCLE9BQU9sZixRQUFVLFNBQVU2UCxHQUM3QnpSLEVBQU04Z0IsT0FBT1EsUUFDVHRoQixFQUFNNEIsU0FDTjVCLEVBQU00QixRQUFRNlAsTUFHdkIsTUFBTSxHQUFPLElBUXBCZ1AsRUFBZXZvQixVQUFVcUosS0FBTyxTQUFVMUssRUFBTXFMLEdBQzVDLEdBQUs1RSxLQUFLNGlCLFVBQVYsQ0FJQSxJQUFJcUIsRUFBV3hqQixLQUFLQyxVQUFVLENBQzFCbkgsS0FBTUEsRUFDTnFMLEtBQU1BLElBRVY1RSxLQUFLd2pCLE9BQU92ZixLQUFLLE9BQVNnZ0IsUUFQdEI1SyxRQUFRQyxJQUFJLHVDQWFwQjZKLEVBQWV2b0IsVUFBVW9ILGtCQUFvQixTQUFVQyxHQUNuRGpDLEtBQUtvZ0IsUUFBUXBlLGtCQUFrQkMsSUFFNUJraEIsRUEvRndCLEdBaUduQzNxQixFQUFRd0MsUUFBVW1vQixHLDZCQ3hHbEIsSUFBSWUsRUFBYWxrQixNQUFRQSxLQUFLa2tCLFdBQWMsU0FBVUMsRUFBU0MsRUFBWUMsRUFBR0MsR0FFMUUsT0FBTyxJQUFLRCxJQUFNQSxFQUFJcGIsV0FBVSxTQUFVbUgsRUFBUzhKLEdBQy9DLFNBQVNxSyxFQUFVdHFCLEdBQVMsSUFBTXVxQixFQUFLRixFQUFVRyxLQUFLeHFCLElBQVcsTUFBT3dILEdBQUt5WSxFQUFPelksSUFDcEYsU0FBU2lqQixFQUFTenFCLEdBQVMsSUFBTXVxQixFQUFLRixFQUFpQixNQUFFcnFCLElBQVcsTUFBT3dILEdBQUt5WSxFQUFPelksSUFDdkYsU0FBUytpQixFQUFLNWQsR0FKbEIsSUFBZTNNLEVBSWEyTSxFQUFPK2QsS0FBT3ZVLEVBQVF4SixFQUFPM00sUUFKMUNBLEVBSXlEMk0sRUFBTzNNLE1BSmhEQSxhQUFpQm9xQixFQUFJcHFCLEVBQVEsSUFBSW9xQixHQUFFLFNBQVVqVSxHQUFXQSxFQUFRblcsT0FJVDJxQixLQUFLTCxFQUFXRyxHQUNsR0YsR0FBTUYsRUFBWUEsRUFBVXhmLE1BQU1xZixFQUFTQyxHQUFjLEtBQUtLLFlBR2xFSSxFQUFlN2tCLE1BQVFBLEtBQUs2a0IsYUFBZ0IsU0FBVVYsRUFBU3ZqQixHQUMvRCxJQUFzR2trQixFQUFHQyxFQUFHN3FCLEVBQUc0b0IsRUFBM0drQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUGhyQixFQUFFLEdBQVEsTUFBTUEsRUFBRSxHQUFJLE9BQU9BLEVBQUUsSUFBT2lyQixLQUFNLEdBQUlDLElBQUssSUFDaEcsT0FBT3RDLEVBQUksQ0FBRTJCLEtBQU1ZLEVBQUssR0FBSSxNQUFTQSxFQUFLLEdBQUksT0FBVUEsRUFBSyxJQUF3QixtQkFBWHRyQixTQUEwQitvQixFQUFFL29CLE9BQU91ckIsVUFBWSxXQUFhLE9BQU90bEIsT0FBVThpQixFQUN2SixTQUFTdUMsRUFBSzVxQixHQUFLLE9BQU8sU0FBVThxQixHQUFLLE9BQ3pDLFNBQWNDLEdBQ1YsR0FBSVYsRUFBRyxNQUFNLElBQUlXLFVBQVUsbUNBQzNCLEtBQU9ULEdBQUcsSUFDTixHQUFJRixFQUFJLEVBQUdDLElBQU03cUIsRUFBWSxFQUFSc3JCLEVBQUcsR0FBU1QsRUFBVSxPQUFJUyxFQUFHLEdBQUtULEVBQVMsU0FBTzdxQixFQUFJNnFCLEVBQVUsU0FBTTdxQixFQUFFZixLQUFLNHJCLEdBQUksR0FBS0EsRUFBRU4sU0FBV3ZxQixFQUFJQSxFQUFFZixLQUFLNHJCLEVBQUdTLEVBQUcsS0FBS2IsS0FBTSxPQUFPenFCLEVBRTNKLE9BREk2cUIsRUFBSSxFQUFHN3FCLElBQUdzckIsRUFBSyxDQUFTLEVBQVJBLEVBQUcsR0FBUXRyQixFQUFFRCxRQUN6QnVyQixFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBR3RyQixFQUFJc3JCLEVBQUksTUFDeEIsS0FBSyxFQUFjLE9BQVhSLEVBQUVDLFFBQWdCLENBQUVockIsTUFBT3VyQixFQUFHLEdBQUliLE1BQU0sR0FDaEQsS0FBSyxFQUFHSyxFQUFFQyxRQUFTRixFQUFJUyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1IsRUFBRUksSUFBSXZWLE1BQU9tVixFQUFFRyxLQUFLdFYsTUFBTyxTQUN4QyxRQUNJLEtBQU0zVixFQUFJOHFCLEVBQUVHLE1BQU1qckIsRUFBSUEsRUFBRXVNLE9BQVMsR0FBS3ZNLEVBQUVBLEVBQUV1TSxPQUFTLEtBQWtCLElBQVYrZSxFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFUixFQUFJLEVBQUcsU0FDakcsR0FBYyxJQUFWUSxFQUFHLE1BQWN0ckIsR0FBTXNyQixFQUFHLEdBQUt0ckIsRUFBRSxJQUFNc3JCLEVBQUcsR0FBS3RyQixFQUFFLElBQU0sQ0FBRThxQixFQUFFQyxNQUFRTyxFQUFHLEdBQUksTUFDOUUsR0FBYyxJQUFWQSxFQUFHLElBQVlSLEVBQUVDLE1BQVEvcUIsRUFBRSxHQUFJLENBQUU4cUIsRUFBRUMsTUFBUS9xQixFQUFFLEdBQUlBLEVBQUlzckIsRUFBSSxNQUM3RCxHQUFJdHJCLEdBQUs4cUIsRUFBRUMsTUFBUS9xQixFQUFFLEdBQUksQ0FBRThxQixFQUFFQyxNQUFRL3FCLEVBQUUsR0FBSThxQixFQUFFSSxJQUFJemdCLEtBQUs2Z0IsR0FBSyxNQUN2RHRyQixFQUFFLElBQUk4cUIsRUFBRUksSUFBSXZWLE1BQ2hCbVYsRUFBRUcsS0FBS3RWLE1BQU8sU0FFdEIyVixFQUFLNWtCLEVBQUt6SCxLQUFLZ3JCLEVBQVNhLEdBQzFCLE1BQU92akIsR0FBSytqQixFQUFLLENBQUMsRUFBRy9qQixHQUFJc2pCLEVBQUksRUFBSyxRQUFVRCxFQUFJNXFCLEVBQUksRUFDdEQsR0FBWSxFQUFSc3JCLEVBQUcsR0FBUSxNQUFNQSxFQUFHLEdBQUksTUFBTyxDQUFFdnJCLE1BQU91ckIsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUWIsTUFBTSxHQXJCOUJILENBQUssQ0FBQy9wQixFQUFHOHFCLE9Bd0J6RHhsQixFQUFtQkMsTUFBUUEsS0FBS0QsaUJBQW9CLFNBQVVFLEdBQzlELE9BQVFBLEdBQU9BLEVBQUk3RixXQUFjNkYsRUFBTSxDQUFFLFFBQVdBLElBRXhEdkcsT0FBT0MsZUFBZW5CLEVBQVMsYUFBYyxDQUFFeUIsT0FBTyxJQUN0RCxJQUFJMGIsRUFBZ0I1VixFQUFnQixFQUFRLElBQ3hDRyxFQUFjSCxFQUFnQixFQUFRLElBQ3RDa1csRUFBd0JsVyxFQUFnQixFQUFRLElBS2hEMmxCLEVBQTZCLFdBQzdCLFNBQVNBLEVBQVk5TyxHQUNqQjVXLEtBQUs0VyxjQUFnQkEsRUFDckI1VyxLQUFLMmxCLDBCQUE0QixLQTJPckMsT0F6T0Fqc0IsT0FBT0MsZUFBZStyQixFQUFZOXFCLFVBQVcsZ0JBQWlCLENBQzFEZixJQUFLLFdBQ0QsT0FBT2pCLE9BQU8raUIsVUFBVWlLLGVBRTVCaHNCLFlBQVksRUFDWjJtQixjQUFjLElBTWxCbUYsRUFBWTlxQixVQUFVOFosbUJBQXFCLFdBQ3ZDLE9BQU82TSxhQUErRXBaLEtBQTNELE9BQVh2UCxhQUE4QixJQUFYQSxZQUFvQixFQUFTQSxPQUFPK2lCLFlBQ25FLGtCQUFtQi9pQixPQUFPK2lCLFdBQzFCLGdCQUFpQi9pQixTQU16QjhzQixFQUFZOXFCLFVBQVUrWixvQkFBc0IsV0FDeEMsT0FBT3VQLEVBQVVsa0IsVUFBTSxPQUFRLEdBQVEsV0FDbkMsSUFBSTZsQixFQUFjQyxFQUFjOUwsRUFDaEMsT0FBTzZLLEVBQVk3a0IsTUFBTSxTQUFVMFMsR0FDL0IsT0FBUUEsRUFBR3VTLE9BQ1AsS0FBSyxFQUNELE9BQUtqbEIsS0FBSzBVLHFCQUdILENBQUMsRUFBYTFVLEtBQUsrbEIsZ0NBRmYsQ0FBQyxHQUFjLEdBRzlCLEtBQUssRUFFRCxPQURBRixFQUFlblQsRUFBR3dTLFFBSVgsQ0FBQyxFQUFhVyxFQUFhRyxZQUFZQyxtQkFGbkMsQ0FBQyxHQUFjLEdBRzlCLEtBQUssRUFNRCxPQUxBSCxFQUFlcFQsRUFBR3dTLFFBQ2xCbEwsRUFBZ0MsT0FBakI4TCxJQUVYOWxCLEtBQUtrbUIsOEJBQThCSixHQUVoQyxDQUFDLEVBQWM5TCxXQVcxQzBMLEVBQVk5cUIsVUFBVW1mLFNBQVcsU0FBVWhGLEVBQWtCK0UsRUFBTzFHLEdBQ2hFLE9BQU84USxFQUFVbGtCLFVBQU0sT0FBUSxHQUFRLFdBQ25DLElBQUkwUyxFQUFJb1QsRUFBYzlMLEVBQWNtTSxFQUNwQyxPQUFPdEIsRUFBWTdrQixNQUFNLFNBQVUrZSxHQUMvQixPQUFRQSxFQUFHa0csT0FDUCxLQUFLLEVBQ0QsSUFBS2psQixLQUFLMFUscUJBRU4sT0FEQTJFLFFBQVFDLElBQUksOENBQ0wsQ0FBQyxFQUFjbEcsR0FBUyxJQUVuQzJMLEVBQUdrRyxNQUFRLEVBQ2YsS0FBSyxFQUdELE9BRkFsRyxFQUFHb0csS0FBS3hnQixLQUFLLENBQUMsRUFBRyxFQUFHLENBQUUsSUFDdEIrTixFQUFLMVMsS0FDRSxDQUFDLEVBQWFBLEtBQUs0bEIsY0FBYzdMLFNBQVNoRixHQUFvQixhQUFjK0UsSUFDdkYsS0FBSyxFQUVELE9BREFwSCxFQUFHaVQsMEJBQTRCNUcsRUFBR21HLE9BQzNCLENBQUMsRUFBYWxsQixLQUFLMmxCLDBCQUEwQkssWUFBWUMsbUJBQ3BFLEtBQUssRUFNRCxPQUxBSCxFQUFlL0csRUFBR21HLFFBQ2xCbEwsRUFBZ0MsT0FBakI4TCxJQUVYOWxCLEtBQUtrbUIsOEJBQThCSixHQUVoQyxDQUFDLEVBQWMxUyxFQUFTNEcsSUFDbkMsS0FBSyxFQUdELE9BRkFtTSxFQUFVcEgsRUFBR21HLE9BQ2I3TCxRQUFRQyxJQUFJLG1DQUFvQzZNLEdBQ3pDLENBQUMsRUFBYy9TLEdBQVMsSUFDbkMsS0FBSyxFQUFHLE1BQU8sQ0FBQyxXQVNoQ3NTLEVBQVk5cUIsVUFBVXFmLGNBQWdCLFdBQ2xDLE9BQU9pSyxFQUFVbGtCLFVBQU0sT0FBUSxHQUFRLFdBQ25DLElBQUlvbUIsRUFBc0JOLEVBQWNPLEVBQ3hDLE9BQU94QixFQUFZN2tCLE1BQU0sU0FBVTBTLEdBQy9CLE9BQVFBLEVBQUd1UyxPQUNQLEtBQUssRUFDRG1CLEVBQXVCcG1CLEtBQUtzbUIsbUJBMUdoQiwyRkEyR1o1VCxFQUFHdVMsTUFBUSxFQUNmLEtBQUssRUFFRCxPQURBdlMsRUFBR3lTLEtBQUt4Z0IsS0FBSyxDQUFDLEVBQUcsRUFBRyxDQUFFLElBQ2YsQ0FBQyxFQUFhM0UsS0FBSzJsQiwwQkFBMEJLLFlBQVlPLFVBQVUsQ0FDbEVDLGlCQUFpQixFQUNqQkoscUJBQXNCQSxLQUVsQyxLQUFLLEVBRUQsS0FEQU4sRUFBZXBULEVBQUd3UyxRQUVkLE1BQU0sSUFBSXVCLE1BR2QsT0FEQXptQixLQUFLa21CLDhCQUE4QkosR0FDNUIsQ0FBQyxFQUFhLEdBQ3pCLEtBQUssRUFFRCxNQURBTyxFQUFVM1QsRUFBR3dTLE9BQ1AsSUFBSXVCLE1BQU0sMkNBQTZDSixHQUNqRSxLQUFLLEVBQUcsTUFBTyxDQUFDLEdBQWMsV0FTOUNYLEVBQVk5cUIsVUFBVXVmLGdCQUFrQixXQUNwQyxPQUFPK0osRUFBVWxrQixVQUFNLE9BQVEsR0FBUSxXQUNuQyxJQUFnQjhsQixFQUFjWSxFQUM5QixPQUFPN0IsRUFBWTdrQixNQUFNLFNBQVUwUyxHQUMvQixPQUFRQSxFQUFHdVMsT0FDUCxLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWFqbEIsS0FBSzJVLHVCQUNsQyxLQUFLLEVBRUQsSUFEYWpDLEVBQUd3UyxPQUNDLE1BQU8sQ0FBQyxFQUFhLEdBQ3RDeFMsRUFBR3VTLE1BQVEsRUFDZixLQUFLLEVBRUQsT0FEQXZTLEVBQUd5UyxLQUFLeGdCLEtBQUssQ0FBQyxFQUFHLEVBQUcsQ0FBRSxJQUNmLENBQUMsRUFBYTNFLEtBQUsybEIsMEJBQTBCSyxZQUFZQyxtQkFDcEUsS0FBSyxFQUVELEtBREFILEVBQWVwVCxFQUFHd1MsUUFFZCxNQUFNLElBQUl1QixNQUVkLE1BQU8sQ0FBQyxFQUFhWCxFQUFhYSxlQUN0QyxLQUFLLEVBRUQsT0FEQWpVLEVBQUd3UyxPQUNJLENBQUMsRUFBYSxHQUN6QixLQUFLLEVBRUQsTUFEQXdCLEVBQVVoVSxFQUFHd1MsT0FDUCxJQUFJdUIsTUFBTSxrQ0FBb0NDLEdBQ3hELEtBQUssRUFBRyxNQUFPLENBQUMsV0FTaENoQixFQUFZOXFCLFVBQVVtckIsNkJBQStCLFdBQ2pELE9BQU83QixFQUFVbGtCLFVBQU0sT0FBUSxHQUFRLFdBQ25DLElBQUkwUyxFQUNKLE9BQU9tUyxFQUFZN2tCLE1BQU0sU0FBVStlLEdBQy9CLE9BQVFBLEVBQUdrRyxPQUNQLEtBQUssRUFDRCxPQUFNamxCLEtBQUsybEIsMEJBQWtDLENBQUMsRUFBYSxJQUMzRGpULEVBQUsxUyxLQUNFLENBQUMsRUFBYUEsS0FBSzRsQixjQUFjZ0Isb0JBQzVDLEtBQUssRUFDRGxVLEVBQUdpVCwwQkFBNEI1RyxFQUFHbUcsT0FDbENuRyxFQUFHa0csTUFBUSxFQUNmLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBY2psQixLQUFLMmxCLG1DQVFuREQsRUFBWTlxQixVQUFVMHJCLG1CQUFxQixTQUFVTyxHQUtqRCxJQUpBLElBQ0lDLEdBQVVELEVBREEsSUFBSUUsUUFBUSxFQUFJRixFQUFhcGdCLE9BQVMsR0FBSyxJQUNuQndCLFFBQVEsS0FBTSxLQUFLQSxRQUFRLEtBQU0sS0FDbkUrZSxFQUFVaG5CLEtBQUtpbkIsV0FBV0gsR0FDMUJJLEVBQWMsSUFBSTllLFdBQVc0ZSxFQUFRdmdCLFFBQ2hDek4sRUFBSSxFQUFHQSxFQUFJZ3VCLEVBQVF2Z0IsU0FBVXpOLEVBQ2xDa3VCLEVBQVlsdUIsR0FBS2d1QixFQUFRRyxXQUFXbnVCLEdBRXhDLE9BQU9rdUIsR0FNWHhCLEVBQVk5cUIsVUFBVXNyQiw4QkFBZ0MsU0FBVUosR0FDNUQsR0FBSUEsRUFBYyxDQUNkLElBQUlzQixFQUF1QnBuQixLQUFLcW5CLG9CQUFvQnZCLEdBQ2hEd0IsRUFBNkI3bUIsS0FBS0MsVUFBVTBtQixHQUNmblIsRUFBc0JqYixRQUFRc0csb0JBQW9CcEIsRUFBWWxGLFFBQVFzRSxhQUFhSyxxQkFDakYybkIsSUFDL0JyUixFQUFzQmpiLFFBQVF3RyxtQkFBbUJ0QixFQUFZbEYsUUFBUXNFLGFBQWFLLGtCQUFtQjJuQixHQUNyR3RuQixLQUFLdW5CLGdCQUFnQkQsTUFJakM1QixFQUFZOXFCLFVBQVV5c0Isb0JBQXNCLFNBQVV2QixHQUNsRCxJQUFJdnJCLEVBQU8sV0FBWXVyQixFQUFnQkEsRUFBYTBCLE9BQU8sVUFBWSxHQUNuRXhGLEVBQVEsV0FBWThELEVBQWdCQSxFQUFhMEIsT0FBTyxRQUFVLEdBQ2xFQyxFQUFXem5CLEtBQUswbkIsV0FBV3ZjLE9BQU93YyxhQUFhN2lCLE1BQU0sS0FBTSxJQUFJc0QsV0FBVzdOLEtBQzFFcXRCLEVBQVk1bkIsS0FBSzBuQixXQUFXdmMsT0FBT3djLGFBQWE3aUIsTUFBTSxLQUFNLElBQUlzRCxXQUFXNFosS0FDL0UsTUFBTyxDQUNINkYsU0FBVS9CLEVBQWErQixTQUN2QnR0QixJQUFLa3RCLEVBQ0x6RixLQUFNNEYsSUFPZGxDLEVBQVk5cUIsVUFBVTJzQixnQkFBa0IsU0FBVXpCLEdBQzlDLEdBQUlBLEVBQWMsQ0FDZCxJQUFJbGhCLEdBQU8sSUFBSStRLEVBQWMzYSxTQUFVc0YsSUFBSUosRUFBWWxGLFFBQVFvQixPQUFPd0Msc0JBQXVCa25CLEdBQzdGOWxCLEtBQUs0VyxjQUFjMVcsRUFBWWxGLFFBQVFDLFFBQVFjLHNCQUF1QjZJLEVBQU0sQ0FDeEVwQyxRQUFRLEVBQ1J1VixTQUFTLE1BSXJCMk4sRUFBWTlxQixVQUFVOHNCLFdBQWEsU0FBVXJsQixHQUN6QyxPQUFPekosT0FBT2t2QixLQUFLemxCLElBRXZCcWpCLEVBQVk5cUIsVUFBVXFzQixXQUFhLFNBQVU1a0IsR0FDekMsT0FBT3pKLE9BQU9tdkIsS0FBSzFsQixJQUVoQnFqQixFQTlPcUIsR0FnUGhDbHRCLEVBQVF3QyxRQUFVMHFCLEcsNkJDL1NsQmhzQixPQUFPQyxlQUFlbkIsRUFBUyxhQUFjLENBQUV5QixPQUFPLElBQ3RELElBQUkrdEIsRUFBOEIsV0FDOUIsU0FBU0EsSUFDTGhvQixLQUFLaW9CLFNBQVcsR0FnQnBCLE9BZEFELEVBQWFwdEIsVUFBVXdhLEdBQUssU0FBVUMsRUFBV2pDLEdBQzdDcFQsS0FBS2lvQixTQUFTdGpCLEtBQUssQ0FBRTBRLFVBQVdBLEVBQVdqQyxTQUFVQSxLQUV6RDRVLEVBQWFwdEIsVUFBVTBhLElBQU0sU0FBVUQsRUFBV2pDLEdBQzlDcFQsS0FBS2lvQixTQUFXam9CLEtBQUtpb0IsU0FBUy9KLFFBQU8sU0FBVUMsR0FBSyxPQUFPQSxFQUFFOUksWUFBY0EsR0FBYThJLEVBQUUvSyxXQUFhQSxNQUczRzRVLEVBQWFwdEIsVUFBVThlLEtBQU8sU0FBVXJFLEVBQVd6USxHQUMvQzVFLEtBQUtpb0IsU0FBU25oQixTQUFRLFNBQVVpTSxHQUN4QkEsRUFBUXNDLFlBQWNBLEdBQ3RCdEMsRUFBUUssU0FBU3hPLE9BSXRCb2pCLEVBbEJzQixHQW9CakN4dkIsRUFBUXdDLFFBQVVndEIsRyw2QkNObEIsSUFBSWpvQixFQUFtQkMsTUFBUUEsS0FBS0QsaUJBQW9CLFNBQVVFLEdBQzlELE9BQVFBLEdBQU9BLEVBQUk3RixXQUFjNkYsRUFBTSxDQUFFLFFBQVdBLElBRXhEdkcsT0FBT0MsZUFBZW5CLEVBQVMsYUFBYyxDQUFFeUIsT0FBTyxJQUN0RCxJQUFJMGIsRUFBZ0I1VixFQUFnQixFQUFRLElBQ3hDRyxFQUFjSCxFQUFnQixFQUFRLElBQ3RDa1csRUFBd0JsVyxFQUFnQixFQUFRLElBRWhEbW9CLEVBQTBCLFdBQzFCLFNBQVNBLEVBQVN0UixHQUNkNVcsS0FBSzRXLGNBQWdCQSxFQUNyQjVXLEtBQUtzaUIsZUFBaUIsR0FDdEJ0aUIsS0FBS21vQixrQkFBbUIsRUFDeEJub0IsS0FBS29vQixZQUFTamdCLEVBQ2RuSSxLQUFLb1MsVUFBWSxLQUNqQnBTLEtBQUtxb0IseUJBQTJCLEdBQ2hDcm9CLEtBQUtzb0IsaUJBQW1CLEdBQ3hCdG9CLEtBQUt1aUIsV0FBUXBhLEVBQ2JuSSxLQUFLd1osTUFBUSxHQUNieFosS0FBSzBYLFNBQVcsR0E2RnBCLE9BM0ZBd1EsRUFBU3R0QixVQUFVd2QsV0FBYSxTQUFVbUssRUFBTzdLLEVBQVU0SyxHQUN2RHRpQixLQUFLdWlCLE1BQVFBLEVBQ2J2aUIsS0FBSzBYLFNBQVdBLEVBQ2hCMVgsS0FBS3NpQixlQUFpQkEsRUFDdEJ0aUIsS0FBS21vQixrQkFBbUIsRUFDeEJub0IsS0FBS29vQixPQXlGYixTQUFTRyxFQUFZdE4sRUFBTXVOLEdBQ3ZCLEdBQW9CLGlCQUFUQSxHQUFxQyxrQkFBVEEsR0FBc0MsaUJBQVRBLEVBQ2hFLE9BQU9BLEVBRVgsR0FBSUEsUUFDQSxPQUFPdk4sRUFFWCxJQUFJd04sRUFBYyxTQUFVQyxHQUN4QixPQUFPLFNBQWlCNUQsR0FDcEIsR0FBSTRELGFBQWVsb0IsTUFDZixJQUFLLElBQUl4SCxFQUFJLEVBQUdBLEVBQUkwdkIsRUFBSWppQixPQUFRek4sSUFDNUI4ckIsRUFBRTRELEVBQUkxdkIsU0FJVixJQUFLLElBQUkydkIsS0FBUUQsR0FHVCxJQUFHN3RCLGVBQWUxQixLQUFLdXZCLEVBQUtDLElBQzVCN0QsRUFBRTZELEtBTWxCQyxFQUFlSCxFQUFZeE4sR0FDM0I0TixFQUFlSixFQUFZRCxHQUUzQjdkLEdBQVUsRUFDZCxHQUFhLE9BQVRzUSxLQUNNdU4sYUFBZ0Job0IsT0FFbEIsSUFBSyxJQUFJc29CLEtBRFRuZSxFQUFVLEtBQ1k2ZCxFQUNsQixHQUFLQSxFQUFLM3RCLGVBQWVpdUIsR0FBekIsQ0FNQSxHQUhnQixPQUFabmUsSUFDQUEsR0FBVSxHQUVhLGlCQUFkbWUsRUFBeUIsQ0FDbENuZSxHQUFVLEVBQ1YsTUFFSixHQUFJbWUsRUFBVXJpQixPQUFTLEdBQTZCLE1BQXhCcWlCLEVBQVVySSxPQUFPLElBQ0UsTUFBM0NxSSxFQUFVckksT0FBT3FJLEVBQVVyaUIsT0FBUyxHQUFZLENBQ2hEa0UsR0FBVSxFQUNWLE9BTWhCLEdBQUlzUSxhQUFnQnphLE9BQVNtSyxFQUFTLENBQ2xDLElBQUlvZSxFQUFXLEdBWWYsT0FYQUgsR0FBYSxTQUFVRCxHQUNuQkksRUFBU3BrQixLQUFLZ2tCLE1BRWxCRSxHQUFhLFNBQVVHLEdBR25CLElBRkEsSUFBSUMsRUFBWXRPLFNBQVNxTyxFQUFhL2xCLFVBQVUsRUFBRytsQixFQUFhdmlCLE9BQVMsSUFDckV5aUIsRUFBWVYsRUFBS1EsR0FDZEMsR0FBYUYsRUFBU3RpQixRQUN6QnNpQixFQUFTcGtCLEtBQUssTUFFbEJva0IsRUFBU0UsR0FBYVYsRUFBWVEsRUFBU0UsR0FBWUMsTUFFcERILEVBR1gsSUFBSVgsRUFBUyxHQVNiLE9BUkFRLEdBQWEsU0FBVUQsR0FDQSxPQUFmSCxFQUFLRyxTQUFpQ3hnQixJQUFmcWdCLEVBQUtHLEtBQzVCUCxFQUFPTyxHQUFRMU4sRUFBSzBOLE9BRzVCRSxHQUFhLFNBQVVGLEdBQ25CUCxFQUFPTyxHQUFRSixFQUFxQixPQUFUdE4sRUFBZ0IsS0FBT0EsRUFBSzBOLElBQVMsR0FBSUgsRUFBS0csT0FFdEVQLEVBdEtXRyxDQUFZdm9CLEtBQUtvUyxVQUFXbVEsR0FDMUN2aUIsS0FBS21wQixZQUNEbnBCLEtBQUt3WSxVQUNMeFksS0FBS3dZLFlBR2IwUCxFQUFTdHRCLFVBQVU2ZSxVQUFZLFdBQzNCLElBQ0l6WixLQUFLb1ksV0FBVzNYLEtBQUtrRCxNQUFNM0QsS0FBS3NnQixVQUFVcGdCLEVBQVlsRixRQUFRc0UsYUFBYWYsWUFBYyxNQUFPa0MsS0FBS2tELE1BQU0zRCxLQUFLc2dCLFVBQVVwZ0IsRUFBWWxGLFFBQVFzRSxhQUFhSixXQUFhLE1BQU91QixLQUFLa0QsTUFBTTNELEtBQUtzZ0IsVUFBVXBnQixFQUFZbEYsUUFBUXNFLGFBQWFGLGtCQUFvQixPQUM5UFksS0FBS3daLE1BQVF4WixLQUFLc2dCLFVBQVVwZ0IsRUFBWWxGLFFBQVFzRSxhQUFhRCxPQUM3RFcsS0FBS3NvQixpQkFBbUJ0b0IsS0FBS3NnQixVQUFVcGdCLEVBQVlsRixRQUFRc0UsYUFBYUgsb0JBRTVFLE1BQU9zQyxHQUNINFgsUUFBUUMsSUFBSSw0QkFBOEI3WCxLQUdsRHltQixFQUFTdHRCLFVBQVV1dUIsVUFBWSxXQUMzQm5wQixLQUFLNmdCLFVBQVUzZ0IsRUFBWWxGLFFBQVFzRSxhQUFhZixVQUFXa0MsS0FBS0MsVUFBVVYsS0FBS3VpQixPQUFTLEtBQ3hGdmlCLEtBQUs2Z0IsVUFBVTNnQixFQUFZbEYsUUFBUXNFLGFBQWFKLFNBQVV1QixLQUFLQyxVQUFVVixLQUFLMFgsVUFBWSxLQUMxRjFYLEtBQUs2Z0IsVUFBVTNnQixFQUFZbEYsUUFBUXNFLGFBQWFGLGdCQUFpQnFCLEtBQUtDLFVBQVVWLEtBQUtzaUIsZ0JBQWtCLEtBQ3ZHdGlCLEtBQUs2Z0IsVUFBVTNnQixFQUFZbEYsUUFBUXNFLGFBQWFILG1CQUFvQnNCLEtBQUtDLFVBQVVWLEtBQUtzb0Isa0JBQW9CLEtBQzVHdG9CLEtBQUs2Z0IsVUFBVTNnQixFQUFZbEYsUUFBUXNFLGFBQWFELE1BQU9XLEtBQUt3WixRQUVoRTBPLEVBQVN0dEIsVUFBVTZYLFlBQWMsV0FFN0IsSUFEQSxJQUFJN04sRUFBTyxHQUNGK04sRUFBSyxFQUFHQSxFQUFLL1AsVUFBVTZELE9BQVFrTSxJQUNwQy9OLEVBQUsrTixHQUFNL1AsVUFBVStQLEdBRXpCLElBQUl5VyxFQUFVcHBCLEtBQUt3UyxlQUNuQixHQUFJNFcsRUFDQSxJQUFLLElBQUlwd0IsRUFBSSxFQUFHQSxFQUFJNEwsRUFBSzZCLE9BQVF6TixJQUM3Qm93QixFQUFVQSxFQUFReGtCLEVBQUs1TCxJQUcvQixPQUFPb3dCLEdBRVhsQixFQUFTdHRCLFVBQVU0WCxhQUFlLFdBQzlCLFlBQXVCckssSUFBaEJuSSxLQUFLb29CLE9BQXVCcG9CLEtBQUtvb0IsT0FBU3BvQixLQUFLb1MsV0FFMUQ4VixFQUFTdHRCLFVBQVV1WCxhQUFlLFNBQVVDLEdBQ3hDcFMsS0FBS29TLFVBQVlBLEdBRXJCOFYsRUFBU3R0QixVQUFVcVksMkJBQTZCLFNBQVVGLEdBQ3REL1MsS0FBS3FvQix5QkFBeUIxakIsS0FBS29PLEdBQy9CL1MsS0FBS21vQixrQkFDTHBWLEtBR1JtVixFQUFTdHRCLFVBQVVzWSw4QkFBZ0MsU0FBVUgsR0FDekQsSUFBSThKLEVBQU03YyxLQUFLcW9CLHlCQUF5QnJsQixRQUFRK1AsR0FDNUM4SixHQUFPLEdBQ1A3YyxLQUFLcW9CLHlCQUF5Qi9mLE9BQU91VSxFQUFLLElBR2xEcUwsRUFBU3R0QixVQUFVNmQsZ0NBQWtDLFdBQ2pELElBQUssSUFBSXpmLEVBQUksRUFBR0EsRUFBSWdILEtBQUtxb0IseUJBQXlCNWhCLE9BQVF6TixJQUN0RGdILEtBQUtxb0IseUJBQXlCcnZCLE1BR3RDa3ZCLEVBQVN0dEIsVUFBVTJYLG9CQUFzQixXQUNyQyxPQUFPdlMsS0FBS3NvQixrQkFFaEJKLEVBQVN0dEIsVUFBVXlkLG9CQUFzQixTQUFVcGUsR0FDL0MrRixLQUFLc29CLGlCQUFtQnJ1QixHQUU1Qml1QixFQUFTdHRCLFVBQVU0bkIsY0FBZ0IsV0FDL0IsSUFBSTlQLEVBQ0E5UixJQUFROFIsRUFBSyxJQUFPeFMsRUFBWWxGLFFBQVFvQixPQUFPbUMsV0FBYXlCLEtBQUtvUyxVQUFXTSxHQUM1RTlOLEdBQU8sSUFBSStRLEVBQWMzYSxTQUFVNEYsS0FBS0gsS0FBS0MsVUFBVUUsSUFDM0RaLEtBQUs0VyxjQUFjMVcsRUFBWWxGLFFBQVFDLFFBQVFXLFNBQVVnSixFQUFNLENBQzNEbVQsU0FBUyxLQUdqQm1RLEVBQVN0dEIsVUFBVXFhLGlCQUFtQixXQUNsQ2pWLEtBQUt1aUIsV0FBUXBhLEVBQ2JuSSxLQUFLb1MsVUFBWSxLQUNqQnBTLEtBQUswWCxTQUFXLEdBQ2hCMVgsS0FBS3NvQixpQkFBbUIsR0FDeEJ0b0IsS0FBS29vQixZQUFTamdCLEdBRWxCK2YsRUFBU3R0QixVQUFVMGxCLFVBQVksU0FBVS9sQixHQUNyQyxPQUFPMGIsRUFBc0JqYixRQUFRc0csb0JBQW9CL0csSUFFN0QydEIsRUFBU3R0QixVQUFVaW1CLFVBQVksU0FBVXRtQixFQUFLTixHQUMxQ2djLEVBQXNCamIsUUFBUXdHLG1CQUFtQmpILEVBQUtOLElBRW5EaXVCLEVBeEdrQixHQTBHN0IxdkIsRUFBUXdDLFFBQVVrdEIiLCJmaWxlIjoibGVhbnBsdW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJMZWFucGx1bVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJMZWFucGx1bVwiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIE1FVEhPRFM6IHtcbiAgICAgICAgU1RBUlQ6ICdzdGFydCcsXG4gICAgICAgIFNUT1A6ICdzdG9wJyxcbiAgICAgICAgQURWQU5DRTogJ2FkdmFuY2UnLFxuICAgICAgICBUUkFDSzogJ3RyYWNrJyxcbiAgICAgICAgUEFVU0VfU0VTU0lPTjogJ3BhdXNlU2Vzc2lvbicsXG4gICAgICAgIFJFU1VNRV9TRVNTSU9OOiAncmVzdW1lU2Vzc2lvbicsXG4gICAgICAgIFBBVVNFX1NUQVRFOiAncGF1c2VTdGF0ZScsXG4gICAgICAgIFJFU1VNRV9TVEFURTogJ3Jlc3VtZVN0YXRlJyxcbiAgICAgICAgRE9XTkxPQURfRklMRTogJ2Rvd25sb2FkRmlsZScsXG4gICAgICAgIE1VTFRJOiAnbXVsdGknLFxuICAgICAgICBTRVRfVkFSUzogJ3NldFZhcnMnLFxuICAgICAgICBHRVRfVkFSUzogJ2dldFZhcnMnLFxuICAgICAgICBTRVRfVVNFUl9BVFRSSUJVVEVTOiAnc2V0VXNlckF0dHJpYnV0ZXMnLFxuICAgICAgICBTRVRfREVWSUNFX0FUVFJJQlVURVM6ICdzZXREZXZpY2VBdHRyaWJ1dGVzJyxcbiAgICAgICAgVVBMT0FEX0ZJTEU6ICd1cGxvYWRGaWxlJyxcbiAgICAgICAgUkVHSVNURVJfREVWSUNFOiAncmVnaXN0ZXJEZXZpY2UnLFxuICAgIH0sXG4gICAgU0RLX1ZFUlNJT046ICcxLjYuMCcsXG4gICAgQ0xJRU5UOiAnanMnLFxuICAgIFBBUkFNUzoge1xuICAgICAgICBBQ1RJT046ICdhY3Rpb24nLFxuICAgICAgICBBUFBfSUQ6ICdhcHBJZCcsXG4gICAgICAgIENMSUVOVDogJ2NsaWVudCcsXG4gICAgICAgIENMSUVOVF9LRVk6ICdjbGllbnRLZXknLFxuICAgICAgICBDVVJSRU5DWV9DT0RFOiAnY3VycmVuY3lDb2RlJyxcbiAgICAgICAgREVWSUNFX0lEOiAnZGV2aWNlSWQnLFxuICAgICAgICBTREtfVkVSU0lPTjogJ3Nka1ZlcnNpb24nLFxuICAgICAgICBVU0VSX0lEOiAndXNlcklkJyxcbiAgICAgICAgTkVXX1VTRVJfSUQ6ICduZXdVc2VySWQnLFxuICAgICAgICBERVZfTU9ERTogJ2Rldk1vZGUnLFxuICAgICAgICBWRVJTSU9OX05BTUU6ICd2ZXJzaW9uTmFtZScsXG4gICAgICAgIFNZU1RFTV9OQU1FOiAnc3lzdGVtTmFtZScsXG4gICAgICAgIFNZU1RFTV9WRVJTSU9OOiAnc3lzdGVtVmVyc2lvbicsXG4gICAgICAgIEJST1dTRVJfTkFNRTogJ2Jyb3dzZXJOYW1lJyxcbiAgICAgICAgQlJPV1NFUl9WRVJTSU9OOiAnYnJvd3NlclZlcnNpb24nLFxuICAgICAgICBERVZJQ0VfTkFNRTogJ2RldmljZU5hbWUnLFxuICAgICAgICBERVZJQ0VfTU9ERUw6ICdkZXZpY2VNb2RlbCcsXG4gICAgICAgIFVTRVJfQVRUUklCVVRFUzogJ3VzZXJBdHRyaWJ1dGVzJyxcbiAgICAgICAgTE9DQUxFOiAnbG9jYWxlJyxcbiAgICAgICAgQ09VTlRSWTogJ2NvdW50cnknLFxuICAgICAgICBSRUdJT046ICdyZWdpb24nLFxuICAgICAgICBDSVRZOiAnY2l0eScsXG4gICAgICAgIExPQ0FUSU9OOiAnbG9jYXRpb24nLFxuICAgICAgICBTVEFURTogJ3N0YXRlJyxcbiAgICAgICAgSU5GTzogJ2luZm8nLFxuICAgICAgICBFVkVOVDogJ2V2ZW50JyxcbiAgICAgICAgVkFMVUU6ICd2YWx1ZScsXG4gICAgICAgIEZJTEVOQU1FOiAnZmlsZW5hbWUnLFxuICAgICAgICBUSU1FOiAndGltZScsXG4gICAgICAgIERBVEE6ICdkYXRhJyxcbiAgICAgICAgVkFSUzogJ3ZhcnMnLFxuICAgICAgICBGSUxFOiAnZmlsZScsXG4gICAgICAgIFNJWkU6ICdzaXplJyxcbiAgICAgICAgVkFSSUFUSU9OOiAndmFyaWF0aW9uJyxcbiAgICAgICAgSEFTSDogJ2hhc2gnLFxuICAgICAgICBFTUFJTDogJ2VtYWlsJyxcbiAgICAgICAgVkFSSUFCTEVTOiAndmFycycsXG4gICAgICAgIFBBUkFNUzogJ3BhcmFtcycsXG4gICAgICAgIElOQ0xVREVfREVGQVVMVFM6ICdpbmNsdWRlRGVmYXVsdHMnLFxuICAgICAgICBJTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTzogJ2luY2x1ZGVWYXJpYW50RGVidWdJbmZvJyxcbiAgICAgICAgTkVXU0ZFRURfTUVTU0FHRVM6ICduZXdzZmVlZE1lc3NhZ2VzJyxcbiAgICAgICAgTUVTU0FHRV9JRDogJ21lc3NhZ2VJZCcsXG4gICAgICAgIFdFQl9QVVNIX1NVQlNDUklQVElPTjogJ3dlYlB1c2hTdWJzY3JpcHRpb24nLFxuICAgIH0sXG4gICAgS0VZUzoge1xuICAgICAgICBJU19SRUdJU1RFUkVEOiAnaXNSZWdpc3RlcmVkJyxcbiAgICAgICAgTEFURVNUX1ZFUlNJT046ICdsYXRlc3RWZXJzaW9uJyxcbiAgICAgICAgU1lOQ19JTkJPWDogJ3N5bmNOZXdzZmVlZCcsXG4gICAgICAgIE1FU1NBR0VTOiAnbWVzc2FnZXMnLFxuICAgICAgICBWQVJTOiAndmFycycsXG4gICAgICAgIFZBUklBTlRTOiAndmFyaWFudHMnLFxuICAgICAgICBWQVJJQU5UX0RFQlVHX0lORk86ICd2YXJpYW50RGVidWdJbmZvJyxcbiAgICAgICAgQUNUSU9OX01FVEFEQVRBOiAnYWN0aW9uTWV0YWRhdGEnLFxuICAgICAgICBUT0tFTjogJ3Rva2VuJyxcbiAgICB9LFxuICAgIERFRkFVTFRfS0VZUzoge1xuICAgICAgICBDT1VOVDogJ19fbGVhbnBsdW1fdW5zeW5jZWQnLFxuICAgICAgICBJVEVNOiAnX19sZWFucGx1bV91bnN5bmNlZF8nLFxuICAgICAgICBWQVJJQUJMRVM6ICdfX2xlYW5wbHVtX3ZhcmlhYmxlcycsXG4gICAgICAgIFZBUklBTlRTOiAnX19sZWFucGx1bV92YXJpYW50cycsXG4gICAgICAgIFZBUklBTlRfREVCVUdfSU5GTzogJ19fbGVhbnBsdW1fdmFyaWFudF9kZWJ1Z19pbmZvJyxcbiAgICAgICAgQUNUSU9OX01FVEFEQVRBOiAnX19sZWFucGx1bV9hY3Rpb25fbWV0YWRhdGEnLFxuICAgICAgICBJTkJPWF9NRVNTQUdFUzogJ19fbGVhbnBsdW1faW5ib3hfbWVzc2FnZXMnLFxuICAgICAgICBUT0tFTjogJ19fbGVhbnBsdW1fdG9rZW4nLFxuICAgICAgICBERVZJQ0VfSUQ6ICdfX2xlYW5wbHVtX2RldmljZV9pZCcsXG4gICAgICAgIFVTRVJfSUQ6ICdfX2xlYW5wbHVtX3VzZXJfaWQnLFxuICAgICAgICBTRVNTSU9OOiAnX19sZWFucGx1bV9zZXNzaW9uJyxcbiAgICAgICAgUFVTSF9TVUJTQ1JJUFRJT046ICdfX2xlYW5wbHVtX3B1c2hfc3Vic2NyaXB0aW9uJyxcbiAgICB9LFxuICAgIFZBTFVFUzoge1xuICAgICAgICBERVRFQ1Q6ICcoZGV0ZWN0KScsXG4gICAgICAgIERFRkFVTFRfUFVTSF9BQ1RJT046ICdPcGVuIGFjdGlvbicsXG4gICAgfSxcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKlxuICogTGVhbnBsdW0gQXJnc0J1aWxkZXIsIHVzZSB0byBjb25zdHJ1Y3QgcmVxdWVzdCBwYXlsb2FkLlxuICovXG52YXIgQXJnc0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJlcXVlc3QgYXJndW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXJnc0J1aWxkZXIoKSB7XG4gICAgICAgIHRoaXMuYXJnU3RyaW5nID0gJyc7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBnaXZlbiBrZXksIHZhbHVlIHRvIHRoZSBwYXlsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBmb3IgdGhlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSBmb3IgZ2l2ZW4ga2V5LlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfSBSZXR1cm5zIGFuIG9iamVjdCBvZiBBcmdzQnVpbGRlci5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFyZ1N0cmluZykge1xuICAgICAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0gJyYnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWwgPSAnJztcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHZhbCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbCA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0ga2V5ICsgXCI9XCIgKyB2YWw7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWNoZSB0aGUgZ2l2ZW4gYm9keS5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IFtib2R5XSBBIGdpdmVuIGJvZHkuXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ8U3RyaW5nfSBSZXR1cm5zIEFyZ3NCdWlsZGVyIGlmIGJvZHkgZ2l2ZW4sIGVsc2UgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5LlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5ib2R5ID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2JvZHkgPSBib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gYXR0YWNoIGdpdmVuIGFwcElkIGFuZCBhcHBLZXkgdG8gcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGFwcElkIFRoZSBhcHBJZCB0byBhdHRhY2guXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBjbGllbnRLZXkgVGhlIGFwcEtleSB0byBhdHRhY2guXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ9IFJldHVybnMgYW4gb2JqZWN0IG9mIEFyZ3NCdWlsZGVyLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5hdHRhY2hBcGlLZXlzID0gZnVuY3Rpb24gKGFwcElkLCBjbGllbnRLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFQUF9JRCwgYXBwSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNMSUVOVCwgQ29uc3RhbnRzXzEuZGVmYXVsdC5DTElFTlQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNMSUVOVF9LRVksIGNsaWVudEtleSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IEFyZ3VtZW50cyBzdHJpbmcuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcmdTdHJpbmc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZ3VtZW50IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBhcmd1bWVudCB2YWx1ZXMuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJnVmFsdWVzO1xuICAgIH07XG4gICAgcmV0dXJuIEFyZ3NCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFyZ3NCdWlsZGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvY2FsU3RvcmFnZUVuYWJsZWQ7XG52YXIgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlID0ge307XG52YXIgTG9jYWxTdG9yYWdlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2NhbFN0b3JhZ2VNYW5hZ2VyKCkge1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIExvY2FsU3RvcmFnZU1hbmFnZXIuZ2V0RnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZUVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZVtrZXldO1xuICAgIH07XG4gICAgTG9jYWxTdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFsdGVybmF0ZUxvY2FsU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZUVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGFsdGVybmF0ZUxvY2FsU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZU1hbmFnZXIucmVtb3ZlRnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZUVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWxldGUgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZUVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGRlbGV0ZSBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExvY2FsU3RvcmFnZU1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTG9jYWxTdG9yYWdlTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBBamF4IGZ1bmN0aW9ucyBmcm9tOlxuICpcbiAqIFBhcnNlIEphdmFTY3JpcHQgU0RLXG4gKiBWZXJzaW9uOiAxLjEuNVxuICogQnVpbHQ6IE1vbiBPY3QgMDEgMjAxMiAxNzo1NzoxM1xuICogaHR0cDovL3BhcnNlLmNvbVxuICpcbiAqIENvcHlyaWdodCAyMDEyIFBhcnNlLCBJbmMuXG4gKiBUaGUgUGFyc2UgSmF2YVNjcmlwdCBTREsgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUlxuICogREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTmV0d29yayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZXR3b3JrKCkge1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IDEwO1xuICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSBzZWNvbmRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiBhamF4IHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgdXJsIHRvIG9wZW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXlCdWZmZXJ8QmxvYnxEb2N1bWVudHxGb3JtRGF0YX0gZGF0YSBUaGUgZGF0YSB0byBiZSBzZW50IGluIGJvZHkuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3VjY2VzcyBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBzdWNjZXNzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVldWVkIFdoZXRoZXIgdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHF1ZXVlZCBvciBpbW1lZGlhdGVseSBzZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3BsYWluVGV4dF0gV2hldGhlciB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHJldHVybmVkIGFzIHBsYWluIHRleHQgb3IganNvbi5cbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmFqYXggPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ydW5uaW5nUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnF1ZXVlUmVxdWVzdChhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHA6JyAmJiB1cmwuaW5kZXhPZignaHR0cHM6JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBcImh0dHA6XCIgKyB1cmwuc3Vic3RyaW5nKDYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWpheElFOChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZV8xO1xuICAgICAgICAgICAgICAgIHZhciByYW5DYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChwbGFpblRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfMSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfMSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihudWxsLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuQ2FsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmFuQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2VfMSwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihyZXNwb25zZV8xLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7IC8vIEF2b2lkIHByZS1mbGlnaHQuXG4gICAgICAgIHhoci5zZW5kKGRhdGEpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyAqIDEwMDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiBhamF4IHJlcXVlc3QgZm9yIElFOC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gb3Blbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcnxCbG9ifERvY3VtZW50fEZvcm1EYXRhfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHNlbnQgaW4gYm9keS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZXJyb3IgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBxdWV1ZWQgV2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgYmUgcXVldWVkIG9yIGltbWVkaWF0ZWx5IHNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwbGFpblRleHQgV2hldGhlciB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHJldHVybmVkIGFzIHBsYWluIHRleHQgb3IganNvbi5cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5hamF4SUU4ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHhkciA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgICAgICB4ZHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICAgICAgdmFyIHJhbkNhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocGxhaW5UZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB4ZHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhkci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhkcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICByYW5DYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyYW5DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZSwgeGRyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9uZXJyb3IgPSB4ZHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhkcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgeGRyLm9wZW4obWV0aG9kLCB1cmwpO1xuICAgICAgICB4ZHIudGltZW91dCA9IHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICAgICAgeGRyLnNlbmQoZGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSByZXF1ZXN0IHRvIHRoZSByZXF1ZXN0IHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7QXJndW1lbnRzfSByZXF1ZXN0QXJndW1lbnRzIFRoZSByZXF1ZXN0IGFyZ3VtZW50cyBmcm9tIHRoZSBpbml0aWFsIG1ldGhvZCBjYWxsLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuZW5xdWV1ZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdEFyZ3VtZW50cykge1xuICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZS5wdXNoKHJlcXVlc3RBcmd1bWVudHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcmVxdWVzdCBmcm9tIHRoZSByZXF1ZXN0IHF1ZXVlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuZGVxdWV1ZVJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gdGhpcy5yZXF1ZXN0UXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgICAgICAgICB0aGlzLmFqYXguYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOZXR3b3JrO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5ldHdvcms7XG4iLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXNJbmRleCA9IDAsXG4gICAgICByZXN1bHQgPSBbXTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBhZGRcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQGFsaWFzIHB1c2hcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG5TZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcblNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICB9XG4gIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgIG9iaklzT2JqID0gZmFsc2U7XG4gIH1cbiAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgfVxuICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgIGNhc2UgbWFwVGFnOlxuICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICovXG52YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICB9KTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbnZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4vLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG5pZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gKiBlcXVpdmFsZW50LlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBvYmplY3QgPT09IG90aGVyO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFcXVhbDtcbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbnZhciBMZWFucGx1bSA9IHJlcXVpcmUoJy4uL0xlYW5wbHVtLnRzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IExlYW5wbHVtLmRlZmF1bHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMZWFucGx1bUludGVybmFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1JbnRlcm5hbFwiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG52YXIgTGVhbnBsdW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW0oKSB7XG4gICAgfVxuICAgIExlYW5wbHVtLnNldEFwaVBhdGggPSBmdW5jdGlvbiAoYXBpUGF0aCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBpUGF0aChhcGlQYXRoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEVtYWlsID0gZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRFbWFpbChlbWFpbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlKGFwcElkLCBhY2Nlc3NLZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlKGFwcElkLCBhY2Nlc3NLZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTb2NrZXRIb3N0KGhvc3QpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZGV2aWNlSWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZUlkKGRldmljZUlkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcFZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbk5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcFZlcnNpb24odmVyc2lvbk5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlTmFtZSA9IGZ1bmN0aW9uIChkZXZpY2VOYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VOYW1lKGRldmljZU5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlTW9kZWwgPSBmdW5jdGlvbiAoZGV2aWNlTW9kZWwpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZU1vZGVsKGRldmljZU1vZGVsKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFJlcXVlc3RCYXRjaGluZyA9IGZ1bmN0aW9uIChiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0UmVxdWVzdEJhdGNoaW5nKGJhdGNoRW5hYmxlZCwgY29vbGRvd25TZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U3lzdGVtTmFtZShzeXN0ZW1OYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFN5c3RlbVZlcnNpb24gPSBmdW5jdGlvbiAoc3lzdGVtVmVyc2lvbikge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U3lzdGVtVmVyc2lvbihzeXN0ZW1WZXJzaW9uKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFZhcmlhYmxlcyh2YXJpYWJsZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbiAodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFudERlYnVnSW5mbygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gTGVhbnBsdW0uX2xwKS5nZXRWYXJpYWJsZS5hcHBseShfYSwgYXJncyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYW50cygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uaW5ib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaW5ib3goKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5mb3JjZUNvbnRlbnRVcGRhdGUoY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0udXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC51c2VTZXNzaW9uTGVuZ3RoKHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0YXJ0KHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RvcCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucGF1c2VTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucGF1c2VTZXNzaW9uKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZXN1bWVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVzdW1lU2Vzc2lvbigpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucGF1c2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnBhdXNlU3RhdGUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlc3VtZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVzdW1lU3RhdGUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFVzZXJJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwLmdldFVzZXJJZCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VXNlcklkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICBMZWFucGx1bS5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VXNlckF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VXNlckF0dHJpYnV0ZXModXNlcklkLCB1c2VyQXR0cmlidXRlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS50cmFjayA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBMZWFucGx1bS5fbHAudHJhY2soZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0udHJhY2tQdXJjaGFzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gdm9pZCAwKSB7IGV2ZW50ID0gJ1B1cmNoYXNlJzsgfVxuICAgICAgICBMZWFucGx1bS5fbHAudHJhY2tQdXJjaGFzZSh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkdmFuY2VUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZHZhbmNlVG8oc3RhdGUsIGluZm8sIHBhcmFtcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN1cHBvcnRlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaXNXZWJQdXNoU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1YnNjcmliZWQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdHJ1ZSwgcmVqZWN0cyBpZiBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmlzV2ViUHVzaFN1YnNjcmliZWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFdlYlB1c2hPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5zZXRXZWJQdXNoT3B0aW9ucyhvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIHRoZSBicm93c2VyIGZvciB3ZWIgcHVzaC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIG9uIHlvdXIgc2VydmVyIHRoYXQgaG9zdHMgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3N3Lm1pbi5qcyBzZXJ2aWNlIHdvcmtlciBqcyBmaWxlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgICAgICAgIFJlc29sdmVzIGlmIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWlscy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5yZWdpc3RlckZvcldlYlB1c2ggPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnJlZ2lzdGVyRm9yV2ViUHVzaChzZXJ2aWNlV29ya2VyVXJsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXJzIHRoZSBicm93c2VyIGZvcm0gd2ViIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgICBSZXNvbHZlcyBvbiBzdWNjZXNzLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS51bnJlZ2lzdGVyRnJvbVdlYlB1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAudW5yZWdpc3RlckZyb21XZWJQdXNoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgY2FjaGVkIHZhbHVlcyBmb3IgbWVzc2FnZXMsIHZhcmlhYmxlcyBhbmQgdGVzdCBhc3NpZ25tZW50cy5cbiAgICAgKiBVc2Ugc3BhcmluZ2x5IGFzIGlmIHRoZSBhcHAgaXMgdXBkYXRlZCwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIHBvdGVudGlhbGx5XG4gICAgICogaW5jb25zaXN0ZW50IHN0YXRlIG9yIHVzZXIgZXhwZXJpZW5jZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuY2xlYXJVc2VyQ29udGVudCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYXBwbHlRdWV1ZSA9IGZ1bmN0aW9uIChxdWV1ZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuYXBwbHlRdWV1ZShxdWV1ZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9fZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbHAgPSBuZXcgTGVhbnBsdW1JbnRlcm5hbF8xLmRlZmF1bHQod2luZG93KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9scCA9IG5ldyBMZWFucGx1bUludGVybmFsXzEuZGVmYXVsdCh3aW5kb3cpO1xuICAgIExlYW5wbHVtLlZFUlNJT04gPSBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OO1xuICAgIHJldHVybiBMZWFucGx1bTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQnJvd3NlckRldGVjdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQnJvd3NlckRldGVjdG9yXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIEludGVybmFsU3RhdGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9JbnRlcm5hbFN0YXRlXCIpKTtcbnZhciBMZWFucGx1bUluYm94XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1JbmJveFwiKSk7XG52YXIgTGVhbnBsdW1SZXF1ZXN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1SZXF1ZXN0XCIpKTtcbnZhciBMZWFucGx1bVNvY2tldF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtU29ja2V0XCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgUHVzaE1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9QdXNoTWFuYWdlclwiKSk7XG52YXIgbG9kYXNoX2lzZXF1YWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoLmlzZXF1YWxcIikpO1xudmFyIEV2ZW50RW1pdHRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0V2ZW50RW1pdHRlclwiKSk7XG52YXIgVmFyQ2FjaGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WYXJDYWNoZVwiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG52YXIgU0VTU0lPTl9LRVkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5TRVNTSU9OO1xudmFyIExlYW5wbHVtSW50ZXJuYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbnRlcm5hbCh3bmQpIHtcbiAgICAgICAgdGhpcy53bmQgPSB3bmQ7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUgPSBuZXcgSW50ZXJuYWxTdGF0ZV8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fbHBJbmJveCA9IG5ldyBMZWFucGx1bUluYm94XzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSwgdGhpcy5vbkluYm94QWN0aW9uLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QgPSBuZXcgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9scFNvY2tldCA9IG5ldyBMZWFucGx1bVNvY2tldF8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fcHVzaE1hbmFnZXIgPSBuZXcgUHVzaE1hbmFnZXJfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUgPSBuZXcgVmFyQ2FjaGVfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fYnJvd3NlckRldGVjdG9yID0gbmV3IEJyb3dzZXJEZXRlY3Rvcl8xLmRlZmF1bHQod25kKTtcbiAgICB9XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBpUGF0aCA9IGZ1bmN0aW9uIChhcGlQYXRoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbHBSZXF1ZXN0LmFwaVBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBpUGF0aCA9IGFwaVBhdGg7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRFbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCkge1xuICAgICAgICB0aGlzLl9lbWFpbCA9IGVtYWlsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3Quc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBwSWQgPSBhcHBJZDtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmNsaWVudEtleSA9IGFjY2Vzc0tleTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlID0gdHJ1ZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBwSWQgPSBhcHBJZDtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmNsaWVudEtleSA9IGFjY2Vzc0tleTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlID0gZmFsc2U7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gKGhvc3QpIHtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuc2V0U29ja2V0SG9zdChob3N0KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldERldmljZUlkID0gZnVuY3Rpb24gKGRldmljZUlkKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5kZXZpY2VJZCA9IGRldmljZUlkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwVmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uTmFtZSkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QudmVyc2lvbk5hbWUgPSB2ZXJzaW9uTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldERldmljZU5hbWUgPSBmdW5jdGlvbiAoZGV2aWNlTmFtZSkge1xuICAgICAgICB0aGlzLl9kZXZpY2VOYW1lID0gZGV2aWNlTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldERldmljZU1vZGVsID0gZnVuY3Rpb24gKGRldmljZU1vZGVsKSB7XG4gICAgICAgIHRoaXMuX2RldmljZU1vZGVsID0gZGV2aWNlTW9kZWw7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRSZXF1ZXN0QmF0Y2hpbmcgPSBmdW5jdGlvbiAoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmJhdGNoRW5hYmxlZCA9IGJhdGNoRW5hYmxlZDtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmJhdGNoQ29vbGRvd24gPSBjb29sZG93blNlY29uZHM7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRTeXN0ZW1OYW1lID0gZnVuY3Rpb24gKHN5c3RlbU5hbWUpIHtcbiAgICAgICAgdGhpcy5fc3lzdGVtTmFtZSA9IHN5c3RlbU5hbWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRTeXN0ZW1WZXJzaW9uID0gZnVuY3Rpb24gKHN5c3RlbVZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5fc3lzdGVtVmVyc2lvbiA9IHN5c3RlbVZlcnNpb247XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLnNldFZhcmlhYmxlcyh2YXJpYWJsZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbiAodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhbnREZWJ1Z0luZm8oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdmFyQ2FjaGUpLmdldFZhcmlhYmxlLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyQ2FjaGUudmFyaWFudHMgfHwgW107XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pbmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwSW5ib3g7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLm9uSW5ib3hBY3Rpb24gPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy50cmFja01lc3NhZ2UobWVzc2FnZUlkLCAnT3BlbicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFjdGlvbiAmJiBfdGhpcy5vbkFjdGlvbihhY3Rpb24pOyB9KTtcbiAgICB9O1xuICAgIC8vIFRPRE8oYnJlYWtpbmcgY2hhbmdlKTogcmVwbGFjZSB3aXRoIGV2ZW50cyBhbmQgcmVtb3ZlIHN0YXRlZnVsIGhhbmRsZXJzXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5mb3JjZUNvbnRlbnRVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPLCB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5HRVRfVkFSUywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdldFZhcnNSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzID0gX3RoaXMuX2xwUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyhnZXRWYXJzUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLmFwcGx5RGlmZnMoZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU10sIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuQUNUSU9OX01FVEFEQVRBXSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5zZXRWYXJpYW50RGVidWdJbmZvKGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVF9ERUJVR19JTkZPXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpc1N1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25MZW5ndGggPSBzZWNvbmRzO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQWN0aXZlU2Vzc2lvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YXJDYWNoZS5vblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DT1VOVFJZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlJFR0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DSVRZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9OQU1FLCB0aGlzLl9zeXN0ZW1OYW1lIHx8IHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5PUylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1lTVEVNX1ZFUlNJT04sICh0aGlzLl9zeXN0ZW1WZXJzaW9uIHx8ICcnKS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX05BTUUsIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX1ZFUlNJT04sIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FMRSwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTkFNRSwgdGhpcy5fZGV2aWNlTmFtZSB8fFxuICAgICAgICAgICAgdGhpcy5fYnJvd3NlckRldGVjdG9yLmJyb3dzZXIgKyBcIiBcIiArIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTU9ERUwsIHRoaXMuX2RldmljZU1vZGVsIHx8ICdXZWIgQnJvd3NlcicpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV1NGRUVEX01FU1NBR0VTLCB0aGlzLl9scEluYm94Lm1lc3NhZ2VJZHMoKSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPLCB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVEFSVCwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzID0gX3RoaXMuX2xwUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyhzdGFydFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnN0YXJ0U3VjY2Vzc2Z1bCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZVNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX21lc3NhZ2VDYWNoZSA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlNZTkNfSU5CT1hdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbHBJbmJveC5kb3dubG9hZE1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRlc3RWZXJzaW9uID0gc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuTEFURVNUX1ZFUlNJT05dO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGVzdFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgTGVhbnBsdW0gU0RLLCBcIiArIGxhdGVzdFZlcnNpb24gKyBcIiwgaXMgYXZhaWxhYmxlLlxcblVzZSBcXFwibnBtIHVwZGF0ZSBsZWFucGx1bS1zZGtcXFwiIG9yIGdvIHRvIGh0dHBzOi8vZG9jcy5sZWFucGx1bS5jb20vcmVmZXJlbmNlI2phdmFzY3JpcHQtc2V0dXAgdG8gZG93bmxvYWQgaXQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdFNvY2tldCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5hcHBseURpZmZzKHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdLCBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU10sIHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9NRVRBREFUQV0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFudERlYnVnSW5mbyhzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UX0RFQlVHX0lORk9dKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnRva2VuID0gc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVE9LRU5dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5sb2FkRGlmZnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdzdGFydCcsIHsgc3VjY2VzczogaXNTdWNjZXNzIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnRyaWdnZXJTdGFydEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnICYmIHVzZXJJZCAhPT0gbnVsbCAmJiB1c2VySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlckF0dHJpYnV0ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU2Vzc2lvbigpO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0U29ja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUubG9hZERpZmZzKCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS50cmlnZ2VyU3RhcnRIYW5kbGVycygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVE9QLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZUZyb21Mb2NhbFN0b3JhZ2UoU0VTU0lPTl9LRVkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5wYXVzZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5SRVNVTUVfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnBhdXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU1RBVEUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlJFU1VNRV9TVEFURSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgdGhpcy5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VXNlckF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICBpZiAodXNlckF0dHJpYnV0ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICAgICAgdXNlcklkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IHNldFVzZXJBdHRyaWJ1dGVzIGV4cGVjdHMgYSBzdHJpbmcgb3IgYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9BVFRSSUJVVEVTLCB1c2VyQXR0cmlidXRlcyA/IEpTT04uc3RyaW5naWZ5KHVzZXJBdHRyaWJ1dGVzKSA6IHVuZGVmaW5lZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTkVXX1VTRVJfSUQsIHVzZXJJZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdzZXRVc2VyQXR0cmlidXRlJywgdXNlckF0dHJpYnV0ZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9VU0VSX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xwUmVxdWVzdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHZhbHVlO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3RyYWNrJywgeyBldmVudE5hbWU6IGV2ZW50LCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZVNlc3Npb24oKTsgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFja1B1cmNoYXNlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSAnUHVyY2hhc2UnOyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgaWYgKGN1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ1VSUkVOQ1lfQ09ERSwgY3VycmVuY3lDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgndHJhY2snLCB7IGV2ZW50TmFtZTogZXZlbnQgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZHZhbmNlVG8gPSBmdW5jdGlvbiAoc3RhdGUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TVEFURSwgc3RhdGUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdhZHZhbmNlU3RhdGUnLCB7IHN0YXRlOiBzdGF0ZSB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5BRFZBTkNFLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1YnNjcmliZWQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdHJ1ZSwgcmVqZWN0cyBpZiBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3Vic2NyaWJlZCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0V2ViUHVzaE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLl93ZWJQdXNoT3B0aW9ucyA9IF9fYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIHRoZSBicm93c2VyIGZvciB3ZWIgcHVzaC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIG9uIHlvdXIgc2VydmVyIHRoYXQgaG9zdHMgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3N3Lm1pbi5qcyBzZXJ2aWNlIHdvcmtlciBqcyBmaWxlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgICAgICAgIFJlc29sdmVzIGlmIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWlscy5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZWdpc3RlckZvcldlYlB1c2ggPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3B1c2hNYW5hZ2VyLnN1YnNjcmliZVVzZXIoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX3dlYlB1c2hPcHRpb25zO1xuICAgICAgICAgICAgdmFyIHdvcmtlclVybCA9IHNlcnZpY2VXb3JrZXJVcmwgfHwgb3B0aW9ucy5zZXJ2aWNlV29ya2VyVXJsO1xuICAgICAgICAgICAgdmFyIHNjb3BlID0gb3B0aW9ucyAmJiBvcHRpb25zLnNjb3BlID8geyBzY29wZTogb3B0aW9ucy5zY29wZSB9IDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoTWFuYWdlci5yZWdpc3Rlcih3b3JrZXJVcmwsIHNjb3BlLCBzdWJzY3JpYmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdMZWFucGx1bTogV2ViUHVzaCBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyB0aGUgYnJvd3NlciBmb3JtIHdlYiBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgUmVzb2x2ZXMgb24gc3VjY2Vzcywgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudW5yZWdpc3RlckZyb21XZWJQdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIudW5zdWJzY3JpYmVVc2VyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgY2FjaGVkIHZhbHVlcyBmb3IgbWVzc2FnZXMsIHZhcmlhYmxlcyBhbmQgdGVzdCBhc3NpZ25tZW50cy5cbiAgICAgKiBVc2Ugc3BhcmluZ2x5IGFzIGlmIHRoZSBhcHAgaXMgdXBkYXRlZCwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIHBvdGVudGlhbGx5XG4gICAgICogaW5jb25zaXN0ZW50IHN0YXRlIG9yIHVzZXIgZXhwZXJpZW5jZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5jbGVhclVzZXJDb250ZW50KCk7XG4gICAgfTtcbiAgICAvLyB1c2VkIGJ5IEdvb2dsZSBUYWcgTWFuYWdlciB0byBhcHBseSBjb21tYW5kcyBxdWV1ZWQgZHVyaW5nIGFzeW5jIHNjcmlwdCBsb2FkaW5nXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYXBwbHlRdWV1ZSA9IGZ1bmN0aW9uIChxdWV1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpbnZvY2F0aW9uKSB7IHJldHVybiBfdGhpc1tpbnZvY2F0aW9uLm5hbWVdLmFwcGx5KF90aGlzLCBpbnZvY2F0aW9uLmFyZ3MpOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5yZXF1ZXN0KGFjdGlvbiwgYXJncywgX19hc3NpZ24oeyBkZXZNb2RlOiB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgfSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuY29ubmVjdFNvY2tldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuY29ubmVjdCh0aGlzLl92YXJDYWNoZSwge1xuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuX2xwUmVxdWVzdC5hcHBJZCxcbiAgICAgICAgICAgIGRldmljZUlkOiB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQsXG4gICAgICAgIH0sIHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlLmJpbmQodGhpcy5fbHBSZXF1ZXN0KSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5oYXNBY3RpdmVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Nlc3Npb25MZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbGFzdEFjdGl2ZSA9IHBhcnNlSW50KExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2UoU0VTU0lPTl9LRVkpKTtcbiAgICAgICAgaWYgKGlzTmFOKGxhc3RBY3RpdmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lIC0gbGFzdEFjdGl2ZSA8IHRoaXMuX3Nlc3Npb25MZW5ndGggKiAxMDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS51cGRhdGVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoU0VTU0lPTl9LRVksIFN0cmluZyhEYXRlLm5vdygpKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFja01lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBldmVudCwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSBudWxsOyB9XG4gICAgICAgIGlmIChyZXNwb25zZSA9PT0gdm9pZCAwKSB7IHJlc3BvbnNlID0gZnVuY3Rpb24gKCkgeyB9OyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk1FU1NBR0VfSUQsIG1lc3NhZ2VJZCk7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuRVZFTlQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlRSQUNLLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbkFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlIHx8IHt9O1xuICAgICAgICBpZiAoYWN0aW9uICYmIGFjdGlvbi5fX25hbWVfXyA9PT0gJ0NoYWluIHRvIEV4aXN0aW5nIE1lc3NhZ2UnKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5lZE1lc3NhZ2VJZCA9IGFjdGlvblsnQ2hhaW5lZCBtZXNzYWdlJ107XG4gICAgICAgICAgICB2YXIgbWVzc2FnZV8xID0gbWVzc2FnZXNbY2hhaW5lZE1lc3NhZ2VJZF07XG4gICAgICAgICAgICBpZiAobWVzc2FnZV8xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja01lc3NhZ2UoY2hhaW5lZE1lc3NhZ2VJZCwgJ1ZpZXcnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbihtZXNzYWdlXzEudmFycyk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9jZXNzQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFjdGlvbi5fX25hbWVfXyA9PT0gJ09wZW4gVVJMJykge1xuICAgICAgICAgICAgICAgIF90aGlzLnduZC5sb2NhdGlvbi5hc3NpZ24oYWN0aW9uLlVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtZXNzYWdlSWQgPSB0aGlzLm1lc3NhZ2VJZEZyb21BY3Rpb24oYWN0aW9uKTtcbiAgICAgICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgdGhpcy50cmFja01lc3NhZ2UobWVzc2FnZUlkLCBudWxsLCBwcm9jZXNzQWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2Nlc3NBY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUubWVzc2FnZUlkRnJvbUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlIHx8IHt9O1xuICAgICAgICB2YXIgdmFycyA9IF9fYXNzaWduKHt9LCBhY3Rpb24pO1xuICAgICAgICBkZWxldGUgdmFyc1sncGFyZW50Q2FtcGFpZ25JZCddO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMobWVzc2FnZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGlkID0gX2FbX2ldO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBtZXNzYWdlc1tpZF07XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5wYXJlbnRDYW1wYWlnbklkICE9PSBhY3Rpb24ucGFyZW50Q2FtcGFpZ25JZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvZGFzaF9pc2VxdWFsXzEuZGVmYXVsdChtZXNzYWdlLnZhcnMsIHZhcnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1JbnRlcm5hbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bUludGVybmFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gQnJvd3NlciBkZXRlY3Rpb24uIFNvdXJjZTogaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9kZXRlY3QuaHRtbFxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gZGV0ZWN0IHdoaWNoIGJyb3dzZXIgY2xpZW50IGlzIHVzaW5nLlxuICovXG52YXIgQnJvd3NlckRldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBvYmplY3Qgd2l0aCBjdXJyZW50IGJyb3dzZXIgc2V0dGluZ3MuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnJvd3NlckRldGVjdG9yKHduZCkge1xuICAgICAgICB0aGlzLmJyb3dzZXIgPSB0aGlzLnNlYXJjaFN0cmluZyh0aGlzLmdldEJyb3dzZXJEYXRhKHduZCkpIHx8ICdVbmtub3duIEJyb3dzZXInO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSAodGhpcy5zZWFyY2hWZXJzaW9uKHduZC5uYXZpZ2F0b3IudXNlckFnZW50KSB8fFxuICAgICAgICAgICAgdGhpcy5zZWFyY2hWZXJzaW9uKHduZC5uYXZpZ2F0b3IuYXBwVmVyc2lvbikgfHxcbiAgICAgICAgICAgICdVbmtub3duIFZlcnNpb24nKTtcbiAgICAgICAgdGhpcy5PUyA9IHRoaXMuc2VhcmNoU3RyaW5nKHRoaXMuZ2V0T1NEYXRhKHduZCkpIHx8ICdVbmtub3duIE9TJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2hlcyB0aGUgY2xpZW50J3Mgc3lzdGVtIHRvIHRoZSBwcmVkZWZpbmVkIHN5c3RlbSBsaXN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFRoZSBkYXRhIG9iamVjdCB0byBzY2FuLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGZvdW5kIGlkZW50aXR5IHN0cmluZy5cbiAgICAgKi9cbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLnNlYXJjaFN0cmluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGFTdHJpbmcgPSBkYXRhW2ldLnN0cmluZztcbiAgICAgICAgICAgIHZhciBkYXRhUHJvcCA9IGRhdGFbaV0ucHJvcDtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyA9IGRhdGFbaV0udmVyc2lvblNlYXJjaCB8fCBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVN0cmluZy5pbmRleE9mKGRhdGFbaV0uc3ViU3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVByb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhU3RyaW5nIFRoZSBkYXRhIG9iamVjdCB0byBzY2FuLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGZvdW5kIG51bWJlci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuc2VhcmNoVmVyc2lvbiA9IGZ1bmN0aW9uIChkYXRhU3RyaW5nKSB7XG4gICAgICAgIGlmICghZGF0YVN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBkYXRhU3RyaW5nLmluZGV4T2YodGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhU3RyaW5nLnN1YnN0cmluZyhpbmRleCArIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZy5sZW5ndGggKyAxKSk7XG4gICAgfTtcbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLmdldEJyb3dzZXJEYXRhID0gZnVuY3Rpb24gKHduZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ2hyb21lJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0Nocm9tZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnT21uaVdlYicsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdPbW5pV2ViJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnT21uaVdlYi8nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FwcGxlJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ1NhZmFyaScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm9wOiB3bmQub3BlcmEsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdPcGVyYScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lDYWInLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaUNhYicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnS0RFJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0tvbnF1ZXJvcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnRmlyZWZveCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdGaXJlZm94JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdDYW1pbm8nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQ2FtaW5vJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTVNJRScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdFeHBsb3JlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ01TSUUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQW5kcm9pZCBCcm93c2VyJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnVmVyc2lvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnR2Vja28nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTW96aWxsYScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ3J2JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNb3ppbGxhJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ05ldHNjYXBlJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnTW96aWxsYScsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH07XG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5nZXRPU0RhdGEgPSBmdW5jdGlvbiAod25kKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ1dpbicsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdXaW5kb3dzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01hYycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdNYWMgT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lQaG9uZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdpT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQW5kcm9pZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdMaW51eCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdMaW51eCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH07XG4gICAgcmV0dXJuIEJyb3dzZXJEZXRlY3Rvcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCcm93c2VyRGV0ZWN0b3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgSW50ZXJuYWxTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcm5hbFN0YXRlKCkge1xuICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kZXZNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZXIodGhpcy5zdGFydFN1Y2Nlc3NmdWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLnN0YXJ0SGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLnRyaWdnZXJTdGFydEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhcnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzW2ldKHRoaXMuc3RhcnRTdWNjZXNzZnVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEludGVybmFsU3RhdGU7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJuYWxTdGF0ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIExlYW5wbHVtSW5ib3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbmJveChjcmVhdGVSZXF1ZXN0LCBvbkFjdGlvbikge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLm9uQWN0aW9uID0gb25BY3Rpb247XG4gICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IHt9O1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5kb3dubG9hZE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ2dldE5ld3NmZWVkTWVzc2FnZXMnLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBkYXRhLnJlc3BvbnNlWzBdO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VNYXAgPSByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1hcmtBc1JlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWVzc2FnZS5pc1JlYWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuaXNSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ21hcmtOZXdzZmVlZE1lc3NhZ2VBc1JlYWQnLCBhcmdzLCB7fSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHRoaXMubWFya0FzUmVhZChtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgaW5ib3hNZXNzYWdlID0gdGhpcy5tZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBpZCA9IG1lc3NhZ2VJZC5zcGxpdCgnIyMnKVswXTtcbiAgICAgICAgdmFyIG9wZW5BY3Rpb24gPSAoaW5ib3hNZXNzYWdlID09PSBudWxsIHx8IGluYm94TWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5ib3hNZXNzYWdlLm9wZW5BY3Rpb24oKSkgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5vbkFjdGlvbihpZCwgb3BlbkFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2VNYXBbbWVzc2FnZUlkXTtcbiAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnZGVsZXRlTmV3c2ZlZWRNZXNzYWdlJywgYXJncywge30pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUub25DaGFuZ2VkID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudHJpZ2dlckNoYW5nZUhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGhhbmRsZXIoKTsgfSk7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JTkJPWF9NRVNTQUdFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5tZXNzYWdlTWFwKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklOQk9YX01FU1NBR0VTKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0gSlNPTi5wYXJzZShzdGF0ZSkgfHwge307XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5tZXNzYWdlTWFwKS5sZW5ndGg7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS51bnJlYWRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5tZXNzYWdlTWFwKS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4LmlzUmVhZDsgfSkubGVuZ3RoO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubWVzc2FnZXMgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5tZXNzYWdlTWFwKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMubWVzc2FnZU1hcFtpZF07XG4gICAgICAgICAgICBpZiAoZmlsdGVyKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTGVhbnBsdW1JbmJveE1lc3NhZ2UuY3JlYXRlKGlkLCBkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLmFsbE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnVucmVhZE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhmdW5jdGlvbiAoeCkgeyByZXR1cm4gIXguaXNSZWFkOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2VJZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLm1lc3NhZ2VNYXApO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubWVzc2FnZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMubWVzc2FnZU1hcFtpZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZShpZCwgbWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1JbmJveDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bUluYm94O1xudmFyIExlYW5wbHVtSW5ib3hNZXNzYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW5ib3hNZXNzYWdlKF9pZCwgX3RpdGxlLCBfc3VidGl0bGUsIF90aW1lc3RhbXAsIF9pc1JlYWQsIF9pbWFnZVVybCwgX29wZW5BY3Rpb24pIHtcbiAgICAgICAgdGhpcy5faWQgPSBfaWQ7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gX3RpdGxlO1xuICAgICAgICB0aGlzLl9zdWJ0aXRsZSA9IF9zdWJ0aXRsZTtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wID0gX3RpbWVzdGFtcDtcbiAgICAgICAgdGhpcy5faXNSZWFkID0gX2lzUmVhZDtcbiAgICAgICAgdGhpcy5faW1hZ2VVcmwgPSBfaW1hZ2VVcmw7XG4gICAgICAgIHRoaXMuX29wZW5BY3Rpb24gPSBfb3BlbkFjdGlvbjtcbiAgICB9XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UuY3JlYXRlID0gZnVuY3Rpb24gKGlkLCBtZXNzYWdlSW5mbykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfajtcbiAgICAgICAgdmFyIHBhcmVudENhbXBhaWduSWQgPSAoX2EgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmVudENhbXBhaWduSWQ7XG4gICAgICAgIHZhciBhY3Rpb24gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKF9jID0gKF9iID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi52YXJzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVGQVVMVF9QVVNIX0FDVElPTl0pLCB7IHBhcmVudENhbXBhaWduSWQ6IHBhcmVudENhbXBhaWduSWQgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTGVhbnBsdW1JbmJveE1lc3NhZ2UoaWQsIChfZSA9IChfZCA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudmFycykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLlRpdGxlLCAoX2cgPSAoX2YgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnZhcnMpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5TdWJ0aXRsZSwgbWVzc2FnZUluZm8uZGVsaXZlcnlUaW1lc3RhbXAsIG1lc3NhZ2VJbmZvLmlzUmVhZCwgKF9qID0gKF9oID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC52YXJzKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouSW1hZ2UsIGFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS50aXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnN1YnRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VidGl0bGU7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUudGltZXN0YW1wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZXN0YW1wO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmlzUmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUmVhZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pbWFnZVVybCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlVXJsO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLm9wZW5BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuQWN0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3hNZXNzYWdlO1xufSgpKTtcbmV4cG9ydHMuTGVhbnBsdW1JbmJveE1lc3NhZ2UgPSBMZWFucGx1bUluYm94TWVzc2FnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIExlYW5wbHVtUmVxdWVzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVJlcXVlc3QoKSB7XG4gICAgICAgIHRoaXMuY29vbGRvd25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBOZXR3b3JrXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnVzZXJJZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFwaVBhdGggPSAnaHR0cHM6Ly9hcGkubGVhbnBsdW0uY29tL2FwaSc7XG4gICAgICAgIHRoaXMuYmF0Y2hDb29sZG93biA9IDU7XG4gICAgICAgIHRoaXMuYmF0Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUsIFwidXNlcklkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMudXNlcklkVmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRldmljZUlkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMudXNlcklkVmFsdWUgPSB1c2VySWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChhY3Rpb24sIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgLy8gR2V0IG9yIGNyZWF0ZSBkZXZpY2UgSUQgYW5kIHVzZXIgSUQuXG4gICAgICAgIGlmICghdGhpcy5kZXZpY2VJZCkge1xuICAgICAgICAgICAgdGhpcy5kZXZpY2VJZCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRldmljZUlkKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAnJztcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRldmljZUlkID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lELCB0aGlzLnVzZXJJZCk7XG4gICAgICAgIHZhciBhcmdzQnVpbGRlciA9IHBhcmFtc1xuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfSUQsIHRoaXMuZGV2aWNlSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfSUQsIHRoaXMudXNlcklkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sIGFjdGlvbilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkVSU0lPTl9OQU1FLCB0aGlzLnZlcnNpb25OYW1lKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZfTU9ERSwgb3B0aW9ucy5kZXZNb2RlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5USU1FLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKS50b1N0cmluZygpKTtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3MgfHwgb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgdmFyIGVycm9yID0gb3B0aW9ucy5lcnJvciB8fCBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICBpZiAoIXRoaXMuYXBwSWQgfHwgIXRoaXMuY2xpZW50S2V5KSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gJ0xlYW5wbHVtIEFwcCBJRCBhbmQgY2xpZW50IGtleSBhcmUgbm90IHNldC4gTWFrZSBzdXJlIHlvdSAnICtcbiAgICAgICAgICAgICAgICAnYXJlIGNhbGxpbmcgc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgb3Igc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSAnICtcbiAgICAgICAgICAgICAgICAnYmVmb3JlIGlzc3VpbmcgQVBJIGNhbGxzLic7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmJvZHkoKSkge1xuICAgICAgICAgICAgdGhpcy5uZXR3b3JrLmFqYXgoJ1BPU1QnLCB0aGlzLmFwaVBhdGggKyBcIj9cIiArIGFyZ3NCdWlsZGVyLmJ1aWxkKCksIHBhcmFtcy5ib2R5KCksIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbmROb3cgPSBvcHRpb25zLmRldk1vZGUgfHwgb3B0aW9ucy5zZW5kTm93IHx8ICF0aGlzLmJhdGNoRW5hYmxlZDtcbiAgICAgICAgdmFyIHNlbmRVbnNlbnRSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0c1RvU2VuZCA9IF90aGlzLnBvcFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgICAgICBpZiAocmVxdWVzdHNUb1NlbmQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiByZXF1ZXN0c1RvU2VuZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbXVsdGlSZXF1ZXN0QXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0YWNoQXBpS2V5cyhfdGhpcy5hcHBJZCwgX3RoaXMuY2xpZW50S2V5KVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLk1VTFRJKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlRJTUUsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLnRvU3RyaW5nKCkudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubmV0d29yay5hamF4KCdQT1NUJywgX3RoaXMuYXBpUGF0aCArIFwiP1wiICsgbXVsdGlSZXF1ZXN0QXJncywgcmVxdWVzdERhdGEsIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIERlYWwgd2l0aCBjb29sZG93bi5cbiAgICAgICAgaWYgKCFzZW5kTm93ICYmIHRoaXMuYmF0Y2hDb29sZG93bikge1xuICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5sYXN0UmVxdWVzdFRpbWUgfHwgbm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUgPj0gdGhpcy5iYXRjaENvb2xkb3duKSB7XG4gICAgICAgICAgICAgICAgc2VuZE5vdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBub3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5jb29sZG93blRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb29sZG93blRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRVbnNlbnRSZXF1ZXN0cygpO1xuICAgICAgICAgICAgICAgIH0sICh0aGlzLmJhdGNoQ29vbGRvd24gLSAobm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUpKSAqIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZVJlcXVlc3RGb3JMYXRlcihhcmdzQnVpbGRlci5idWlsZERpY3QoKSk7XG4gICAgICAgIGlmIChzZW5kTm93KSB7XG4gICAgICAgICAgICBzZW5kVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29yay5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5nZXRMYXN0UmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHZhciBjb3VudCA9IChfYiA9IChfYSA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbiAgICAgICAgcmV0dXJuIChjb3VudCA+IDApID8gKF9jID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbY291bnQgLSAxXSA6IG51bGw7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmlzUmVzcG9uc2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5zdWNjZXNzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2F2ZVJlcXVlc3RGb3JMYXRlciA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKSB8fCAwO1xuICAgICAgICB2YXIgaXRlbUtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklURU0gKyBjb3VudDtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoaXRlbUtleSwgSlNPTi5zdHJpbmdpZnkoYXJncykpO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCwgY291bnQpO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnBvcFVuc2VudFJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVxdWVzdERhdGEgPSBbXTtcbiAgICAgICAgdmFyIGNvdW50ID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQpIHx8IDA7XG4gICAgICAgIHRoaXMucmVtb3ZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtS2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSVRFTSArIGk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhLnB1c2goSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChpdGVtS2V5KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVMb2NhbChpdGVtS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdERhdGE7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmxvYWRMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2Uoa2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2F2ZUxvY2FsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5yZW1vdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQucmVtb3ZlRnJvbUxvY2FsU3RvcmFnZShrZXkpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtUmVxdWVzdDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bVJlcXVlc3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFNvY2tldElvQ2xpZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU29ja2V0SW9DbGllbnRcIikpO1xudmFyIExlYW5wbHVtU29ja2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtU29ja2V0KCkge1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IDEwO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuc29ja2V0SG9zdCA9ICdkZXYubGVhbnBsdW0uY29tJztcbiAgICB9XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoY2FjaGUsIGF1dGgsIGNyZWF0ZVJlcXVlc3QsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZ2V0TGFzdFJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghV2ViU29ja2V0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IFdlYlNvY2tldHMuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF1dGhTZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50ID0gbmV3IFNvY2tldElvQ2xpZW50XzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5zZXROZXR3b3JrVGltZW91dCh0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICghYXV0aFNlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IENvbm5lY3RlZCB0byBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0Q2xpZW50LnNlbmQoJ2F1dGgnLCAoX2EgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQVBQX0lEXSA9IGF1dGguYXBwSWQsXG4gICAgICAgICAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9JRF0gPSBhdXRoLmRldmljZUlkLFxuICAgICAgICAgICAgICAgICAgICBfYSkpO1xuICAgICAgICAgICAgICAgIGF1dGhTZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTb2NrZXQgZXJyb3InLCBldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCwgYXJncykge1xuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAndXBkYXRlVmFycycpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJnc18xID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX0RFRkFVTFRTLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuR0VUX1ZBUlMsIGFyZ3NfMSwge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0VmFyc1Jlc3BvbnNlID0gZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhbnRzID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uTWV0YWRhdGEgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9NRVRBREFUQV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvZGFzaF9pc2VxdWFsXzEuZGVmYXVsdCh2YWx1ZXMsIGNhY2hlLmRpZmZzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlLmFwcGx5RGlmZnModmFsdWVzLCB2YXJpYW50cywgYWN0aW9uTWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdnZXRWYXJpYWJsZXMnKSB7XG4gICAgICAgICAgICAgICAgY2FjaGUuc2VuZFZhcmlhYmxlcygpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldENsaWVudC5zZW5kKCdnZXRDb250ZW50UmVzcG9uc2UnLCB7XG4gICAgICAgICAgICAgICAgICAgICd1cGRhdGVkJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0QWN0aW9ucycpIHtcbiAgICAgICAgICAgICAgICAvLyBVbnN1cHBvcnRlZCBpbiBKYXZhU2NyaXB0IFNESy5cbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgICAgICAndXBkYXRlZCc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdyZWdpc3RlckRldmljZScpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcbiAgICAgICAgICAgICAgICBhbGVydChcIllvdXIgZGV2aWNlIGhhcyBiZWVuIHJlZ2lzdGVyZWQgdG8gXCIgKyBhcmdzWzBdLmVtYWlsICsgXCIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBEaXNjb25uZWN0ZWQgZnJvbSBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICBhdXRoU2VudCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5jb25uZWN0KHRoaXMuc29ja2V0SG9zdCk7XG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RlZCAmJiAhX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdChfdGhpcy5zb2NrZXRIb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG4gICAgfTtcbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNvY2tldEhvc3QgPSB2YWx1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSBzZWNvbmRzO1xuICAgICAgICAoX2EgPSB0aGlzLnNvY2tldENsaWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtU29ja2V0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtU29ja2V0O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5ldHdvcmtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9OZXR3b3JrXCIpKTtcbi8qKlxuICogU29ja2V0LmlvIDEuMCBjbGllbnQgY2xhc3MuXG4gKi9cbnZhciBTb2NrZXRJb0NsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIG5ldyBTb2NrZXRJb0NsaWVudCwgbm90IGNvbm5lY3RlZCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNvY2tldElvQ2xpZW50KCkge1xuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXcgTmV0d29ya18xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyB0byB0aGUgZ2l2ZW4gc29ja2V0SG9zdC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHNvY2tldEhvc3QgVGhlIGhvc3QgdG8gY29ubmVjdCB0by5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChzb2NrZXRIb3N0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubmV0d29yay5hamF4KCdQT1NUJywgXCJodHRwczovL1wiICsgc29ja2V0SG9zdCArIFwiL3NvY2tldC5pby8xXCIsICcnLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIHZhciBoZWFydGJlYXQgPSBwYXJzZUludChwYXJ0c1sxXSkgLyAyICogMTAwMDtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3c3M6Ly9cIiArIHNvY2tldEhvc3QgKyBcIi9zb2NrZXQuaW8vMS93ZWJzb2NrZXQvXCIgKyBzZXNzaW9uKTtcbiAgICAgICAgICAgIHZhciBoZWFydGJlYXRJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25vcGVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhlYXJ0YmVhdEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZCgnMjo6OicpO1xuICAgICAgICAgICAgICAgIH0sIGhlYXJ0YmVhdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChoZWFydGJlYXRJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9uY2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VQYXJ0cyA9IGV2ZW50LmRhdGEuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICB2YXIgY29kZSA9IHBhcnNlSW50KG1lc3NhZ2VQYXJ0c1swXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoJzI6OicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlID09PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlSWQgPSBtZXNzYWdlUGFydHNbMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlUGFydHMuc2xpY2UoMykuam9pbignOicpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VFdmVudCA9IGRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBkYXRhLmFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKFwiNjo6OlwiICsgbWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbm1lc3NhZ2UobWVzc2FnZUV2ZW50LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU29ja2V0IGVycm9yOiBcIiArIGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uZXJyb3IoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIG51bGwsIGZhbHNlLCB0cnVlIC8vIG51bGwsIHF1ZXVlZCwgcGxhaW5UZXh0XG4gICAgICAgICk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kcyBnaXZlbiBldmVudCB3aXRoIGFyZ3VtZW50cyB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0gIHsqfSBhcmdzIEFyZ3VtZW50cyB0byBzZW5kLlxuICAgICAqL1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTb2NrZXQgaXMgbm90IGNvbm5lY3RlZC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJnc0pzb24gPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgYXJnczogYXJncyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc29ja2V0LnNlbmQoXCI1Ojo6XCIgKyBhcmdzSnNvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmsuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICByZXR1cm4gU29ja2V0SW9DbGllbnQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU29ja2V0SW9DbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIExvY2FsU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Mb2NhbFN0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBBUFBMSUNBVElPTl9TRVJWRVJfUFVCTElDX0tFWSA9ICdCSW5XUHBXbnRmUjM5cmdYU1AwNHBxZG1FZERHYTUwejZ6cWJNdnh5eEpDd3pYSXVTcFNoOEM4ODgtQ2ZKODJXRUxsN1hlOGNqQW5mQ3QtM3ZLMENpNjgnO1xuLyoqXG4gKiBQdXNoIE1hbmFnZXIgaGFuZGxlcyB0aGUgcmVnaXN0cmF0aW9uIGFuZCBzdWJzY3JpcHRpb24gZm9yIHdlYiBwdXNoLlxuICovXG52YXIgUHVzaE1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHVzaE1hbmFnZXIoY3JlYXRlUmVxdWVzdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHVzaE1hbmFnZXIucHJvdG90eXBlLCBcInNlcnZpY2VXb3JrZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnNlcnZpY2VXb3JrZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHdlYiBwdXNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN1cHBvcnRlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbigod2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93Lm5hdmlnYXRvcikgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgJ3NlcnZpY2VXb3JrZXInIGluIHdpbmRvdy5uYXZpZ2F0b3IgJiZcbiAgICAgICAgICAgICdQdXNoTWFuYWdlcicgaW4gd2luZG93KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBicm93c2VyIGlzIHN1YnNjcmliZWQgdG8gd2ViIHB1c2ggbm90aWZpY2F0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUcnVlIGlmIHN1YnNjcmliZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmlzV2ViUHVzaFN1YnNjcmliZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZWdpc3RyYXRpb24sIHN1YnNjcmlwdGlvbiwgaXNTdWJzY3JpYmVkO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkID0gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpc1N1YnNjcmliZWRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGZvciBXZWJQdXNoLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBzZXJ2aWNlV29ya2VyVXJsIFRoZSB1cmwgdGhhdCBzZXJ2ZXMgdGhlIHNlcnZpY2Ugd29ya2VyIG9uIHlvdXIgZG9tYWluLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgIFRoZSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2l0aCByZXN1bHQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gVHJ1ZSBpZiBzdWJzY3JpYmVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyVXJsLCBzY29wZSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBzdWJzY3JpcHRpb24sIGlzU3Vic2NyaWJlZCwgZXJyb3JfMTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1dlYlB1c2hTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogUHVzaCBtZXNzYWdpbmcgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCA0LCAsIDVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlci5yZWdpc3RlcihzZXJ2aWNlV29ya2VyVXJsIHx8ICcvc3cubWluLmpzJywgc2NvcGUpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3Vic2NyaWJlZCA9IHN1YnNjcmlwdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soaXNTdWJzY3JpYmVkKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNlcnZpY2UgV29ya2VyIEVycm9yOiAnLCBlcnJvcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdGhlIHVzZXIgKGJyb3dzZXIpIHRvIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgc3Vic2NyaXB0aW9uIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5zdWJzY3JpYmVVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXBwbGljYXRpb25TZXJ2ZXJLZXksIHN1YnNjcmlwdGlvbiwgZXJyb3JfMjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5ID0gdGhpcy51cmxCNjRUb1VpbnQ4QXJyYXkoQVBQTElDQVRJT05fU0VSVkVSX1BVQkxJQ19LRVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJWaXNpYmxlT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IGFwcGxpY2F0aW9uU2VydmVyS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8yID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVhbnBsdW06IEZhaWxlZCB0byBzdWJzY3JpYmUgdGhlIHVzZXI6IFwiICsgZXJyb3JfMik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRydWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlIHRoZSB1c2VyKGJyb3dzZXIpIGZyb20gcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiB1bnN1YnNjcmliZWQsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51bnN1YnNjcmliZVVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVkLCBzdWJzY3JpcHRpb24sIGVycm9yXzM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaXNXZWJQdXNoU3Vic2NyaWJlZCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlZCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaWJlZCkgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMiwgNSwgLCA2XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxlYW5wbHVtOiBFcnJvciB1bnN1YnNjcmliaW5nOiBcIiArIGVycm9yXzMpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiBvYmplY3QgZnJvbSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gUmV0dXJucyB0aGUgcmVnaXN0cmF0aW9uIG9yIG51bGwuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb25dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuY29kZXMgYSBiYXNlNjQgVVJMIHN0cmluZyB0byBhbiBVaW50OCBhcnJheS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudXJsQjY0VG9VaW50OEFycmF5ID0gZnVuY3Rpb24gKGJhc2U2NFN0cmluZykge1xuICAgICAgICB2YXIgcGFkZGluZyA9ICc9Jy5yZXBlYXQoKDQgLSBiYXNlNjRTdHJpbmcubGVuZ3RoICUgNCkgJSA0KTtcbiAgICAgICAgdmFyIGJhc2U2NCA9IChiYXNlNjRTdHJpbmcgKyBwYWRkaW5nKS5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHRoaXMuZGVjb2RlRGF0YShiYXNlNjQpO1xuICAgICAgICB2YXIgb3V0cHV0QXJyYXkgPSBuZXcgVWludDhBcnJheShyYXdEYXRhLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF3RGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgb3V0cHV0QXJyYXlbaV0gPSByYXdEYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dEFycmF5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG5ldyBzdWJzY3JpcHRpb24gb2JqZWN0IHRvIHRoZSBMZWFucGx1bSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN1YnNjcmlwdGlvbiBUaGUgc3Vic2NyaXB0aW9uLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlciA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdmFyIHByZXBhcmVkU3Vic2NyaXB0aW9uID0gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB2YXIgcHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShwcmVwYXJlZFN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdTdWJzY3JpcHRpb25TdHJpbmcgPSBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlBVU0hfU1VCU0NSSVBUSU9OKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1N1YnNjcmlwdGlvblN0cmluZyAhPT0gcHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuUFVTSF9TVUJTQ1JJUFRJT04sIHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN1YnNjcmlwdGlvbihwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5wcmVwYXJlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIga2V5ID0gKCdnZXRLZXknIGluIHN1YnNjcmlwdGlvbikgPyBzdWJzY3JpcHRpb24uZ2V0S2V5KCdwMjU2ZGgnKSA6IFtdO1xuICAgICAgICB2YXIgYXV0aCA9ICgnZ2V0S2V5JyBpbiBzdWJzY3JpcHRpb24pID8gc3Vic2NyaXB0aW9uLmdldEtleSgnYXV0aCcpIDogW107XG4gICAgICAgIHZhciBrZXlBc2NpaSA9IHRoaXMuZW5jb2RlRGF0YShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGtleSkpKTtcbiAgICAgICAgdmFyIGF1dGhBc2NpaSA9IHRoaXMuZW5jb2RlRGF0YShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGF1dGgpKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmRwb2ludDogc3Vic2NyaXB0aW9uLmVuZHBvaW50LFxuICAgICAgICAgICAga2V5OiBrZXlBc2NpaSxcbiAgICAgICAgICAgIGF1dGg6IGF1dGhBc2NpaSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGUgTGVhbnBsdW0gc2VydmVyLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdWJzY3JpcHRpb24gVGhlIHN1YnNjcmlwdGlvbiBzdHJpbmcuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnNldFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCkuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLldFQl9QVVNIX1NVQlNDUklQVElPTiwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU0VUX0RFVklDRV9BVFRSSUJVVEVTLCBhcmdzLCB7XG4gICAgICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5lbmNvZGVEYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5idG9hKGRhdGEpO1xuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmRlY29kZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmF0b2IoZGF0YSk7XG4gICAgfTtcbiAgICByZXR1cm4gUHVzaE1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUHVzaE1hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgfVxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goeyBldmVudE5hbWU6IGV2ZW50TmFtZSwgY2FsbGJhY2s6IGNhbGxiYWNrIH0pO1xuICAgIH07XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gdGhpcy5oYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguZXZlbnROYW1lICE9PSBldmVudE5hbWUgfHwgeC5jYWxsYmFjayAhPT0gY2FsbGJhY2s7IH0pO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIuZXZlbnROYW1lID09PSBldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRFbWl0dGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTG9jYWxTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xvY2FsU3RvcmFnZU1hbmFnZXJcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIFZhckNhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhckNhY2hlKGNyZWF0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5hY3Rpb25NZXRhZGF0YSA9IHt9O1xuICAgICAgICB0aGlzLmhhc1JlY2VpdmVkRGlmZnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0ge307XG4gICAgICAgIHRoaXMuZGlmZnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudG9rZW4gPSAnJztcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xuICAgIH1cbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuYXBwbHlEaWZmcyA9IGZ1bmN0aW9uIChkaWZmcywgdmFyaWFudHMsIGFjdGlvbk1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuZGlmZnMgPSBkaWZmcztcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IHZhcmlhbnRzO1xuICAgICAgICB0aGlzLmFjdGlvbk1ldGFkYXRhID0gYWN0aW9uTWV0YWRhdGE7XG4gICAgICAgIHRoaXMuaGFzUmVjZWl2ZWREaWZmcyA9IHRydWU7XG4gICAgICAgIHRoaXMubWVyZ2VkID0gbWVyZ2VIZWxwZXIodGhpcy52YXJpYWJsZXMsIGRpZmZzKTtcbiAgICAgICAgdGhpcy5zYXZlRGlmZnMoKTtcbiAgICAgICAgaWYgKHRoaXMub25VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmxvYWREaWZmcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEaWZmcyhKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBQkxFUykgfHwgbnVsbCksIEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVFMpIHx8IG51bGwpLCBKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkFDVElPTl9NRVRBREFUQSkgfHwgbnVsbCkpO1xuICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlRPS0VOKTtcbiAgICAgICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRfREVCVUdfSU5GTyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGVhbnBsdW06IEludmFsaWQgZGlmZnM6IFwiICsgZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zYXZlRGlmZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBQkxFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5kaWZmcyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UUywgSlNPTi5zdHJpbmdpZnkodGhpcy52YXJpYW50cyB8fCBbXSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5BQ1RJT05fTUVUQURBVEEsIEpTT04uc3RyaW5naWZ5KHRoaXMuYWN0aW9uTWV0YWRhdGEgfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVF9ERUJVR19JTkZPLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhcmlhbnREZWJ1Z0luZm8gfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVE9LRU4sIHRoaXMudG9rZW4pO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5nZXRWYXJpYWJsZXMoKTtcbiAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2FyZ3NbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVyZ2VkICE9PSB1bmRlZmluZWQgPyB0aGlzLm1lcmdlZCA6IHRoaXMudmFyaWFibGVzO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSB2YXJpYWJsZXM7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5oYXNSZWNlaXZlZERpZmZzKSB7XG4gICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUudHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnNbaV0oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnREZWJ1Z0luZm87XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB2YWx1ZTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZW5kVmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBib2R5ID0gKF9hID0ge30sIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBUklBQkxFU10gPSB0aGlzLnZhcmlhYmxlcywgX2EpO1xuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5ib2R5KEpTT04uc3RyaW5naWZ5KGJvZHkpKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfVkFSUywgYXJncywge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaWZmcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhcmlhbnRzID0gW107XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLm1lcmdlZCA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5sb2FkTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKGtleSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2F2ZUxvY2FsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFZhckNhY2hlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFZhckNhY2hlO1xuZnVuY3Rpb24gbWVyZ2VIZWxwZXIodmFycywgZGlmZikge1xuICAgIGlmICh0eXBlb2YgZGlmZiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGRpZmYgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgZGlmZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfVxuICAgIGlmIChkaWZmID09PSBudWxsIHx8IGRpZmYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdmFycztcbiAgICB9XG4gICAgdmFyIG9iakl0ZXJhdG9yID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaXRlcmF0ZShmKSB7XG4gICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmKG9ialtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyB0byBiZSBiZXN0IHByYWN0aWNlOiBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvNzA3MVxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlZmxlY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBhdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZihhdHRyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciB2YXJzSXRlcmF0b3IgPSBvYmpJdGVyYXRvcih2YXJzKTtcbiAgICB2YXIgZGlmZkl0ZXJhdG9yID0gb2JqSXRlcmF0b3IoZGlmZik7XG4gICAgLy8gSW5mZXIgdGhhdCB0aGUgZGlmZnMgaXMgYW4gYXJyYXkgaWYgdGhlIHZhcnMgdmFsdWUgZG9lc24ndCBleGlzdCB0byB0ZWxsIHVzIHRoZSB0eXBlLlxuICAgIHZhciBpc0FycmF5ID0gZmFsc2U7XG4gICAgaWYgKHZhcnMgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKCEoZGlmZiBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgaXNBcnJheSA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gZGlmZikge1xuICAgICAgICAgICAgICAgIGlmICghZGlmZi5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUubGVuZ3RoIDwgMyB8fCBhdHRyaWJ1dGUuY2hhckF0KDApICE9PSAnWycgfHxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLmNoYXJBdChhdHRyaWJ1dGUubGVuZ3RoIC0gMSkgIT09ICddJykge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBNZXJnZSBhcnJheXMuXG4gICAgaWYgKHZhcnMgaW5zdGFuY2VvZiBBcnJheSB8fCBpc0FycmF5KSB7XG4gICAgICAgIHZhciBtZXJnZWRfMSA9IFtdO1xuICAgICAgICB2YXJzSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgICAgIG1lcmdlZF8xLnB1c2goYXR0cik7XG4gICAgICAgIH0pO1xuICAgICAgICBkaWZmSXRlcmF0b3IoZnVuY3Rpb24gKHZhclN1YnNjcmlwdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdCA9IHBhcnNlSW50KHZhclN1YnNjcmlwdC5zdWJzdHJpbmcoMSwgdmFyU3Vic2NyaXB0Lmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgIHZhciBkaWZmVmFsdWUgPSBkaWZmW3ZhclN1YnNjcmlwdF07XG4gICAgICAgICAgICB3aGlsZSAoc3Vic2NyaXB0ID49IG1lcmdlZF8xLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG1lcmdlZF8xLnB1c2gobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXJnZWRfMVtzdWJzY3JpcHRdID0gbWVyZ2VIZWxwZXIobWVyZ2VkXzFbc3Vic2NyaXB0XSwgZGlmZlZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWRfMTtcbiAgICB9XG4gICAgLy8gTWVyZ2UgZGljdGlvbmFyaWVzLlxuICAgIHZhciBtZXJnZWQgPSB7fTtcbiAgICB2YXJzSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgaWYgKGRpZmZbYXR0cl0gPT09IG51bGwgfHwgZGlmZlthdHRyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtZXJnZWRbYXR0cl0gPSB2YXJzW2F0dHJdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZGlmZkl0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIG1lcmdlZFthdHRyXSA9IG1lcmdlSGVscGVyKHZhcnMgPT09IG51bGwgPyBudWxsIDogdmFyc1thdHRyXSB8fCB7fSwgZGlmZlthdHRyXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=