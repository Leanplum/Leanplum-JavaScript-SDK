!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.6.0",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_METADATA:"actionMetadata",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_METADATA:"__leanplum_action_metadata",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var n="";return n=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+=e+"="+n,this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(o.default.PARAMS.APP_ID,e).add(o.default.PARAMS.CLIENT,o.default.CLIENT).add(o.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=i},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o={},i=function(){function e(){}return e.getFromLocalStorage=function(e){return!1===r?o[e]:localStorage[e]},e.saveToLocalStorage=function(e,t){if(!1!==r)try{localStorage[e]=t}catch(n){r=!1,o[e]=t}else o[e]=t},e.removeFromLocalStorage=function(e){if(!1!==r)try{localStorage.removeItem(e)}catch(t){r=!1,delete o[e]}else delete o[e]},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,n,r,o,i,s){var a=this;if(i){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:"+t.substring(6)),this.ajaxIE8(e,t,n,r,o,i,s);var u=!1,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(u)return;var e;u=!0;var t=!1;if(s)e=c.responseText;else try{e=JSON.parse(c.responseText)}catch(e){setTimeout((function(){o&&o(null,c)}),0),t=!0}t||(c.status>=200&&c.status<300?setTimeout((function(){r&&r(e,c)}),0):setTimeout((function(){o&&o(e,c)}),0)),i&&(a.runningRequest=!1,a.dequeueRequest())}},c.open(e,t,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(n),setTimeout((function(){u||c.abort()}),1e3*this.networkTimeoutSeconds)},e.prototype.ajaxIE8=function(e,t,n,r,o,i,s){var a=this,u=new XDomainRequest;u.onload=function(){var e,t=!1;if(s)e=u.responseText;else try{e=JSON.parse(u.responseText)}catch(e){setTimeout((function(){o&&o(null,u)}),0),t=!0}t||setTimeout((function(){r&&r(e,u)}),0),i&&(a.runningRequest=!1,a.dequeueRequest())},u.onerror=u.ontimeout=function(){setTimeout((function(){o&&o(null,u)}),0),i&&(a.runningRequest=!1,a.dequeueRequest())},u.onprogress=function(){},u.open(e,t),u.timeout=1e3*this.networkTimeoutSeconds,u.send(n)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=r},function(e,t,n){(function(e,n){var r="[object Arguments]",o="[object Map]",i="[object Object]",s="[object Set]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[o]=c["[object Number]"]=c[i]=c["[object RegExp]"]=c[s]=c["[object String]"]=c["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=t&&!t.nodeType&&t,h=p&&"object"==typeof n&&n&&!n.nodeType&&n,_=h&&h.exports===p,v=_&&l.process,S=function(){try{return v&&v.binding&&v.binding("util")}catch(e){}}(),g=S&&S.isTypedArray;function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function y(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function A(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var E,m,R,T=Array.prototype,I=Function.prototype,D=Object.prototype,M=f["__core-js_shared__"],w=I.toString,O=D.hasOwnProperty,N=(E=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",C=D.toString,P=RegExp("^"+w.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=_?f.Buffer:void 0,V=f.Symbol,L=f.Uint8Array,k=D.propertyIsEnumerable,j=T.splice,q=V?V.toStringTag:void 0,F=Object.getOwnPropertySymbols,H=U?U.isBuffer:void 0,K=(m=Object.keys,R=Object,function(e){return m(R(e))}),W=Se(f,"DataView"),x=Se(f,"Map"),Y=Se(f,"Promise"),B=Se(f,"Set"),z=Se(f,"WeakMap"),G=Se(Object,"create"),J=Ae(W),X=Ae(x),Q=Ae(Y),$=Ae(B),Z=Ae(z),ee=V?V.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oe;++t<n;)this.add(e[t])}function se(e){var t=this.__data__=new re(e);this.size=t.size}function ae(e,t){var n=Re(e),r=!n&&me(e),o=!n&&!r&&Te(e),i=!n&&!r&&!o&&Oe(e),s=n||r||o||i,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=a.length;for(var c in e)!t&&!O.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ye(c,u))||a.push(c);return a}function ue(e,t){for(var n=e.length;n--;)if(Ee(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":q&&q in Object(e)?function(e){var t=O.call(e,q),n=e[q];try{e[q]=void 0;var r=!0}catch(e){}var o=C.call(e);r&&(t?e[q]=n:delete e[q]);return o}(e):function(e){return C.call(e)}(e)}function le(e){return we(e)&&ce(e)==r}function de(e,t,n,a,u){return e===t||(null==e||null==t||!we(e)&&!we(t)?e!=e&&t!=t:function(e,t,n,a,u,c){var l=Re(e),d=Re(t),f=l?"[object Array]":be(e),p=d?"[object Array]":be(t),h=(f=f==r?i:f)==i,_=(p=p==r?i:p)==i,v=f==p;if(v&&Te(e)){if(!Te(t))return!1;l=!0,h=!1}if(v&&!h)return c||(c=new se),l||Oe(e)?he(e,t,n,a,u,c):function(e,t,n,r,i,a,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new L(e),new L(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ee(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var c=y;case s:var l=1&r;if(c||(c=A),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;r|=2,u.set(e,t);var f=he(c(e),c(t),r,i,a,u);return u.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,a,u,c);if(!(1&n)){var S=h&&O.call(e,"__wrapped__"),g=_&&O.call(t,"__wrapped__");if(S||g){var b=S?e.value():e,E=g?t.value():t;return c||(c=new se),u(b,E,n,a,c)}}if(!v)return!1;return c||(c=new se),function(e,t,n,r,o,i){var s=1&n,a=_e(e),u=a.length,c=_e(t).length;if(u!=c&&!s)return!1;var l=u;for(;l--;){var d=a[l];if(!(s?d in t:O.call(t,d)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);var h=s;for(;++l<u;){d=a[l];var _=e[d],v=t[d];if(r)var S=s?r(v,_,d,t,e,i):r(_,v,d,e,t,i);if(!(void 0===S?_===v||o(_,v,n,r,i):S)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,a,u,c)}(e,t,n,a,de,u))}function fe(e){return!(!Me(e)||function(e){return!!N&&N in e}(e))&&(Ie(e)?P:a).test(Ae(e))}function pe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||D,t!==r)return K(e);var t,n,r,o=[];for(var i in Object(e))O.call(e,i)&&"constructor"!=i&&o.push(i);return o}function he(e,t,n,r,o,i){var s=1&n,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,d=!0,f=2&n?new ie:void 0;for(i.set(e,t),i.set(t,e);++l<a;){var p=e[l],h=t[l];if(r)var _=s?r(h,p,l,t,e,i):r(p,h,l,e,t,i);if(void 0!==_){if(_)continue;d=!1;break}if(f){if(!b(t,(function(e,t){if(s=t,!f.has(s)&&(p===e||o(p,e,n,r,i)))return f.push(t);var s}))){d=!1;break}}else if(p!==h&&!o(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function _e(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ne,ge)}function ve(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Se(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(G){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return O.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:O.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=G&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ue(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ue(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ue(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ue(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(x||re),string:new ne}},oe.prototype.delete=function(e){var t=ve(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return ve(this,e).get(e)},oe.prototype.has=function(e){return ve(this,e).has(e)},oe.prototype.set=function(e,t){var n=ve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},se.prototype.clear=function(){this.__data__=new re,this.size=0},se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!x||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oe(r)}return n.set(e,t),this.size=n.size,this};var ge=F?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}(F(e),(function(t){return k.call(e,t)})))}:function(){return[]},be=ce;function ye(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ee(e,t){return e===t||e!=e&&t!=t}(W&&"[object DataView]"!=be(new W(new ArrayBuffer(1)))||x&&be(new x)!=o||Y&&"[object Promise]"!=be(Y.resolve())||B&&be(new B)!=s||z&&"[object WeakMap]"!=be(new z))&&(be=function(e){var t=ce(e),n=t==i?e.constructor:void 0,r=n?Ae(n):"";if(r)switch(r){case J:return"[object DataView]";case X:return o;case Q:return"[object Promise]";case $:return s;case Z:return"[object WeakMap]"}return t});var me=le(function(){return arguments}())?le:function(e){return we(e)&&O.call(e,"callee")&&!k.call(e,"callee")},Re=Array.isArray;var Te=H||function(){return!1};function Ie(e){if(!Me(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function De(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Me(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function we(e){return null!=e&&"object"==typeof e}var Oe=g?function(e){return function(t){return e(t)}}(g):function(e){return we(e)&&De(e.length)&&!!c[ce(e)]};function Ne(e){return null!=(t=e)&&De(t.length)&&!Ie(t)?ae(e):pe(e);var t}n.exports=function(e,t){return de(e,t)}}).call(this,n(13),n(14)(e))},function(e,t,n){var r=n(6);e.exports=r.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(7)),s=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(t){e._lp.setEmail(t)},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,n){e._lp.setAppIdForDevelopmentMode(t,n)},e.setAppIdForProductionMode=function(t,n){e._lp.setAppIdForProductionMode(t,n)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,n){e._lp.setRequestBatching(t,n)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e._lp).getVariable.apply(t,n)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,n,r){e._lp.start(t,n,r)},e.startFromCache=function(t,n,r){e._lp.startFromCache(t,n,r)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,n){e._lp.setUserAttributes(t,n)},e.track=function(t,n,r,o){e._lp.track(t,n,r,o)},e.trackPurchase=function(t,n,r,o){void 0===o&&(o="Purchase"),e._lp.trackPurchase(t,n,r,o)},e.advanceTo=function(t,n,r){e._lp.advanceTo(t,n,r)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.applyQueue=function(t){e._lp.applyQueue(t)},e.__destroy=function(){this._lp=new i.default(window)},e._lp=new i.default(window),e.VERSION=o.default.SDK_VERSION,e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1)),s=o(n(8)),a=o(n(0)),u=o(n(9)),c=o(n(10)),l=o(n(11)),d=o(n(12)),f=o(n(2)),p=o(n(16)),h=o(n(4)),_=o(n(17)),v=a.default.DEFAULT_KEYS.SESSION,S=function(){function e(e){this.wnd=e,this._internalState=new u.default,this._lpInbox=new c.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new l.default,this._lpSocket=new d.default,this._pushManager=new p.default(this.createRequest.bind(this)),this._varCache=new _.default(this.createRequest.bind(this)),this._browserDetector=new s.default(e)}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setEmail=function(e){this._email=e},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.onInboxAction=function(e,t){var n=this;this.trackMessage(e,"Open",(function(){return t&&n.onAction(t)}))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.forceContentUpdate=function(e){var t=this,n=(new i.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(n){var r=t._lpRequest.getLastResponse(n),o=t._lpRequest.isResponseSuccess(r);o&&(t._varCache.applyDiffs(r[a.default.KEYS.VARS],r[a.default.KEYS.VARIANTS],r[a.default.KEYS.ACTION_METADATA]),t._varCache.setVariantDebugInfo(r[a.default.KEYS.VARIANT_DEBUG_INFO])),e&&e(o)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,n){var r=this;if("function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.hasActiveSession())return this.startFromCache(e,t,n);this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._varCache.onUpdate=function(){r._varCache.triggerVariablesChangedHandlers()};var o=(new i.default).add(a.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(a.default.PARAMS.COUNTRY,a.default.VALUES.DETECT).add(a.default.PARAMS.REGION,a.default.VALUES.DETECT).add(a.default.PARAMS.CITY,a.default.VALUES.DETECT).add(a.default.PARAMS.LOCATION,a.default.VALUES.DETECT).add(a.default.PARAMS.SYSTEM_NAME,this._systemName||this._browserDetector.OS).add(a.default.PARAMS.SYSTEM_VERSION,(this._systemVersion||"").toString()).add(a.default.PARAMS.BROWSER_NAME,this._browserDetector.browser).add(a.default.PARAMS.BROWSER_VERSION,this._browserDetector.version.toString()).add(a.default.PARAMS.LOCALE,a.default.VALUES.DETECT).add(a.default.PARAMS.DEVICE_NAME,this._deviceName||this._browserDetector.browser+" "+this._browserDetector.version).add(a.default.PARAMS.DEVICE_MODEL,this._deviceModel||"Web Browser").add(a.default.PARAMS.NEWSFEED_MESSAGES,this._lpInbox.messageIds()).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.START,o,{queued:!0,sendNow:!0,response:function(e){r._internalState.hasStarted=!0;var t=r._lpRequest.getLastResponse(e);if(r._lpRequest.isResponseSuccess(t)){if(r._internalState.startSuccessful=!0,r.updateSession(),r._messageCache=t[a.default.KEYS.MESSAGES],t[a.default.KEYS.SYNC_INBOX]&&r._lpInbox.downloadMessages(),r._internalState.devMode){var n=t[a.default.KEYS.LATEST_VERSION];n&&console.log("A newer version of the Leanplum SDK, "+n+', is available.\nUse "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.'),r.connectSocket()}r._varCache.applyDiffs(t[a.default.KEYS.VARS],t[a.default.KEYS.VARIANTS],t[a.default.KEYS.ACTION_METADATA]),r._varCache.setVariantDebugInfo(t[a.default.KEYS.VARIANT_DEBUG_INFO]),r._varCache.token=t[a.default.KEYS.TOKEN]}else r._internalState.startSuccessful=!1,r._varCache.loadDiffs();r._internalState.triggerStartHandlers()}})},e.prototype.startFromCache=function(e,t,n){"function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.updateSession(),this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(a.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){f.default.removeFromLocalStorage(v)}})},e.prototype.pauseSession=function(){this.createRequest(a.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this.createRequest(a.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(a.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(a.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var n=(new i.default).add(a.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(a.default.PARAMS.NEW_USER_ID,e);this.createRequest(a.default.METHODS.SET_USER_ATTRIBUTES,n,{queued:!0}),e&&(this._lpRequest.userId=e,f.default.saveToLocalStorage(a.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,n,r){var o=this;"object"==typeof t&&null!=t?(r=t,n=void 0,t=void 0):"string"==typeof t?(r=n,n=t,t=void 0):"object"==typeof n&&null!=n&&(r=n,n=void 0);var s=(new i.default).add(a.default.PARAMS.EVENT,e).add(a.default.PARAMS.VALUE,t||0).add(a.default.PARAMS.INFO,n).add(a.default.PARAMS.PARAMS,JSON.stringify(r));this.createRequest(a.default.METHODS.TRACK,s,{queued:!0,response:function(){return o.updateSession()}})},e.prototype.trackPurchase=function(e,t,n,r){void 0===r&&(r="Purchase");var o=(new i.default).add(a.default.PARAMS.EVENT,r).add(a.default.PARAMS.VALUE,e||0).add(a.default.PARAMS.PARAMS,JSON.stringify(n));t&&o.add(a.default.PARAMS.CURRENCY_CODE,t),this.createRequest(a.default.METHODS.TRACK,o,{queued:!0})},e.prototype.advanceTo=function(e,t,n){"object"==typeof t&&null!=t&&(n=t,t=void 0);var r=(new i.default).add(a.default.PARAMS.STATE,e).add(a.default.PARAMS.INFO,t).add(a.default.PARAMS.PARAMS,JSON.stringify(n));this.createRequest(a.default.METHODS.ADVANCE,r,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){return this._pushManager.isWebPushSubscribed()},e.prototype.setWebPushOptions=function(e){this._webPushOptions=r({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var n=this._webPushOptions,r=e||n.serviceWorkerUrl,o=n&&n.scope?{scope:n.scope}:null;return this._pushManager.register(r,o,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){return this._pushManager.unsubscribeUser()},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,n){void 0===n&&(n={}),this._lpRequest.request(e,t,r({devMode:this._internalState.devMode},n))},e.prototype.connectSocket=function(){this._lpSocket.connect(this._varCache,{appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId},this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest))},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(f.default.getFromLocalStorage(v));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){f.default.saveToLocalStorage(v,String(Date.now()))},e.prototype.trackMessage=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=function(){});var r=(new i.default).add(a.default.PARAMS.MESSAGE_ID,e);t&&r.add(a.default.PARAMS.EVENT,t),this.createRequest(a.default.METHODS.TRACK,r,{queued:!1,sendNow:!0,response:n})},e.prototype.onAction=function(e){var t=this,n=this._messageCache||{};if(e&&"Chain to Existing Message"===e.__name__){var r=e["Chained message"],o=n[r];o&&this.trackMessage(r,"View",(function(){return t.onAction(o.vars)}))}else{var i=function(){"Open URL"===e.__name__&&t.wnd.location.assign(e.URL)},s=this.messageIdFromAction(e);s?this.trackMessage(s,null,i):i()}},e.prototype.messageIdFromAction=function(e){var t=this._messageCache||{},n=r({},e);delete n.parentCampaignId;for(var o=0,i=Object.keys(t);o<i.length;o++){var s=i[o],a=t[s];if(a.parentCampaignId===e.parentCampaignId&&h.default(a.vars,n))return s}},e}();t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!==n.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1)),s=o(n(0)),a=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var n=t.response[0];n&&n.newsfeedMessages&&(e.messageMap=n.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var n=new i.default;n.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",n,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),n=e.split("##")[0],r=(null==t?void 0:t.openAction())||null;this.onAction(n,r)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new i.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){this.changeHandlers.push(e)},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){sessionStorage.setItem(s.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap))},e.prototype.load=function(){var e=sessionStorage.getItem(s.default.DEFAULT_KEYS.INBOX_MESSAGES);this.messageMap=JSON.parse(e)||{}},e.prototype.count=function(){return Object.values(this.messageMap).length},e.prototype.unreadCount=function(){return Object.values(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var n in this.messageMap){var r=this.messageMap[n];e(r)&&t.push(u.create(n,r))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?u.create(e,t):null},e}();t.default=a;var u=function(){function e(e,t,n,r,o,i,s){this._id=e,this._title=t,this._subtitle=n,this._timestamp=r,this._isRead=o,this._imageUrl=i,this._openAction=s}return e.create=function(t,n){var o,i,a,u,c,l,d,f,p,h=null===(o=n.messageData)||void 0===o?void 0:o.parentCampaignId,_=r(r({},null===(a=null===(i=n.messageData)||void 0===i?void 0:i.vars)||void 0===a?void 0:a[s.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:h});return new e(t,null===(c=null===(u=n.messageData)||void 0===u?void 0:u.vars)||void 0===c?void 0:c.Title,null===(d=null===(l=n.messageData)||void 0===l?void 0:l.vars)||void 0===d?void 0:d.Subtitle,n.deliveryTimestamp,n.isRead,null===(p=null===(f=n.messageData)||void 0===f?void 0:f.vars)||void 0===p?void 0:p.Image,_)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),i=r(n(0)),s=r(n(2)),a=r(n(3)),u=function(){function e(){this.cooldownTimeout=null,this.lastRequestTime=void 0,this.network=new a.default,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(i.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!0,configurable:!0}),e.prototype.request=function(e,t,n){var r=this;if(void 0===n&&(n={}),n=n||{},t=t||new o.default,this.deviceId||(this.deviceId=this.loadLocal(i.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var s="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=0;u<16;u++)s+=a.charAt(Math.floor(Math.random()*a.length));this.deviceId=s,this.saveLocal(i.default.DEFAULT_KEYS.DEVICE_ID,s)}this.saveLocal(i.default.DEFAULT_KEYS.USER_ID,this.userId);var c=t.attachApiKeys(this.appId,this.clientKey).add(i.default.PARAMS.SDK_VERSION,i.default.SDK_VERSION).add(i.default.PARAMS.DEVICE_ID,this.deviceId).add(i.default.PARAMS.USER_ID,this.userId).add(i.default.PARAMS.ACTION,e).add(i.default.PARAMS.VERSION_NAME,this.versionName).add(i.default.PARAMS.DEV_MODE,n.devMode).add(i.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),l=n.success||n.response,d=n.error||n.response;if(!this.appId||!this.clientKey){var f="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(f),void(d&&d(f))}if(t.body())this.network.ajax("POST",this.apiPath+"?"+c.build(),t.body(),l,d,n.queued);else{var p=n.devMode||n.sendNow||!this.batchEnabled,h=function(){var e=r.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),s=(new o.default).attachApiKeys(r.appId,r.clientKey).add(i.default.PARAMS.SDK_VERSION,i.default.SDK_VERSION).add(i.default.PARAMS.ACTION,i.default.METHODS.MULTI).add(i.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();r.network.ajax("POST",r.apiPath+"?"+s,t,l,d,n.queued)}};if(!p&&this.batchCooldown){var _=(new Date).getTime()/1e3;!this.lastRequestTime||_-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=_):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){r.cooldownTimeout=null,r.lastRequestTime=(new Date).getTime()/1e3,h()}),1e3*(this.batchCooldown-(_-this.lastRequestTime))))}this.saveRequestForLater(c.buildDict()),p&&h()}},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,n,r,o=null!==(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==n?n:0;return o>0?null===(r=null==e?void 0:e.response)||void 0===r?void 0:r[o-1]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(i.default.DEFAULT_KEYS.COUNT)||0,n=i.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(n,JSON.stringify(e)),t++,this.saveLocal(i.default.DEFAULT_KEYS.COUNT,t)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(i.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(i.default.DEFAULT_KEYS.COUNT);for(var n=0;n<t;n++){var r=i.default.DEFAULT_KEYS.ITEM+n;try{e.push(JSON.parse(this.loadLocal(r)))}catch(e){}this.removeLocal(r)}return e},e.prototype.loadLocal=function(e){return s.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){s.default.saveToLocalStorage(e,t)},e.prototype.removeLocal=function(e){s.default.removeFromLocalStorage(e)},e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(4)),i=r(n(1)),s=r(n(0)),a=r(n(15)),u=function(){function e(){this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com"}return e.prototype.connect=function(e,t,n,r){var u=this;if(WebSocket){var c=!1;this.socketClient=new a.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var e;c||(console.log("Leanplum: Connected to development server."),u.socketClient.send("auth",((e={})[s.default.PARAMS.APP_ID]=t.appId,e[s.default.PARAMS.DEVICE_ID]=t.deviceId,e)),c=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=function(t,a){if("updateVars"===t){var c=(new i.default).add(s.default.PARAMS.INCLUDE_DEFAULTS,!1);n(s.default.METHODS.GET_VARS,c,{queued:!1,sendNow:!0,response:function(t){var n=r(t),i=n[s.default.KEYS.VARS],a=n[s.default.KEYS.VARIANTS],u=n[s.default.KEYS.ACTION_METADATA];o.default(i,e.diffs)||e.applyDiffs(i,a,u)}})}else"getVariables"===t?(e.sendVariables(),u.socketClient.send("getContentResponse",{updated:!0})):"getActions"===t?u.socketClient.send("getContentResponse",{updated:!1}):"registerDevice"===t&&alert("Your device has been registered to "+a[0].email+".")},this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),c=!1},this.socketClient.connect(this.socketHost),setInterval((function(){u.socketClient.connected||u.socketClient.connecting||u.socketClient.connect(u.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e}();t.default=u},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3)),i=function(){function e(){this.network=new o.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://"+e+"/socket.io/1","",(function(n){var r=n.split(":"),o=r[0],i=parseInt(r[1])/2*1e3;t.socket=new WebSocket("wss://"+e+"/socket.io/1/websocket/"+o);var s=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),s=setInterval((function(){t.socket.send("2:::")}),i)},t.socket.onclose=function(){t.connected=!1,clearInterval(s),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var n=e.data.split(":"),r=parseInt(n[0]);if(2===r)t.socket.send("2::");else if(5===r){var o=n[1],i=JSON.parse(n.slice(3).join(":")),s=i.name,a=i.args;o&&t.socket.send("6:::"+o),t.onmessage&&t.onmessage(s,a)}else 7===r&&console.log("Socket error: "+e.data)},t.socket.onerror=function(e){t.socket.close(),t.onerror&&self.onerror(e)}}),null,!1,!0)},e.prototype.send=function(e,t){if(this.connected){var n=JSON.stringify({name:e,args:t});this.socket.send("5:::"+n)}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),a=i(n(0)),u=i(n(2)),c=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!0,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration()]:[2,!1];case 1:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[2,!1];case 2:return t=r.sent(),(n=null!==t)&&this.updateNewSubscriptionOnServer(t),[2,n]}}))}))},e.prototype.register=function(e,t,n){return r(this,void 0,void 0,(function(){var r,i,s,a;return o(this,(function(o){switch(o.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,n(!1)];o.label=1;case 1:return o.trys.push([1,4,,5]),r=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return r.serviceWorkerRegistration=o.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return i=o.sent(),(s=null!==i)&&this.updateNewSubscriptionOnServer(i),[2,n(s)];case 4:return a=o.sent(),console.log("Leanplum: Service Worker Error: ",a),[2,n(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=r.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw n=r.sent(),new Error("Leanplum: Failed to subscribe the user: "+n);case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return[4,this.isWebPushSubscribed()];case 1:if(!n.sent())return[3,6];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(e=n.sent()))throw new Error;return[4,e.unsubscribe()];case 4:return n.sent(),[3,6];case 5:throw t=n.sent(),new Error("Leanplum: Error unsubscribing: "+t);case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.serviceWorkerRegistration?[3,2]:(e=this,[4,this.serviceWorker.getRegistration()]);case 1:e.serviceWorkerRegistration=t.sent(),t.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=this.decodeData(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),n=JSON.stringify(t);u.default.getFromLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==n&&(u.default.saveToLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,n),this.setSubscription(n))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],n="getKey"in e?e.getKey("auth"):[],r=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),o=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(n)));return{endpoint:e.endpoint,key:r,auth:o}},e.prototype.setSubscription=function(e){if(e){var t=(new s.default).add(a.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(a.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),i=r(n(0)),s=r(n(2)),a=function(){function e(e){this.createRequest=e,this.actionMetadata={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,n){this.diffs=e,this.variants=t,this.actionMetadata=n,this.hasReceivedDiffs=!0,this.merged=function e(t,n){if("number"==typeof n||"boolean"==typeof n||"string"==typeof n)return n;if(null==n)return t;var r=function(e){return function(t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n]);else for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r)}},o=r(t),i=r(n),s=!1;if(null===t&&!(n instanceof Array))for(var a in s=null,n)if(n.hasOwnProperty(a)){if(null===s&&(s=!0),"string"!=typeof a){s=!1;break}if(a.length<3||"["!==a.charAt(0)||"]"!==a.charAt(a.length-1)){s=!1;break}}if(t instanceof Array||s){var u=[];return o((function(e){u.push(e)})),i((function(t){for(var r=parseInt(t.substring(1,t.length-1)),o=n[t];r>=u.length;)u.push(null);u[r]=e(u[r],o)})),u}var c={};return o((function(e){null!==n[e]&&void 0!==n[e]||(c[e]=t[e])})),i((function(r){c[r]=e(null===t?null:t[r]||{},n[r])})),c}(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(i.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(i.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(i.default.DEFAULT_KEYS.ACTION_METADATA)||null)),this.token=this.loadLocal(i.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(i.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: "+e)}},e.prototype.saveDiffs=function(){this.saveLocal(i.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(i.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(i.default.DEFAULT_KEYS.ACTION_METADATA,JSON.stringify(this.actionMetadata||{})),this.saveLocal(i.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(i.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getVariables();if(n)for(var r=0;r<e.length;r++)n=n[e[r]];return n},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendVariables=function(){var e,t=((e={})[i.default.PARAMS.VARIABLES]=this.variables,e),n=(new o.default).body(JSON.stringify(t));this.createRequest(i.default.METHODS.SET_VARS,n,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.loadLocal=function(e){return s.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){s.default.saveToLocalStorage(e,t)},e}();t.default=a}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0FyZ3NCdWlsZGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xvY2FsU3RvcmFnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTmV0d29yay50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNlcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9idW5kbGVzL2xlYW5wbHVtLmZ1bGwudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW0udHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1JbnRlcm5hbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Ccm93c2VyRGV0ZWN0b3IudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvSW50ZXJuYWxTdGF0ZS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bUluYm94LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtUmVxdWVzdC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVNvY2tldC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1NvY2tldElvQ2xpZW50LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1B1c2hNYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1ZhckNhY2hlLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJkZWZhdWx0IiwiTUVUSE9EUyIsIlNUQVJUIiwiU1RPUCIsIkFEVkFOQ0UiLCJUUkFDSyIsIlBBVVNFX1NFU1NJT04iLCJSRVNVTUVfU0VTU0lPTiIsIlBBVVNFX1NUQVRFIiwiUkVTVU1FX1NUQVRFIiwiRE9XTkxPQURfRklMRSIsIk1VTFRJIiwiU0VUX1ZBUlMiLCJHRVRfVkFSUyIsIlNFVF9VU0VSX0FUVFJJQlVURVMiLCJTRVRfREVWSUNFX0FUVFJJQlVURVMiLCJVUExPQURfRklMRSIsIlJFR0lTVEVSX0RFVklDRSIsIlNES19WRVJTSU9OIiwiQ0xJRU5UIiwiUEFSQU1TIiwiQUNUSU9OIiwiQVBQX0lEIiwiQ0xJRU5UX0tFWSIsIkNVUlJFTkNZX0NPREUiLCJERVZJQ0VfSUQiLCJVU0VSX0lEIiwiTkVXX1VTRVJfSUQiLCJERVZfTU9ERSIsIlZFUlNJT05fTkFNRSIsIlNZU1RFTV9OQU1FIiwiU1lTVEVNX1ZFUlNJT04iLCJCUk9XU0VSX05BTUUiLCJCUk9XU0VSX1ZFUlNJT04iLCJERVZJQ0VfTkFNRSIsIkRFVklDRV9NT0RFTCIsIlVTRVJfQVRUUklCVVRFUyIsIkxPQ0FMRSIsIkNPVU5UUlkiLCJSRUdJT04iLCJDSVRZIiwiTE9DQVRJT04iLCJTVEFURSIsIklORk8iLCJFVkVOVCIsIlZBTFVFIiwiRklMRU5BTUUiLCJUSU1FIiwiREFUQSIsIlZBUlMiLCJGSUxFIiwiU0laRSIsIlZBUklBVElPTiIsIkhBU0giLCJFTUFJTCIsIlZBUklBQkxFUyIsIklOQ0xVREVfREVGQVVMVFMiLCJJTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTyIsIk5FV1NGRUVEX01FU1NBR0VTIiwiTUVTU0FHRV9JRCIsIldFQl9QVVNIX1NVQlNDUklQVElPTiIsIktFWVMiLCJJU19SRUdJU1RFUkVEIiwiTEFURVNUX1ZFUlNJT04iLCJTWU5DX0lOQk9YIiwiTUVTU0FHRVMiLCJWQVJJQU5UUyIsIlZBUklBTlRfREVCVUdfSU5GTyIsIkFDVElPTl9NRVRBREFUQSIsIlRPS0VOIiwiREVGQVVMVF9LRVlTIiwiQ09VTlQiLCJJVEVNIiwiSU5CT1hfTUVTU0FHRVMiLCJTRVNTSU9OIiwiUFVTSF9TVUJTQ1JJUFRJT04iLCJWQUxVRVMiLCJERVRFQ1QiLCJERUZBVUxUX1BVU0hfQUNUSU9OIiwiX19pbXBvcnREZWZhdWx0IiwidGhpcyIsIm1vZCIsIkNvbnN0YW50c18xIiwiQXJnc0J1aWxkZXIiLCJhcmdTdHJpbmciLCJhcmdWYWx1ZXMiLCJhZGQiLCJ2YWwiLCJBcnJheSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJib2R5IiwiX2JvZHkiLCJhdHRhY2hBcGlLZXlzIiwiYXBwSWQiLCJjbGllbnRLZXkiLCJidWlsZCIsImJ1aWxkRGljdCIsImxvY2FsU3RvcmFnZUVuYWJsZWQiLCJhbHRlcm5hdGVMb2NhbFN0b3JhZ2UiLCJMb2NhbFN0b3JhZ2VNYW5hZ2VyIiwiZ2V0RnJvbUxvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsInNhdmVUb0xvY2FsU3RvcmFnZSIsImUiLCJyZW1vdmVGcm9tTG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsIk5ldHdvcmsiLCJuZXR3b3JrVGltZW91dFNlY29uZHMiLCJyZXF1ZXN0UXVldWUiLCJydW5uaW5nUmVxdWVzdCIsInNldE5ldHdvcmtUaW1lb3V0Iiwic2Vjb25kcyIsImFqYXgiLCJtZXRob2QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsImVycm9yIiwicXVldWVkIiwicGxhaW5UZXh0IiwiX3RoaXMiLCJlbnF1ZXVlUmVxdWVzdCIsImFyZ3VtZW50cyIsIlhEb21haW5SZXF1ZXN0IiwibG9jYXRpb24iLCJwcm90b2NvbCIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJhamF4SUU4IiwiaGFuZGxlZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlXzEiLCJyYW5DYWxsYmFjayIsInJlc3BvbnNlVGV4dCIsInBhcnNlIiwic2V0VGltZW91dCIsInN0YXR1cyIsImRlcXVldWVSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiYWJvcnQiLCJ4ZHIiLCJvbmxvYWQiLCJyZXNwb25zZSIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwidGltZW91dCIsInJlcXVlc3RBcmd1bWVudHMiLCJwdXNoIiwiYXJncyIsInNoaWZ0IiwiYXBwbHkiLCJhcmdzVGFnIiwibWFwVGFnIiwib2JqZWN0VGFnIiwic2V0VGFnIiwicmVJc0hvc3RDdG9yIiwicmVJc1VpbnQiLCJ0eXBlZEFycmF5VGFncyIsImZyZWVHbG9iYWwiLCJnbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJGdW5jdGlvbiIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsIm5vZGVVdGlsIiwiYmluZGluZyIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJhcnJheVNvbWUiLCJhcnJheSIsInByZWRpY2F0ZSIsImluZGV4IiwibGVuZ3RoIiwibWFwVG9BcnJheSIsIm1hcCIsInJlc3VsdCIsInNpemUiLCJmb3JFYWNoIiwic2V0VG9BcnJheSIsInNldCIsInVpZCIsImZ1bmMiLCJ0cmFuc2Zvcm0iLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwidG9TdHJpbmciLCJtYXNrU3JjS2V5IiwiZXhlYyIsImtleXMiLCJJRV9QUk9UTyIsIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwicmVJc05hdGl2ZSIsIlJlZ0V4cCIsInJlcGxhY2UiLCJCdWZmZXIiLCJ1bmRlZmluZWQiLCJVaW50OEFycmF5IiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcGxpY2UiLCJzeW1Ub1N0cmluZ1RhZyIsIm5hdGl2ZUdldFN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlS2V5cyIsImFyZyIsIkRhdGFWaWV3IiwiZ2V0TmF0aXZlIiwiTWFwIiwiUHJvbWlzZSIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJIYXNoIiwiZW50cmllcyIsImNsZWFyIiwiZW50cnkiLCJMaXN0Q2FjaGUiLCJNYXBDYWNoZSIsIlNldENhY2hlIiwidmFsdWVzIiwiX19kYXRhX18iLCJTdGFjayIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJyYXkiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpdGVyYXRlZSIsImJhc2VUaW1lcyIsIlN0cmluZyIsImlzSW5kZXgiLCJhc3NvY0luZGV4T2YiLCJlcSIsImJhc2VHZXRUYWciLCJpc093biIsInRhZyIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlSXNBcmd1bWVudHMiLCJpc09iamVjdExpa2UiLCJiYXNlSXNFcXVhbCIsIm90aGVyIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJzdGFjayIsImVxdWFsRnVuYyIsIm9iaklzQXJyIiwib3RoSXNBcnIiLCJvYmpUYWciLCJnZXRUYWciLCJvdGhUYWciLCJvYmpJc09iaiIsIm90aElzT2JqIiwiaXNTYW1lVGFnIiwiZXF1YWxBcnJheXMiLCJieXRlTGVuZ3RoIiwiYnl0ZU9mZnNldCIsImJ1ZmZlciIsIm1lc3NhZ2UiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwic3RhY2tlZCIsImVxdWFsQnlUYWciLCJvYmpJc1dyYXBwZWQiLCJvdGhJc1dyYXBwZWQiLCJvYmpVbndyYXBwZWQiLCJvdGhVbndyYXBwZWQiLCJvYmpQcm9wcyIsImdldEFsbEtleXMiLCJvYmpMZW5ndGgiLCJvdGhMZW5ndGgiLCJza2lwQ3RvciIsIm9ialZhbHVlIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJjb25zdHJ1Y3RvciIsIm90aEN0b3IiLCJlcXVhbE9iamVjdHMiLCJiYXNlSXNFcXVhbERlZXAiLCJiYXNlSXNOYXRpdmUiLCJpc09iamVjdCIsImlzTWFza2VkIiwiaXNGdW5jdGlvbiIsInRlc3QiLCJiYXNlS2V5cyIsIkN0b3IiLCJwcm90byIsImFyckxlbmd0aCIsInNlZW4iLCJhcnJWYWx1ZSIsIm90aEluZGV4IiwiaGFzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsIm9mZnNldCIsImFycmF5UHVzaCIsImJhc2VHZXRBbGxLZXlzIiwiZ2V0U3ltYm9scyIsImdldE1hcERhdGEiLCJ0eXBlIiwiZ2V0VmFsdWUiLCJwb3AiLCJwYWlycyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJyZXNJbmRleCIsImFycmF5RmlsdGVyIiwic3ltYm9sIiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiY3RvclN0cmluZyIsImlzTGVuZ3RoIiwiYmFzZVVuYXJ5IiwiTGVhbnBsdW0iLCJMZWFucGx1bUludGVybmFsXzEiLCJzZXRBcGlQYXRoIiwiYXBpUGF0aCIsIl9scCIsInNldEVtYWlsIiwiZW1haWwiLCJzZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSIsImFjY2Vzc0tleSIsInNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUiLCJzZXRTb2NrZXRIb3N0IiwiaG9zdCIsInNldERldmljZUlkIiwiZGV2aWNlSWQiLCJzZXRBcHBWZXJzaW9uIiwidmVyc2lvbk5hbWUiLCJzZXREZXZpY2VOYW1lIiwiZGV2aWNlTmFtZSIsInNldERldmljZU1vZGVsIiwiZGV2aWNlTW9kZWwiLCJzZXRSZXF1ZXN0QmF0Y2hpbmciLCJiYXRjaEVuYWJsZWQiLCJjb29sZG93blNlY29uZHMiLCJzZXRTeXN0ZW1OYW1lIiwic3lzdGVtTmFtZSIsInNldFN5c3RlbVZlcnNpb24iLCJzeXN0ZW1WZXJzaW9uIiwic2V0VmFyaWFibGVzIiwidmFyaWFibGVzIiwic2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQiLCJ2YXJpYW50RGVidWdJbmZvRW5hYmxlZCIsImdldFZhcmlhbnREZWJ1Z0luZm8iLCJnZXRWYXJpYWJsZXMiLCJnZXRWYXJpYWJsZSIsIl9hIiwiX2kiLCJnZXRWYXJpYW50cyIsImluYm94IiwiYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIiLCJoYW5kbGVyIiwicmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIiLCJhZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciIsInJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyIiwiZm9yY2VDb250ZW50VXBkYXRlIiwiY2FsbGJhY2siLCJ1c2VTZXNzaW9uTGVuZ3RoIiwic3RhcnQiLCJ1c2VySWQiLCJ1c2VyQXR0cmlidXRlcyIsInN0YXJ0RnJvbUNhY2hlIiwic3RvcCIsInBhdXNlU2Vzc2lvbiIsInJlc3VtZVNlc3Npb24iLCJwYXVzZVN0YXRlIiwicmVzdW1lU3RhdGUiLCJnZXRVc2VySWQiLCJzZXRVc2VySWQiLCJzZXRVc2VyQXR0cmlidXRlcyIsInRyYWNrIiwiZXZlbnQiLCJpbmZvIiwicGFyYW1zIiwidHJhY2tQdXJjaGFzZSIsImN1cnJlbmN5Q29kZSIsImFkdmFuY2VUbyIsInN0YXRlIiwiaXNXZWJQdXNoU3VwcG9ydGVkIiwiaXNXZWJQdXNoU3Vic2NyaWJlZCIsInNldFdlYlB1c2hPcHRpb25zIiwib3B0aW9ucyIsInJlZ2lzdGVyRm9yV2ViUHVzaCIsInNlcnZpY2VXb3JrZXJVcmwiLCJ1bnJlZ2lzdGVyRnJvbVdlYlB1c2giLCJjbGVhclVzZXJDb250ZW50IiwiYXBwbHlRdWV1ZSIsInF1ZXVlIiwiX19kZXN0cm95IiwiVkVSU0lPTiIsIl9fYXNzaWduIiwiYXNzaWduIiwiQXJnc0J1aWxkZXJfMSIsIkJyb3dzZXJEZXRlY3Rvcl8xIiwiSW50ZXJuYWxTdGF0ZV8xIiwiTGVhbnBsdW1JbmJveF8xIiwiTGVhbnBsdW1SZXF1ZXN0XzEiLCJMZWFucGx1bVNvY2tldF8xIiwiTG9jYWxTdG9yYWdlTWFuYWdlcl8xIiwiUHVzaE1hbmFnZXJfMSIsImxvZGFzaF9pc2VxdWFsXzEiLCJWYXJDYWNoZV8xIiwiU0VTU0lPTl9LRVkiLCJMZWFucGx1bUludGVybmFsIiwid25kIiwiX2ludGVybmFsU3RhdGUiLCJfbHBJbmJveCIsImNyZWF0ZVJlcXVlc3QiLCJvbkluYm94QWN0aW9uIiwiX2xwUmVxdWVzdCIsIl9scFNvY2tldCIsIl9wdXNoTWFuYWdlciIsIl92YXJDYWNoZSIsIl9icm93c2VyRGV0ZWN0b3IiLCJfZW1haWwiLCJkZXZNb2RlIiwiX2RldmljZU5hbWUiLCJfZGV2aWNlTW9kZWwiLCJiYXRjaENvb2xkb3duIiwiX3N5c3RlbU5hbWUiLCJfc3lzdGVtVmVyc2lvbiIsInZhcmlhbnRzIiwibWVzc2FnZUlkIiwiYWN0aW9uIiwidHJhY2tNZXNzYWdlIiwib25BY3Rpb24iLCJzZW5kTm93IiwiZ2V0VmFyc1Jlc3BvbnNlIiwiZ2V0TGFzdFJlc3BvbnNlIiwiaXNTdWNjZXNzIiwiaXNSZXNwb25zZVN1Y2Nlc3MiLCJhcHBseURpZmZzIiwic2V0VmFyaWFudERlYnVnSW5mbyIsIl9zZXNzaW9uTGVuZ3RoIiwiaGFzQWN0aXZlU2Vzc2lvbiIsIm9uVXBkYXRlIiwidHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyIsIk9TIiwiYnJvd3NlciIsInZlcnNpb24iLCJtZXNzYWdlSWRzIiwiaGFzU3RhcnRlZCIsInN0YXJ0UmVzcG9uc2UiLCJzdGFydFN1Y2Nlc3NmdWwiLCJ1cGRhdGVTZXNzaW9uIiwiX21lc3NhZ2VDYWNoZSIsImRvd25sb2FkTWVzc2FnZXMiLCJsYXRlc3RWZXJzaW9uIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3RTb2NrZXQiLCJ0b2tlbiIsImxvYWREaWZmcyIsInRyaWdnZXJTdGFydEhhbmRsZXJzIiwiX3dlYlB1c2hPcHRpb25zIiwid29ya2VyVXJsIiwic2NvcGUiLCJyZWdpc3RlciIsImlzU3Vic2NyaWJlZCIsInN1YnNjcmliZVVzZXIiLCJyZWplY3QiLCJ1bnN1YnNjcmliZVVzZXIiLCJpbnZvY2F0aW9uIiwicmVxdWVzdCIsImNvbm5lY3QiLCJjdXJyZW50VGltZSIsIkRhdGUiLCJub3ciLCJsYXN0QWN0aXZlIiwicGFyc2VJbnQiLCJpc05hTiIsIm1lc3NhZ2VzIiwiX19uYW1lX18iLCJjaGFpbmVkTWVzc2FnZUlkIiwibWVzc2FnZV8xIiwidmFycyIsInByb2Nlc3NBY3Rpb24iLCJVUkwiLCJtZXNzYWdlSWRGcm9tQWN0aW9uIiwiaWQiLCJwYXJlbnRDYW1wYWlnbklkIiwiQnJvd3NlckRldGVjdG9yIiwic2VhcmNoU3RyaW5nIiwiZ2V0QnJvd3NlckRhdGEiLCJzZWFyY2hWZXJzaW9uIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiYXBwVmVyc2lvbiIsImdldE9TRGF0YSIsImRhdGFTdHJpbmciLCJzdHJpbmciLCJkYXRhUHJvcCIsInByb3AiLCJ2ZXJzaW9uU2VhcmNoU3RyaW5nIiwidmVyc2lvblNlYXJjaCIsImlkZW50aXR5Iiwic3ViU3RyaW5nIiwicGFyc2VGbG9hdCIsInZlbmRvciIsIm9wZXJhIiwicGxhdGZvcm0iLCJJbnRlcm5hbFN0YXRlIiwic3RhcnRIYW5kbGVycyIsImlkeCIsIkxlYW5wbHVtSW5ib3giLCJtZXNzYWdlTWFwIiwiY2hhbmdlSGFuZGxlcnMiLCJsb2FkIiwibmV3c2ZlZWRNZXNzYWdlcyIsInRyaWdnZXJDaGFuZ2VIYW5kbGVycyIsIm1hcmtBc1JlYWQiLCJpc1JlYWQiLCJyZWFkIiwiaW5ib3hNZXNzYWdlIiwic3BsaXQiLCJvcGVuQWN0aW9uIiwicmVtb3ZlIiwib25DaGFuZ2VkIiwic2F2ZSIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsImdldEl0ZW0iLCJjb3VudCIsInVucmVhZENvdW50IiwiZmlsdGVyIiwieCIsIkxlYW5wbHVtSW5ib3hNZXNzYWdlIiwiYWxsTWVzc2FnZXMiLCJ1bnJlYWRNZXNzYWdlcyIsIl9pZCIsIl90aXRsZSIsIl9zdWJ0aXRsZSIsIl90aW1lc3RhbXAiLCJfaXNSZWFkIiwiX2ltYWdlVXJsIiwiX29wZW5BY3Rpb24iLCJtZXNzYWdlSW5mbyIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsIl9oIiwiX2oiLCJtZXNzYWdlRGF0YSIsIlRpdGxlIiwiU3VidGl0bGUiLCJkZWxpdmVyeVRpbWVzdGFtcCIsIkltYWdlIiwidGl0bGUiLCJzdWJ0aXRsZSIsInRpbWVzdGFtcCIsImltYWdlVXJsIiwiTmV0d29ya18xIiwiTGVhbnBsdW1SZXF1ZXN0IiwiY29vbGRvd25UaW1lb3V0IiwibGFzdFJlcXVlc3RUaW1lIiwibmV0d29yayIsInVzZXJJZFZhbHVlIiwibG9hZExvY2FsIiwiY29uZmlndXJhYmxlIiwicG9zc2libGUiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzYXZlTG9jYWwiLCJhcmdzQnVpbGRlciIsImdldFRpbWUiLCJlcnIiLCJzZW5kVW5zZW50UmVxdWVzdHMiLCJyZXF1ZXN0c1RvU2VuZCIsInBvcFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdERhdGEiLCJtdWx0aVJlcXVlc3RBcmdzIiwic2F2ZVJlcXVlc3RGb3JMYXRlciIsIkJvb2xlYW4iLCJpdGVtS2V5IiwicmVtb3ZlTG9jYWwiLCJpZ25vcmVkIiwiU29ja2V0SW9DbGllbnRfMSIsIkxlYW5wbHVtU29ja2V0Iiwic29ja2V0Q2xpZW50Iiwic29ja2V0SG9zdCIsImNhY2hlIiwiYXV0aCIsIldlYlNvY2tldCIsImF1dGhTZW50Iiwib25vcGVuIiwib25tZXNzYWdlIiwiYXJnc18xIiwiYWN0aW9uTWV0YWRhdGEiLCJkaWZmcyIsInNlbmRWYXJpYWJsZXMiLCJhbGVydCIsIm9uY2xvc2UiLCJzZXRJbnRlcnZhbCIsImNvbm5lY3RlZCIsImNvbm5lY3RpbmciLCJnIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsIlNvY2tldElvQ2xpZW50IiwibGluZSIsInBhcnRzIiwic2Vzc2lvbiIsImhlYXJ0YmVhdCIsInNvY2tldCIsImhlYXJ0YmVhdEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIm1lc3NhZ2VQYXJ0cyIsImNvZGUiLCJzbGljZSIsImpvaW4iLCJtZXNzYWdlRXZlbnQiLCJjbG9zZSIsImFyZ3NKc29uIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsImRvbmUiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJmIiwieSIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwiUHVzaE1hbmFnZXIiLCJzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIiwic2VydmljZVdvcmtlciIsInJlZ2lzdHJhdGlvbiIsInN1YnNjcmlwdGlvbiIsImdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJwdXNoTWFuYWdlciIsImdldFN1YnNjcmlwdGlvbiIsInVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyIiwiZXJyb3JfMSIsImFwcGxpY2F0aW9uU2VydmVyS2V5IiwiZXJyb3JfMiIsInVybEI2NFRvVWludDhBcnJheSIsInN1YnNjcmliZSIsInVzZXJWaXNpYmxlT25seSIsIkVycm9yIiwiZXJyb3JfMyIsInVuc3Vic2NyaWJlIiwiZ2V0UmVnaXN0cmF0aW9uIiwiYmFzZTY0U3RyaW5nIiwiYmFzZTY0IiwicmVwZWF0IiwicmF3RGF0YSIsImRlY29kZURhdGEiLCJvdXRwdXRBcnJheSIsImNoYXJDb2RlQXQiLCJwcmVwYXJlZFN1YnNjcmlwdGlvbiIsInByZXBhcmVTdWJzY3JpcHRpb24iLCJwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyIsInNldFN1YnNjcmlwdGlvbiIsImdldEtleSIsImtleUFzY2lpIiwiZW5jb2RlRGF0YSIsImZyb21DaGFyQ29kZSIsImF1dGhBc2NpaSIsImVuZHBvaW50IiwiYnRvYSIsImF0b2IiLCJWYXJDYWNoZSIsImhhc1JlY2VpdmVkRGlmZnMiLCJtZXJnZWQiLCJ2YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMiLCJ2YXJpYW50RGVidWdJbmZvIiwibWVyZ2VIZWxwZXIiLCJkaWZmIiwib2JqSXRlcmF0b3IiLCJvYmoiLCJhdHRyIiwidmFyc0l0ZXJhdG9yIiwiZGlmZkl0ZXJhdG9yIiwiYXR0cmlidXRlIiwibWVyZ2VkXzEiLCJ2YXJTdWJzY3JpcHQiLCJzdWJzY3JpcHQiLCJkaWZmVmFsdWUiLCJzYXZlRGlmZnMiLCJjdXJyZW50Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RBLFFBQWtCLFNBQUlELElBRXRCRCxFQUFlLFNBQUlDLElBUnJCLENBU0dLLFFBQVEsV0FDWCxPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFB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LEdBMEc3Qmx2QixFQUFRd0MsUUFBVTBzQiIsImZpbGUiOiJsZWFucGx1bS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkxlYW5wbHVtXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkxlYW5wbHVtXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgTUVUSE9EUzoge1xuICAgICAgICBTVEFSVDogJ3N0YXJ0JyxcbiAgICAgICAgU1RPUDogJ3N0b3AnLFxuICAgICAgICBBRFZBTkNFOiAnYWR2YW5jZScsXG4gICAgICAgIFRSQUNLOiAndHJhY2snLFxuICAgICAgICBQQVVTRV9TRVNTSU9OOiAncGF1c2VTZXNzaW9uJyxcbiAgICAgICAgUkVTVU1FX1NFU1NJT046ICdyZXN1bWVTZXNzaW9uJyxcbiAgICAgICAgUEFVU0VfU1RBVEU6ICdwYXVzZVN0YXRlJyxcbiAgICAgICAgUkVTVU1FX1NUQVRFOiAncmVzdW1lU3RhdGUnLFxuICAgICAgICBET1dOTE9BRF9GSUxFOiAnZG93bmxvYWRGaWxlJyxcbiAgICAgICAgTVVMVEk6ICdtdWx0aScsXG4gICAgICAgIFNFVF9WQVJTOiAnc2V0VmFycycsXG4gICAgICAgIEdFVF9WQVJTOiAnZ2V0VmFycycsXG4gICAgICAgIFNFVF9VU0VSX0FUVFJJQlVURVM6ICdzZXRVc2VyQXR0cmlidXRlcycsXG4gICAgICAgIFNFVF9ERVZJQ0VfQVRUUklCVVRFUzogJ3NldERldmljZUF0dHJpYnV0ZXMnLFxuICAgICAgICBVUExPQURfRklMRTogJ3VwbG9hZEZpbGUnLFxuICAgICAgICBSRUdJU1RFUl9ERVZJQ0U6ICdyZWdpc3RlckRldmljZScsXG4gICAgfSxcbiAgICBTREtfVkVSU0lPTjogJzEuNi4wJyxcbiAgICBDTElFTlQ6ICdqcycsXG4gICAgUEFSQU1TOiB7XG4gICAgICAgIEFDVElPTjogJ2FjdGlvbicsXG4gICAgICAgIEFQUF9JRDogJ2FwcElkJyxcbiAgICAgICAgQ0xJRU5UOiAnY2xpZW50JyxcbiAgICAgICAgQ0xJRU5UX0tFWTogJ2NsaWVudEtleScsXG4gICAgICAgIENVUlJFTkNZX0NPREU6ICdjdXJyZW5jeUNvZGUnLFxuICAgICAgICBERVZJQ0VfSUQ6ICdkZXZpY2VJZCcsXG4gICAgICAgIFNES19WRVJTSU9OOiAnc2RrVmVyc2lvbicsXG4gICAgICAgIFVTRVJfSUQ6ICd1c2VySWQnLFxuICAgICAgICBORVdfVVNFUl9JRDogJ25ld1VzZXJJZCcsXG4gICAgICAgIERFVl9NT0RFOiAnZGV2TW9kZScsXG4gICAgICAgIFZFUlNJT05fTkFNRTogJ3ZlcnNpb25OYW1lJyxcbiAgICAgICAgU1lTVEVNX05BTUU6ICdzeXN0ZW1OYW1lJyxcbiAgICAgICAgU1lTVEVNX1ZFUlNJT046ICdzeXN0ZW1WZXJzaW9uJyxcbiAgICAgICAgQlJPV1NFUl9OQU1FOiAnYnJvd3Nlck5hbWUnLFxuICAgICAgICBCUk9XU0VSX1ZFUlNJT046ICdicm93c2VyVmVyc2lvbicsXG4gICAgICAgIERFVklDRV9OQU1FOiAnZGV2aWNlTmFtZScsXG4gICAgICAgIERFVklDRV9NT0RFTDogJ2RldmljZU1vZGVsJyxcbiAgICAgICAgVVNFUl9BVFRSSUJVVEVTOiAndXNlckF0dHJpYnV0ZXMnLFxuICAgICAgICBMT0NBTEU6ICdsb2NhbGUnLFxuICAgICAgICBDT1VOVFJZOiAnY291bnRyeScsXG4gICAgICAgIFJFR0lPTjogJ3JlZ2lvbicsXG4gICAgICAgIENJVFk6ICdjaXR5JyxcbiAgICAgICAgTE9DQVRJT046ICdsb2NhdGlvbicsXG4gICAgICAgIFNUQVRFOiAnc3RhdGUnLFxuICAgICAgICBJTkZPOiAnaW5mbycsXG4gICAgICAgIEVWRU5UOiAnZXZlbnQnLFxuICAgICAgICBWQUxVRTogJ3ZhbHVlJyxcbiAgICAgICAgRklMRU5BTUU6ICdmaWxlbmFtZScsXG4gICAgICAgIFRJTUU6ICd0aW1lJyxcbiAgICAgICAgREFUQTogJ2RhdGEnLFxuICAgICAgICBWQVJTOiAndmFycycsXG4gICAgICAgIEZJTEU6ICdmaWxlJyxcbiAgICAgICAgU0laRTogJ3NpemUnLFxuICAgICAgICBWQVJJQVRJT046ICd2YXJpYXRpb24nLFxuICAgICAgICBIQVNIOiAnaGFzaCcsXG4gICAgICAgIEVNQUlMOiAnZW1haWwnLFxuICAgICAgICBWQVJJQUJMRVM6ICd2YXJzJyxcbiAgICAgICAgUEFSQU1TOiAncGFyYW1zJyxcbiAgICAgICAgSU5DTFVERV9ERUZBVUxUUzogJ2luY2x1ZGVEZWZhdWx0cycsXG4gICAgICAgIElOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPOiAnaW5jbHVkZVZhcmlhbnREZWJ1Z0luZm8nLFxuICAgICAgICBORVdTRkVFRF9NRVNTQUdFUzogJ25ld3NmZWVkTWVzc2FnZXMnLFxuICAgICAgICBNRVNTQUdFX0lEOiAnbWVzc2FnZUlkJyxcbiAgICAgICAgV0VCX1BVU0hfU1VCU0NSSVBUSU9OOiAnd2ViUHVzaFN1YnNjcmlwdGlvbicsXG4gICAgfSxcbiAgICBLRVlTOiB7XG4gICAgICAgIElTX1JFR0lTVEVSRUQ6ICdpc1JlZ2lzdGVyZWQnLFxuICAgICAgICBMQVRFU1RfVkVSU0lPTjogJ2xhdGVzdFZlcnNpb24nLFxuICAgICAgICBTWU5DX0lOQk9YOiAnc3luY05ld3NmZWVkJyxcbiAgICAgICAgTUVTU0FHRVM6ICdtZXNzYWdlcycsXG4gICAgICAgIFZBUlM6ICd2YXJzJyxcbiAgICAgICAgVkFSSUFOVFM6ICd2YXJpYW50cycsXG4gICAgICAgIFZBUklBTlRfREVCVUdfSU5GTzogJ3ZhcmlhbnREZWJ1Z0luZm8nLFxuICAgICAgICBBQ1RJT05fTUVUQURBVEE6ICdhY3Rpb25NZXRhZGF0YScsXG4gICAgICAgIFRPS0VOOiAndG9rZW4nLFxuICAgIH0sXG4gICAgREVGQVVMVF9LRVlTOiB7XG4gICAgICAgIENPVU5UOiAnX19sZWFucGx1bV91bnN5bmNlZCcsXG4gICAgICAgIElURU06ICdfX2xlYW5wbHVtX3Vuc3luY2VkXycsXG4gICAgICAgIFZBUklBQkxFUzogJ19fbGVhbnBsdW1fdmFyaWFibGVzJyxcbiAgICAgICAgVkFSSUFOVFM6ICdfX2xlYW5wbHVtX3ZhcmlhbnRzJyxcbiAgICAgICAgVkFSSUFOVF9ERUJVR19JTkZPOiAnX19sZWFucGx1bV92YXJpYW50X2RlYnVnX2luZm8nLFxuICAgICAgICBBQ1RJT05fTUVUQURBVEE6ICdfX2xlYW5wbHVtX2FjdGlvbl9tZXRhZGF0YScsXG4gICAgICAgIElOQk9YX01FU1NBR0VTOiAnX19sZWFucGx1bV9pbmJveF9tZXNzYWdlcycsXG4gICAgICAgIFRPS0VOOiAnX19sZWFucGx1bV90b2tlbicsXG4gICAgICAgIERFVklDRV9JRDogJ19fbGVhbnBsdW1fZGV2aWNlX2lkJyxcbiAgICAgICAgVVNFUl9JRDogJ19fbGVhbnBsdW1fdXNlcl9pZCcsXG4gICAgICAgIFNFU1NJT046ICdfX2xlYW5wbHVtX3Nlc3Npb24nLFxuICAgICAgICBQVVNIX1NVQlNDUklQVElPTjogJ19fbGVhbnBsdW1fcHVzaF9zdWJzY3JpcHRpb24nLFxuICAgIH0sXG4gICAgVkFMVUVTOiB7XG4gICAgICAgIERFVEVDVDogJyhkZXRlY3QpJyxcbiAgICAgICAgREVGQVVMVF9QVVNIX0FDVElPTjogJ09wZW4gYWN0aW9uJyxcbiAgICB9LFxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyoqXG4gKiBMZWFucGx1bSBBcmdzQnVpbGRlciwgdXNlIHRvIGNvbnN0cnVjdCByZXF1ZXN0IHBheWxvYWQuXG4gKi9cbnZhciBBcmdzQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgZW1wdHkgcmVxdWVzdCBhcmd1bWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcmdzQnVpbGRlcigpIHtcbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgPSAnJztcbiAgICAgICAgdGhpcy5hcmdWYWx1ZXMgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGdpdmVuIGtleSwgdmFsdWUgdG8gdGhlIHBheWxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gdmFsdWUgVGhlIHZhbHVlIGZvciBnaXZlbiBrZXkuXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ9IFJldHVybnMgYW4gb2JqZWN0IG9mIEFyZ3NCdWlsZGVyLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXJnU3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmFyZ1N0cmluZyArPSAnJic7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbCA9ICcnO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdmFsID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyZ1N0cmluZyArPSBrZXkgKyBcIj1cIiArIHZhbDtcbiAgICAgICAgdGhpcy5hcmdWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhY2hlIHRoZSBnaXZlbiBib2R5LlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gW2JvZHldIEEgZ2l2ZW4gYm9keS5cbiAgICAgKiBAcmV0dXJuIHtBcmdzQnVpbGRlcnxTdHJpbmd9IFJldHVybnMgQXJnc0J1aWxkZXIgaWYgYm9keSBnaXZlbiwgZWxzZSB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJvZHkgPSBmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgICAgdGhpcy5fYm9keSA9IGJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYm9keTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byBhdHRhY2ggZ2l2ZW4gYXBwSWQgYW5kIGFwcEtleSB0byByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gYXBwSWQgVGhlIGFwcElkIHRvIGF0dGFjaC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNsaWVudEtleSBUaGUgYXBwS2V5IHRvIGF0dGFjaC5cbiAgICAgKiBAcmV0dXJuIHtBcmdzQnVpbGRlcn0gUmV0dXJucyBhbiBvYmplY3Qgb2YgQXJnc0J1aWxkZXIuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmF0dGFjaEFwaUtleXMgPSBmdW5jdGlvbiAoYXBwSWQsIGNsaWVudEtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQVBQX0lELCBhcHBJZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ0xJRU5ULCBDb25zdGFudHNfMS5kZWZhdWx0LkNMSUVOVClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ0xJRU5UX0tFWSwgY2xpZW50S2V5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gQXJndW1lbnRzIHN0cmluZy5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyZ1N0cmluZztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYXJndW1lbnQgdmFsdWVzLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGFyZ3VtZW50IHZhbHVlcy5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYnVpbGREaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcmdWYWx1ZXM7XG4gICAgfTtcbiAgICByZXR1cm4gQXJnc0J1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQXJnc0J1aWxkZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbG9jYWxTdG9yYWdlRW5hYmxlZDtcbnZhciBhbHRlcm5hdGVMb2NhbFN0b3JhZ2UgPSB7fTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvY2FsU3RvcmFnZU1hbmFnZXIoKSB7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgTG9jYWxTdG9yYWdlTWFuYWdlci5nZXRGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlW2tleV07XG4gICAgfTtcbiAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2VFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9jYWxTdG9yYWdlTWFuYWdlci5yZW1vdmVGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZGVsZXRlIGFsdGVybmF0ZUxvY2FsU3RvcmFnZVtrZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTG9jYWxTdG9yYWdlTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMb2NhbFN0b3JhZ2VNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEFqYXggZnVuY3Rpb25zIGZyb206XG4gKlxuICogUGFyc2UgSmF2YVNjcmlwdCBTREtcbiAqIFZlcnNpb246IDEuMS41XG4gKiBCdWlsdDogTW9uIE9jdCAwMSAyMDEyIDE3OjU3OjEzXG4gKiBodHRwOi8vcGFyc2UuY29tXG4gKlxuICogQ29weXJpZ2h0IDIwMTIgUGFyc2UsIEluYy5cbiAqIFRoZSBQYXJzZSBKYXZhU2NyaXB0IFNESyBpcyBmcmVlbHkgZGlzdHJpYnV0YWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOZXR3b3JrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5ldHdvcmsoKSB7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gMTA7XG4gICAgICAgIHRoaXMucmVxdWVzdFF1ZXVlID0gW107XG4gICAgICAgIHRoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IHNlY29uZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGFuIGFqYXggcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gb3Blbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcnxCbG9ifERvY3VtZW50fEZvcm1EYXRhfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHNlbnQgaW4gYm9keS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZXJyb3IgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBxdWV1ZWQgV2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgYmUgcXVldWVkIG9yIGltbWVkaWF0ZWx5IHNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcGxhaW5UZXh0XSBXaGV0aGVyIHRoZSByZXNwb25zZSBzaG91bGQgYmUgcmV0dXJuZWQgYXMgcGxhaW4gdGV4dCBvciBqc29uLlxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuYWpheCA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bm5pbmdSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVucXVldWVSZXF1ZXN0KGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cDonICYmIHVybC5pbmRleE9mKCdodHRwczonKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cDpcIiArIHVybC5zdWJzdHJpbmcoNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hamF4SUU4KG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYW5kbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlXzE7XG4gICAgICAgICAgICAgICAgdmFyIHJhbkNhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWluVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZV8xID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZV8xID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5DYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFyYW5DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZV8xLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKHJlc3BvbnNlXzEsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQvcGxhaW4nKTsgLy8gQXZvaWQgcHJlLWZsaWdodC5cbiAgICAgICAgeGhyLnNlbmQoZGF0YSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzICogMTAwMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGFuIGFqYXggcmVxdWVzdCBmb3IgSUU4LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgVGhlIGh0dHAgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCB0byBvcGVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfEJsb2J8RG9jdW1lbnR8Rm9ybURhdGF9IGRhdGEgVGhlIGRhdGEgdG8gYmUgc2VudCBpbiBib2R5LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3MgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gc3VjY2Vzcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvciBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1ZXVlZCBXaGV0aGVyIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBxdWV1ZWQgb3IgaW1tZWRpYXRlbHkgc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBsYWluVGV4dCBXaGV0aGVyIHRoZSByZXNwb25zZSBzaG91bGQgYmUgcmV0dXJuZWQgYXMgcGxhaW4gdGV4dCBvciBqc29uLlxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmFqYXhJRTggPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgeGRyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgIHhkci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgICAgICB2YXIgcmFuQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChwbGFpblRleHQpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHhkci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UoeGRyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbkNhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJhbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlLCB4ZHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4ZHIub25lcnJvciA9IHhkci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGRyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlcXVldWVSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhkci5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB4ZHIub3BlbihtZXRob2QsIHVybCk7XG4gICAgICAgIHhkci50aW1lb3V0ID0gdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgKiAxMDAwO1xuICAgICAgICB4ZHIuc2VuZChkYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHJlcXVlc3QgdG8gdGhlIHJlcXVlc3QgcXVldWUuXG4gICAgICogQHBhcmFtIHtBcmd1bWVudHN9IHJlcXVlc3RBcmd1bWVudHMgVGhlIHJlcXVlc3QgYXJndW1lbnRzIGZyb20gdGhlIGluaXRpYWwgbWV0aG9kIGNhbGwuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5lbnF1ZXVlUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0QXJndW1lbnRzKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFF1ZXVlLnB1c2gocmVxdWVzdEFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSByZXF1ZXN0IGZyb20gdGhlIHJlcXVlc3QgcXVldWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5kZXF1ZXVlUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSB0aGlzLnJlcXVlc3RRdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoYXJncykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICAgICAgICAgIHRoaXMuYWpheC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5ldHdvcms7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTmV0d29yaztcbiIsIi8qKlxuICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUocm9vdCwgJ0RhdGFWaWV3JyksXG4gICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBQcm9taXNlID0gZ2V0TmF0aXZlKHJvb3QsICdQcm9taXNlJyksXG4gICAgU2V0ID0gZ2V0TmF0aXZlKHJvb3QsICdTZXQnKSxcbiAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICB9XG4gIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzU2FtZVRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHRydWU7XG4gIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICB9XG4gIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xudmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbi8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbmlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAqIGVxdWl2YWxlbnQuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIG9iamVjdCA9PT0gb3RoZXI7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzKTtcbiAqIC8vID0+IFtbXSwgW11dXG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzWzBdID09PSBhcnJheXNbMV0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gc3R1YkFycmF5KCkge1xuICByZXR1cm4gW107XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0VxdWFsO1xuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlcyAqL1xudmFyIExlYW5wbHVtID0gcmVxdWlyZSgnLi4vTGVhbnBsdW0udHMnKTtcbm1vZHVsZS5leHBvcnRzID0gTGVhbnBsdW0uZGVmYXVsdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIExlYW5wbHVtSW50ZXJuYWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bUludGVybmFsXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbnZhciBMZWFucGx1bSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bSgpIHtcbiAgICB9XG4gICAgTGVhbnBsdW0uc2V0QXBpUGF0aCA9IGZ1bmN0aW9uIChhcGlQYXRoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcGlQYXRoKGFwaVBhdGgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RW1haWwgPSBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEVtYWlsKGVtYWlsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUoYXBwSWQsIGFjY2Vzc0tleSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUoYXBwSWQsIGFjY2Vzc0tleSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gKGhvc3QpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFNvY2tldEhvc3QoaG9zdCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VJZCA9IGZ1bmN0aW9uIChkZXZpY2VJZCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0RGV2aWNlSWQoZGV2aWNlSWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwVmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBwVmVyc2lvbih2ZXJzaW9uTmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VOYW1lID0gZnVuY3Rpb24gKGRldmljZU5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZU5hbWUoZGV2aWNlTmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VNb2RlbCA9IGZ1bmN0aW9uIChkZXZpY2VNb2RlbCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0RGV2aWNlTW9kZWwoZGV2aWNlTW9kZWwpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0UmVxdWVzdEJhdGNoaW5nID0gZnVuY3Rpb24gKGJhdGNoRW5hYmxlZCwgY29vbGRvd25TZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRSZXF1ZXN0QmF0Y2hpbmcoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U3lzdGVtTmFtZSA9IGZ1bmN0aW9uIChzeXN0ZW1OYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTeXN0ZW1OYW1lKHN5c3RlbU5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U3lzdGVtVmVyc2lvbiA9IGZ1bmN0aW9uIChzeXN0ZW1WZXJzaW9uKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTeXN0ZW1WZXJzaW9uKHN5c3RlbVZlcnNpb24pO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uICh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYW50RGVidWdJbmZvKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFibGVzKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoX2EgPSBMZWFucGx1bS5fbHApLmdldFZhcmlhYmxlLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhbnRzKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5pbmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5pbmJveCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5mb3JjZUNvbnRlbnRVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmZvcmNlQ29udGVudFVwZGF0ZShjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS51c2VTZXNzaW9uTGVuZ3RoID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnVzZVNlc3Npb25MZW5ndGgoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdGFydCA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RhcnQodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RhcnRGcm9tQ2FjaGUgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0YXJ0RnJvbUNhY2hlKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdG9wKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5wYXVzZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5wYXVzZVNlc3Npb24oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlc3VtZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZXN1bWVTZXNzaW9uKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5wYXVzZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucGF1c2VTdGF0ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVzdW1lU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZXN1bWVTdGF0ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHAuZ2V0VXNlcklkKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRVc2VySWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIExlYW5wbHVtLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRVc2VyQXR0cmlidXRlcyA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC50cmFjayhldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS50cmFja1B1cmNoYXNlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSAnUHVyY2hhc2UnOyB9XG4gICAgICAgIExlYW5wbHVtLl9scC50cmFja1B1cmNoYXNlKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYWR2YW5jZVRvID0gZnVuY3Rpb24gKHN0YXRlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkdmFuY2VUbyhzdGF0ZSwgaW5mbywgcGFyYW1zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5pc1dlYlB1c2hTdXBwb3J0ZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3Vic2NyaWJlZC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiB0cnVlLCByZWplY3RzIGlmIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtLmlzV2ViUHVzaFN1YnNjcmliZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaXNXZWJQdXNoU3Vic2NyaWJlZCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0V2ViUHVzaE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnNldFdlYlB1c2hPcHRpb25zKG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgdGhlIGJyb3dzZXIgZm9yIHdlYiBwdXNoLlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBzZXJ2aWNlV29ya2VyVXJsIFRoZSB1cmwgb24geW91ciBzZXJ2ZXIgdGhhdCBob3N0cyB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvc3cubWluLmpzIHNlcnZpY2Ugd29ya2VyIGpzIGZpbGUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgICAgICAgICAgUmVzb2x2ZXMgaWYgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJ3aXNlIGZhaWxzLlxuICAgICAqL1xuICAgIExlYW5wbHVtLnJlZ2lzdGVyRm9yV2ViUHVzaCA9IGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyVXJsKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAucmVnaXN0ZXJGb3JXZWJQdXNoKHNlcnZpY2VXb3JrZXJVcmwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgdGhlIGJyb3dzZXIgZm9ybSB3ZWIgcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgIFJlc29sdmVzIG9uIHN1Y2Nlc3MsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIExlYW5wbHVtLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC51bnJlZ2lzdGVyRnJvbVdlYlB1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyBjYWNoZWQgdmFsdWVzIGZvciBtZXNzYWdlcywgdmFyaWFibGVzIGFuZCB0ZXN0IGFzc2lnbm1lbnRzLlxuICAgICAqIFVzZSBzcGFyaW5nbHkgYXMgaWYgdGhlIGFwcCBpcyB1cGRhdGVkLCB5b3UnbGwgaGF2ZSB0byBkZWFsIHdpdGggcG90ZW50aWFsbHlcbiAgICAgKiBpbmNvbnNpc3RlbnQgc3RhdGUgb3IgdXNlciBleHBlcmllbmNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtLmNsZWFyVXNlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5jbGVhclVzZXJDb250ZW50KCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hcHBseVF1ZXVlID0gZnVuY3Rpb24gKHF1ZXVlKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hcHBseVF1ZXVlKHF1ZXVlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9fZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbHAgPSBuZXcgTGVhbnBsdW1JbnRlcm5hbF8xLmRlZmF1bHQod2luZG93KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9scCA9IG5ldyBMZWFucGx1bUludGVybmFsXzEuZGVmYXVsdCh3aW5kb3cpO1xuICAgIExlYW5wbHVtLlZFUlNJT04gPSBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OO1xuICAgIHJldHVybiBMZWFucGx1bTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQnJvd3NlckRldGVjdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQnJvd3NlckRldGVjdG9yXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIEludGVybmFsU3RhdGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9JbnRlcm5hbFN0YXRlXCIpKTtcbnZhciBMZWFucGx1bUluYm94XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1JbmJveFwiKSk7XG52YXIgTGVhbnBsdW1SZXF1ZXN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1SZXF1ZXN0XCIpKTtcbnZhciBMZWFucGx1bVNvY2tldF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtU29ja2V0XCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgUHVzaE1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9QdXNoTWFuYWdlclwiKSk7XG52YXIgbG9kYXNoX2lzZXF1YWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoLmlzZXF1YWxcIikpO1xudmFyIFZhckNhY2hlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmFyQ2FjaGVcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIFNFU1NJT05fS0VZID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuU0VTU0lPTjtcbnZhciBMZWFucGx1bUludGVybmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW50ZXJuYWwod25kKSB7XG4gICAgICAgIHRoaXMud25kID0gd25kO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlID0gbmV3IEludGVybmFsU3RhdGVfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2xwSW5ib3ggPSBuZXcgTGVhbnBsdW1JbmJveF8xLmRlZmF1bHQodGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcyksIHRoaXMub25JbmJveEFjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0ID0gbmV3IExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQgPSBuZXcgTGVhbnBsdW1Tb2NrZXRfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX3B1c2hNYW5hZ2VyID0gbmV3IFB1c2hNYW5hZ2VyXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlID0gbmV3IFZhckNhY2hlXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJEZXRlY3RvciA9IG5ldyBCcm93c2VyRGV0ZWN0b3JfMS5kZWZhdWx0KHduZCk7XG4gICAgfVxuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwaVBhdGggPSBmdW5jdGlvbiAoYXBpUGF0aCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xwUmVxdWVzdC5hcGlQYXRoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmFwaVBhdGggPSBhcGlQYXRoO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RW1haWwgPSBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgICAgdGhpcy5fZW1haWwgPSBlbWFpbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgICAgICB0aGlzLl9scFNvY2tldC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmFwcElkID0gYXBwSWQ7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5jbGllbnRLZXkgPSBhY2Nlc3NLZXk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSA9IHRydWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmFwcElkID0gYXBwSWQ7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5jbGllbnRLZXkgPSBhY2Nlc3NLZXk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSA9IGZhbHNlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LnNldFNvY2tldEhvc3QoaG9zdCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXREZXZpY2VJZCA9IGZ1bmN0aW9uIChkZXZpY2VJZCkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQgPSBkZXZpY2VJZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwcFZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnZlcnNpb25OYW1lID0gdmVyc2lvbk5hbWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXREZXZpY2VOYW1lID0gZnVuY3Rpb24gKGRldmljZU5hbWUpIHtcbiAgICAgICAgdGhpcy5fZGV2aWNlTmFtZSA9IGRldmljZU5hbWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXREZXZpY2VNb2RlbCA9IGZ1bmN0aW9uIChkZXZpY2VNb2RlbCkge1xuICAgICAgICB0aGlzLl9kZXZpY2VNb2RlbCA9IGRldmljZU1vZGVsO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0UmVxdWVzdEJhdGNoaW5nID0gZnVuY3Rpb24gKGJhdGNoRW5hYmxlZCwgY29vbGRvd25TZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5iYXRjaEVuYWJsZWQgPSBiYXRjaEVuYWJsZWQ7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5iYXRjaENvb2xkb3duID0gY29vbGRvd25TZWNvbmRzO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0U3lzdGVtTmFtZSA9IGZ1bmN0aW9uIChzeXN0ZW1OYW1lKSB7XG4gICAgICAgIHRoaXMuX3N5c3RlbU5hbWUgPSBzeXN0ZW1OYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0U3lzdGVtVmVyc2lvbiA9IGZ1bmN0aW9uIChzeXN0ZW1WZXJzaW9uKSB7XG4gICAgICAgIHRoaXMuX3N5c3RlbVZlcnNpb24gPSBzeXN0ZW1WZXJzaW9uO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5zZXRWYXJpYWJsZXModmFyaWFibGVzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gZnVuY3Rpb24gKHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUudmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSB2YXJpYW50RGVidWdJbmZvRW5hYmxlZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJDYWNoZS5nZXRWYXJpYW50RGVidWdJbmZvKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJDYWNoZS5nZXRWYXJpYWJsZXMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX3ZhckNhY2hlKS5nZXRWYXJpYWJsZS5hcHBseShfYSwgYXJncyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRWYXJpYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLnZhcmlhbnRzIHx8IFtdO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaW5ib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scEluYm94O1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUub25JbmJveEFjdGlvbiA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIGFjdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnRyYWNrTWVzc2FnZShtZXNzYWdlSWQsICdPcGVuJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYWN0aW9uICYmIF90aGlzLm9uQWN0aW9uKGFjdGlvbik7IH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5mb3JjZUNvbnRlbnRVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPLCB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5HRVRfVkFSUywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdldFZhcnNSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzID0gX3RoaXMuX2xwUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyhnZXRWYXJzUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLmFwcGx5RGlmZnMoZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU10sIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuQUNUSU9OX01FVEFEQVRBXSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5zZXRWYXJpYW50RGVidWdJbmZvKGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVF9ERUJVR19JTkZPXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpc1N1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25MZW5ndGggPSBzZWNvbmRzO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQWN0aXZlU2Vzc2lvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YXJDYWNoZS5vblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DT1VOVFJZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlJFR0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DSVRZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9OQU1FLCB0aGlzLl9zeXN0ZW1OYW1lIHx8IHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5PUylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1lTVEVNX1ZFUlNJT04sICh0aGlzLl9zeXN0ZW1WZXJzaW9uIHx8ICcnKS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX05BTUUsIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX1ZFUlNJT04sIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FMRSwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTkFNRSwgdGhpcy5fZGV2aWNlTmFtZSB8fFxuICAgICAgICAgICAgdGhpcy5fYnJvd3NlckRldGVjdG9yLmJyb3dzZXIgKyBcIiBcIiArIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTU9ERUwsIHRoaXMuX2RldmljZU1vZGVsIHx8ICdXZWIgQnJvd3NlcicpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV1NGRUVEX01FU1NBR0VTLCB0aGlzLl9scEluYm94Lm1lc3NhZ2VJZHMoKSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPLCB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVEFSVCwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2xwUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyhzdGFydFJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5zdGFydFN1Y2Nlc3NmdWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9tZXNzYWdlQ2FjaGUgPSBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5NRVNTQUdFU107XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5TWU5DX0lOQk9YXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xwSW5ib3guZG93bmxvYWRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ZXN0VmVyc2lvbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkxBVEVTVF9WRVJTSU9OXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBIG5ld2VyIHZlcnNpb24gb2YgdGhlIExlYW5wbHVtIFNESywgXCIgKyBsYXRlc3RWZXJzaW9uICsgXCIsIGlzIGF2YWlsYWJsZS5cXG5Vc2UgXFxcIm5wbSB1cGRhdGUgbGVhbnBsdW0tc2RrXFxcIiBvciBnbyB0byBodHRwczovL2RvY3MubGVhbnBsdW0uY29tL3JlZmVyZW5jZSNqYXZhc2NyaXB0LXNldHVwIHRvIGRvd25sb2FkIGl0LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RTb2NrZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuYXBwbHlEaWZmcyhzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fTUVUQURBVEFdKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnNldFZhcmlhbnREZWJ1Z0luZm8oc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVF9ERUJVR19JTkZPXSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50b2tlbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlRPS0VOXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnN0YXJ0U3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUubG9hZERpZmZzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnRyaWdnZXJTdGFydEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnICYmIHVzZXJJZCAhPT0gbnVsbCAmJiB1c2VySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlckF0dHJpYnV0ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU2Vzc2lvbigpO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0U29ja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUubG9hZERpZmZzKCk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUudHJpZ2dlclN0YXJ0SGFuZGxlcnMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU1RPUCwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5yZW1vdmVGcm9tTG9jYWxTdG9yYWdlKFNFU1NJT05fS0VZKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucGF1c2VTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlBBVVNFX1NFU1NJT04sIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZXN1bWVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlJFU1VNRV9TRVNTSU9OLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucGF1c2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5QQVVTRV9TVEFURSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVzdW1lU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUkVTVU1FX1NUQVRFLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRVc2VySWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scFJlcXVlc3QudXNlcklkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VXNlcklkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICB0aGlzLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRVc2VyQXR0cmlidXRlcyA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmICh1c2VyQXR0cmlidXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHVzZXJJZDtcbiAgICAgICAgICAgICAgICB1c2VySWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlcklkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogc2V0VXNlckF0dHJpYnV0ZXMgZXhwZWN0cyBhIHN0cmluZyBvciBhbiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5VU0VSX0FUVFJJQlVURVMsIHVzZXJBdHRyaWJ1dGVzID8gSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpIDogdW5kZWZpbmVkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ORVdfVVNFUl9JRCwgdXNlcklkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfVVNFUl9BVFRSSUJVVEVTLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQsIHRoaXMuX2xwUmVxdWVzdC51c2VySWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFjayA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGluZm8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHZhbHVlO1xuICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5FVkVOVCwgZXZlbnQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB2YWx1ZSB8fCAwLjApXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51cGRhdGVTZXNzaW9uKCk7IH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudHJhY2tQdXJjaGFzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gdm9pZCAwKSB7IGV2ZW50ID0gJ1B1cmNoYXNlJzsgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5FVkVOVCwgZXZlbnQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB2YWx1ZSB8fCAwLjApXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIGlmIChjdXJyZW5jeUNvZGUpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNVUlJFTkNZX0NPREUsIGN1cnJlbmN5Q29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkdmFuY2VUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNUQVRFLCBzdGF0ZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5BRFZBTkNFLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1YnNjcmliZWQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdHJ1ZSwgcmVqZWN0cyBpZiBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3Vic2NyaWJlZCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0V2ViUHVzaE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLl93ZWJQdXNoT3B0aW9ucyA9IF9fYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIHRoZSBicm93c2VyIGZvciB3ZWIgcHVzaC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIG9uIHlvdXIgc2VydmVyIHRoYXQgaG9zdHMgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3N3Lm1pbi5qcyBzZXJ2aWNlIHdvcmtlciBqcyBmaWxlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgICAgICAgIFJlc29sdmVzIGlmIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWlscy5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZWdpc3RlckZvcldlYlB1c2ggPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3B1c2hNYW5hZ2VyLnN1YnNjcmliZVVzZXIoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX3dlYlB1c2hPcHRpb25zO1xuICAgICAgICAgICAgdmFyIHdvcmtlclVybCA9IHNlcnZpY2VXb3JrZXJVcmwgfHwgb3B0aW9ucy5zZXJ2aWNlV29ya2VyVXJsO1xuICAgICAgICAgICAgdmFyIHNjb3BlID0gb3B0aW9ucyAmJiBvcHRpb25zLnNjb3BlID8geyBzY29wZTogb3B0aW9ucy5zY29wZSB9IDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoTWFuYWdlci5yZWdpc3Rlcih3b3JrZXJVcmwsIHNjb3BlLCBzdWJzY3JpYmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdMZWFucGx1bTogV2ViUHVzaCBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyB0aGUgYnJvd3NlciBmb3JtIHdlYiBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgUmVzb2x2ZXMgb24gc3VjY2Vzcywgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudW5yZWdpc3RlckZyb21XZWJQdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIudW5zdWJzY3JpYmVVc2VyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgY2FjaGVkIHZhbHVlcyBmb3IgbWVzc2FnZXMsIHZhcmlhYmxlcyBhbmQgdGVzdCBhc3NpZ25tZW50cy5cbiAgICAgKiBVc2Ugc3BhcmluZ2x5IGFzIGlmIHRoZSBhcHAgaXMgdXBkYXRlZCwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIHBvdGVudGlhbGx5XG4gICAgICogaW5jb25zaXN0ZW50IHN0YXRlIG9yIHVzZXIgZXhwZXJpZW5jZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5jbGVhclVzZXJDb250ZW50KCk7XG4gICAgfTtcbiAgICAvLyB1c2VkIGJ5IEdvb2dsZSBUYWcgTWFuYWdlciB0byBhcHBseSBjb21tYW5kcyBxdWV1ZWQgZHVyaW5nIGFzeW5jIHNjcmlwdCBsb2FkaW5nXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYXBwbHlRdWV1ZSA9IGZ1bmN0aW9uIChxdWV1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpbnZvY2F0aW9uKSB7IHJldHVybiBfdGhpc1tpbnZvY2F0aW9uLm5hbWVdLmFwcGx5KF90aGlzLCBpbnZvY2F0aW9uLmFyZ3MpOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5yZXF1ZXN0KGFjdGlvbiwgYXJncywgX19hc3NpZ24oeyBkZXZNb2RlOiB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgfSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuY29ubmVjdFNvY2tldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuY29ubmVjdCh0aGlzLl92YXJDYWNoZSwge1xuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuX2xwUmVxdWVzdC5hcHBJZCxcbiAgICAgICAgICAgIGRldmljZUlkOiB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQsXG4gICAgICAgIH0sIHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlLmJpbmQodGhpcy5fbHBSZXF1ZXN0KSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5oYXNBY3RpdmVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Nlc3Npb25MZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbGFzdEFjdGl2ZSA9IHBhcnNlSW50KExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2UoU0VTU0lPTl9LRVkpKTtcbiAgICAgICAgaWYgKGlzTmFOKGxhc3RBY3RpdmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lIC0gbGFzdEFjdGl2ZSA8IHRoaXMuX3Nlc3Npb25MZW5ndGggKiAxMDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS51cGRhdGVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoU0VTU0lPTl9LRVksIFN0cmluZyhEYXRlLm5vdygpKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFja01lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBldmVudCwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSBudWxsOyB9XG4gICAgICAgIGlmIChyZXNwb25zZSA9PT0gdm9pZCAwKSB7IHJlc3BvbnNlID0gZnVuY3Rpb24gKCkgeyB9OyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk1FU1NBR0VfSUQsIG1lc3NhZ2VJZCk7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuRVZFTlQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlRSQUNLLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbkFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlIHx8IHt9O1xuICAgICAgICBpZiAoYWN0aW9uICYmIGFjdGlvbi5fX25hbWVfXyA9PT0gJ0NoYWluIHRvIEV4aXN0aW5nIE1lc3NhZ2UnKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5lZE1lc3NhZ2VJZCA9IGFjdGlvblsnQ2hhaW5lZCBtZXNzYWdlJ107XG4gICAgICAgICAgICB2YXIgbWVzc2FnZV8xID0gbWVzc2FnZXNbY2hhaW5lZE1lc3NhZ2VJZF07XG4gICAgICAgICAgICBpZiAobWVzc2FnZV8xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja01lc3NhZ2UoY2hhaW5lZE1lc3NhZ2VJZCwgJ1ZpZXcnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbihtZXNzYWdlXzEudmFycyk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9jZXNzQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFjdGlvbi5fX25hbWVfXyA9PT0gJ09wZW4gVVJMJykge1xuICAgICAgICAgICAgICAgIF90aGlzLnduZC5sb2NhdGlvbi5hc3NpZ24oYWN0aW9uLlVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtZXNzYWdlSWQgPSB0aGlzLm1lc3NhZ2VJZEZyb21BY3Rpb24oYWN0aW9uKTtcbiAgICAgICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgdGhpcy50cmFja01lc3NhZ2UobWVzc2FnZUlkLCBudWxsLCBwcm9jZXNzQWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2Nlc3NBY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUubWVzc2FnZUlkRnJvbUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlIHx8IHt9O1xuICAgICAgICB2YXIgdmFycyA9IF9fYXNzaWduKHt9LCBhY3Rpb24pO1xuICAgICAgICBkZWxldGUgdmFyc1sncGFyZW50Q2FtcGFpZ25JZCddO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMobWVzc2FnZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGlkID0gX2FbX2ldO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBtZXNzYWdlc1tpZF07XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5wYXJlbnRDYW1wYWlnbklkICE9PSBhY3Rpb24ucGFyZW50Q2FtcGFpZ25JZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvZGFzaF9pc2VxdWFsXzEuZGVmYXVsdChtZXNzYWdlLnZhcnMsIHZhcnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1JbnRlcm5hbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bUludGVybmFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gQnJvd3NlciBkZXRlY3Rpb24uIFNvdXJjZTogaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9kZXRlY3QuaHRtbFxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gZGV0ZWN0IHdoaWNoIGJyb3dzZXIgY2xpZW50IGlzIHVzaW5nLlxuICovXG52YXIgQnJvd3NlckRldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBvYmplY3Qgd2l0aCBjdXJyZW50IGJyb3dzZXIgc2V0dGluZ3MuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnJvd3NlckRldGVjdG9yKHduZCkge1xuICAgICAgICB0aGlzLmJyb3dzZXIgPSB0aGlzLnNlYXJjaFN0cmluZyh0aGlzLmdldEJyb3dzZXJEYXRhKHduZCkpIHx8ICdVbmtub3duIEJyb3dzZXInO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSAodGhpcy5zZWFyY2hWZXJzaW9uKHduZC5uYXZpZ2F0b3IudXNlckFnZW50KSB8fFxuICAgICAgICAgICAgdGhpcy5zZWFyY2hWZXJzaW9uKHduZC5uYXZpZ2F0b3IuYXBwVmVyc2lvbikgfHxcbiAgICAgICAgICAgICdVbmtub3duIFZlcnNpb24nKTtcbiAgICAgICAgdGhpcy5PUyA9IHRoaXMuc2VhcmNoU3RyaW5nKHRoaXMuZ2V0T1NEYXRhKHduZCkpIHx8ICdVbmtub3duIE9TJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2hlcyB0aGUgY2xpZW50J3Mgc3lzdGVtIHRvIHRoZSBwcmVkZWZpbmVkIHN5c3RlbSBsaXN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFRoZSBkYXRhIG9iamVjdCB0byBzY2FuLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGZvdW5kIGlkZW50aXR5IHN0cmluZy5cbiAgICAgKi9cbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLnNlYXJjaFN0cmluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGFTdHJpbmcgPSBkYXRhW2ldLnN0cmluZztcbiAgICAgICAgICAgIHZhciBkYXRhUHJvcCA9IGRhdGFbaV0ucHJvcDtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyA9IGRhdGFbaV0udmVyc2lvblNlYXJjaCB8fCBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVN0cmluZy5pbmRleE9mKGRhdGFbaV0uc3ViU3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVByb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhU3RyaW5nIFRoZSBkYXRhIG9iamVjdCB0byBzY2FuLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGZvdW5kIG51bWJlci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuc2VhcmNoVmVyc2lvbiA9IGZ1bmN0aW9uIChkYXRhU3RyaW5nKSB7XG4gICAgICAgIGlmICghZGF0YVN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBkYXRhU3RyaW5nLmluZGV4T2YodGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhU3RyaW5nLnN1YnN0cmluZyhpbmRleCArIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZy5sZW5ndGggKyAxKSk7XG4gICAgfTtcbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLmdldEJyb3dzZXJEYXRhID0gZnVuY3Rpb24gKHduZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ2hyb21lJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0Nocm9tZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnT21uaVdlYicsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdPbW5pV2ViJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnT21uaVdlYi8nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FwcGxlJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ1NhZmFyaScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm9wOiB3bmQub3BlcmEsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdPcGVyYScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lDYWInLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaUNhYicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnS0RFJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0tvbnF1ZXJvcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnRmlyZWZveCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdGaXJlZm94JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdDYW1pbm8nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQ2FtaW5vJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTVNJRScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdFeHBsb3JlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ01TSUUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQW5kcm9pZCBCcm93c2VyJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnVmVyc2lvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnR2Vja28nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTW96aWxsYScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ3J2JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNb3ppbGxhJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ05ldHNjYXBlJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnTW96aWxsYScsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH07XG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5nZXRPU0RhdGEgPSBmdW5jdGlvbiAod25kKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ1dpbicsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdXaW5kb3dzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01hYycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdNYWMgT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lQaG9uZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdpT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQW5kcm9pZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdMaW51eCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdMaW51eCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH07XG4gICAgcmV0dXJuIEJyb3dzZXJEZXRlY3Rvcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCcm93c2VyRGV0ZWN0b3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgSW50ZXJuYWxTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcm5hbFN0YXRlKCkge1xuICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kZXZNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZXIodGhpcy5zdGFydFN1Y2Nlc3NmdWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLnN0YXJ0SGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLnRyaWdnZXJTdGFydEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhcnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzW2ldKHRoaXMuc3RhcnRTdWNjZXNzZnVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEludGVybmFsU3RhdGU7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJuYWxTdGF0ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIExlYW5wbHVtSW5ib3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbmJveChjcmVhdGVSZXF1ZXN0LCBvbkFjdGlvbikge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLm9uQWN0aW9uID0gb25BY3Rpb247XG4gICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IHt9O1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5kb3dubG9hZE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ2dldE5ld3NmZWVkTWVzc2FnZXMnLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBkYXRhLnJlc3BvbnNlWzBdO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VNYXAgPSByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1hcmtBc1JlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWVzc2FnZS5pc1JlYWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuaXNSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ21hcmtOZXdzZmVlZE1lc3NhZ2VBc1JlYWQnLCBhcmdzLCB7fSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHRoaXMubWFya0FzUmVhZChtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgaW5ib3hNZXNzYWdlID0gdGhpcy5tZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBpZCA9IG1lc3NhZ2VJZC5zcGxpdCgnIyMnKVswXTtcbiAgICAgICAgdmFyIG9wZW5BY3Rpb24gPSAoaW5ib3hNZXNzYWdlID09PSBudWxsIHx8IGluYm94TWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5ib3hNZXNzYWdlLm9wZW5BY3Rpb24oKSkgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5vbkFjdGlvbihpZCwgb3BlbkFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2VNYXBbbWVzc2FnZUlkXTtcbiAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnZGVsZXRlTmV3c2ZlZWRNZXNzYWdlJywgYXJncywge30pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUub25DaGFuZ2VkID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudHJpZ2dlckNoYW5nZUhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGhhbmRsZXIoKTsgfSk7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JTkJPWF9NRVNTQUdFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5tZXNzYWdlTWFwKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklOQk9YX01FU1NBR0VTKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0gSlNPTi5wYXJzZShzdGF0ZSkgfHwge307XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5tZXNzYWdlTWFwKS5sZW5ndGg7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS51bnJlYWRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5tZXNzYWdlTWFwKS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4LmlzUmVhZDsgfSkubGVuZ3RoO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubWVzc2FnZXMgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5tZXNzYWdlTWFwKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMubWVzc2FnZU1hcFtpZF07XG4gICAgICAgICAgICBpZiAoZmlsdGVyKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTGVhbnBsdW1JbmJveE1lc3NhZ2UuY3JlYXRlKGlkLCBkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLmFsbE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnVucmVhZE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhmdW5jdGlvbiAoeCkgeyByZXR1cm4gIXguaXNSZWFkOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2VJZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLm1lc3NhZ2VNYXApO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubWVzc2FnZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMubWVzc2FnZU1hcFtpZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZShpZCwgbWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1JbmJveDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bUluYm94O1xudmFyIExlYW5wbHVtSW5ib3hNZXNzYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW5ib3hNZXNzYWdlKF9pZCwgX3RpdGxlLCBfc3VidGl0bGUsIF90aW1lc3RhbXAsIF9pc1JlYWQsIF9pbWFnZVVybCwgX29wZW5BY3Rpb24pIHtcbiAgICAgICAgdGhpcy5faWQgPSBfaWQ7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gX3RpdGxlO1xuICAgICAgICB0aGlzLl9zdWJ0aXRsZSA9IF9zdWJ0aXRsZTtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wID0gX3RpbWVzdGFtcDtcbiAgICAgICAgdGhpcy5faXNSZWFkID0gX2lzUmVhZDtcbiAgICAgICAgdGhpcy5faW1hZ2VVcmwgPSBfaW1hZ2VVcmw7XG4gICAgICAgIHRoaXMuX29wZW5BY3Rpb24gPSBfb3BlbkFjdGlvbjtcbiAgICB9XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UuY3JlYXRlID0gZnVuY3Rpb24gKGlkLCBtZXNzYWdlSW5mbykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfajtcbiAgICAgICAgdmFyIHBhcmVudENhbXBhaWduSWQgPSAoX2EgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmVudENhbXBhaWduSWQ7XG4gICAgICAgIHZhciBhY3Rpb24gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKF9jID0gKF9iID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi52YXJzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVGQVVMVF9QVVNIX0FDVElPTl0pLCB7IHBhcmVudENhbXBhaWduSWQ6IHBhcmVudENhbXBhaWduSWQgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTGVhbnBsdW1JbmJveE1lc3NhZ2UoaWQsIChfZSA9IChfZCA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudmFycykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLlRpdGxlLCAoX2cgPSAoX2YgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnZhcnMpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5TdWJ0aXRsZSwgbWVzc2FnZUluZm8uZGVsaXZlcnlUaW1lc3RhbXAsIG1lc3NhZ2VJbmZvLmlzUmVhZCwgKF9qID0gKF9oID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC52YXJzKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouSW1hZ2UsIGFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS50aXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnN1YnRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VidGl0bGU7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUudGltZXN0YW1wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZXN0YW1wO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmlzUmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUmVhZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pbWFnZVVybCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlVXJsO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLm9wZW5BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuQWN0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3hNZXNzYWdlO1xufSgpKTtcbmV4cG9ydHMuTGVhbnBsdW1JbmJveE1lc3NhZ2UgPSBMZWFucGx1bUluYm94TWVzc2FnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIExlYW5wbHVtUmVxdWVzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVJlcXVlc3QoKSB7XG4gICAgICAgIHRoaXMuY29vbGRvd25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBOZXR3b3JrXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnVzZXJJZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFwaVBhdGggPSAnaHR0cHM6Ly9hcGkubGVhbnBsdW0uY29tL2FwaSc7XG4gICAgICAgIHRoaXMuYmF0Y2hDb29sZG93biA9IDU7XG4gICAgICAgIHRoaXMuYmF0Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUsIFwidXNlcklkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMudXNlcklkVmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRldmljZUlkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMudXNlcklkVmFsdWUgPSB1c2VySWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChhY3Rpb24sIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgLy8gR2V0IG9yIGNyZWF0ZSBkZXZpY2UgSUQgYW5kIHVzZXIgSUQuXG4gICAgICAgIGlmICghdGhpcy5kZXZpY2VJZCkge1xuICAgICAgICAgICAgdGhpcy5kZXZpY2VJZCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRldmljZUlkKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAnJztcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRldmljZUlkID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lELCB0aGlzLnVzZXJJZCk7XG4gICAgICAgIHZhciBhcmdzQnVpbGRlciA9IHBhcmFtc1xuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfSUQsIHRoaXMuZGV2aWNlSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfSUQsIHRoaXMudXNlcklkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sIGFjdGlvbilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkVSU0lPTl9OQU1FLCB0aGlzLnZlcnNpb25OYW1lKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZfTU9ERSwgb3B0aW9ucy5kZXZNb2RlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5USU1FLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKS50b1N0cmluZygpKTtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3MgfHwgb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgdmFyIGVycm9yID0gb3B0aW9ucy5lcnJvciB8fCBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICBpZiAoIXRoaXMuYXBwSWQgfHwgIXRoaXMuY2xpZW50S2V5KSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gJ0xlYW5wbHVtIEFwcCBJRCBhbmQgY2xpZW50IGtleSBhcmUgbm90IHNldC4gTWFrZSBzdXJlIHlvdSAnICtcbiAgICAgICAgICAgICAgICAnYXJlIGNhbGxpbmcgc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgb3Igc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSAnICtcbiAgICAgICAgICAgICAgICAnYmVmb3JlIGlzc3VpbmcgQVBJIGNhbGxzLic7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmJvZHkoKSkge1xuICAgICAgICAgICAgdGhpcy5uZXR3b3JrLmFqYXgoJ1BPU1QnLCB0aGlzLmFwaVBhdGggKyBcIj9cIiArIGFyZ3NCdWlsZGVyLmJ1aWxkKCksIHBhcmFtcy5ib2R5KCksIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbmROb3cgPSBvcHRpb25zLmRldk1vZGUgfHwgb3B0aW9ucy5zZW5kTm93IHx8ICF0aGlzLmJhdGNoRW5hYmxlZDtcbiAgICAgICAgdmFyIHNlbmRVbnNlbnRSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0c1RvU2VuZCA9IF90aGlzLnBvcFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgICAgICBpZiAocmVxdWVzdHNUb1NlbmQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiByZXF1ZXN0c1RvU2VuZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbXVsdGlSZXF1ZXN0QXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0YWNoQXBpS2V5cyhfdGhpcy5hcHBJZCwgX3RoaXMuY2xpZW50S2V5KVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLk1VTFRJKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlRJTUUsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLnRvU3RyaW5nKCkudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubmV0d29yay5hamF4KCdQT1NUJywgX3RoaXMuYXBpUGF0aCArIFwiP1wiICsgbXVsdGlSZXF1ZXN0QXJncywgcmVxdWVzdERhdGEsIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIERlYWwgd2l0aCBjb29sZG93bi5cbiAgICAgICAgaWYgKCFzZW5kTm93ICYmIHRoaXMuYmF0Y2hDb29sZG93bikge1xuICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5sYXN0UmVxdWVzdFRpbWUgfHwgbm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUgPj0gdGhpcy5iYXRjaENvb2xkb3duKSB7XG4gICAgICAgICAgICAgICAgc2VuZE5vdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBub3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5jb29sZG93blRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb29sZG93blRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRVbnNlbnRSZXF1ZXN0cygpO1xuICAgICAgICAgICAgICAgIH0sICh0aGlzLmJhdGNoQ29vbGRvd24gLSAobm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUpKSAqIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZVJlcXVlc3RGb3JMYXRlcihhcmdzQnVpbGRlci5idWlsZERpY3QoKSk7XG4gICAgICAgIGlmIChzZW5kTm93KSB7XG4gICAgICAgICAgICBzZW5kVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29yay5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5nZXRMYXN0UmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHZhciBjb3VudCA9IChfYiA9IChfYSA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbiAgICAgICAgcmV0dXJuIChjb3VudCA+IDApID8gKF9jID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbY291bnQgLSAxXSA6IG51bGw7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmlzUmVzcG9uc2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5zdWNjZXNzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2F2ZVJlcXVlc3RGb3JMYXRlciA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKSB8fCAwO1xuICAgICAgICB2YXIgaXRlbUtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklURU0gKyBjb3VudDtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoaXRlbUtleSwgSlNPTi5zdHJpbmdpZnkoYXJncykpO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCwgY291bnQpO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnBvcFVuc2VudFJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVxdWVzdERhdGEgPSBbXTtcbiAgICAgICAgdmFyIGNvdW50ID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQpIHx8IDA7XG4gICAgICAgIHRoaXMucmVtb3ZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtS2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSVRFTSArIGk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhLnB1c2goSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChpdGVtS2V5KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVMb2NhbChpdGVtS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdERhdGE7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmxvYWRMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2Uoa2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2F2ZUxvY2FsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5yZW1vdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQucmVtb3ZlRnJvbUxvY2FsU3RvcmFnZShrZXkpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtUmVxdWVzdDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bVJlcXVlc3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFNvY2tldElvQ2xpZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU29ja2V0SW9DbGllbnRcIikpO1xudmFyIExlYW5wbHVtU29ja2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtU29ja2V0KCkge1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IDEwO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuc29ja2V0SG9zdCA9ICdkZXYubGVhbnBsdW0uY29tJztcbiAgICB9XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoY2FjaGUsIGF1dGgsIGNyZWF0ZVJlcXVlc3QsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZ2V0TGFzdFJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghV2ViU29ja2V0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IFdlYlNvY2tldHMuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF1dGhTZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50ID0gbmV3IFNvY2tldElvQ2xpZW50XzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5zZXROZXR3b3JrVGltZW91dCh0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICghYXV0aFNlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IENvbm5lY3RlZCB0byBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0Q2xpZW50LnNlbmQoJ2F1dGgnLCAoX2EgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQVBQX0lEXSA9IGF1dGguYXBwSWQsXG4gICAgICAgICAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9JRF0gPSBhdXRoLmRldmljZUlkLFxuICAgICAgICAgICAgICAgICAgICBfYSkpO1xuICAgICAgICAgICAgICAgIGF1dGhTZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTb2NrZXQgZXJyb3InLCBldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCwgYXJncykge1xuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAndXBkYXRlVmFycycpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJnc18xID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX0RFRkFVTFRTLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuR0VUX1ZBUlMsIGFyZ3NfMSwge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0VmFyc1Jlc3BvbnNlID0gZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhbnRzID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uTWV0YWRhdGEgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9NRVRBREFUQV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvZGFzaF9pc2VxdWFsXzEuZGVmYXVsdCh2YWx1ZXMsIGNhY2hlLmRpZmZzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlLmFwcGx5RGlmZnModmFsdWVzLCB2YXJpYW50cywgYWN0aW9uTWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdnZXRWYXJpYWJsZXMnKSB7XG4gICAgICAgICAgICAgICAgY2FjaGUuc2VuZFZhcmlhYmxlcygpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldENsaWVudC5zZW5kKCdnZXRDb250ZW50UmVzcG9uc2UnLCB7XG4gICAgICAgICAgICAgICAgICAgICd1cGRhdGVkJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0QWN0aW9ucycpIHtcbiAgICAgICAgICAgICAgICAvLyBVbnN1cHBvcnRlZCBpbiBKYXZhU2NyaXB0IFNESy5cbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgICAgICAndXBkYXRlZCc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdyZWdpc3RlckRldmljZScpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcbiAgICAgICAgICAgICAgICBhbGVydChcIllvdXIgZGV2aWNlIGhhcyBiZWVuIHJlZ2lzdGVyZWQgdG8gXCIgKyBhcmdzWzBdLmVtYWlsICsgXCIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBEaXNjb25uZWN0ZWQgZnJvbSBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICBhdXRoU2VudCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5jb25uZWN0KHRoaXMuc29ja2V0SG9zdCk7XG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RlZCAmJiAhX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdChfdGhpcy5zb2NrZXRIb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG4gICAgfTtcbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNvY2tldEhvc3QgPSB2YWx1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSBzZWNvbmRzO1xuICAgICAgICAoX2EgPSB0aGlzLnNvY2tldENsaWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtU29ja2V0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtU29ja2V0O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5ldHdvcmtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9OZXR3b3JrXCIpKTtcbi8qKlxuICogU29ja2V0LmlvIDEuMCBjbGllbnQgY2xhc3MuXG4gKi9cbnZhciBTb2NrZXRJb0NsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIG5ldyBTb2NrZXRJb0NsaWVudCwgbm90IGNvbm5lY3RlZCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNvY2tldElvQ2xpZW50KCkge1xuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXcgTmV0d29ya18xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyB0byB0aGUgZ2l2ZW4gc29ja2V0SG9zdC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHNvY2tldEhvc3QgVGhlIGhvc3QgdG8gY29ubmVjdCB0by5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChzb2NrZXRIb3N0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubmV0d29yay5hamF4KCdQT1NUJywgXCJodHRwczovL1wiICsgc29ja2V0SG9zdCArIFwiL3NvY2tldC5pby8xXCIsICcnLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIHZhciBoZWFydGJlYXQgPSBwYXJzZUludChwYXJ0c1sxXSkgLyAyICogMTAwMDtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3c3M6Ly9cIiArIHNvY2tldEhvc3QgKyBcIi9zb2NrZXQuaW8vMS93ZWJzb2NrZXQvXCIgKyBzZXNzaW9uKTtcbiAgICAgICAgICAgIHZhciBoZWFydGJlYXRJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25vcGVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhlYXJ0YmVhdEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZCgnMjo6OicpO1xuICAgICAgICAgICAgICAgIH0sIGhlYXJ0YmVhdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChoZWFydGJlYXRJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9uY2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VQYXJ0cyA9IGV2ZW50LmRhdGEuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICB2YXIgY29kZSA9IHBhcnNlSW50KG1lc3NhZ2VQYXJ0c1swXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoJzI6OicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlID09PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlSWQgPSBtZXNzYWdlUGFydHNbMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlUGFydHMuc2xpY2UoMykuam9pbignOicpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VFdmVudCA9IGRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBkYXRhLmFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKFwiNjo6OlwiICsgbWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbm1lc3NhZ2UobWVzc2FnZUV2ZW50LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU29ja2V0IGVycm9yOiBcIiArIGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub25lcnJvcihldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgbnVsbCwgZmFsc2UsIHRydWUgLy8gbnVsbCwgcXVldWVkLCBwbGFpblRleHRcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmRzIGdpdmVuIGV2ZW50IHdpdGggYXJndW1lbnRzIHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSAgeyp9IGFyZ3MgQXJndW1lbnRzIHRvIHNlbmQuXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNvY2tldCBpcyBub3QgY29ubmVjdGVkLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzSnNvbiA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChcIjU6OjpcIiArIGFyZ3NKc29uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29yay5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIHJldHVybiBTb2NrZXRJb0NsaWVudDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBTb2NrZXRJb0NsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTG9jYWxTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xvY2FsU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIEFQUExJQ0FUSU9OX1NFUlZFUl9QVUJMSUNfS0VZID0gJ0JJbldQcFdudGZSMzlyZ1hTUDA0cHFkbUVkREdhNTB6NnpxYk12eHl4SkN3elhJdVNwU2g4Qzg4OC1DZko4MldFTGw3WGU4Y2pBbmZDdC0zdkswQ2k2OCc7XG4vKipcbiAqIFB1c2ggTWFuYWdlciBoYW5kbGVzIHRoZSByZWdpc3RyYXRpb24gYW5kIHN1YnNjcmlwdGlvbiBmb3Igd2ViIHB1c2guXG4gKi9cbnZhciBQdXNoTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXNoTWFuYWdlcihjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQdXNoTWFuYWdlci5wcm90b3R5cGUsIFwic2VydmljZVdvcmtlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3Iuc2VydmljZVdvcmtlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3Qgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKCh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yKSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAnc2VydmljZVdvcmtlcicgaW4gd2luZG93Lm5hdmlnYXRvciAmJlxuICAgICAgICAgICAgJ1B1c2hNYW5hZ2VyJyBpbiB3aW5kb3cpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIGJyb3dzZXIgaXMgc3Vic2NyaWJlZCB0byB3ZWIgcHVzaCBub3RpZmljYXRpb25zLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRydWUgaWYgc3Vic2NyaWJlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbiwgc3Vic2NyaXB0aW9uLCBpc1N1YnNjcmliZWQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZ2lzdHJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1YnNjcmliZWQgPSBzdWJzY3JpcHRpb24gIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlcihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGlzU3Vic2NyaWJlZF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgZm9yIFdlYlB1c2guXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCB0aGF0IHNlcnZlcyB0aGUgc2VydmljZSB3b3JrZXIgb24geW91ciBkb21haW4uXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgVGhlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aXRoIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUcnVlIGlmIHN1YnNjcmliZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwsIHNjb3BlLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIHN1YnNjcmlwdGlvbiwgaXNTdWJzY3JpYmVkLCBlcnJvcl8xO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBQdXNoIG1lc3NhZ2luZyBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDQsICwgNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHNlcnZpY2VXb3JrZXJVcmwgfHwgJy9zdy5taW4uanMnLCBzY29wZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkID0gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhpc1N1YnNjcmliZWQpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU2VydmljZSBXb3JrZXIgRXJyb3I6ICcsIGVycm9yXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0aGUgdXNlciAoYnJvd3NlcikgdG8gcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiBzdWJzY3JpcHRpb24gc3VjY2Vzc2Z1bCwgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnN1YnNjcmliZVVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcHBsaWNhdGlvblNlcnZlcktleSwgc3Vic2NyaXB0aW9uLCBlcnJvcl8yO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXkgPSB0aGlzLnVybEI2NFRvVWludDhBcnJheShBUFBMSUNBVElPTl9TRVJWRVJfUFVCTElDX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleTogYXBwbGljYXRpb25TZXJ2ZXJLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlcihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZWFucGx1bTogRmFpbGVkIHRvIHN1YnNjcmliZSB0aGUgdXNlcjogXCIgKyBlcnJvcl8yKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmUgdGhlIHVzZXIoYnJvd3NlcikgZnJvbSBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHVuc3Vic2NyaWJlZCwgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZWQsIHN1YnNjcmlwdGlvbiwgZXJyb3JfMztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pc1dlYlB1c2hTdWJzY3JpYmVkKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVkID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVkKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsyLCA1LCAsIDZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8zID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVhbnBsdW06IEVycm9yIHVuc3Vic2NyaWJpbmc6IFwiICsgZXJyb3JfMyk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIG9iamVjdCBmcm9tIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBSZXR1cm5zIHRoZSByZWdpc3RyYXRpb24gb3IgbnVsbC5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5jb2RlcyBhIGJhc2U2NCBVUkwgc3RyaW5nIHRvIGFuIFVpbnQ4IGFycmF5LlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51cmxCNjRUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYmFzZTY0U3RyaW5nKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gJz0nLnJlcGVhdCgoNCAtIGJhc2U2NFN0cmluZy5sZW5ndGggJSA0KSAlIDQpO1xuICAgICAgICB2YXIgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gICAgICAgIHZhciByYXdEYXRhID0gdGhpcy5kZWNvZGVEYXRhKGJhc2U2NCk7XG4gICAgICAgIHZhciBvdXRwdXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBvdXRwdXRBcnJheVtpXSA9IHJhd0RhdGEuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0QXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbmV3IHN1YnNjcmlwdGlvbiBvYmplY3QgdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24uXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcHJlcGFyZWRTdWJzY3JpcHRpb24gPSB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHByZXBhcmVkU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1N1YnNjcmlwdGlvblN0cmluZyA9IExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuUFVTSF9TVUJTQ1JJUFRJT04pO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nU3Vic2NyaXB0aW9uU3RyaW5nICE9PSBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZykge1xuICAgICAgICAgICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5QVVNIX1NVQlNDUklQVElPTiwgcHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnByZXBhcmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBrZXkgPSAoJ2dldEtleScgaW4gc3Vic2NyaXB0aW9uKSA/IHN1YnNjcmlwdGlvbi5nZXRLZXkoJ3AyNTZkaCcpIDogW107XG4gICAgICAgIHZhciBhdXRoID0gKCdnZXRLZXknIGluIHN1YnNjcmlwdGlvbikgPyBzdWJzY3JpcHRpb24uZ2V0S2V5KCdhdXRoJykgOiBbXTtcbiAgICAgICAgdmFyIGtleUFzY2lpID0gdGhpcy5lbmNvZGVEYXRhKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoa2V5KSkpO1xuICAgICAgICB2YXIgYXV0aEFzY2lpID0gdGhpcy5lbmNvZGVEYXRhKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYXV0aCkpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuZHBvaW50OiBzdWJzY3JpcHRpb24uZW5kcG9pbnQsXG4gICAgICAgICAgICBrZXk6IGtleUFzY2lpLFxuICAgICAgICAgICAgYXV0aDogYXV0aEFzY2lpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZSBMZWFucGx1bSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1YnNjcmlwdGlvbiBUaGUgc3Vic2NyaXB0aW9uIHN0cmluZy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuc2V0U3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuV0VCX1BVU0hfU1VCU0NSSVBUSU9OLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfREVWSUNFX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmVuY29kZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmJ0b2EoZGF0YSk7XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZGVjb2RlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYXRvYihkYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBQdXNoTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBQdXNoTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIExvY2FsU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Mb2NhbFN0b3JhZ2VNYW5hZ2VyXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbnZhciBWYXJDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYXJDYWNoZShjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuYWN0aW9uTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5oYXNSZWNlaXZlZERpZmZzID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWVyZ2VkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLmRpZmZzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRva2VuID0gJyc7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSBbXTtcbiAgICB9XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmFwcGx5RGlmZnMgPSBmdW5jdGlvbiAoZGlmZnMsIHZhcmlhbnRzLCBhY3Rpb25NZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmRpZmZzID0gZGlmZnM7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSB2YXJpYW50cztcbiAgICAgICAgdGhpcy5hY3Rpb25NZXRhZGF0YSA9IGFjdGlvbk1ldGFkYXRhO1xuICAgICAgICB0aGlzLmhhc1JlY2VpdmVkRGlmZnMgPSB0cnVlO1xuICAgICAgICB0aGlzLm1lcmdlZCA9IG1lcmdlSGVscGVyKHRoaXMudmFyaWFibGVzLCBkaWZmcyk7XG4gICAgICAgIHRoaXMuc2F2ZURpZmZzKCk7XG4gICAgICAgIGlmICh0aGlzLm9uVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5sb2FkRGlmZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5RGlmZnMoSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQUJMRVMpIHx8IG51bGwpLCBKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRTKSB8fCBudWxsKSwgSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5BQ1RJT05fTUVUQURBVEEpIHx8IG51bGwpKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW4gPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5UT0tFTik7XG4gICAgICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UX0RFQlVHX0lORk8pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxlYW5wbHVtOiBJbnZhbGlkIGRpZmZzOiBcIiArIGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2F2ZURpZmZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQUJMRVMsIEpTT04uc3RyaW5naWZ5KHRoaXMuZGlmZnMgfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVFMsIEpTT04uc3RyaW5naWZ5KHRoaXMudmFyaWFudHMgfHwgW10pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQUNUSU9OX01FVEFEQVRBLCBKU09OLnN0cmluZ2lmeSh0aGlzLmFjdGlvbk1ldGFkYXRhIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRfREVCVUdfSU5GTywgSlNPTi5zdHJpbmdpZnkodGhpcy52YXJpYW50RGVidWdJbmZvIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlRPS0VOLCB0aGlzLnRva2VuKTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5nZXRWYXJpYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuZ2V0VmFyaWFibGVzKCk7XG4gICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFthcmdzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lcmdlZCAhPT0gdW5kZWZpbmVkID8gdGhpcy5tZXJnZWQgOiB0aGlzLnZhcmlhYmxlcztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gdmFyaWFibGVzO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzUmVjZWl2ZWREaWZmcykge1xuICAgICAgICAgICAgaGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnRyaWdnZXJWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzW2ldKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5nZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50RGVidWdJbmZvO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0gdmFsdWU7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2VuZFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgYm9keSA9IChfYSA9IHt9LCBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WQVJJQUJMRVNdID0gdGhpcy52YXJpYWJsZXMsIF9hKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCkuYm9keShKU09OLnN0cmluZ2lmeShib2R5KSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU0VUX1ZBUlMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmNsZWFyVXNlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlmZnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB7fTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUubG9hZExvY2FsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0RnJvbUxvY2FsU3RvcmFnZShrZXkpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNhdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBWYXJDYWNoZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWYXJDYWNoZTtcbmZ1bmN0aW9uIG1lcmdlSGVscGVyKHZhcnMsIGRpZmYpIHtcbiAgICBpZiAodHlwZW9mIGRpZmYgPT09ICdudW1iZXInIHx8IHR5cGVvZiBkaWZmID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGRpZmYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgIH1cbiAgICBpZiAoZGlmZiA9PT0gbnVsbCB8fCBkaWZmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfVxuICAgIHZhciBvYmpJdGVyYXRvciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGl0ZXJhdGUoZikge1xuICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZihvYmpbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2VlbXMgdG8gYmUgYmVzdCBwcmFjdGljZTogaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzcwNzFcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZWZsZWN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgYXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYoYXR0cik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICB2YXIgdmFyc0l0ZXJhdG9yID0gb2JqSXRlcmF0b3IodmFycyk7XG4gICAgdmFyIGRpZmZJdGVyYXRvciA9IG9iakl0ZXJhdG9yKGRpZmYpO1xuICAgIC8vIEluZmVyIHRoYXQgdGhlIGRpZmZzIGlzIGFuIGFycmF5IGlmIHRoZSB2YXJzIHZhbHVlIGRvZXNuJ3QgZXhpc3QgdG8gdGVsbCB1cyB0aGUgdHlwZS5cbiAgICB2YXIgaXNBcnJheSA9IGZhbHNlO1xuICAgIGlmICh2YXJzID09PSBudWxsKSB7XG4gICAgICAgIGlmICghKGRpZmYgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIGlzQXJyYXkgPSBudWxsO1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlIGluIGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRpZmYuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmxlbmd0aCA8IDMgfHwgYXR0cmlidXRlLmNoYXJBdCgwKSAhPT0gJ1snIHx8XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5jaGFyQXQoYXR0cmlidXRlLmxlbmd0aCAtIDEpICE9PSAnXScpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTWVyZ2UgYXJyYXlzLlxuICAgIGlmICh2YXJzIGluc3RhbmNlb2YgQXJyYXkgfHwgaXNBcnJheSkge1xuICAgICAgICB2YXIgbWVyZ2VkXzEgPSBbXTtcbiAgICAgICAgdmFyc0l0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgICBtZXJnZWRfMS5wdXNoKGF0dHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGlmZkl0ZXJhdG9yKGZ1bmN0aW9uICh2YXJTdWJzY3JpcHQpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHQgPSBwYXJzZUludCh2YXJTdWJzY3JpcHQuc3Vic3RyaW5nKDEsIHZhclN1YnNjcmlwdC5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICB2YXIgZGlmZlZhbHVlID0gZGlmZlt2YXJTdWJzY3JpcHRdO1xuICAgICAgICAgICAgd2hpbGUgKHN1YnNjcmlwdCA+PSBtZXJnZWRfMS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRfMS5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkXzFbc3Vic2NyaXB0XSA9IG1lcmdlSGVscGVyKG1lcmdlZF8xW3N1YnNjcmlwdF0sIGRpZmZWYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkXzE7XG4gICAgfVxuICAgIC8vIE1lcmdlIGRpY3Rpb25hcmllcy5cbiAgICB2YXIgbWVyZ2VkID0ge307XG4gICAgdmFyc0l0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIGlmIChkaWZmW2F0dHJdID09PSBudWxsIHx8IGRpZmZbYXR0cl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWVyZ2VkW2F0dHJdID0gdmFyc1thdHRyXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRpZmZJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBtZXJnZWRbYXR0cl0gPSBtZXJnZUhlbHBlcih2YXJzID09PSBudWxsID8gbnVsbCA6IHZhcnNbYXR0cl0gfHwge30sIGRpZmZbYXR0cl0pO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZWQ7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9