!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.8.0",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_METADATA:"actionMetadata",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_METADATA:"__leanplum_action_metadata",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",MESSAGE_OCCURRENCES:"__leanplum_message_occurrences",MESSAGE_CACHE:"__leanplum_message_cache",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(0)),i=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var n="";return n=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+=e+"="+n,this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(s.default.PARAMS.APP_ID,e).add(s.default.PARAMS.CLIENT,s.default.CLIENT).add(s.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=i},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var s={},i=function(){function e(){}return e.getFromLocalStorage=function(e){return!1===r?s[e]:localStorage[e]},e.saveToLocalStorage=function(e,t){if(!1!==r)try{localStorage[e]=t}catch(n){r=!1,s[e]=t}else s[e]=t},e.removeFromLocalStorage=function(e){if(!1!==r)try{localStorage.removeItem(e)}catch(t){r=!1,delete s[e]}else delete s[e]},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,n,r,s,i,o){var a=this;if(i){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:"+t.substring(6)),this.ajaxIE8(e,t,n,r,s,i,o);var u=!1,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(u)return;var e;u=!0;var t=!1;if(o)e=c.responseText;else try{e=JSON.parse(c.responseText)}catch(e){setTimeout((function(){s&&s(null,c)}),0),t=!0}t||(c.status>=200&&c.status<300?setTimeout((function(){r&&r(e,c)}),0):setTimeout((function(){s&&s(e,c)}),0)),i&&(a.runningRequest=!1,a.dequeueRequest())}},c.open(e,t,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(n),setTimeout((function(){u||c.abort()}),1e3*this.networkTimeoutSeconds)},e.prototype.ajaxIE8=function(e,t,n,r,s,i,o){var a=this,u=new XDomainRequest;u.onload=function(){var e,t=!1;if(o)e=u.responseText;else try{e=JSON.parse(u.responseText)}catch(e){setTimeout((function(){s&&s(null,u)}),0),t=!0}t||setTimeout((function(){r&&r(e,u)}),0),i&&(a.runningRequest=!1,a.dequeueRequest())},u.onerror=u.ontimeout=function(){setTimeout((function(){s&&s(null,u)}),0),i&&(a.runningRequest=!1,a.dequeueRequest())},u.onprogress=function(){},u.open(e,t),u.timeout=1e3*this.networkTimeoutSeconds,u.send(n)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=r},function(e,t,n){(function(e,n){var r="[object Arguments]",s="[object Map]",i="[object Object]",o="[object Set]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[s]=c["[object Number]"]=c[i]=c["[object RegExp]"]=c[o]=c["[object String]"]=c["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=t&&!t.nodeType&&t,h=p&&"object"==typeof n&&n&&!n.nodeType&&n,v=h&&h.exports===p,g=v&&l.process,_=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),S=_&&_.isTypedArray;function y(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function A(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var m,E,R,T=Array.prototype,I=Function.prototype,M=Object.prototype,w=f["__core-js_shared__"],D=I.toString,O=M.hasOwnProperty,N=(m=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",C=M.toString,P=RegExp("^"+D.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=v?f.Buffer:void 0,L=f.Symbol,k=f.Uint8Array,V=M.propertyIsEnumerable,j=T.splice,F=L?L.toStringTag:void 0,q=Object.getOwnPropertySymbols,H=U?U.isBuffer:void 0,K=(E=Object.keys,R=Object,function(e){return E(R(e))}),W=_e(f,"DataView"),x=_e(f,"Map"),Y=_e(f,"Promise"),B=_e(f,"Set"),G=_e(f,"WeakMap"),z=_e(Object,"create"),J=Ae(W),X=Ae(x),$=Ae(Y),Q=Ae(B),Z=Ae(G),ee=L?L.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new se;++t<n;)this.add(e[t])}function oe(e){var t=this.__data__=new re(e);this.size=t.size}function ae(e,t){var n=Re(e),r=!n&&Ee(e),s=!n&&!r&&Te(e),i=!n&&!r&&!s&&Oe(e),o=n||r||s||i,a=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=a.length;for(var c in e)!t&&!O.call(e,c)||o&&("length"==c||s&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||be(c,u))||a.push(c);return a}function ue(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=O.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var s=C.call(e);r&&(t?e[F]=n:delete e[F]);return s}(e):function(e){return C.call(e)}(e)}function le(e){return De(e)&&ce(e)==r}function de(e,t,n,a,u){return e===t||(null==e||null==t||!De(e)&&!De(t)?e!=e&&t!=t:function(e,t,n,a,u,c){var l=Re(e),d=Re(t),f=l?"[object Array]":ye(e),p=d?"[object Array]":ye(t),h=(f=f==r?i:f)==i,v=(p=p==r?i:p)==i,g=f==p;if(g&&Te(e)){if(!Te(t))return!1;l=!0,h=!1}if(g&&!h)return c||(c=new oe),l||Oe(e)?he(e,t,n,a,u,c):function(e,t,n,r,i,a,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new k(e),new k(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return me(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case s:var c=b;case o:var l=1&r;if(c||(c=A),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;r|=2,u.set(e,t);var f=he(c(e),c(t),r,i,a,u);return u.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,a,u,c);if(!(1&n)){var _=h&&O.call(e,"__wrapped__"),S=v&&O.call(t,"__wrapped__");if(_||S){var y=_?e.value():e,m=S?t.value():t;return c||(c=new oe),u(y,m,n,a,c)}}if(!g)return!1;return c||(c=new oe),function(e,t,n,r,s,i){var o=1&n,a=ve(e),u=a.length,c=ve(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var d=a[l];if(!(o?d in t:O.call(t,d)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);var h=o;for(;++l<u;){d=a[l];var v=e[d],g=t[d];if(r)var _=o?r(g,v,d,t,e,i):r(v,g,d,e,t,i);if(!(void 0===_?v===g||s(v,g,n,r,i):_)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var S=e.constructor,y=t.constructor;S==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof y&&y instanceof y||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,a,u,c)}(e,t,n,a,de,u))}function fe(e){return!(!we(e)||function(e){return!!N&&N in e}(e))&&(Ie(e)?P:a).test(Ae(e))}function pe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||M,t!==r)return K(e);var t,n,r,s=[];for(var i in Object(e))O.call(e,i)&&"constructor"!=i&&s.push(i);return s}function he(e,t,n,r,s,i){var o=1&n,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,d=!0,f=2&n?new ie:void 0;for(i.set(e,t),i.set(t,e);++l<a;){var p=e[l],h=t[l];if(r)var v=o?r(h,p,l,t,e,i):r(p,h,l,e,t,i);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!y(t,(function(e,t){if(o=t,!f.has(o)&&(p===e||s(p,e,n,r,i)))return f.push(t);var o}))){d=!1;break}}else if(p!==h&&!s(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function ve(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}(r,n(e))}(e,Ne,Se)}function ge(e,t){var n,r,s=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?s["string"==typeof t?"string":"hash"]:s.map}function _e(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=z?z(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(z){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return O.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return z?void 0!==t[e]:O.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=z&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ue(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ue(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ue(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ue(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},se.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(x||re),string:new ne}},se.prototype.delete=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},se.prototype.get=function(e){return ge(this,e).get(e)},se.prototype.has=function(e){return ge(this,e).has(e)},se.prototype.set=function(e,t){var n=ge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.clear=function(){this.__data__=new re,this.size=0},oe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},oe.prototype.get=function(e){return this.__data__.get(e)},oe.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!x||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new se(r)}return n.set(e,t),this.size=n.size,this};var Se=q?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,s=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}(q(e),(function(t){return V.call(e,t)})))}:function(){return[]},ye=ce;function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function me(e,t){return e===t||e!=e&&t!=t}(W&&"[object DataView]"!=ye(new W(new ArrayBuffer(1)))||x&&ye(new x)!=s||Y&&"[object Promise]"!=ye(Y.resolve())||B&&ye(new B)!=o||G&&"[object WeakMap]"!=ye(new G))&&(ye=function(e){var t=ce(e),n=t==i?e.constructor:void 0,r=n?Ae(n):"";if(r)switch(r){case J:return"[object DataView]";case X:return s;case $:return"[object Promise]";case Q:return o;case Z:return"[object WeakMap]"}return t});var Ee=le(function(){return arguments}())?le:function(e){return De(e)&&O.call(e,"callee")&&!V.call(e,"callee")},Re=Array.isArray;var Te=H||function(){return!1};function Ie(e){if(!we(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function we(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function De(e){return null!=e&&"object"==typeof e}var Oe=S?function(e){return function(t){return e(t)}}(S):function(e){return De(e)&&Me(e.length)&&!!c[ce(e)]};function Ne(e){return null!=(t=e)&&Me(t.length)&&!Ie(t)?ae(e):pe(e);var t}n.exports=function(e,t){return de(e,t)}}).call(this,n(13),n(14)(e))},function(e,t,n){var r=n(6);e.exports=r.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(0)),i=r(n(7)),o=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(t){e._lp.setEmail(t)},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,n){e._lp.setAppIdForDevelopmentMode(t,n)},e.setAppIdForProductionMode=function(t,n){e._lp.setAppIdForProductionMode(t,n)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,n){e._lp.setRequestBatching(t,n)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.enableRichInAppMessages=function(t){e._lp.enableRichInAppMessages(t)},e.processMessageEvent=function(t,n){e._lp.processMessageEvent(t,n)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e._lp).getVariable.apply(t,n)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,n,r){e._lp.start(t,n,r)},e.startFromCache=function(t,n,r){e._lp.startFromCache(t,n,r)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,n){e._lp.setUserAttributes(t,n)},e.track=function(t,n,r,s){e._lp.track(t,n,r,s)},e.trackPurchase=function(t,n,r,s){void 0===s&&(s="Purchase"),e._lp.trackPurchase(t,n,r,s)},e.advanceTo=function(t,n,r){e._lp.advanceTo(t,n,r)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.applyQueue=function(t){e._lp.applyQueue(t)},e.on=function(t,n){e._lp.on(t,n)},e.off=function(t,n){e._lp.off(t,n)},e.getFileUrl=function(t){return e._lp.getFileUrl(t)},e.__destroy=function(){this._lp=new i.default(window)},e._lp=new i.default(window),e.VERSION=s.default.SDK_VERSION,e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1)),o=s(n(8)),a=s(n(0)),u=s(n(9)),c=s(n(10)),l=s(n(11)),d=s(n(12)),f=s(n(2)),p=s(n(16)),h=s(n(17)),v=s(n(18)),g=s(n(19)),_=a.default.DEFAULT_KEYS.SESSION,S=function(){function e(e){var t=this;this.wnd=e,this._events=new v.default,this._internalState=new u.default,this._lpInbox=new c.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new l.default,this._varCache=new g.default(this.createRequest.bind(this)),this._lpSocket=new d.default(this._varCache,this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest),this._events),this._pushManager=new p.default(this.createRequest.bind(this)),this._messages=new h.default(this._events,this.createRequest.bind(this),this.getFileUrl.bind(this)),this._browserDetector=new o.default(e),this._events.on("navigationChange",(function(e){return t.wnd.location.assign(e)}))}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setEmail=function(e){this._email=e},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.enableRichInAppMessages=function(e){this._messages.enableRichInAppMessages(e)},e.prototype.processMessageEvent=function(e,t){this._messages.processMessageEvent(e,t)},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype.onInboxAction=function(e,t){var n=this;this._messages.trackMessage(e,{event:"Open"},(function(){return t&&n._messages.onAction(t)}))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.getFileUrl=function(e){return this._lpRequest.getFileUrl(e)},e.prototype.forceContentUpdate=function(e){var t=this,n=(new i.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(n){var r=t._lpRequest.getLastResponse(n),s=t._lpRequest.isResponseSuccess(r);s&&(t._varCache.applyDiffs(r[a.default.KEYS.VARS],r[a.default.KEYS.VARIANTS],r[a.default.KEYS.ACTION_METADATA]),t._varCache.setVariantDebugInfo(r[a.default.KEYS.VARIANT_DEBUG_INFO]),t._events.emit("messagesReceived",r[a.default.KEYS.MESSAGES])),e&&e(s)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,n){var r=this;if("function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.hasActiveSession())return this.startFromCache(e,t,n);this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._varCache.onUpdate=function(){r._varCache.triggerVariablesChangedHandlers()};var s=(new i.default).add(a.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(a.default.PARAMS.COUNTRY,a.default.VALUES.DETECT).add(a.default.PARAMS.REGION,a.default.VALUES.DETECT).add(a.default.PARAMS.CITY,a.default.VALUES.DETECT).add(a.default.PARAMS.LOCATION,a.default.VALUES.DETECT).add(a.default.PARAMS.SYSTEM_NAME,this._systemName||this._browserDetector.OS).add(a.default.PARAMS.SYSTEM_VERSION,(this._systemVersion||"").toString()).add(a.default.PARAMS.BROWSER_NAME,this._browserDetector.browser).add(a.default.PARAMS.BROWSER_VERSION,this._browserDetector.version.toString()).add(a.default.PARAMS.LOCALE,a.default.VALUES.DETECT).add(a.default.PARAMS.DEVICE_NAME,this._deviceName||this._browserDetector.browser+" "+this._browserDetector.version).add(a.default.PARAMS.DEVICE_MODEL,this._deviceModel||"Web Browser").add(a.default.PARAMS.NEWSFEED_MESSAGES,this._lpInbox.messageIds()).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.START,s,{queued:!0,sendNow:!0,response:function(e){r._internalState.hasStarted=!0;var t=r._lpRequest.getLastResponse(e),n=r._lpRequest.isResponseSuccess(t);if(r._internalState.startSuccessful=n,n){r.updateSession();var s=t[a.default.KEYS.MESSAGES];if(t.actionDefinitions&&(s.actionDefinitions=t.actionDefinitions),r._events.emit("messagesReceived",s),t[a.default.KEYS.SYNC_INBOX]&&r._lpInbox.downloadMessages(),r._internalState.devMode){var i=t[a.default.KEYS.LATEST_VERSION];i&&console.log("A newer version of the Leanplum SDK, "+i+', is available.\nUse "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.'),r.connectSocket()}r._varCache.applyDiffs(t[a.default.KEYS.VARS],t[a.default.KEYS.VARIANTS],t[a.default.KEYS.ACTION_METADATA]),r._varCache.setVariantDebugInfo(t[a.default.KEYS.VARIANT_DEBUG_INFO]),r._varCache.token=t[a.default.KEYS.TOKEN]}else r._varCache.loadDiffs();r._events.emit("start",{success:n}),r._internalState.triggerStartHandlers()}})},e.prototype.startFromCache=function(e,t,n){"function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.updateSession(),this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._events.emit("resume"),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(a.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){f.default.removeFromLocalStorage(_)}})},e.prototype.pauseSession=function(){this.createRequest(a.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this._events.emit("resume"),this.createRequest(a.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(a.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(a.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var n=(new i.default).add(a.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(a.default.PARAMS.NEW_USER_ID,e);this._events.emit("setUserAttribute",t),this.createRequest(a.default.METHODS.SET_USER_ATTRIBUTES,n,{queued:!0}),e&&(this._lpRequest.userId=e,f.default.saveToLocalStorage(a.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,n,r){var s=this;"object"==typeof t&&null!=t?(r=t,n=void 0,t=void 0):"string"==typeof t?(r=n,n=t,t=void 0):"object"==typeof n&&null!=n&&(r=n,n=void 0);var o=(new i.default).add(a.default.PARAMS.EVENT,e).add(a.default.PARAMS.VALUE,t||0).add(a.default.PARAMS.INFO,n).add(a.default.PARAMS.PARAMS,JSON.stringify(r));this._events.emit("track",{eventName:e,params:r}),this.createRequest(a.default.METHODS.TRACK,o,{queued:!0,response:function(){return s.updateSession()}})},e.prototype.trackPurchase=function(e,t,n,r){void 0===r&&(r="Purchase");var s=(new i.default).add(a.default.PARAMS.EVENT,r).add(a.default.PARAMS.VALUE,e||0).add(a.default.PARAMS.PARAMS,JSON.stringify(n));t&&s.add(a.default.PARAMS.CURRENCY_CODE,t),this._events.emit("track",{eventName:r}),this.createRequest(a.default.METHODS.TRACK,s,{queued:!0})},e.prototype.advanceTo=function(e,t,n){"object"==typeof t&&null!=t&&(n=t,t=void 0);var r=(new i.default).add(a.default.PARAMS.STATE,e).add(a.default.PARAMS.INFO,t).add(a.default.PARAMS.PARAMS,JSON.stringify(n));this._events.emit("advanceState",{state:e,params:n}),this.createRequest(a.default.METHODS.ADVANCE,r,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){return this._pushManager.isWebPushSubscribed()},e.prototype.setWebPushOptions=function(e){this._webPushOptions=r({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var n=this._webPushOptions,r=e||n.serviceWorkerUrl,s=n&&n.scope?{scope:n.scope}:null;return this._pushManager.register(r,s,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){return this._pushManager.unsubscribeUser()},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,n){void 0===n&&(n={}),this._lpRequest.request(e,t,r({devMode:this._internalState.devMode},n))},e.prototype.connectSocket=function(){this._lpSocket.connect({appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId})},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(f.default.getFromLocalStorage(_));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){f.default.saveToLocalStorage(_,String(Date.now()))},e}();t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!==n.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1)),o=s(n(0)),a=function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var n=t.response[0];n&&n.newsfeedMessages&&(e.messageMap=n.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var n=new i.default;n.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",n,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),n=e.split("##")[0],r=(null==t?void 0:t.openAction())||null;this.onAction(n,r)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new i.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){this.changeHandlers.push(e)},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){sessionStorage.setItem(o.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap))},e.prototype.load=function(){var e=sessionStorage.getItem(o.default.DEFAULT_KEYS.INBOX_MESSAGES);this.messageMap=JSON.parse(e)||{}},e.prototype.count=function(){return a(this.messageMap).length},e.prototype.unreadCount=function(){return a(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var n in this.messageMap){var r=this.messageMap[n];e(r)&&t.push(c.create(n,r))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?c.create(e,t):null},e}();t.default=u;var c=function(){function e(e,t,n,r,s,i,o){this._id=e,this._title=t,this._subtitle=n,this._timestamp=r,this._isRead=s,this._imageUrl=i,this._openAction=o}return e.create=function(t,n){var s,i,a,u,c,l,d,f,p,h=null===(s=n.messageData)||void 0===s?void 0:s.parentCampaignId,v=r(r({},null===(a=null===(i=n.messageData)||void 0===i?void 0:i.vars)||void 0===a?void 0:a[o.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:h});return new e(t,null===(c=null===(u=n.messageData)||void 0===u?void 0:u.vars)||void 0===c?void 0:c.Title,null===(d=null===(l=n.messageData)||void 0===l?void 0:l.vars)||void 0===d?void 0:d.Subtitle,n.deliveryTimestamp,n.isRead,null===(p=null===(f=n.messageData)||void 0===f?void 0:f.vars)||void 0===p?void 0:p.Image,v)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(1)),i=r(n(0)),o=r(n(2)),a=r(n(3)),u=function(){function e(){this.cooldownTimeout=null,this.lastRequestTime=void 0,this.network=new a.default,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(i.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!0,configurable:!0}),e.prototype.request=function(e,t,n){var r=this;if(void 0===n&&(n={}),n=n||{},t=t||new s.default,this.deviceId||(this.deviceId=this.loadLocal(i.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var o="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=0;u<16;u++)o+=a.charAt(Math.floor(Math.random()*a.length));this.deviceId=o,this.saveLocal(i.default.DEFAULT_KEYS.DEVICE_ID,o)}this.saveLocal(i.default.DEFAULT_KEYS.USER_ID,this.userId);var c=t.attachApiKeys(this.appId,this.clientKey).add(i.default.PARAMS.SDK_VERSION,i.default.SDK_VERSION).add(i.default.PARAMS.DEVICE_ID,this.deviceId).add(i.default.PARAMS.USER_ID,this.userId).add(i.default.PARAMS.ACTION,e).add(i.default.PARAMS.VERSION_NAME,this.versionName).add(i.default.PARAMS.DEV_MODE,n.devMode).add(i.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),l=n.success||n.response,d=n.error||n.response;if(!this.appId||!this.clientKey){var f="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(f),void(d&&d(f))}if(t.body())this.network.ajax("POST",this.apiPath+"?"+c.build(),t.body(),l,d,n.queued);else{var p=n.devMode||n.sendNow||!this.batchEnabled,h=function(){var e=r.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),o=(new s.default).attachApiKeys(r.appId,r.clientKey).add(i.default.PARAMS.SDK_VERSION,i.default.SDK_VERSION).add(i.default.PARAMS.ACTION,i.default.METHODS.MULTI).add(i.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();r.network.ajax("POST",r.apiPath+"?"+o,t,l,d,n.queued)}};if(!p&&this.batchCooldown){var v=(new Date).getTime()/1e3;!this.lastRequestTime||v-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=v):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){r.cooldownTimeout=null,r.lastRequestTime=(new Date).getTime()/1e3,h()}),1e3*(this.batchCooldown-(v-this.lastRequestTime))))}this.saveRequestForLater(c.buildDict()),p&&h()}},e.prototype.getFileUrl=function(e){if(!e)return"";var t=(new s.default).attachApiKeys(this.appId,this.clientKey).add(i.default.PARAMS.SDK_VERSION,i.default.SDK_VERSION).add(i.default.PARAMS.ACTION,"downloadFile").add("filename",e);return this.apiPath+"?"+t.build()},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,n,r,s=null!==(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==n?n:0;return s>0?null===(r=null==e?void 0:e.response)||void 0===r?void 0:r[s-1]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(i.default.DEFAULT_KEYS.COUNT)||0,n=i.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(n,JSON.stringify(e)),t++,this.saveLocal(i.default.DEFAULT_KEYS.COUNT,t)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(i.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(i.default.DEFAULT_KEYS.COUNT);for(var n=0;n<t;n++){var r=i.default.DEFAULT_KEYS.ITEM+n;try{e.push(JSON.parse(this.loadLocal(r)))}catch(e){}this.removeLocal(r)}return e},e.prototype.loadLocal=function(e){return o.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){o.default.saveToLocalStorage(e,t)},e.prototype.removeLocal=function(e){o.default.removeFromLocalStorage(e)},e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(4)),i=r(n(1)),o=r(n(0)),a=r(n(15)),u=function(){function e(e,t,n,r){this.cache=e,this.createRequest=t,this.getLastResponse=n,this.events=r,this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com"}return e.prototype.connect=function(e){var t=this;if(WebSocket){var n=!1;this.socketClient=new a.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var r;n||(console.log("Leanplum: Connected to development server."),t.socketClient.send("auth",((r={})[o.default.PARAMS.APP_ID]=e.appId,r[o.default.PARAMS.DEVICE_ID]=e.deviceId,r)),n=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=this.onMessageReceived.bind(this),this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),n=!1},this.socketClient.connect(this.socketHost),setInterval((function(){t.socketClient.connected||t.socketClient.connecting||t.socketClient.connect(t.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e.prototype.onMessageReceived=function(e,t){var n=this;if("updateVars"===e){var r=(new i.default).add(o.default.PARAMS.INCLUDE_DEFAULTS,!1);this.createRequest(o.default.METHODS.GET_VARS,r,{queued:!1,sendNow:!0,response:function(e){var t=n.getLastResponse(e),r=t[o.default.KEYS.VARS],i=t[o.default.KEYS.VARIANTS],a=t[o.default.KEYS.ACTION_METADATA];s.default(r,n.cache.diffs)||n.cache.applyDiffs(r,i,a)}})}else if("getVariables"===e)this.cache.sendVariables(),this.socketClient.send("getContentResponse",{updated:!0});else if("getActions"===e)this.socketClient.send("getContentResponse",{updated:!1});else if("registerDevice"===e){var a=t[0];alert("Your device has been registered to "+a.email+".")}else if("trigger"===e){a=t[0];this.events.emit("previewRequest",a)}},e}();t.default=u},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(3)),i=function(){function e(){this.network=new s.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://"+e+"/socket.io/1","",(function(n){var r=n.split(":"),s=r[0],i=parseInt(r[1])/2*1e3;t.socket=new WebSocket("wss://"+e+"/socket.io/1/websocket/"+s);var o=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),o=setInterval((function(){t.socket.send("2:::")}),i)},t.socket.onclose=function(){t.connected=!1,clearInterval(o),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var n=e.data.split(":"),r=parseInt(n[0]);if(2===r)t.socket.send("2::");else if(5===r){var s=n[1],i=JSON.parse(n.slice(3).join(":")),o=i.name,a=i.args;s&&t.socket.send("6:::"+s),t.onmessage&&t.onmessage(o,a)}else 7===r&&console.log("Socket error: "+e.data)},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.send=function(e,t){if(this.connected){var n=JSON.stringify({name:e,args:t});this.socket.send("5:::"+n)}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=i(n(0)),u=i(n(2)),c=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!0,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(){return r(this,void 0,void 0,(function(){var e,t,n;return s(this,(function(r){switch(r.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration()]:[2,!1];case 1:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[2,!1];case 2:return t=r.sent(),(n=null!==t)&&this.updateNewSubscriptionOnServer(t),[2,n]}}))}))},e.prototype.register=function(e,t,n){return r(this,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,n(!1)];s.label=1;case 1:return s.trys.push([1,4,,5]),r=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return r.serviceWorkerRegistration=s.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return i=s.sent(),(o=null!==i)&&this.updateNewSubscriptionOnServer(i),[2,n(o)];case 4:return a=s.sent(),console.log("Leanplum: Service Worker Error: ",a),[2,n(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t,n;return s(this,(function(r){switch(r.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=r.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw n=r.sent(),new Error("Leanplum: Failed to subscribe the user: "+n);case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return[4,this.isWebPushSubscribed()];case 1:if(!n.sent())return[3,6];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(e=n.sent()))throw new Error;return[4,e.unsubscribe()];case 4:return n.sent(),[3,6];case 5:throw t=n.sent(),new Error("Leanplum: Error unsubscribing: "+t);case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(){return r(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this.serviceWorkerRegistration?[3,2]:(e=this,[4,this.serviceWorker.getRegistration()]);case 1:e.serviceWorkerRegistration=t.sent(),t.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=this.decodeData(t),r=new Uint8Array(n.length),s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),n=JSON.stringify(t);u.default.getFromLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==n&&(u.default.saveToLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,n),this.setSubscription(n))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],n="getKey"in e?e.getKey("auth"):[],r=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),s=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(n)));return{endpoint:e.endpoint,key:r,auth:s}},e.prototype.setSubscription=function(e){if(e){var t=(new o.default).add(a.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(a.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),o=s(n(1)),a=s(n(3)),u=s(n(4)),c=s(n(2)),l=function(){function e(){this.session={},this.triggers={},this.occurrences={}}return e.prototype.recordOccurrence=function(e){var t=(this.session[e]||0)+1;this.session[e]=t;var n=this.occurrences[e]||[];n.push(Date.now()),this.occurrences[e]=n,this.save()},e.prototype.recordTriggerOccurrence=function(e){var t=this.triggers[e]||[];return t.push(Date.now()),this.triggers[e]=t,this.save(),t.length},e.prototype.getSessionOccurranceCount=function(e){return this.session[e]||0},e.prototype.getOccurrences=function(e){return this.occurrences[e]||[]},e.prototype.clearSession=function(){this.session={}},e.prototype.load=function(){var e=c.default.getFromLocalStorage(i.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES);if(e){var t=JSON.parse(e);this.session=t.session,this.triggers=t.triggers,this.occurrences=t.occurrences}},e.prototype.save=function(){var e=i.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES;c.default.saveToLocalStorage(e,JSON.stringify({session:this.session,triggers:this.triggers,occurrences:this.occurrences}))},e}(),d=function(){function e(e,t,n){var r=this;this.events=e,this.createRequest=t,this.getFileUrl=n,this._files={},this._messageCache={},this.occurrenceTracker=new l,this._showRichIAM=!1,e.on("previewRequest",this.onMessagePreview.bind(this)),e.on("messagesReceived",this.onMessagesReceived.bind(this)),e.on("start",(function(){r.occurrenceTracker.clearSession(),r.onTrigger({trigger:"start"})})),e.on("resume",(function(){var e=i.default.DEFAULT_KEYS.MESSAGE_CACHE,t=c.default.getFromLocalStorage(e);r._messageCache=t?JSON.parse(t):r._messageCache,r.occurrenceTracker.load(),r.onTrigger({trigger:"resume"})})),e.on("track",(function(e){r.onTrigger({trigger:"event",eventName:e.eventName,params:e.params||{}})})),e.on("advanceState",(function(e){return r.onTrigger({trigger:"state",state:e.state,params:e.params||{}})})),e.on("setUserAttribute",(function(e){return r.onTrigger({trigger:"userAttribute",attributes:e})}))}return e.prototype.enableRichInAppMessages=function(e){this._showRichIAM=e},e.prototype.onTrigger=function(e){var t=this,n=this.getMessages();Object.keys(n).filter((function(r){return t.shouldShowMessage(r,n[r],e)})).slice(0,1).forEach((function(e){return t.showMessage(e,n[e])}))},e.prototype.onMessagePreview=function(e){var t=e.action,n={track:function(t){var n=t?"event '"+t+"'":"impression";console.log("Tracking "+n+" for "+e.messageId)},runActionNamed:function(e){return console.log("Running untracked action '"+e+"'")},runTrackedActionNamed:function(e){return console.log("Running tracked action '"+e+"'")}};this.handleMessage({isPreview:!0,message:r({messageId:e.messageId},t),context:n})},e.prototype.onMessagesReceived=function(e){var t=e||{};this._messageCache=t,c.default.saveToLocalStorage(i.default.DEFAULT_KEYS.MESSAGE_CACHE,JSON.stringify(t))},e.prototype.shouldShowMessage=function(e,t,n){var r=Date.now(),s=this.matchesTrigger(t.whenTriggers,n),i=this.matchesTrigger(t.unlessTriggers,n);if(!s||i)return!1;var o=this.occurrenceTracker.recordTriggerOccurrence(e);if(!this.matchesLimits(e,t.whenLimits,o))return!1;if(t.startTime&&t.endTime&&(r<t.startTime||t.endTime<r))return!1;return!0},e.prototype.showMessage=function(e,t){var n=this,s=this.addDefaults(r({},t.vars)),i={track:function(t,r,s,i){n.occurrenceTracker.recordOccurrence(e),n.trackMessage(e,{event:t,value:r,info:s,params:i})},runActionNamed:function(e){return n.onAction(s[e])},runTrackedActionNamed:function(t){var r=t.replace(/ action$/,"");n.trackMessage(e,{event:r},(function(){return n.onAction(s[t])}))}};this.handleMessage({context:i,message:r({messageId:e},s)})},e.prototype.processMessageEvent=function(e,t){var n=document.getElementById("lp-message-"+e);if(n){var r=t.replace(/^http:\/\/leanplum\//,"").split("?"),s=r[0],i=r[1],o=(void 0===i?"":i).split("&").reduce((function(e,t){var n=t.split("="),r=n[0],s=n[1];return e[r]=decodeURIComponent(s),e}),{}),a=n.metadata,u=a.message,c=a.context;switch(s){case"loadFinished":if(n.style.visibility="visible",n.style.left="0",u["HTML Height"]>0){var l=u["HTML Width"];n.style.height=u["HTML Height"]+"px",n.style.width=l,n.style.left="calc((100% - "+l+") / 2)",n.style.zIndex="100000";var d=u["HTML Align"].toLowerCase(),f="top"===d?"bottom":"top";n.style[d]="0",n.style[f]=""}else n.style.top="0";c.track();break;case"track":c.track(o.event,parseFloat(o.value),o.parameters,o.info);break;case"runAction":case"runTrackedAction":c[s+"Named"](o.action);case"close":n.metadata=null,n.parentNode.removeChild(n)}}else console.log("message closed, skipping event processing")},e.prototype.handleMessage=function(e){var t=this;if(this._showRichIAM&&"HTML"===e.message.__name__){this.resolveFiles(e.message);var n=e.message.Template||"";(new a.default).ajax("get",n.replace("-10.html","-11.html"),"",(function(n){return t.renderRichInAppMessage(n,e)}),(function(){}),!1,!0)}else this.events.emit("showMessage",this.resolveFields(e))},e.prototype.renderRichInAppMessage=function(e,t){var n=t.message.messageId,r=JSON.stringify(t.message),s=document.createElement("iframe");s.setAttribute("id","lp-message-"+n),s.style.cssText=["border-width: 0","position: fixed","top: -100%","left: -100%","width: 100%","height: 100%","visibility: hidden"].join(";"),document.body.appendChild(s),s.metadata=t,s.contentWindow.messageId=n;var i=e.replace("##Vars##",r).replace("<body>","<body><script>window.messageId='"+n+"'<\/script>"),o=s.contentWindow.document;o.open(),o.write(i),o.close()},e.prototype.trackMessage=function(e,t,n){void 0===t&&(t={event:null}),void 0===n&&(n=function(){});var r=(new o.default).add(i.default.PARAMS.MESSAGE_ID,e),s=function(e){return void 0!==e};t.event&&r.add(i.default.PARAMS.EVENT,t.event),s(t.value)&&r.add(i.default.PARAMS.VALUE,t.value||0),s(t.info)&&r.add(i.default.PARAMS.INFO,t.info),s(t.params)&&r.add(i.default.PARAMS.PARAMS,JSON.stringify(t.params)),this.createRequest(i.default.METHODS.TRACK,r,{queued:!0,sendNow:!0,response:n})},e.prototype.onAction=function(e){var t=this;if(e){var n=this._messageCache;if(e&&"Chain to Existing Message"===e.__name__){var r=e["Chained message"],s=n[r];"Open URL"===s.action?this.trackMessage(r,{event:"View"},(function(){return t.onAction(s.vars)})):this.showMessage(r,s)}else{var i=function(){"Open URL"===e.__name__&&t.events.emit("navigationChange",e.URL)},o=this.messageIdFromAction(e);o?this.trackMessage(o,{event:null},i):i()}}},e.prototype.getMessages=function(){return this._messageCache||{}},e.prototype.colorToHex=function(e){var t=255&e,n=255&(e>>=8);return"rgba("+(255&(e>>=8))+","+n+","+t+","+(255&(e>>=8))/255+")"},e.prototype.addDefaults=function(e){var t=(this.getMessages().actionDefinitions||{})[e.__name__];if(!t)return e;return function e(t,n){for(var r=0,s=Object.keys(n);r<s.length;r++){var i=s[r],o=n[i];"object"==typeof o?t[i]=e(t[i]||{},o):void 0===t[i]&&(t[i]=o)}return t}(r({},e),t.values)},e.prototype.resolveFiles=function(e){var t=/^__file__/;for(var n in e){if(t.test(n))e[n.replace(t,"")]=this.getFileUrl(e[n]);else"object"==typeof e[n]&&(e[n]=this.resolveFiles(e[n]))}return e},e.prototype.resolveFields=function(e){var t=/\bcolor/i,n=/^__file__/;for(var r in e){if(n.test(r))e[r.replace(n,"")+" URL"]=this.getFileUrl(e[r]);else t.test(r)?e[r]=this.colorToHex(e[r]):"object"==typeof e[r]&&(e[r]=this.resolveFields(e[r]))}return e},e.prototype.messageIdFromAction=function(e){var t=this._messageCache,n=r({},e);delete n.parentCampaignId;for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],a=t[o];if(a.parentCampaignId===e.parentCampaignId&&u.default(a.vars,n))return o}},e.prototype.matchesTrigger=function(e,t){if(!e)return!1;var n=function(e,t){return 0===e.toString().localeCompare(t.toString(),void 0,{sensitivity:"accent"})},r=function(e,t,r){var s=e===r.noun;if("triggers"===r.verb)return s;if("triggersWithParameter"===r.verb){var i=r.objects,o=i[0],a=i[1],u=o in t&&n(a,t[o]);return s&&u}};return e.children.some((function(e){var s=e.subject;switch(t.trigger){case"start":return"start"===s||"resume"===s;case"resume":return"resume"===s;case"event":return"event"===s&&r(t.eventName,t.params,e);case"userAttribute":if("userAttribute"!==s)return!1;var i=e.noun in t.attributes;if("changes"===e.verb)return i;if("changesTo"===e.verb){if(!i)return!1;var o=t.attributes[e.noun];return e.objects.some((function(e){return null===e&&null===o||e&&o&&n(e,o)}))}break;case"state":return"state"===s&&r(t.state,t.params,e)}return!1}))},e.prototype.matchesLimits=function(e,t,n){var r=this;return!t||t.children.every((function(t){var s=t.subject,i=t.verb,o=parseInt(t.noun.toString());if("times"===s){if("limitSession"===i)return r.occurrenceTracker.getSessionOccurranceCount(e)+1===o;if("limitUser"===i)return(a=r.occurrenceTracker.getOccurrences(e).length)+1<=o;var a,u=parseInt(t.objects[0].toString())||1,c=function(e){switch(e){case"limitSecond":return 1e3;case"limitMinute":return 6e4;case"limitHour":return 36e5;case"limitDay":return 864e5}}(i)*u,l=(a=r.occurrenceTracker.getOccurrences(e)).length;return l<o||a.slice(l-o,l)[0]<Date.now()-c}return"onNthOccurrence"===s?n===o:"everyNthOccurrence"===s&&n%o==0}))},e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.handlers=[]}return e.prototype.on=function(e,t){this.handlers.push({eventName:e,callback:t})},e.prototype.off=function(e,t){this.handlers=this.handlers.filter((function(n){return n.eventName!==e||n.callback!==t}))},e.prototype.emit=function(e,t){this.handlers.forEach((function(n){n.eventName===e&&n.callback(t)}))},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(1)),i=r(n(0)),o=r(n(2)),a=function(){function e(e){this.createRequest=e,this.actionMetadata={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,n){this.diffs=e,this.variants=t,this.actionMetadata=n,this.hasReceivedDiffs=!0,this.merged=function e(t,n){if("number"==typeof n||"boolean"==typeof n||"string"==typeof n)return n;if(null==n)return t;var r=function(e){return function(t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n]);else for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r)}},s=r(t),i=r(n),o=!1;if(null===t&&!(n instanceof Array))for(var a in o=null,n)if(n.hasOwnProperty(a)){if(null===o&&(o=!0),"string"!=typeof a){o=!1;break}if(a.length<3||"["!==a.charAt(0)||"]"!==a.charAt(a.length-1)){o=!1;break}}if(t instanceof Array||o){var u=[];return s((function(e){u.push(e)})),i((function(t){for(var r=parseInt(t.substring(1,t.length-1)),s=n[t];r>=u.length;)u.push(null);u[r]=e(u[r],s)})),u}var c={};return s((function(e){null!==n[e]&&void 0!==n[e]||(c[e]=t[e])})),i((function(r){c[r]=e(null===t?null:t[r]||{},n[r])})),c}(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(i.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(i.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(i.default.DEFAULT_KEYS.ACTION_METADATA)||null)),this.token=this.loadLocal(i.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(i.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: "+e)}},e.prototype.saveDiffs=function(){this.saveLocal(i.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(i.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(i.default.DEFAULT_KEYS.ACTION_METADATA,JSON.stringify(this.actionMetadata||{})),this.saveLocal(i.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(i.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getVariables();if(n)for(var r=0;r<e.length;r++)n=n[e[r]];return n},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendVariables=function(){var e,t=((e={})[i.default.PARAMS.VARIABLES]=this.variables,e),n=(new s.default).body(JSON.stringify(t));this.createRequest(i.default.METHODS.SET_VARS,n,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.loadLocal=function(e){return o.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){o.default.saveToLocalStorage(e,t)},e}();t.default=a}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0FyZ3NCdWlsZGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xvY2FsU3RvcmFnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTmV0d29yay50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNlcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9idW5kbGVzL2xlYW5wbHVtLmZ1bGwudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW0udHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1JbnRlcm5hbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Ccm93c2VyRGV0ZWN0b3IudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvSW50ZXJuYWxTdGF0ZS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bUluYm94LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtUmVxdWVzdC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVNvY2tldC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1NvY2tldElvQ2xpZW50LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1B1c2hNYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL01lc3NhZ2VzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0V2ZW50RW1pdHRlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9WYXJDYWNoZS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZGVmYXVsdCIsIk1FVEhPRFMiLCJTVEFSVCIsIlNUT1AiLCJBRFZBTkNFIiwiVFJBQ0siLCJQQVVTRV9TRVNTSU9OIiwiUkVTVU1FX1NFU1NJT04iLCJQQVVTRV9TVEFURSIsIlJFU1VNRV9TVEFURSIsIkRPV05MT0FEX0ZJTEUiLCJNVUxUSSIsIlNFVF9WQVJTIiwiR0VUX1ZBUlMiLCJTRVRfVVNFUl9BVFRSSUJVVEVTIiwiU0VUX0RFVklDRV9BVFRSSUJVVEVTIiwiVVBMT0FEX0ZJTEUiLCJSRUdJU1RFUl9ERVZJQ0UiLCJTREtfVkVSU0lPTiIsIkNMSUVOVCIsIlBBUkFNUyIsIkFDVElPTiIsIkFQUF9JRCIsIkNMSUVOVF9LRVkiLCJDVVJSRU5DWV9DT0RFIiwiREVWSUNFX0lEIiwiVVNFUl9JRCIsIk5FV19VU0VSX0lEIiwiREVWX01PREUiLCJWRVJTSU9OX05BTUUiLCJTWVNURU1fTkFNRSIsIlNZU1RFTV9WRVJTSU9OIiwiQlJPV1NFUl9OQU1FIiwiQlJPV1NFUl9WRVJTSU9OIiwiREVWSUNFX05BTUUiLCJERVZJQ0VfTU9ERUwiLCJVU0VSX0FUVFJJQlVURVMiLCJMT0NBTEUiLCJDT1VOVFJZIiwiUkVHSU9OIiwiQ0lUWSIsIkxPQ0FUSU9OIiwiU1RBVEUiLCJJTkZPIiwiRVZFTlQiLCJWQUxVRSIsIkZJTEVOQU1FIiwiVElNRSIsIkRBVEEiLCJWQVJTIiwiRklMRSIsIlNJWkUiLCJWQVJJQVRJT04iLCJIQVNIIiwiRU1BSUwiLCJWQVJJQUJMRVMiLCJJTkNMVURFX0RFRkFVTFRTIiwiSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk8iLCJORVdTRkVFRF9NRVNTQUdFUyIsIk1FU1NBR0VfSUQiLCJXRUJfUFVTSF9TVUJTQ1JJUFRJT04iLCJLRVlTIiwiSVNfUkVHSVNURVJFRCIsIkxBVEVTVF9WRVJTSU9OIiwiU1lOQ19JTkJPWCIsIk1FU1NBR0VTIiwiVkFSSUFOVFMiLCJWQVJJQU5UX0RFQlVHX0lORk8iLCJBQ1RJT05fTUVUQURBVEEiLCJUT0tFTiIsIkRFRkFVTFRfS0VZUyIsIkNPVU5UIiwiSVRFTSIsIklOQk9YX01FU1NBR0VTIiwiU0VTU0lPTiIsIk1FU1NBR0VfT0NDVVJSRU5DRVMiLCJNRVNTQUdFX0NBQ0hFIiwiUFVTSF9TVUJTQ1JJUFRJT04iLCJWQUxVRVMiLCJERVRFQ1QiLCJERUZBVUxUX1BVU0hfQUNUSU9OIiwiX19pbXBvcnREZWZhdWx0IiwidGhpcyIsIm1vZCIsIkNvbnN0YW50c18xIiwiQXJnc0J1aWxkZXIiLCJhcmdTdHJpbmciLCJhcmdWYWx1ZXMiLCJhZGQiLCJ2YWwiLCJBcnJheSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJib2R5IiwiX2JvZHkiLCJhdHRhY2hBcGlLZXlzIiwiYXBwSWQiLCJjbGllbnRLZXkiLCJidWlsZCIsImJ1aWxkRGljdCIsImxvY2FsU3RvcmFnZUVuYWJsZWQiLCJhbHRlcm5hdGVMb2NhbFN0b3JhZ2UiLCJMb2NhbFN0b3JhZ2VNYW5hZ2VyIiwiZ2V0RnJvbUxvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsInNhdmVUb0xvY2FsU3RvcmFnZSIsImUiLCJyZW1vdmVGcm9tTG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsIk5ldHdvcmsiLCJuZXR3b3JrVGltZW91dFNlY29uZHMiLCJyZXF1ZXN0UXVldWUiLCJydW5uaW5nUmVxdWVzdCIsInNldE5ldHdvcmtUaW1lb3V0Iiwic2Vjb25kcyIsImFqYXgiLCJtZXRob2QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsImVycm9yIiwicXVldWVkIiwicGxhaW5UZXh0IiwiX3RoaXMiLCJlbnF1ZXVlUmVxdWVzdCIsImFyZ3VtZW50cyIsIlhEb21haW5SZXF1ZXN0IiwibG9jYXRpb24iLCJwcm90b2NvbCIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJhamF4SUU4IiwiaGFuZGxlZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlXzEiLCJyYW5DYWxsYmFjayIsInJlc3BvbnNlVGV4dCIsInBhcnNlIiwic2V0VGltZW91dCIsInN0YXR1cyIsImRlcXVldWVSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiYWJvcnQiLCJ4ZHIiLCJvbmxvYWQiLCJyZXNwb25zZSIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwidGltZW91dCIsInJlcXVlc3RBcmd1bWVudHMiLCJwdXNoIiwiYXJncyIsInNoaWZ0IiwiYXBwbHkiLCJhcmdzVGFnIiwibWFwVGFnIiwib2JqZWN0VGFnIiwic2V0VGFnIiwicmVJc0hvc3RDdG9yIiwicmVJc1VpbnQiLCJ0eXBlZEFycmF5VGFncyIsImZyZWVHbG9iYWwiLCJnbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJGdW5jdGlvbiIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsIm5vZGVVdGlsIiwiYmluZGluZyIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJhcnJheVNvbWUiLCJhcnJheSIsInByZWRpY2F0ZSIsImluZGV4IiwibGVuZ3RoIiwibWFwVG9BcnJheSIsIm1hcCIsInJlc3VsdCIsInNpemUiLCJmb3JFYWNoIiwic2V0VG9BcnJheSIsInNldCIsInVpZCIsImZ1bmMiLCJ0cmFuc2Zvcm0iLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwidG9TdHJpbmciLCJtYXNrU3JjS2V5IiwiZXhlYyIsImtleXMiLCJJRV9QUk9UTyIsIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwicmVJc05hdGl2ZSIsIlJlZ0V4cCIsInJlcGxhY2UiLCJCdWZmZXIiLCJ1bmRlZmluZWQiLCJVaW50OEFycmF5IiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcGxpY2UiLCJzeW1Ub1N0cmluZ1RhZyIsIm5hdGl2ZUdldFN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlS2V5cyIsImFyZyIsIkRhdGFWaWV3IiwiZ2V0TmF0aXZlIiwiTWFwIiwiUHJvbWlzZSIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJIYXNoIiwiZW50cmllcyIsImNsZWFyIiwiZW50cnkiLCJMaXN0Q2FjaGUiLCJNYXBDYWNoZSIsIlNldENhY2hlIiwidmFsdWVzIiwiX19kYXRhX18iLCJTdGFjayIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJyYXkiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpdGVyYXRlZSIsImJhc2VUaW1lcyIsIlN0cmluZyIsImlzSW5kZXgiLCJhc3NvY0luZGV4T2YiLCJlcSIsImJhc2VHZXRUYWciLCJpc093biIsInRhZyIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlSXNBcmd1bWVudHMiLCJpc09iamVjdExpa2UiLCJiYXNlSXNFcXVhbCIsIm90aGVyIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJzdGFjayIsImVxdWFsRnVuYyIsIm9iaklzQXJyIiwib3RoSXNBcnIiLCJvYmpUYWciLCJnZXRUYWciLCJvdGhUYWciLCJvYmpJc09iaiIsIm90aElzT2JqIiwiaXNTYW1lVGFnIiwiZXF1YWxBcnJheXMiLCJieXRlTGVuZ3RoIiwiYnl0ZU9mZnNldCIsImJ1ZmZlciIsIm1lc3NhZ2UiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwic3RhY2tlZCIsImVxdWFsQnlUYWciLCJvYmpJc1dyYXBwZWQiLCJvdGhJc1dyYXBwZWQiLCJvYmpVbndyYXBwZWQiLCJvdGhVbndyYXBwZWQiLCJvYmpQcm9wcyIsImdldEFsbEtleXMiLCJvYmpMZW5ndGgiLCJvdGhMZW5ndGgiLCJza2lwQ3RvciIsIm9ialZhbHVlIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJjb25zdHJ1Y3RvciIsIm90aEN0b3IiLCJlcXVhbE9iamVjdHMiLCJiYXNlSXNFcXVhbERlZXAiLCJiYXNlSXNOYXRpdmUiLCJpc09iamVjdCIsImlzTWFza2VkIiwiaXNGdW5jdGlvbiIsInRlc3QiLCJiYXNlS2V5cyIsIkN0b3IiLCJwcm90byIsImFyckxlbmd0aCIsInNlZW4iLCJhcnJWYWx1ZSIsIm90aEluZGV4IiwiaGFzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsIm9mZnNldCIsImFycmF5UHVzaCIsImJhc2VHZXRBbGxLZXlzIiwiZ2V0U3ltYm9scyIsImdldE1hcERhdGEiLCJ0eXBlIiwiZ2V0VmFsdWUiLCJwb3AiLCJwYWlycyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJyZXNJbmRleCIsImFycmF5RmlsdGVyIiwic3ltYm9sIiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiY3RvclN0cmluZyIsImlzTGVuZ3RoIiwiYmFzZVVuYXJ5IiwiTGVhbnBsdW0iLCJMZWFucGx1bUludGVybmFsXzEiLCJzZXRBcGlQYXRoIiwiYXBpUGF0aCIsIl9scCIsInNldEVtYWlsIiwiZW1haWwiLCJzZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSIsImFjY2Vzc0tleSIsInNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUiLCJzZXRTb2NrZXRIb3N0IiwiaG9zdCIsInNldERldmljZUlkIiwiZGV2aWNlSWQiLCJzZXRBcHBWZXJzaW9uIiwidmVyc2lvbk5hbWUiLCJzZXREZXZpY2VOYW1lIiwiZGV2aWNlTmFtZSIsInNldERldmljZU1vZGVsIiwiZGV2aWNlTW9kZWwiLCJzZXRSZXF1ZXN0QmF0Y2hpbmciLCJiYXRjaEVuYWJsZWQiLCJjb29sZG93blNlY29uZHMiLCJzZXRTeXN0ZW1OYW1lIiwic3lzdGVtTmFtZSIsInNldFN5c3RlbVZlcnNpb24iLCJzeXN0ZW1WZXJzaW9uIiwic2V0VmFyaWFibGVzIiwidmFyaWFibGVzIiwic2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQiLCJ2YXJpYW50RGVidWdJbmZvRW5hYmxlZCIsImVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzIiwiZW5hYmxlZCIsInByb2Nlc3NNZXNzYWdlRXZlbnQiLCJtZXNzYWdlSWQiLCJnZXRWYXJpYW50RGVidWdJbmZvIiwiZ2V0VmFyaWFibGVzIiwiZ2V0VmFyaWFibGUiLCJfYSIsIl9pIiwiZ2V0VmFyaWFudHMiLCJpbmJveCIsImFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyIiwiaGFuZGxlciIsInJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyIiwiYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIiLCJyZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciIsImZvcmNlQ29udGVudFVwZGF0ZSIsImNhbGxiYWNrIiwidXNlU2Vzc2lvbkxlbmd0aCIsInN0YXJ0IiwidXNlcklkIiwidXNlckF0dHJpYnV0ZXMiLCJzdGFydEZyb21DYWNoZSIsInN0b3AiLCJwYXVzZVNlc3Npb24iLCJyZXN1bWVTZXNzaW9uIiwicGF1c2VTdGF0ZSIsInJlc3VtZVN0YXRlIiwiZ2V0VXNlcklkIiwic2V0VXNlcklkIiwic2V0VXNlckF0dHJpYnV0ZXMiLCJ0cmFjayIsImV2ZW50IiwiaW5mbyIsInBhcmFtcyIsInRyYWNrUHVyY2hhc2UiLCJjdXJyZW5jeUNvZGUiLCJhZHZhbmNlVG8iLCJzdGF0ZSIsImlzV2ViUHVzaFN1cHBvcnRlZCIsImlzV2ViUHVzaFN1YnNjcmliZWQiLCJzZXRXZWJQdXNoT3B0aW9ucyIsIm9wdGlvbnMiLCJyZWdpc3RlckZvcldlYlB1c2giLCJzZXJ2aWNlV29ya2VyVXJsIiwidW5yZWdpc3RlckZyb21XZWJQdXNoIiwiY2xlYXJVc2VyQ29udGVudCIsImFwcGx5UXVldWUiLCJxdWV1ZSIsIm9uIiwiZXZlbnROYW1lIiwib2ZmIiwiZ2V0RmlsZVVybCIsImZpbGVuYW1lIiwiX19kZXN0cm95IiwiVkVSU0lPTiIsIl9fYXNzaWduIiwiYXNzaWduIiwiQXJnc0J1aWxkZXJfMSIsIkJyb3dzZXJEZXRlY3Rvcl8xIiwiSW50ZXJuYWxTdGF0ZV8xIiwiTGVhbnBsdW1JbmJveF8xIiwiTGVhbnBsdW1SZXF1ZXN0XzEiLCJMZWFucGx1bVNvY2tldF8xIiwiTG9jYWxTdG9yYWdlTWFuYWdlcl8xIiwiUHVzaE1hbmFnZXJfMSIsIk1lc3NhZ2VzXzEiLCJFdmVudEVtaXR0ZXJfMSIsIlZhckNhY2hlXzEiLCJTRVNTSU9OX0tFWSIsIkxlYW5wbHVtSW50ZXJuYWwiLCJ3bmQiLCJfZXZlbnRzIiwiX2ludGVybmFsU3RhdGUiLCJfbHBJbmJveCIsImNyZWF0ZVJlcXVlc3QiLCJvbkluYm94QWN0aW9uIiwiX2xwUmVxdWVzdCIsIl92YXJDYWNoZSIsIl9scFNvY2tldCIsImdldExhc3RSZXNwb25zZSIsIl9wdXNoTWFuYWdlciIsIl9tZXNzYWdlcyIsIl9icm93c2VyRGV0ZWN0b3IiLCJfZW1haWwiLCJkZXZNb2RlIiwiX2RldmljZU5hbWUiLCJfZGV2aWNlTW9kZWwiLCJiYXRjaENvb2xkb3duIiwiX3N5c3RlbU5hbWUiLCJfc3lzdGVtVmVyc2lvbiIsInZhcmlhbnRzIiwiYWN0aW9uIiwidHJhY2tNZXNzYWdlIiwib25BY3Rpb24iLCJzZW5kTm93IiwiZ2V0VmFyc1Jlc3BvbnNlIiwiaXNTdWNjZXNzIiwiaXNSZXNwb25zZVN1Y2Nlc3MiLCJhcHBseURpZmZzIiwic2V0VmFyaWFudERlYnVnSW5mbyIsImVtaXQiLCJfc2Vzc2lvbkxlbmd0aCIsImhhc0FjdGl2ZVNlc3Npb24iLCJvblVwZGF0ZSIsInRyaWdnZXJWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMiLCJPUyIsImJyb3dzZXIiLCJ2ZXJzaW9uIiwibWVzc2FnZUlkcyIsImhhc1N0YXJ0ZWQiLCJzdGFydFJlc3BvbnNlIiwic3RhcnRTdWNjZXNzZnVsIiwidXBkYXRlU2Vzc2lvbiIsIm1lc3NhZ2VzIiwiYWN0aW9uRGVmaW5pdGlvbnMiLCJkb3dubG9hZE1lc3NhZ2VzIiwibGF0ZXN0VmVyc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJjb25uZWN0U29ja2V0IiwidG9rZW4iLCJsb2FkRGlmZnMiLCJ0cmlnZ2VyU3RhcnRIYW5kbGVycyIsIl93ZWJQdXNoT3B0aW9ucyIsIndvcmtlclVybCIsInNjb3BlIiwicmVnaXN0ZXIiLCJpc1N1YnNjcmliZWQiLCJzdWJzY3JpYmVVc2VyIiwicmVqZWN0IiwidW5zdWJzY3JpYmVVc2VyIiwiaW52b2NhdGlvbiIsInJlcXVlc3QiLCJjb25uZWN0IiwiY3VycmVudFRpbWUiLCJEYXRlIiwibm93IiwibGFzdEFjdGl2ZSIsInBhcnNlSW50IiwiaXNOYU4iLCJCcm93c2VyRGV0ZWN0b3IiLCJzZWFyY2hTdHJpbmciLCJnZXRCcm93c2VyRGF0YSIsInNlYXJjaFZlcnNpb24iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJhcHBWZXJzaW9uIiwiZ2V0T1NEYXRhIiwiZGF0YVN0cmluZyIsInN0cmluZyIsImRhdGFQcm9wIiwicHJvcCIsInZlcnNpb25TZWFyY2hTdHJpbmciLCJ2ZXJzaW9uU2VhcmNoIiwiaWRlbnRpdHkiLCJzdWJTdHJpbmciLCJwYXJzZUZsb2F0IiwidmVuZG9yIiwib3BlcmEiLCJwbGF0Zm9ybSIsIkludGVybmFsU3RhdGUiLCJzdGFydEhhbmRsZXJzIiwiaWR4Iiwib2JqIiwiTGVhbnBsdW1JbmJveCIsIm1lc3NhZ2VNYXAiLCJjaGFuZ2VIYW5kbGVycyIsImxvYWQiLCJuZXdzZmVlZE1lc3NhZ2VzIiwidHJpZ2dlckNoYW5nZUhhbmRsZXJzIiwibWFya0FzUmVhZCIsImlzUmVhZCIsInJlYWQiLCJpbmJveE1lc3NhZ2UiLCJpZCIsInNwbGl0Iiwib3BlbkFjdGlvbiIsInJlbW92ZSIsIm9uQ2hhbmdlZCIsInNhdmUiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiY291bnQiLCJ1bnJlYWRDb3VudCIsImZpbHRlciIsIngiLCJMZWFucGx1bUluYm94TWVzc2FnZSIsImFsbE1lc3NhZ2VzIiwidW5yZWFkTWVzc2FnZXMiLCJfaWQiLCJfdGl0bGUiLCJfc3VidGl0bGUiLCJfdGltZXN0YW1wIiwiX2lzUmVhZCIsIl9pbWFnZVVybCIsIl9vcGVuQWN0aW9uIiwibWVzc2FnZUluZm8iLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJfaCIsIl9qIiwicGFyZW50Q2FtcGFpZ25JZCIsIm1lc3NhZ2VEYXRhIiwidmFycyIsIlRpdGxlIiwiU3VidGl0bGUiLCJkZWxpdmVyeVRpbWVzdGFtcCIsIkltYWdlIiwidGl0bGUiLCJzdWJ0aXRsZSIsInRpbWVzdGFtcCIsImltYWdlVXJsIiwiTmV0d29ya18xIiwiTGVhbnBsdW1SZXF1ZXN0IiwiY29vbGRvd25UaW1lb3V0IiwibGFzdFJlcXVlc3RUaW1lIiwibmV0d29yayIsInVzZXJJZFZhbHVlIiwibG9hZExvY2FsIiwiY29uZmlndXJhYmxlIiwicG9zc2libGUiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzYXZlTG9jYWwiLCJhcmdzQnVpbGRlciIsImdldFRpbWUiLCJlcnIiLCJzZW5kVW5zZW50UmVxdWVzdHMiLCJyZXF1ZXN0c1RvU2VuZCIsInBvcFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdERhdGEiLCJtdWx0aVJlcXVlc3RBcmdzIiwic2F2ZVJlcXVlc3RGb3JMYXRlciIsIkJvb2xlYW4iLCJpdGVtS2V5IiwicmVtb3ZlTG9jYWwiLCJpZ25vcmVkIiwibG9kYXNoX2lzZXF1YWxfMSIsIlNvY2tldElvQ2xpZW50XzEiLCJMZWFucGx1bVNvY2tldCIsImNhY2hlIiwiZXZlbnRzIiwic29ja2V0Q2xpZW50Iiwic29ja2V0SG9zdCIsImF1dGgiLCJXZWJTb2NrZXQiLCJhdXRoU2VudCIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsIm9uTWVzc2FnZVJlY2VpdmVkIiwib25jbG9zZSIsInNldEludGVydmFsIiwiY29ubmVjdGVkIiwiY29ubmVjdGluZyIsImFyZ3NfMSIsImFjdGlvbk1ldGFkYXRhIiwiZGlmZnMiLCJzZW5kVmFyaWFibGVzIiwiYWxlcnQiLCJnIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsIlNvY2tldElvQ2xpZW50IiwibGluZSIsInBhcnRzIiwic2Vzc2lvbiIsImhlYXJ0YmVhdCIsInNvY2tldCIsImhlYXJ0YmVhdEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIm1lc3NhZ2VQYXJ0cyIsImNvZGUiLCJzbGljZSIsImpvaW4iLCJtZXNzYWdlRXZlbnQiLCJjbG9zZSIsImFyZ3NKc29uIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsImRvbmUiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJmIiwieSIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwiUHVzaE1hbmFnZXIiLCJzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIiwic2VydmljZVdvcmtlciIsInJlZ2lzdHJhdGlvbiIsInN1YnNjcmlwdGlvbiIsImdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJwdXNoTWFuYWdlciIsImdldFN1YnNjcmlwdGlvbiIsInVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyIiwiZXJyb3JfMSIsImFwcGxpY2F0aW9uU2VydmVyS2V5IiwiZXJyb3JfMiIsInVybEI2NFRvVWludDhBcnJheSIsInN1YnNjcmliZSIsInVzZXJWaXNpYmxlT25seSIsIkVycm9yIiwiZXJyb3JfMyIsInVuc3Vic2NyaWJlIiwiZ2V0UmVnaXN0cmF0aW9uIiwiYmFzZTY0U3RyaW5nIiwiYmFzZTY0IiwicmVwZWF0IiwicmF3RGF0YSIsImRlY29kZURhdGEiLCJvdXRwdXRBcnJheSIsImNoYXJDb2RlQXQiLCJwcmVwYXJlZFN1YnNjcmlwdGlvbiIsInByZXBhcmVTdWJzY3JpcHRpb24iLCJwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyIsInNldFN1YnNjcmlwdGlvbiIsImdldEtleSIsImtleUFzY2lpIiwiZW5jb2RlRGF0YSIsImZyb21DaGFyQ29kZSIsImF1dGhBc2NpaSIsImVuZHBvaW50IiwiYnRvYSIsImF0b2IiLCJPY2N1cnJlbmNlVHJhY2tlciIsInRyaWdnZXJzIiwib2NjdXJyZW5jZXMiLCJyZWNvcmRPY2N1cnJlbmNlIiwic2Vzc2lvbk9jY3VycmVuY2VzIiwicmVjb3JkVHJpZ2dlck9jY3VycmVuY2UiLCJ0cmlnZ2VyT2NjdXJyZW5jZXMiLCJnZXRTZXNzaW9uT2NjdXJyYW5jZUNvdW50IiwiZ2V0T2NjdXJyZW5jZXMiLCJjbGVhclNlc3Npb24iLCJqc29uIiwiTWVzc2FnZXMiLCJfZmlsZXMiLCJfbWVzc2FnZUNhY2hlIiwib2NjdXJyZW5jZVRyYWNrZXIiLCJfc2hvd1JpY2hJQU0iLCJvbk1lc3NhZ2VQcmV2aWV3Iiwib25NZXNzYWdlc1JlY2VpdmVkIiwib25UcmlnZ2VyIiwidHJpZ2dlciIsImF0dHJpYnV0ZXMiLCJjb250ZXh0IiwiZ2V0TWVzc2FnZXMiLCJzaG91bGRTaG93TWVzc2FnZSIsInNob3dNZXNzYWdlIiwiZXZlbnRJbmZvIiwicnVuQWN0aW9uTmFtZWQiLCJhY3Rpb25OYW1lIiwicnVuVHJhY2tlZEFjdGlvbk5hbWVkIiwiaGFuZGxlTWVzc2FnZSIsImlzUHJldmlldyIsInJlY2VpdmVkTWVzc2FnZXMiLCJtYXRjaGVzVHJpZ2dlciIsIndoZW5UcmlnZ2VycyIsIm1hdGNoZXNVbmxlc3MiLCJ1bmxlc3NUcmlnZ2VycyIsInRyaWdnZXJzQ291bnQiLCJtYXRjaGVzTGltaXRzIiwid2hlbkxpbWl0cyIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJhZGREZWZhdWx0cyIsImV2ZW50VXJsIiwiaWZyYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlZHVjZSIsImFjYyIsInBhcmFtIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwibWV0YWRhdGEiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJsZWZ0Iiwid2lkdGgiLCJoZWlnaHQiLCJ6SW5kZXgiLCJhbmNob3JQcm9wIiwidG9Mb3dlckNhc2UiLCJhbHRQcm9wIiwidG9wIiwicGFyYW1ldGVycyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIl9fbmFtZV9fIiwicmVzb2x2ZUZpbGVzIiwidGVtcGxhdGVOYW1lIiwidGVtcGxhdGUiLCJyZW5kZXJSaWNoSW5BcHBNZXNzYWdlIiwicmVzb2x2ZUZpZWxkcyIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjc3NUZXh0IiwiYXBwZW5kQ2hpbGQiLCJjb250ZW50V2luZG93IiwiY29udGVudCIsImRvYyIsIndyaXRlIiwidHJhY2tPcHRpb25zIiwiZGVmaW5lZCIsImNoYWluZWRNZXNzYWdlSWQiLCJtZXNzYWdlXzEiLCJwcm9jZXNzQWN0aW9uIiwiVVJMIiwibWVzc2FnZUlkRnJvbUFjdGlvbiIsImNvbG9yVG9IZXgiLCJjb2xvciIsImIiLCJkZWZhdWx0cyIsInVzZURlZmF1bHRzIiwiZGVmYXVsdFZhbHVlcyIsImZpbGVQcmVmaXgiLCJjb2xvclN1ZmZpeCIsImlnbm9yZUNhc2VFcXVhbHMiLCJhIiwibG9jYWxlQ29tcGFyZSIsInNlbnNpdGl2aXR5IiwibWF0Y2hlc1RyaWdnZXJzIiwiY29udGV4dE5vdW4iLCJtYXRjaGVzTm91biIsIm5vdW4iLCJvYmplY3RzIiwicGFyYW1ldGVyIiwibWF0Y2hlc1BhcmFtIiwic29tZSIsInN1YmplY3QiLCJjb250YWluc0F0dHJpYnV0ZSIsImNvbnRleHRWYWx1ZV8xIiwiZXZlcnkiLCJsaW1pdCIsInBlckludGVydmFsIiwidGltZVNsb3QiLCJ2ZXJiVG9JbnRlcnZhbCIsIkV2ZW50RW1pdHRlciIsImhhbmRsZXJzIiwiVmFyQ2FjaGUiLCJoYXNSZWNlaXZlZERpZmZzIiwibWVyZ2VkIiwidmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzIiwidmFyaWFudERlYnVnSW5mbyIsIm1lcmdlSGVscGVyIiwiZGlmZiIsIm9iakl0ZXJhdG9yIiwiYXR0ciIsInZhcnNJdGVyYXRvciIsImRpZmZJdGVyYXRvciIsImF0dHJpYnV0ZSIsIm1lcmdlZF8xIiwidmFyU3Vic2NyaXB0Iiwic3Vic2NyaXB0IiwiZGlmZlZhbHVlIiwic2F2ZURpZmZzIiwiY3VycmVudCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxHQUFJSCxHQUNlLGlCQUFaQyxRQUNkQSxRQUFrQixTQUFJRCxJQUV0QkQsRUFBZSxTQUFJQyxJQVJyQixDQVNHSyxRQUFRLFdBQ1gsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxH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a0IsR0EwRzdCajNCLEVBQVF3QyxRQUFVeTBCIiwiZmlsZSI6ImxlYW5wbHVtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiTGVhbnBsdW1cIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiTGVhbnBsdW1cIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgICBNRVRIT0RTOiB7XG4gICAgICAgIFNUQVJUOiAnc3RhcnQnLFxuICAgICAgICBTVE9QOiAnc3RvcCcsXG4gICAgICAgIEFEVkFOQ0U6ICdhZHZhbmNlJyxcbiAgICAgICAgVFJBQ0s6ICd0cmFjaycsXG4gICAgICAgIFBBVVNFX1NFU1NJT046ICdwYXVzZVNlc3Npb24nLFxuICAgICAgICBSRVNVTUVfU0VTU0lPTjogJ3Jlc3VtZVNlc3Npb24nLFxuICAgICAgICBQQVVTRV9TVEFURTogJ3BhdXNlU3RhdGUnLFxuICAgICAgICBSRVNVTUVfU1RBVEU6ICdyZXN1bWVTdGF0ZScsXG4gICAgICAgIERPV05MT0FEX0ZJTEU6ICdkb3dubG9hZEZpbGUnLFxuICAgICAgICBNVUxUSTogJ211bHRpJyxcbiAgICAgICAgU0VUX1ZBUlM6ICdzZXRWYXJzJyxcbiAgICAgICAgR0VUX1ZBUlM6ICdnZXRWYXJzJyxcbiAgICAgICAgU0VUX1VTRVJfQVRUUklCVVRFUzogJ3NldFVzZXJBdHRyaWJ1dGVzJyxcbiAgICAgICAgU0VUX0RFVklDRV9BVFRSSUJVVEVTOiAnc2V0RGV2aWNlQXR0cmlidXRlcycsXG4gICAgICAgIFVQTE9BRF9GSUxFOiAndXBsb2FkRmlsZScsXG4gICAgICAgIFJFR0lTVEVSX0RFVklDRTogJ3JlZ2lzdGVyRGV2aWNlJyxcbiAgICB9LFxuICAgIFNES19WRVJTSU9OOiAnMS44LjAnLFxuICAgIENMSUVOVDogJ2pzJyxcbiAgICBQQVJBTVM6IHtcbiAgICAgICAgQUNUSU9OOiAnYWN0aW9uJyxcbiAgICAgICAgQVBQX0lEOiAnYXBwSWQnLFxuICAgICAgICBDTElFTlQ6ICdjbGllbnQnLFxuICAgICAgICBDTElFTlRfS0VZOiAnY2xpZW50S2V5JyxcbiAgICAgICAgQ1VSUkVOQ1lfQ09ERTogJ2N1cnJlbmN5Q29kZScsXG4gICAgICAgIERFVklDRV9JRDogJ2RldmljZUlkJyxcbiAgICAgICAgU0RLX1ZFUlNJT046ICdzZGtWZXJzaW9uJyxcbiAgICAgICAgVVNFUl9JRDogJ3VzZXJJZCcsXG4gICAgICAgIE5FV19VU0VSX0lEOiAnbmV3VXNlcklkJyxcbiAgICAgICAgREVWX01PREU6ICdkZXZNb2RlJyxcbiAgICAgICAgVkVSU0lPTl9OQU1FOiAndmVyc2lvbk5hbWUnLFxuICAgICAgICBTWVNURU1fTkFNRTogJ3N5c3RlbU5hbWUnLFxuICAgICAgICBTWVNURU1fVkVSU0lPTjogJ3N5c3RlbVZlcnNpb24nLFxuICAgICAgICBCUk9XU0VSX05BTUU6ICdicm93c2VyTmFtZScsXG4gICAgICAgIEJST1dTRVJfVkVSU0lPTjogJ2Jyb3dzZXJWZXJzaW9uJyxcbiAgICAgICAgREVWSUNFX05BTUU6ICdkZXZpY2VOYW1lJyxcbiAgICAgICAgREVWSUNFX01PREVMOiAnZGV2aWNlTW9kZWwnLFxuICAgICAgICBVU0VSX0FUVFJJQlVURVM6ICd1c2VyQXR0cmlidXRlcycsXG4gICAgICAgIExPQ0FMRTogJ2xvY2FsZScsXG4gICAgICAgIENPVU5UUlk6ICdjb3VudHJ5JyxcbiAgICAgICAgUkVHSU9OOiAncmVnaW9uJyxcbiAgICAgICAgQ0lUWTogJ2NpdHknLFxuICAgICAgICBMT0NBVElPTjogJ2xvY2F0aW9uJyxcbiAgICAgICAgU1RBVEU6ICdzdGF0ZScsXG4gICAgICAgIElORk86ICdpbmZvJyxcbiAgICAgICAgRVZFTlQ6ICdldmVudCcsXG4gICAgICAgIFZBTFVFOiAndmFsdWUnLFxuICAgICAgICBGSUxFTkFNRTogJ2ZpbGVuYW1lJyxcbiAgICAgICAgVElNRTogJ3RpbWUnLFxuICAgICAgICBEQVRBOiAnZGF0YScsXG4gICAgICAgIFZBUlM6ICd2YXJzJyxcbiAgICAgICAgRklMRTogJ2ZpbGUnLFxuICAgICAgICBTSVpFOiAnc2l6ZScsXG4gICAgICAgIFZBUklBVElPTjogJ3ZhcmlhdGlvbicsXG4gICAgICAgIEhBU0g6ICdoYXNoJyxcbiAgICAgICAgRU1BSUw6ICdlbWFpbCcsXG4gICAgICAgIFZBUklBQkxFUzogJ3ZhcnMnLFxuICAgICAgICBQQVJBTVM6ICdwYXJhbXMnLFxuICAgICAgICBJTkNMVURFX0RFRkFVTFRTOiAnaW5jbHVkZURlZmF1bHRzJyxcbiAgICAgICAgSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk86ICdpbmNsdWRlVmFyaWFudERlYnVnSW5mbycsXG4gICAgICAgIE5FV1NGRUVEX01FU1NBR0VTOiAnbmV3c2ZlZWRNZXNzYWdlcycsXG4gICAgICAgIE1FU1NBR0VfSUQ6ICdtZXNzYWdlSWQnLFxuICAgICAgICBXRUJfUFVTSF9TVUJTQ1JJUFRJT046ICd3ZWJQdXNoU3Vic2NyaXB0aW9uJyxcbiAgICB9LFxuICAgIEtFWVM6IHtcbiAgICAgICAgSVNfUkVHSVNURVJFRDogJ2lzUmVnaXN0ZXJlZCcsXG4gICAgICAgIExBVEVTVF9WRVJTSU9OOiAnbGF0ZXN0VmVyc2lvbicsXG4gICAgICAgIFNZTkNfSU5CT1g6ICdzeW5jTmV3c2ZlZWQnLFxuICAgICAgICBNRVNTQUdFUzogJ21lc3NhZ2VzJyxcbiAgICAgICAgVkFSUzogJ3ZhcnMnLFxuICAgICAgICBWQVJJQU5UUzogJ3ZhcmlhbnRzJyxcbiAgICAgICAgVkFSSUFOVF9ERUJVR19JTkZPOiAndmFyaWFudERlYnVnSW5mbycsXG4gICAgICAgIEFDVElPTl9NRVRBREFUQTogJ2FjdGlvbk1ldGFkYXRhJyxcbiAgICAgICAgVE9LRU46ICd0b2tlbicsXG4gICAgfSxcbiAgICBERUZBVUxUX0tFWVM6IHtcbiAgICAgICAgQ09VTlQ6ICdfX2xlYW5wbHVtX3Vuc3luY2VkJyxcbiAgICAgICAgSVRFTTogJ19fbGVhbnBsdW1fdW5zeW5jZWRfJyxcbiAgICAgICAgVkFSSUFCTEVTOiAnX19sZWFucGx1bV92YXJpYWJsZXMnLFxuICAgICAgICBWQVJJQU5UUzogJ19fbGVhbnBsdW1fdmFyaWFudHMnLFxuICAgICAgICBWQVJJQU5UX0RFQlVHX0lORk86ICdfX2xlYW5wbHVtX3ZhcmlhbnRfZGVidWdfaW5mbycsXG4gICAgICAgIEFDVElPTl9NRVRBREFUQTogJ19fbGVhbnBsdW1fYWN0aW9uX21ldGFkYXRhJyxcbiAgICAgICAgSU5CT1hfTUVTU0FHRVM6ICdfX2xlYW5wbHVtX2luYm94X21lc3NhZ2VzJyxcbiAgICAgICAgVE9LRU46ICdfX2xlYW5wbHVtX3Rva2VuJyxcbiAgICAgICAgREVWSUNFX0lEOiAnX19sZWFucGx1bV9kZXZpY2VfaWQnLFxuICAgICAgICBVU0VSX0lEOiAnX19sZWFucGx1bV91c2VyX2lkJyxcbiAgICAgICAgU0VTU0lPTjogJ19fbGVhbnBsdW1fc2Vzc2lvbicsXG4gICAgICAgIE1FU1NBR0VfT0NDVVJSRU5DRVM6ICdfX2xlYW5wbHVtX21lc3NhZ2Vfb2NjdXJyZW5jZXMnLFxuICAgICAgICBNRVNTQUdFX0NBQ0hFOiAnX19sZWFucGx1bV9tZXNzYWdlX2NhY2hlJyxcbiAgICAgICAgUFVTSF9TVUJTQ1JJUFRJT046ICdfX2xlYW5wbHVtX3B1c2hfc3Vic2NyaXB0aW9uJyxcbiAgICB9LFxuICAgIFZBTFVFUzoge1xuICAgICAgICBERVRFQ1Q6ICcoZGV0ZWN0KScsXG4gICAgICAgIERFRkFVTFRfUFVTSF9BQ1RJT046ICdPcGVuIGFjdGlvbicsXG4gICAgfSxcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKlxuICogTGVhbnBsdW0gQXJnc0J1aWxkZXIsIHVzZSB0byBjb25zdHJ1Y3QgcmVxdWVzdCBwYXlsb2FkLlxuICovXG52YXIgQXJnc0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJlcXVlc3QgYXJndW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXJnc0J1aWxkZXIoKSB7XG4gICAgICAgIHRoaXMuYXJnU3RyaW5nID0gJyc7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBnaXZlbiBrZXksIHZhbHVlIHRvIHRoZSBwYXlsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBmb3IgdGhlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSBmb3IgZ2l2ZW4ga2V5LlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfSBSZXR1cm5zIGFuIG9iamVjdCBvZiBBcmdzQnVpbGRlci5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFyZ1N0cmluZykge1xuICAgICAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0gJyYnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWwgPSAnJztcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHZhbCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbCA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0ga2V5ICsgXCI9XCIgKyB2YWw7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWNoZSB0aGUgZ2l2ZW4gYm9keS5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IFtib2R5XSBBIGdpdmVuIGJvZHkuXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ8U3RyaW5nfSBSZXR1cm5zIEFyZ3NCdWlsZGVyIGlmIGJvZHkgZ2l2ZW4sIGVsc2UgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5LlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5ib2R5ID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2JvZHkgPSBib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gYXR0YWNoIGdpdmVuIGFwcElkIGFuZCBhcHBLZXkgdG8gcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGFwcElkIFRoZSBhcHBJZCB0byBhdHRhY2guXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBjbGllbnRLZXkgVGhlIGFwcEtleSB0byBhdHRhY2guXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ9IFJldHVybnMgYW4gb2JqZWN0IG9mIEFyZ3NCdWlsZGVyLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5hdHRhY2hBcGlLZXlzID0gZnVuY3Rpb24gKGFwcElkLCBjbGllbnRLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFQUF9JRCwgYXBwSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNMSUVOVCwgQ29uc3RhbnRzXzEuZGVmYXVsdC5DTElFTlQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNMSUVOVF9LRVksIGNsaWVudEtleSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IEFyZ3VtZW50cyBzdHJpbmcuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcmdTdHJpbmc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZ3VtZW50IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBhcmd1bWVudCB2YWx1ZXMuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJnVmFsdWVzO1xuICAgIH07XG4gICAgcmV0dXJuIEFyZ3NCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFyZ3NCdWlsZGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvY2FsU3RvcmFnZUVuYWJsZWQ7XG52YXIgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlID0ge307XG52YXIgTG9jYWxTdG9yYWdlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2NhbFN0b3JhZ2VNYW5hZ2VyKCkge1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIExvY2FsU3RvcmFnZU1hbmFnZXIuZ2V0RnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZUVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZVtrZXldO1xuICAgIH07XG4gICAgTG9jYWxTdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFsdGVybmF0ZUxvY2FsU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZUVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGFsdGVybmF0ZUxvY2FsU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZU1hbmFnZXIucmVtb3ZlRnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZUVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWxldGUgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZUVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGRlbGV0ZSBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExvY2FsU3RvcmFnZU1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTG9jYWxTdG9yYWdlTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBBamF4IGZ1bmN0aW9ucyBmcm9tOlxuICpcbiAqIFBhcnNlIEphdmFTY3JpcHQgU0RLXG4gKiBWZXJzaW9uOiAxLjEuNVxuICogQnVpbHQ6IE1vbiBPY3QgMDEgMjAxMiAxNzo1NzoxM1xuICogaHR0cDovL3BhcnNlLmNvbVxuICpcbiAqIENvcHlyaWdodCAyMDEyIFBhcnNlLCBJbmMuXG4gKiBUaGUgUGFyc2UgSmF2YVNjcmlwdCBTREsgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUlxuICogREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTmV0d29yayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZXR3b3JrKCkge1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IDEwO1xuICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSBzZWNvbmRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiBhamF4IHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgdXJsIHRvIG9wZW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXlCdWZmZXJ8QmxvYnxEb2N1bWVudHxGb3JtRGF0YX0gZGF0YSBUaGUgZGF0YSB0byBiZSBzZW50IGluIGJvZHkuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3VjY2VzcyBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBzdWNjZXNzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVldWVkIFdoZXRoZXIgdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHF1ZXVlZCBvciBpbW1lZGlhdGVseSBzZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3BsYWluVGV4dF0gV2hldGhlciB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHJldHVybmVkIGFzIHBsYWluIHRleHQgb3IganNvbi5cbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmFqYXggPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ydW5uaW5nUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnF1ZXVlUmVxdWVzdChhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHA6JyAmJiB1cmwuaW5kZXhPZignaHR0cHM6JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBcImh0dHA6XCIgKyB1cmwuc3Vic3RyaW5nKDYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWpheElFOChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZV8xO1xuICAgICAgICAgICAgICAgIHZhciByYW5DYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChwbGFpblRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfMSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfMSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihudWxsLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuQ2FsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmFuQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2VfMSwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihyZXNwb25zZV8xLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7IC8vIEF2b2lkIHByZS1mbGlnaHQuXG4gICAgICAgIHhoci5zZW5kKGRhdGEpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyAqIDEwMDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiBhamF4IHJlcXVlc3QgZm9yIElFOC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gb3Blbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcnxCbG9ifERvY3VtZW50fEZvcm1EYXRhfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHNlbnQgaW4gYm9keS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZXJyb3IgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBxdWV1ZWQgV2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgYmUgcXVldWVkIG9yIGltbWVkaWF0ZWx5IHNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwbGFpblRleHQgV2hldGhlciB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHJldHVybmVkIGFzIHBsYWluIHRleHQgb3IganNvbi5cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5hamF4SUU4ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHhkciA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgICAgICB4ZHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICAgICAgdmFyIHJhbkNhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocGxhaW5UZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB4ZHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhkci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhkcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICByYW5DYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyYW5DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZSwgeGRyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9uZXJyb3IgPSB4ZHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhkcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgeGRyLm9wZW4obWV0aG9kLCB1cmwpO1xuICAgICAgICB4ZHIudGltZW91dCA9IHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICAgICAgeGRyLnNlbmQoZGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSByZXF1ZXN0IHRvIHRoZSByZXF1ZXN0IHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7QXJndW1lbnRzfSByZXF1ZXN0QXJndW1lbnRzIFRoZSByZXF1ZXN0IGFyZ3VtZW50cyBmcm9tIHRoZSBpbml0aWFsIG1ldGhvZCBjYWxsLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuZW5xdWV1ZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdEFyZ3VtZW50cykge1xuICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZS5wdXNoKHJlcXVlc3RBcmd1bWVudHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcmVxdWVzdCBmcm9tIHRoZSByZXF1ZXN0IHF1ZXVlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuZGVxdWV1ZVJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gdGhpcy5yZXF1ZXN0UXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgICAgICAgICB0aGlzLmFqYXguYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOZXR3b3JrO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5ldHdvcms7XG4iLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXNJbmRleCA9IDAsXG4gICAgICByZXN1bHQgPSBbXTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBhZGRcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQGFsaWFzIHB1c2hcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG5TZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcblNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICB9XG4gIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgIG9iaklzT2JqID0gZmFsc2U7XG4gIH1cbiAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgfVxuICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgIGNhc2UgbWFwVGFnOlxuICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICovXG52YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICB9KTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbnZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4vLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG5pZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gKiBlcXVpdmFsZW50LlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBvYmplY3QgPT09IG90aGVyO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFcXVhbDtcbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbnZhciBMZWFucGx1bSA9IHJlcXVpcmUoJy4uL0xlYW5wbHVtLnRzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IExlYW5wbHVtLmRlZmF1bHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMZWFucGx1bUludGVybmFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1JbnRlcm5hbFwiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG52YXIgTGVhbnBsdW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW0oKSB7XG4gICAgfVxuICAgIExlYW5wbHVtLnNldEFwaVBhdGggPSBmdW5jdGlvbiAoYXBpUGF0aCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBpUGF0aChhcGlQYXRoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEVtYWlsID0gZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRFbWFpbChlbWFpbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlKGFwcElkLCBhY2Nlc3NLZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlKGFwcElkLCBhY2Nlc3NLZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTb2NrZXRIb3N0KGhvc3QpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZGV2aWNlSWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZUlkKGRldmljZUlkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcFZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbk5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcFZlcnNpb24odmVyc2lvbk5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlTmFtZSA9IGZ1bmN0aW9uIChkZXZpY2VOYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VOYW1lKGRldmljZU5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlTW9kZWwgPSBmdW5jdGlvbiAoZGV2aWNlTW9kZWwpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZU1vZGVsKGRldmljZU1vZGVsKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFJlcXVlc3RCYXRjaGluZyA9IGZ1bmN0aW9uIChiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0UmVxdWVzdEJhdGNoaW5nKGJhdGNoRW5hYmxlZCwgY29vbGRvd25TZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U3lzdGVtTmFtZShzeXN0ZW1OYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFN5c3RlbVZlcnNpb24gPSBmdW5jdGlvbiAoc3lzdGVtVmVyc2lvbikge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U3lzdGVtVmVyc2lvbihzeXN0ZW1WZXJzaW9uKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFZhcmlhYmxlcyh2YXJpYWJsZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbiAodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzKGVuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnByb2Nlc3NNZXNzYWdlRXZlbnQobWVzc2FnZUlkLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFudERlYnVnSW5mbygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gTGVhbnBsdW0uX2xwKS5nZXRWYXJpYWJsZS5hcHBseShfYSwgYXJncyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYW50cygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uaW5ib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaW5ib3goKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5mb3JjZUNvbnRlbnRVcGRhdGUoY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0udXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC51c2VTZXNzaW9uTGVuZ3RoKHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0YXJ0KHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RvcCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucGF1c2VTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucGF1c2VTZXNzaW9uKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZXN1bWVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVzdW1lU2Vzc2lvbigpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucGF1c2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnBhdXNlU3RhdGUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlc3VtZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVzdW1lU3RhdGUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFVzZXJJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwLmdldFVzZXJJZCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VXNlcklkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICBMZWFucGx1bS5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VXNlckF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VXNlckF0dHJpYnV0ZXModXNlcklkLCB1c2VyQXR0cmlidXRlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS50cmFjayA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBMZWFucGx1bS5fbHAudHJhY2soZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0udHJhY2tQdXJjaGFzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gdm9pZCAwKSB7IGV2ZW50ID0gJ1B1cmNoYXNlJzsgfVxuICAgICAgICBMZWFucGx1bS5fbHAudHJhY2tQdXJjaGFzZSh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkdmFuY2VUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZHZhbmNlVG8oc3RhdGUsIGluZm8sIHBhcmFtcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN1cHBvcnRlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaXNXZWJQdXNoU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1YnNjcmliZWQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdHJ1ZSwgcmVqZWN0cyBpZiBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmlzV2ViUHVzaFN1YnNjcmliZWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFdlYlB1c2hPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5zZXRXZWJQdXNoT3B0aW9ucyhvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIHRoZSBicm93c2VyIGZvciB3ZWIgcHVzaC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIG9uIHlvdXIgc2VydmVyIHRoYXQgaG9zdHMgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3N3Lm1pbi5qcyBzZXJ2aWNlIHdvcmtlciBqcyBmaWxlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgICAgICAgIFJlc29sdmVzIGlmIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWlscy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5yZWdpc3RlckZvcldlYlB1c2ggPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnJlZ2lzdGVyRm9yV2ViUHVzaChzZXJ2aWNlV29ya2VyVXJsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXJzIHRoZSBicm93c2VyIGZvcm0gd2ViIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgICBSZXNvbHZlcyBvbiBzdWNjZXNzLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS51bnJlZ2lzdGVyRnJvbVdlYlB1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAudW5yZWdpc3RlckZyb21XZWJQdXNoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgY2FjaGVkIHZhbHVlcyBmb3IgbWVzc2FnZXMsIHZhcmlhYmxlcyBhbmQgdGVzdCBhc3NpZ25tZW50cy5cbiAgICAgKiBVc2Ugc3BhcmluZ2x5IGFzIGlmIHRoZSBhcHAgaXMgdXBkYXRlZCwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIHBvdGVudGlhbGx5XG4gICAgICogaW5jb25zaXN0ZW50IHN0YXRlIG9yIHVzZXIgZXhwZXJpZW5jZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuY2xlYXJVc2VyQ29udGVudCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYXBwbHlRdWV1ZSA9IGZ1bmN0aW9uIChxdWV1ZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuYXBwbHlRdWV1ZShxdWV1ZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldEZpbGVVcmwgPSBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRGaWxlVXJsKGZpbGVuYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9fZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbHAgPSBuZXcgTGVhbnBsdW1JbnRlcm5hbF8xLmRlZmF1bHQod2luZG93KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9scCA9IG5ldyBMZWFucGx1bUludGVybmFsXzEuZGVmYXVsdCh3aW5kb3cpO1xuICAgIExlYW5wbHVtLlZFUlNJT04gPSBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OO1xuICAgIHJldHVybiBMZWFucGx1bTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQnJvd3NlckRldGVjdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQnJvd3NlckRldGVjdG9yXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIEludGVybmFsU3RhdGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9JbnRlcm5hbFN0YXRlXCIpKTtcbnZhciBMZWFucGx1bUluYm94XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1JbmJveFwiKSk7XG52YXIgTGVhbnBsdW1SZXF1ZXN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1SZXF1ZXN0XCIpKTtcbnZhciBMZWFucGx1bVNvY2tldF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtU29ja2V0XCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgUHVzaE1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9QdXNoTWFuYWdlclwiKSk7XG52YXIgTWVzc2FnZXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9NZXNzYWdlc1wiKSk7XG52YXIgRXZlbnRFbWl0dGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vRXZlbnRFbWl0dGVyXCIpKTtcbnZhciBWYXJDYWNoZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZhckNhY2hlXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbnZhciBTRVNTSU9OX0tFWSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlNFU1NJT047XG52YXIgTGVhbnBsdW1JbnRlcm5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUludGVybmFsKHduZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnduZCA9IHduZDtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZSA9IG5ldyBJbnRlcm5hbFN0YXRlXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9scEluYm94ID0gbmV3IExlYW5wbHVtSW5ib3hfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLm9uSW5ib3hBY3Rpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdCA9IG5ldyBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlID0gbmV3IFZhckNhY2hlXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0ID0gbmV3IExlYW5wbHVtU29ja2V0XzEuZGVmYXVsdCh0aGlzLl92YXJDYWNoZSwgdGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcyksIHRoaXMuX2xwUmVxdWVzdC5nZXRMYXN0UmVzcG9uc2UuYmluZCh0aGlzLl9scFJlcXVlc3QpLCB0aGlzLl9ldmVudHMpO1xuICAgICAgICB0aGlzLl9wdXNoTWFuYWdlciA9IG5ldyBQdXNoTWFuYWdlcl8xLmRlZmF1bHQodGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9tZXNzYWdlcyA9IG5ldyBNZXNzYWdlc18xLmRlZmF1bHQodGhpcy5fZXZlbnRzLCB0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSwgdGhpcy5nZXRGaWxlVXJsLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9icm93c2VyRGV0ZWN0b3IgPSBuZXcgQnJvd3NlckRldGVjdG9yXzEuZGVmYXVsdCh3bmQpO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ25hdmlnYXRpb25DaGFuZ2UnLCBmdW5jdGlvbiAodXJsKSB7IHJldHVybiBfdGhpcy53bmQubG9jYXRpb24uYXNzaWduKHVybCk7IH0pO1xuICAgIH1cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcGlQYXRoID0gZnVuY3Rpb24gKGFwaVBhdGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9scFJlcXVlc3QuYXBpUGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcGlQYXRoID0gYXBpUGF0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEVtYWlsID0gZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgICAgIHRoaXMuX2VtYWlsID0gZW1haWw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcHBJZCA9IGFwcElkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgPSB0cnVlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcHBJZCA9IGFwcElkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgPSBmYWxzZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICB0aGlzLl9scFNvY2tldC5zZXRTb2NrZXRIb3N0KGhvc3QpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZGV2aWNlSWQpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmRldmljZUlkID0gZGV2aWNlSWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC52ZXJzaW9uTmFtZSA9IHZlcnNpb25OYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTmFtZSA9IGZ1bmN0aW9uIChkZXZpY2VOYW1lKSB7XG4gICAgICAgIHRoaXMuX2RldmljZU5hbWUgPSBkZXZpY2VOYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTW9kZWwgPSBmdW5jdGlvbiAoZGV2aWNlTW9kZWwpIHtcbiAgICAgICAgdGhpcy5fZGV2aWNlTW9kZWwgPSBkZXZpY2VNb2RlbDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFJlcXVlc3RCYXRjaGluZyA9IGZ1bmN0aW9uIChiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcykge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hFbmFibGVkID0gYmF0Y2hFbmFibGVkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hDb29sZG93biA9IGNvb2xkb3duU2Vjb25kcztcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICB0aGlzLl9zeXN0ZW1OYW1lID0gc3lzdGVtTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbVZlcnNpb24gPSBmdW5jdGlvbiAoc3lzdGVtVmVyc2lvbikge1xuICAgICAgICB0aGlzLl9zeXN0ZW1WZXJzaW9uID0gc3lzdGVtVmVyc2lvbjtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uICh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gdmFyaWFudERlYnVnSW5mb0VuYWJsZWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzKGVuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMucHJvY2Vzc01lc3NhZ2VFdmVudChtZXNzYWdlSWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhbnREZWJ1Z0luZm8oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdmFyQ2FjaGUpLmdldFZhcmlhYmxlLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyQ2FjaGUudmFyaWFudHMgfHwgW107XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pbmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwSW5ib3g7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLm9uSW5ib3hBY3Rpb24gPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMudHJhY2tNZXNzYWdlKG1lc3NhZ2VJZCwgeyBldmVudDogJ09wZW4nIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFjdGlvbiAmJiBfdGhpcy5fbWVzc2FnZXMub25BY3Rpb24oYWN0aW9uKTsgfSk7XG4gICAgfTtcbiAgICAvLyBUT0RPKGJyZWFraW5nIGNoYW5nZSk6IHJlcGxhY2Ugd2l0aCBldmVudHMgYW5kIHJlbW92ZSBzdGF0ZWZ1bCBoYW5kbGVyc1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LmdldEZpbGVVcmwoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuR0VUX1ZBUlMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBnZXRWYXJzUmVzcG9uc2UgPSBfdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3VjY2VzcyA9IF90aGlzLl9scFJlcXVlc3QuaXNSZXNwb25zZVN1Y2Nlc3MoZ2V0VmFyc1Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5hcHBseURpZmZzKGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU10sIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9NRVRBREFUQV0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFudERlYnVnSW5mbyhnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRfREVCVUdfSU5GT10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpc1N1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25MZW5ndGggPSBzZWNvbmRzO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQWN0aXZlU2Vzc2lvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YXJDYWNoZS5vblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DT1VOVFJZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlJFR0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DSVRZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9OQU1FLCB0aGlzLl9zeXN0ZW1OYW1lIHx8IHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5PUylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1lTVEVNX1ZFUlNJT04sICh0aGlzLl9zeXN0ZW1WZXJzaW9uIHx8ICcnKS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX05BTUUsIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX1ZFUlNJT04sIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FMRSwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTkFNRSwgdGhpcy5fZGV2aWNlTmFtZSB8fFxuICAgICAgICAgICAgdGhpcy5fYnJvd3NlckRldGVjdG9yLmJyb3dzZXIgKyBcIiBcIiArIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTU9ERUwsIHRoaXMuX2RldmljZU1vZGVsIHx8ICdXZWIgQnJvd3NlcicpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV1NGRUVEX01FU1NBR0VTLCB0aGlzLl9scEluYm94Lm1lc3NhZ2VJZHMoKSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPLCB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVEFSVCwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzID0gX3RoaXMuX2xwUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyhzdGFydFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5zdGFydFN1Y2Nlc3NmdWwgPSBpc1N1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlcyA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0UmVzcG9uc2UuYWN0aW9uRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmFjdGlvbkRlZmluaXRpb25zID0gc3RhcnRSZXNwb25zZS5hY3Rpb25EZWZpbml0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBtZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5TWU5DX0lOQk9YXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xwSW5ib3guZG93bmxvYWRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ZXN0VmVyc2lvbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkxBVEVTVF9WRVJTSU9OXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBIG5ld2VyIHZlcnNpb24gb2YgdGhlIExlYW5wbHVtIFNESywgXCIgKyBsYXRlc3RWZXJzaW9uICsgXCIsIGlzIGF2YWlsYWJsZS5cXG5Vc2UgXFxcIm5wbSB1cGRhdGUgbGVhbnBsdW0tc2RrXFxcIiBvciBnbyB0byBodHRwczovL2RvY3MubGVhbnBsdW0uY29tL3JlZmVyZW5jZSNqYXZhc2NyaXB0LXNldHVwIHRvIGRvd25sb2FkIGl0LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RTb2NrZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuYXBwbHlEaWZmcyhzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fTUVUQURBVEFdKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnNldFZhcmlhbnREZWJ1Z0luZm8oc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVF9ERUJVR19JTkZPXSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50b2tlbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlRPS0VOXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5sb2FkRGlmZnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdzdGFydCcsIHsgc3VjY2VzczogaXNTdWNjZXNzIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnRyaWdnZXJTdGFydEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnICYmIHVzZXJJZCAhPT0gbnVsbCAmJiB1c2VySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlckF0dHJpYnV0ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU2Vzc2lvbigpO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0U29ja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUubG9hZERpZmZzKCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS50cmlnZ2VyU3RhcnRIYW5kbGVycygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVE9QLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZUZyb21Mb2NhbFN0b3JhZ2UoU0VTU0lPTl9LRVkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5wYXVzZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5SRVNVTUVfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnBhdXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU1RBVEUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlJFU1VNRV9TVEFURSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgdGhpcy5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VXNlckF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICBpZiAodXNlckF0dHJpYnV0ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICAgICAgdXNlcklkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IHNldFVzZXJBdHRyaWJ1dGVzIGV4cGVjdHMgYSBzdHJpbmcgb3IgYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9BVFRSSUJVVEVTLCB1c2VyQXR0cmlidXRlcyA/IEpTT04uc3RyaW5naWZ5KHVzZXJBdHRyaWJ1dGVzKSA6IHVuZGVmaW5lZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTkVXX1VTRVJfSUQsIHVzZXJJZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdzZXRVc2VyQXR0cmlidXRlJywgdXNlckF0dHJpYnV0ZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9VU0VSX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xwUmVxdWVzdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHZhbHVlO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3RyYWNrJywgeyBldmVudE5hbWU6IGV2ZW50LCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZVNlc3Npb24oKTsgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFja1B1cmNoYXNlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSAnUHVyY2hhc2UnOyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgaWYgKGN1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ1VSUkVOQ1lfQ09ERSwgY3VycmVuY3lDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgndHJhY2snLCB7IGV2ZW50TmFtZTogZXZlbnQgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZHZhbmNlVG8gPSBmdW5jdGlvbiAoc3RhdGUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TVEFURSwgc3RhdGUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdhZHZhbmNlU3RhdGUnLCB7IHN0YXRlOiBzdGF0ZSwgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuQURWQU5DRSwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdWJzY3JpYmVkLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHRydWUsIHJlamVjdHMgaWYgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1YnNjcmliZWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFdlYlB1c2hPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fd2ViUHVzaE9wdGlvbnMgPSBfX2Fzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0aGUgYnJvd3NlciBmb3Igd2ViIHB1c2guXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCBvbiB5b3VyIHNlcnZlciB0aGF0IGhvc3RzIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zdy5taW4uanMgc2VydmljZSB3b3JrZXIganMgZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgICAgICBSZXNvbHZlcyBpZiByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UgZmFpbHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVnaXN0ZXJGb3JXZWJQdXNoID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9wdXNoTWFuYWdlci5zdWJzY3JpYmVVc2VyKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLl93ZWJQdXNoT3B0aW9ucztcbiAgICAgICAgICAgIHZhciB3b3JrZXJVcmwgPSBzZXJ2aWNlV29ya2VyVXJsIHx8IG9wdGlvbnMuc2VydmljZVdvcmtlclVybDtcbiAgICAgICAgICAgIHZhciBzY29wZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zY29wZSA/IHsgc2NvcGU6IG9wdGlvbnMuc2NvcGUgfSA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIucmVnaXN0ZXIod29ya2VyVXJsLCBzY29wZSwgc3Vic2NyaWJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnTGVhbnBsdW06IFdlYlB1c2ggaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgdGhlIGJyb3dzZXIgZm9ybSB3ZWIgcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgIFJlc29sdmVzIG9uIHN1Y2Nlc3MsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLnVuc3Vic2NyaWJlVXNlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGNhY2hlZCB2YWx1ZXMgZm9yIG1lc3NhZ2VzLCB2YXJpYWJsZXMgYW5kIHRlc3QgYXNzaWdubWVudHMuXG4gICAgICogVXNlIHNwYXJpbmdseSBhcyBpZiB0aGUgYXBwIGlzIHVwZGF0ZWQsIHlvdSdsbCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWxseVxuICAgICAqIGluY29uc2lzdGVudCBzdGF0ZSBvciB1c2VyIGV4cGVyaWVuY2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuY2xlYXJVc2VyQ29udGVudCgpO1xuICAgIH07XG4gICAgLy8gdXNlZCBieSBHb29nbGUgVGFnIE1hbmFnZXIgdG8gYXBwbHkgY29tbWFuZHMgcXVldWVkIGR1cmluZyBhc3luYyBzY3JpcHQgbG9hZGluZ1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFwcGx5UXVldWUgPSBmdW5jdGlvbiAocXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcXVldWUuZm9yRWFjaChmdW5jdGlvbiAoaW52b2NhdGlvbikgeyByZXR1cm4gX3RoaXNbaW52b2NhdGlvbi5uYW1lXS5hcHBseShfdGhpcywgaW52b2NhdGlvbi5hcmdzKTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgYXJncywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLl9scFJlcXVlc3QucmVxdWVzdChhY3Rpb24sIGFyZ3MsIF9fYXNzaWduKHsgZGV2TW9kZTogdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlIH0sIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNvbm5lY3RTb2NrZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LmNvbm5lY3Qoe1xuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuX2xwUmVxdWVzdC5hcHBJZCxcbiAgICAgICAgICAgIGRldmljZUlkOiB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaGFzQWN0aXZlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXNzaW9uTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGxhc3RBY3RpdmUgPSBwYXJzZUludChMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKFNFU1NJT05fS0VZKSk7XG4gICAgICAgIGlmIChpc05hTihsYXN0QWN0aXZlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50VGltZSAtIGxhc3RBY3RpdmUgPCB0aGlzLl9zZXNzaW9uTGVuZ3RoICogMTAwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXBkYXRlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKFNFU1NJT05fS0VZLCBTdHJpbmcoRGF0ZS5ub3coKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW50ZXJuYWw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbnRlcm5hbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIEJyb3dzZXIgZGV0ZWN0aW9uLiBTb3VyY2U6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZGV0ZWN0Lmh0bWxcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGRldGVjdCB3aGljaCBicm93c2VyIGNsaWVudCBpcyB1c2luZy5cbiAqL1xudmFyIEJyb3dzZXJEZXRlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgb2JqZWN0IHdpdGggY3VycmVudCBicm93c2VyIHNldHRpbmdzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJEZXRlY3Rvcih3bmQpIHtcbiAgICAgICAgdGhpcy5icm93c2VyID0gdGhpcy5zZWFyY2hTdHJpbmcodGhpcy5nZXRCcm93c2VyRGF0YSh3bmQpKSB8fCAnVW5rbm93biBCcm93c2VyJztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gKHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHxcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLmFwcFZlcnNpb24pIHx8XG4gICAgICAgICAgICAnVW5rbm93biBWZXJzaW9uJyk7XG4gICAgICAgIHRoaXMuT1MgPSB0aGlzLnNlYXJjaFN0cmluZyh0aGlzLmdldE9TRGF0YSh3bmQpKSB8fCAnVW5rbm93biBPUyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoZXMgdGhlIGNsaWVudCdzIHN5c3RlbSB0byB0aGUgcHJlZGVmaW5lZCBzeXN0ZW0gbGlzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmb3VuZCBpZGVudGl0eSBzdHJpbmcuXG4gICAgICovXG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5zZWFyY2hTdHJpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhU3RyaW5nID0gZGF0YVtpXS5zdHJpbmc7XG4gICAgICAgICAgICB2YXIgZGF0YVByb3AgPSBkYXRhW2ldLnByb3A7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcgPSBkYXRhW2ldLnZlcnNpb25TZWFyY2ggfHwgZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIGlmIChkYXRhU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcuaW5kZXhPZihkYXRhW2ldLnN1YlN0cmluZykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFQcm9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIGdpdmVuIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVN0cmluZyBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBmb3VuZCBudW1iZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLnNlYXJjaFZlcnNpb24gPSBmdW5jdGlvbiAoZGF0YVN0cmluZykge1xuICAgICAgICBpZiAoIWRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZGF0YVN0cmluZy5pbmRleE9mKHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YVN0cmluZy5zdWJzdHJpbmcoaW5kZXggKyB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcubGVuZ3RoICsgMSkpO1xuICAgIH07XG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5nZXRCcm93c2VyRGF0YSA9IGZ1bmN0aW9uICh3bmQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0Nocm9tZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdDaHJvbWUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ09tbmlXZWInLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT21uaVdlYicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ09tbmlXZWIvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBcHBsZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdTYWZhcmknLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvcDogd25kLm9wZXJhLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT3BlcmEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpQ2FiJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ2lDYWInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0tERScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdLb25xdWVyb3InLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0ZpcmVmb3gnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRmlyZWZveCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ2FtaW5vJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0NhbWlubycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01TSUUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRXhwbG9yZXInLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdNU0lFJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQgQnJvd3NlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0dlY2tvJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ01vemlsbGEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdydicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTW96aWxsYScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ01vemlsbGEnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuZ2V0T1NEYXRhID0gZnVuY3Rpb24gKHduZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdXaW4nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnV2luZG93cycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNYWMnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTWFjIE9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpUGhvbmUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTGludXgnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTGludXgnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyRGV0ZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnJvd3NlckRldGVjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEludGVybmFsU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJuYWxTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuZGV2TW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydFN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuc3RhcnRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5oYXNTdGFydGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVyKHRoaXMuc3RhcnRTdWNjZXNzZnVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW50ZXJuYWxTdGF0ZS5wcm90b3R5cGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5zdGFydEhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS50cmlnZ2VyU3RhcnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXJ0SGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIYW5kbGVyc1tpXSh0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbnRlcm5hbFN0YXRlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEludGVybmFsU3RhdGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG52YXIgdmFsdWVzID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvYmpba2V5XTsgfSk7XG59O1xudmFyIExlYW5wbHVtSW5ib3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbmJveChjcmVhdGVSZXF1ZXN0LCBvbkFjdGlvbikge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLm9uQWN0aW9uID0gb25BY3Rpb247XG4gICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IHt9O1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5kb3dubG9hZE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ2dldE5ld3NmZWVkTWVzc2FnZXMnLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBkYXRhLnJlc3BvbnNlWzBdO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VNYXAgPSByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1hcmtBc1JlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWVzc2FnZS5pc1JlYWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuaXNSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ21hcmtOZXdzZmVlZE1lc3NhZ2VBc1JlYWQnLCBhcmdzLCB7fSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHRoaXMubWFya0FzUmVhZChtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgaW5ib3hNZXNzYWdlID0gdGhpcy5tZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBpZCA9IG1lc3NhZ2VJZC5zcGxpdCgnIyMnKVswXTtcbiAgICAgICAgdmFyIG9wZW5BY3Rpb24gPSAoaW5ib3hNZXNzYWdlID09PSBudWxsIHx8IGluYm94TWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5ib3hNZXNzYWdlLm9wZW5BY3Rpb24oKSkgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5vbkFjdGlvbihpZCwgb3BlbkFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2VNYXBbbWVzc2FnZUlkXTtcbiAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnZGVsZXRlTmV3c2ZlZWRNZXNzYWdlJywgYXJncywge30pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUub25DaGFuZ2VkID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudHJpZ2dlckNoYW5nZUhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGhhbmRsZXIoKTsgfSk7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JTkJPWF9NRVNTQUdFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5tZXNzYWdlTWFwKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklOQk9YX01FU1NBR0VTKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0gSlNPTi5wYXJzZShzdGF0ZSkgfHwge307XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyh0aGlzLm1lc3NhZ2VNYXApLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnVucmVhZENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWVzKHRoaXMubWVzc2FnZU1hcCkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiAheC5pc1JlYWQ7IH0pLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2VzID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMubWVzc2FnZU1hcCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICAgICAgaWYgKGZpbHRlcihkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZShpZCwgZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5hbGxNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS51bnJlYWRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4LmlzUmVhZDsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tZXNzYWdlSWRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tZXNzYWdlTWFwKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMZWFucGx1bUluYm94TWVzc2FnZS5jcmVhdGUoaWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3g7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbmJveDtcbnZhciBMZWFucGx1bUluYm94TWVzc2FnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUluYm94TWVzc2FnZShfaWQsIF90aXRsZSwgX3N1YnRpdGxlLCBfdGltZXN0YW1wLCBfaXNSZWFkLCBfaW1hZ2VVcmwsIF9vcGVuQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX2lkID0gX2lkO1xuICAgICAgICB0aGlzLl90aXRsZSA9IF90aXRsZTtcbiAgICAgICAgdGhpcy5fc3VidGl0bGUgPSBfc3VidGl0bGU7XG4gICAgICAgIHRoaXMuX3RpbWVzdGFtcCA9IF90aW1lc3RhbXA7XG4gICAgICAgIHRoaXMuX2lzUmVhZCA9IF9pc1JlYWQ7XG4gICAgICAgIHRoaXMuX2ltYWdlVXJsID0gX2ltYWdlVXJsO1xuICAgICAgICB0aGlzLl9vcGVuQWN0aW9uID0gX29wZW5BY3Rpb247XG4gICAgfVxuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZUluZm8pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2o7XG4gICAgICAgIHZhciBwYXJlbnRDYW1wYWlnbklkID0gKF9hID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXJlbnRDYW1wYWlnbklkO1xuICAgICAgICB2YXIgYWN0aW9uID0gX19hc3NpZ24oX19hc3NpZ24oe30sIChfYyA9IChfYiA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudmFycykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jW0NvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFRkFVTFRfUFVTSF9BQ1RJT05dKSwgeyBwYXJlbnRDYW1wYWlnbklkOiBwYXJlbnRDYW1wYWlnbklkIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExlYW5wbHVtSW5ib3hNZXNzYWdlKGlkLCAoX2UgPSAoX2QgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnZhcnMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5UaXRsZSwgKF9nID0gKF9mID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi52YXJzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuU3VidGl0bGUsIG1lc3NhZ2VJbmZvLmRlbGl2ZXJ5VGltZXN0YW1wLCBtZXNzYWdlSW5mby5pc1JlYWQsIChfaiA9IChfaCA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2gudmFycykgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLkltYWdlLCBhY3Rpb24pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUudGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5zdWJ0aXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnRpdGxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVzdGFtcDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pc1JlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1JlYWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaW1hZ2VVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbWFnZVVybDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5vcGVuQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3BlbkFjdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bUluYm94TWVzc2FnZTtcbn0oKSk7XG5leHBvcnRzLkxlYW5wbHVtSW5ib3hNZXNzYWdlID0gTGVhbnBsdW1JbmJveE1lc3NhZ2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTG9jYWxTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xvY2FsU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIE5ldHdvcmtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9OZXR3b3JrXCIpKTtcbnZhciBMZWFucGx1bVJlcXVlc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1SZXF1ZXN0KCkge1xuICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXcgTmV0d29ya18xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy51c2VySWRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hcGlQYXRoID0gJ2h0dHBzOi8vYXBpLmxlYW5wbHVtLmNvbS9hcGknO1xuICAgICAgICB0aGlzLmJhdGNoQ29vbGRvd24gPSA1O1xuICAgICAgICB0aGlzLmJhdGNoRW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLCBcInVzZXJJZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnVzZXJJZFZhbHVlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lEKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5kZXZpY2VJZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJJZFZhbHVlID0gdXNlcklkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiAoYWN0aW9uLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIC8vIEdldCBvciBjcmVhdGUgZGV2aWNlIElEIGFuZCB1c2VyIElELlxuICAgICAgICBpZiAoIXRoaXMuZGV2aWNlSWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlSWQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kZXZpY2VJZCkge1xuICAgICAgICAgICAgdmFyIGlkID0gJyc7XG4gICAgICAgICAgICB2YXIgcG9zc2libGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZXZpY2VJZCA9IGlkO1xuICAgICAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuREVWSUNFX0lELCBpZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgdGhpcy51c2VySWQpO1xuICAgICAgICB2YXIgYXJnc0J1aWxkZXIgPSBwYXJhbXNcbiAgICAgICAgICAgIC5hdHRhY2hBcGlLZXlzKHRoaXMuYXBwSWQsIHRoaXMuY2xpZW50S2V5KVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TREtfVkVSU0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX0lELCB0aGlzLmRldmljZUlkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5VU0VSX0lELCB0aGlzLnVzZXJJZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OLCBhY3Rpb24pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZFUlNJT05fTkFNRSwgdGhpcy52ZXJzaW9uTmFtZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWX01PREUsIG9wdGlvbnMuZGV2TW9kZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVElNRSwgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkudG9TdHJpbmcoKSk7XG4gICAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzIHx8IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIHZhciBlcnJvciA9IG9wdGlvbnMuZXJyb3IgfHwgb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgaWYgKCF0aGlzLmFwcElkIHx8ICF0aGlzLmNsaWVudEtleSkge1xuICAgICAgICAgICAgdmFyIGVyciA9ICdMZWFucGx1bSBBcHAgSUQgYW5kIGNsaWVudCBrZXkgYXJlIG5vdCBzZXQuIE1ha2Ugc3VyZSB5b3UgJyArXG4gICAgICAgICAgICAgICAgJ2FyZSBjYWxsaW5nIHNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlIG9yIHNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgJyArXG4gICAgICAgICAgICAgICAgJ2JlZm9yZSBpc3N1aW5nIEFQSSBjYWxscy4nO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgIGVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5ib2R5KCkpIHtcbiAgICAgICAgICAgIHRoaXMubmV0d29yay5hamF4KCdQT1NUJywgdGhpcy5hcGlQYXRoICsgXCI/XCIgKyBhcmdzQnVpbGRlci5idWlsZCgpLCBwYXJhbXMuYm9keSgpLCBzdWNjZXNzLCBlcnJvciwgb3B0aW9ucy5xdWV1ZWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZW5kTm93ID0gb3B0aW9ucy5kZXZNb2RlIHx8IG9wdGlvbnMuc2VuZE5vdyB8fCAhdGhpcy5iYXRjaEVuYWJsZWQ7XG4gICAgICAgIHZhciBzZW5kVW5zZW50UmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVxdWVzdHNUb1NlbmQgPSBfdGhpcy5wb3BVbnNlbnRSZXF1ZXN0cygpO1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RzVG9TZW5kLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdERhdGEgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzogcmVxdWVzdHNUb1NlbmQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIG11bHRpUmVxdWVzdEFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgICAgLmF0dGFjaEFwaUtleXMoX3RoaXMuYXBwSWQsIF90aGlzLmNsaWVudEtleSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TREtfVkVSU0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTilcbiAgICAgICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sIENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5NVUxUSSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5USU1FLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKS50b1N0cmluZygpLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIC5idWlsZCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLm5ldHdvcmsuYWpheCgnUE9TVCcsIF90aGlzLmFwaVBhdGggKyBcIj9cIiArIG11bHRpUmVxdWVzdEFyZ3MsIHJlcXVlc3REYXRhLCBzdWNjZXNzLCBlcnJvciwgb3B0aW9ucy5xdWV1ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBEZWFsIHdpdGggY29vbGRvd24uXG4gICAgICAgIGlmICghc2VuZE5vdyAmJiB0aGlzLmJhdGNoQ29vbGRvd24pIHtcbiAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgICAgICBpZiAoIXRoaXMubGFzdFJlcXVlc3RUaW1lIHx8IG5vdyAtIHRoaXMubGFzdFJlcXVlc3RUaW1lID49IHRoaXMuYmF0Y2hDb29sZG93bikge1xuICAgICAgICAgICAgICAgIHNlbmROb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gbm93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29vbGRvd25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29vbGRvd25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGFzdFJlcXVlc3RUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICBzZW5kVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgICAgICAgICB9LCAodGhpcy5iYXRjaENvb2xkb3duIC0gKG5vdyAtIHRoaXMubGFzdFJlcXVlc3RUaW1lKSkgKiAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVSZXF1ZXN0Rm9yTGF0ZXIoYXJnc0J1aWxkZXIuYnVpbGREaWN0KCkpO1xuICAgICAgICBpZiAoc2VuZE5vdykge1xuICAgICAgICAgICAgc2VuZFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hdHRhY2hBcGlLZXlzKHRoaXMuYXBwSWQsIHRoaXMuY2xpZW50S2V5KVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TREtfVkVSU0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OLCAnZG93bmxvYWRGaWxlJylcbiAgICAgICAgICAgIC5hZGQoJ2ZpbGVuYW1lJywgZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlQYXRoICsgXCI/XCIgKyBhcmdzLmJ1aWxkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmdldExhc3RSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdmFyIGNvdW50ID0gKF9iID0gKF9hID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICByZXR1cm4gKGNvdW50ID4gMCkgPyAoX2MgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1tjb3VudCAtIDFdIDogbnVsbDtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuaXNSZXNwb25zZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnN1Y2Nlc3MpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5zYXZlUmVxdWVzdEZvckxhdGVyID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQpIHx8IDA7XG4gICAgICAgIHZhciBpdGVtS2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSVRFTSArIGNvdW50O1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChpdGVtS2V5LCBKU09OLnN0cmluZ2lmeShhcmdzKSk7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5ULCBjb3VudCk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucG9wVW5zZW50UmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IFtdO1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCkgfHwgMDtcbiAgICAgICAgdGhpcy5yZW1vdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW1LZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JVEVNICsgaTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdERhdGEucHVzaChKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKGl0ZW1LZXkpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxvY2FsKGl0ZW1LZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0RGF0YTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUubG9hZExvY2FsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0RnJvbUxvY2FsU3RvcmFnZShrZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5zYXZlTG9jYWwgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2Uoa2V5LCB2YWx1ZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnJlbW92ZUxvY2FsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5yZW1vdmVGcm9tTG9jYWxTdG9yYWdlKGtleSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1SZXF1ZXN0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtUmVxdWVzdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbG9kYXNoX2lzZXF1YWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoLmlzZXF1YWxcIikpO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU29ja2V0SW9DbGllbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Tb2NrZXRJb0NsaWVudFwiKSk7XG52YXIgTGVhbnBsdW1Tb2NrZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1Tb2NrZXQoY2FjaGUsIGNyZWF0ZVJlcXVlc3QsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZ2V0TGFzdFJlc3BvbnNlLCBldmVudHMpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IGNhY2hlO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLmdldExhc3RSZXNwb25zZSA9IGdldExhc3RSZXNwb25zZTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gMTA7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb2NrZXRIb3N0ID0gJ2Rldi5sZWFucGx1bS5jb20nO1xuICAgIH1cbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChhdXRoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghV2ViU29ja2V0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IFdlYlNvY2tldHMuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF1dGhTZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50ID0gbmV3IFNvY2tldElvQ2xpZW50XzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5zZXROZXR3b3JrVGltZW91dCh0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICghYXV0aFNlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IENvbm5lY3RlZCB0byBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0Q2xpZW50LnNlbmQoJ2F1dGgnLCAoX2EgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQVBQX0lEXSA9IGF1dGguYXBwSWQsXG4gICAgICAgICAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9JRF0gPSBhdXRoLmRldmljZUlkLFxuICAgICAgICAgICAgICAgICAgICBfYSkpO1xuICAgICAgICAgICAgICAgIGF1dGhTZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTb2NrZXQgZXJyb3InLCBldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ubWVzc2FnZSA9IHRoaXMub25NZXNzYWdlUmVjZWl2ZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogRGlzY29ubmVjdGVkIGZyb20gZGV2ZWxvcG1lbnQgc2VydmVyLicpO1xuICAgICAgICAgICAgYXV0aFNlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdCh0aGlzLnNvY2tldEhvc3QpO1xuICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnNvY2tldENsaWVudC5jb25uZWN0ZWQgJiYgIV90aGlzLnNvY2tldENsaWVudC5jb25uZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3QoX3RoaXMuc29ja2V0SG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH07XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zb2NrZXRIb3N0ID0gdmFsdWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gc2Vjb25kcztcbiAgICAgICAgKF9hID0gdGhpcy5zb2NrZXRDbGllbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5vbk1lc3NhZ2VSZWNlaXZlZCA9IGZ1bmN0aW9uIChldmVudCwgYXJncykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZXZlbnQgPT09ICd1cGRhdGVWYXJzJykge1xuICAgICAgICAgICAgdmFyIGFyZ3NfMSA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5HRVRfVkFSUywgYXJnc18xLCB7XG4gICAgICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldFZhcnNSZXNwb25zZSA9IF90aGlzLmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFyaWFudHMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRTXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbk1ldGFkYXRhID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fTUVUQURBVEFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWxvZGFzaF9pc2VxdWFsXzEuZGVmYXVsdCh2YWx1ZXMsIF90aGlzLmNhY2hlLmRpZmZzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FjaGUuYXBwbHlEaWZmcyh2YWx1ZXMsIHZhcmlhbnRzLCBhY3Rpb25NZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdnZXRWYXJpYWJsZXMnKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLnNlbmRWYXJpYWJsZXMoKTtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LnNlbmQoJ2dldENvbnRlbnRSZXNwb25zZScsIHtcbiAgICAgICAgICAgICAgICAndXBkYXRlZCc6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ2dldEFjdGlvbnMnKSB7XG4gICAgICAgICAgICAvLyBVbnN1cHBvcnRlZCBpbiBKYXZhU2NyaXB0IFNESy5cbiAgICAgICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LnNlbmQoJ2dldENvbnRlbnRSZXNwb25zZScsIHtcbiAgICAgICAgICAgICAgICAndXBkYXRlZCc6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdyZWdpc3RlckRldmljZScpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gYXJnc1swXTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hbGVydFxuICAgICAgICAgICAgYWxlcnQoXCJZb3VyIGRldmljZSBoYXMgYmVlbiByZWdpc3RlcmVkIHRvIFwiICsgbWVzc2FnZS5lbWFpbCArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ3RyaWdnZXInKSB7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdwcmV2aWV3UmVxdWVzdCcsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1Tb2NrZXQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1Tb2NrZXQ7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xuLyoqXG4gKiBTb2NrZXQuaW8gMS4wIGNsaWVudCBjbGFzcy5cbiAqL1xudmFyIFNvY2tldElvQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGEgbmV3IFNvY2tldElvQ2xpZW50LCBub3QgY29ubmVjdGVkIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU29ja2V0SW9DbGllbnQoKSB7XG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBOZXR3b3JrXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3RzIHRvIHRoZSBnaXZlbiBzb2NrZXRIb3N0LlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gc29ja2V0SG9zdCBUaGUgaG9zdCB0byBjb25uZWN0IHRvLlxuICAgICAqL1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHNvY2tldEhvc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5uZXR3b3JrLmFqYXgoJ1BPU1QnLCBcImh0dHBzOi8vXCIgKyBzb2NrZXRIb3N0ICsgXCIvc29ja2V0LmlvLzFcIiwgJycsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlYXJ0YmVhdCA9IHBhcnNlSW50KHBhcnRzWzFdKSAvIDIgKiAxMDAwO1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzczovL1wiICsgc29ja2V0SG9zdCArIFwiL3NvY2tldC5pby8xL3dlYnNvY2tldC9cIiArIHNlc3Npb24pO1xuICAgICAgICAgICAgdmFyIGhlYXJ0YmVhdEludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9ub3Blbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGVhcnRiZWF0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKCcyOjo6Jyk7XG4gICAgICAgICAgICAgICAgfSwgaGVhcnRiZWF0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGhlYXJ0YmVhdEludGVydmFsKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZVBhcnRzID0gZXZlbnQuZGF0YS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIHZhciBjb2RlID0gcGFyc2VJbnQobWVzc2FnZVBhcnRzWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZCgnMjo6Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IG1lc3NhZ2VQYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2VQYXJ0cy5zbGljZSgzKS5qb2luKCc6JykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUV2ZW50ID0gZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGRhdGEuYXJncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoXCI2Ojo6XCIgKyBtZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9ubWVzc2FnZShtZXNzYWdlRXZlbnQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTb2NrZXQgZXJyb3I6IFwiICsgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25lcnJvcihldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgbnVsbCwgZmFsc2UsIHRydWUgLy8gbnVsbCwgcXVldWVkLCBwbGFpblRleHRcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmRzIGdpdmVuIGV2ZW50IHdpdGggYXJndW1lbnRzIHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSAgeyp9IGFyZ3MgQXJndW1lbnRzIHRvIHNlbmQuXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNvY2tldCBpcyBub3QgY29ubmVjdGVkLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzSnNvbiA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChcIjU6OjpcIiArIGFyZ3NKc29uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29yay5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIHJldHVybiBTb2NrZXRJb0NsaWVudDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBTb2NrZXRJb0NsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTG9jYWxTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xvY2FsU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIEFQUExJQ0FUSU9OX1NFUlZFUl9QVUJMSUNfS0VZID0gJ0JJbldQcFdudGZSMzlyZ1hTUDA0cHFkbUVkREdhNTB6NnpxYk12eHl4SkN3elhJdVNwU2g4Qzg4OC1DZko4MldFTGw3WGU4Y2pBbmZDdC0zdkswQ2k2OCc7XG4vKipcbiAqIFB1c2ggTWFuYWdlciBoYW5kbGVzIHRoZSByZWdpc3RyYXRpb24gYW5kIHN1YnNjcmlwdGlvbiBmb3Igd2ViIHB1c2guXG4gKi9cbnZhciBQdXNoTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXNoTWFuYWdlcihjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQdXNoTWFuYWdlci5wcm90b3R5cGUsIFwic2VydmljZVdvcmtlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3Iuc2VydmljZVdvcmtlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3Qgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKCh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yKSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAnc2VydmljZVdvcmtlcicgaW4gd2luZG93Lm5hdmlnYXRvciAmJlxuICAgICAgICAgICAgJ1B1c2hNYW5hZ2VyJyBpbiB3aW5kb3cpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIGJyb3dzZXIgaXMgc3Vic2NyaWJlZCB0byB3ZWIgcHVzaCBub3RpZmljYXRpb25zLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRydWUgaWYgc3Vic2NyaWJlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbiwgc3Vic2NyaXB0aW9uLCBpc1N1YnNjcmliZWQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZ2lzdHJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1YnNjcmliZWQgPSBzdWJzY3JpcHRpb24gIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlcihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGlzU3Vic2NyaWJlZF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgZm9yIFdlYlB1c2guXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCB0aGF0IHNlcnZlcyB0aGUgc2VydmljZSB3b3JrZXIgb24geW91ciBkb21haW4uXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgVGhlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aXRoIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUcnVlIGlmIHN1YnNjcmliZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwsIHNjb3BlLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIHN1YnNjcmlwdGlvbiwgaXNTdWJzY3JpYmVkLCBlcnJvcl8xO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBQdXNoIG1lc3NhZ2luZyBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDQsICwgNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHNlcnZpY2VXb3JrZXJVcmwgfHwgJy9zdy5taW4uanMnLCBzY29wZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkID0gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhpc1N1YnNjcmliZWQpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU2VydmljZSBXb3JrZXIgRXJyb3I6ICcsIGVycm9yXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0aGUgdXNlciAoYnJvd3NlcikgdG8gcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiBzdWJzY3JpcHRpb24gc3VjY2Vzc2Z1bCwgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnN1YnNjcmliZVVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcHBsaWNhdGlvblNlcnZlcktleSwgc3Vic2NyaXB0aW9uLCBlcnJvcl8yO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXkgPSB0aGlzLnVybEI2NFRvVWludDhBcnJheShBUFBMSUNBVElPTl9TRVJWRVJfUFVCTElDX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleTogYXBwbGljYXRpb25TZXJ2ZXJLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlcihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZWFucGx1bTogRmFpbGVkIHRvIHN1YnNjcmliZSB0aGUgdXNlcjogXCIgKyBlcnJvcl8yKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmUgdGhlIHVzZXIoYnJvd3NlcikgZnJvbSBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHVuc3Vic2NyaWJlZCwgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZWQsIHN1YnNjcmlwdGlvbiwgZXJyb3JfMztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pc1dlYlB1c2hTdWJzY3JpYmVkKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVkID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVkKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsyLCA1LCAsIDZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8zID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVhbnBsdW06IEVycm9yIHVuc3Vic2NyaWJpbmc6IFwiICsgZXJyb3JfMyk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIG9iamVjdCBmcm9tIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBSZXR1cm5zIHRoZSByZWdpc3RyYXRpb24gb3IgbnVsbC5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5jb2RlcyBhIGJhc2U2NCBVUkwgc3RyaW5nIHRvIGFuIFVpbnQ4IGFycmF5LlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51cmxCNjRUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYmFzZTY0U3RyaW5nKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gJz0nLnJlcGVhdCgoNCAtIGJhc2U2NFN0cmluZy5sZW5ndGggJSA0KSAlIDQpO1xuICAgICAgICB2YXIgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gICAgICAgIHZhciByYXdEYXRhID0gdGhpcy5kZWNvZGVEYXRhKGJhc2U2NCk7XG4gICAgICAgIHZhciBvdXRwdXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBvdXRwdXRBcnJheVtpXSA9IHJhd0RhdGEuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0QXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbmV3IHN1YnNjcmlwdGlvbiBvYmplY3QgdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24uXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcHJlcGFyZWRTdWJzY3JpcHRpb24gPSB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHByZXBhcmVkU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1N1YnNjcmlwdGlvblN0cmluZyA9IExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuUFVTSF9TVUJTQ1JJUFRJT04pO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nU3Vic2NyaXB0aW9uU3RyaW5nICE9PSBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZykge1xuICAgICAgICAgICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5QVVNIX1NVQlNDUklQVElPTiwgcHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnByZXBhcmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBrZXkgPSAoJ2dldEtleScgaW4gc3Vic2NyaXB0aW9uKSA/IHN1YnNjcmlwdGlvbi5nZXRLZXkoJ3AyNTZkaCcpIDogW107XG4gICAgICAgIHZhciBhdXRoID0gKCdnZXRLZXknIGluIHN1YnNjcmlwdGlvbikgPyBzdWJzY3JpcHRpb24uZ2V0S2V5KCdhdXRoJykgOiBbXTtcbiAgICAgICAgdmFyIGtleUFzY2lpID0gdGhpcy5lbmNvZGVEYXRhKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoa2V5KSkpO1xuICAgICAgICB2YXIgYXV0aEFzY2lpID0gdGhpcy5lbmNvZGVEYXRhKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYXV0aCkpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuZHBvaW50OiBzdWJzY3JpcHRpb24uZW5kcG9pbnQsXG4gICAgICAgICAgICBrZXk6IGtleUFzY2lpLFxuICAgICAgICAgICAgYXV0aDogYXV0aEFzY2lpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZSBMZWFucGx1bSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1YnNjcmlwdGlvbiBUaGUgc3Vic2NyaXB0aW9uIHN0cmluZy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuc2V0U3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuV0VCX1BVU0hfU1VCU0NSSVBUSU9OLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfREVWSUNFX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmVuY29kZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmJ0b2EoZGF0YSk7XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZGVjb2RlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYXRvYihkYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBQdXNoTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBQdXNoTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIE5ldHdvcmtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9OZXR3b3JrXCIpKTtcbnZhciBsb2Rhc2hfaXNlcXVhbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2guaXNlcXVhbFwiKSk7XG52YXIgTG9jYWxTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xvY2FsU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIE9jY3VycmVuY2VUcmFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9jY3VycmVuY2VUcmFja2VyKCkge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgICAgdGhpcy50cmlnZ2VycyA9IHt9O1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VzID0ge307XG4gICAgfVxuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5yZWNvcmRPY2N1cnJlbmNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBzZXNzaW9uT2NjdXJyZW5jZXMgPSAodGhpcy5zZXNzaW9uW2lkXSB8fCAwKSArIDE7XG4gICAgICAgIHRoaXMuc2Vzc2lvbltpZF0gPSBzZXNzaW9uT2NjdXJyZW5jZXM7XG4gICAgICAgIHZhciBvY2N1cnJlbmNlcyA9ICh0aGlzLm9jY3VycmVuY2VzW2lkXSB8fCBbXSk7XG4gICAgICAgIG9jY3VycmVuY2VzLnB1c2goRGF0ZS5ub3coKSk7XG4gICAgICAgIHRoaXMub2NjdXJyZW5jZXNbaWRdID0gb2NjdXJyZW5jZXM7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLnJlY29yZFRyaWdnZXJPY2N1cnJlbmNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyT2NjdXJyZW5jZXMgPSB0aGlzLnRyaWdnZXJzW2lkXSB8fCBbXTtcbiAgICAgICAgdHJpZ2dlck9jY3VycmVuY2VzLnB1c2goRGF0ZS5ub3coKSk7XG4gICAgICAgIHRoaXMudHJpZ2dlcnNbaWRdID0gdHJpZ2dlck9jY3VycmVuY2VzO1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgICAgcmV0dXJuIHRyaWdnZXJPY2N1cnJlbmNlcy5sZW5ndGg7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uW2lkXSB8fCAwO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmdldE9jY3VycmVuY2VzID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9jY3VycmVuY2VzW2lkXSB8fCBbXTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5jbGVhclNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9PQ0NVUlJFTkNFUyk7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGNhY2hlKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IGpzb24uc2Vzc2lvbjtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcnMgPSBqc29uLnRyaWdnZXJzO1xuICAgICAgICAgICAgdGhpcy5vY2N1cnJlbmNlcyA9IGpzb24ub2NjdXJyZW5jZXM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9PQ0NVUlJFTkNFUztcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKGtleSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLFxuICAgICAgICAgICAgdHJpZ2dlcnM6IHRoaXMudHJpZ2dlcnMsXG4gICAgICAgICAgICBvY2N1cnJlbmNlczogdGhpcy5vY2N1cnJlbmNlcyxcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIE9jY3VycmVuY2VUcmFja2VyO1xufSgpKTtcbnZhciB2ZXJiVG9JbnRlcnZhbCA9IGZ1bmN0aW9uICh2ZXJiKSB7XG4gICAgdmFyIFNFQ09ORCA9IDEwMDA7XG4gICAgdmFyIE1JTlVURSA9IDYwICogU0VDT05EO1xuICAgIHZhciBIT1VSID0gNjAgKiBNSU5VVEU7XG4gICAgdmFyIERBWSA9IDI0ICogSE9VUjtcbiAgICBzd2l0Y2ggKHZlcmIpIHtcbiAgICAgICAgY2FzZSAnbGltaXRTZWNvbmQnOiByZXR1cm4gU0VDT05EO1xuICAgICAgICBjYXNlICdsaW1pdE1pbnV0ZSc6IHJldHVybiBNSU5VVEU7XG4gICAgICAgIGNhc2UgJ2xpbWl0SG91cic6IHJldHVybiBIT1VSO1xuICAgICAgICBjYXNlICdsaW1pdERheSc6IHJldHVybiBEQVk7XG4gICAgfVxufTtcbnZhciBNZXNzYWdlcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNZXNzYWdlcyhldmVudHMsIGNyZWF0ZVJlcXVlc3QsIGdldEZpbGVVcmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuZ2V0RmlsZVVybCA9IGdldEZpbGVVcmw7XG4gICAgICAgIHRoaXMuX2ZpbGVzID0ge307XG4gICAgICAgIHRoaXMuX21lc3NhZ2VDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VUcmFja2VyID0gbmV3IE9jY3VycmVuY2VUcmFja2VyKCk7XG4gICAgICAgIHRoaXMuX3Nob3dSaWNoSUFNID0gZmFsc2U7XG4gICAgICAgIGV2ZW50cy5vbigncHJldmlld1JlcXVlc3QnLCB0aGlzLm9uTWVzc2FnZVByZXZpZXcuYmluZCh0aGlzKSk7XG4gICAgICAgIGV2ZW50cy5vbignbWVzc2FnZXNSZWNlaXZlZCcsIHRoaXMub25NZXNzYWdlc1JlY2VpdmVkLmJpbmQodGhpcykpO1xuICAgICAgICBldmVudHMub24oJ3N0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuY2xlYXJTZXNzaW9uKCk7XG4gICAgICAgICAgICBfdGhpcy5vblRyaWdnZXIoeyB0cmlnZ2VyOiAnc3RhcnQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCdyZXN1bWUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9DQUNIRTtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldEZyb21Mb2NhbFN0b3JhZ2Uoa2V5KTtcbiAgICAgICAgICAgIF90aGlzLl9tZXNzYWdlQ2FjaGUgPSBjYWNoZSA/IEpTT04ucGFyc2UoY2FjaGUpIDogX3RoaXMuX21lc3NhZ2VDYWNoZTtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmxvYWQoKTtcbiAgICAgICAgICAgIF90aGlzLm9uVHJpZ2dlcih7IHRyaWdnZXI6ICdyZXN1bWUnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCd0cmFjaycsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBfdGhpcy5vblRyaWdnZXIoe1xuICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdldmVudCcsXG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiBhcmdzLmV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGFyZ3MucGFyYW1zIHx8IHt9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ2FkdmFuY2VTdGF0ZScsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMub25UcmlnZ2VyKHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnc3RhdGUnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBhcmdzLnN0YXRlLFxuICAgICAgICAgICAgICAgIHBhcmFtczogYXJncy5wYXJhbXMgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbignc2V0VXNlckF0dHJpYnV0ZScsIGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3VzZXJBdHRyaWJ1dGUnLCBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5fc2hvd1JpY2hJQU0gPSBlbmFibGVkO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm9uVHJpZ2dlciA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMuZ2V0TWVzc2FnZXMoKTtcbiAgICAgICAgdmFyIG1lc3NhZ2VJZHMgPSBPYmplY3Qua2V5cyhtZXNzYWdlcyk7XG4gICAgICAgIG1lc3NhZ2VJZHNcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7IHJldHVybiBfdGhpcy5zaG91bGRTaG93TWVzc2FnZShpZCwgbWVzc2FnZXNbaWRdLCBjb250ZXh0KTsgfSlcbiAgICAgICAgICAgIC5zbGljZSgwLCAxKSAvLyBUT0RPOiBjaG9vc2UgcmFuZG9tbHlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gX3RoaXMuc2hvd01lc3NhZ2UoaWQsIG1lc3NhZ2VzW2lkXSk7IH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm9uTWVzc2FnZVByZXZpZXcgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgdmFycyA9IG1lc3NhZ2UuYWN0aW9uO1xuICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgIHRyYWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRJbmZvID0gZXZlbnQgPyBcImV2ZW50ICdcIiArIGV2ZW50ICsgXCInXCIgOiAnaW1wcmVzc2lvbic7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcmFja2luZyBcIiArIGV2ZW50SW5mbyArIFwiIGZvciBcIiArIG1lc3NhZ2UubWVzc2FnZUlkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5BY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJSdW5uaW5nIHVudHJhY2tlZCBhY3Rpb24gJ1wiICsgYWN0aW9uTmFtZSArIFwiJ1wiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5UcmFja2VkQWN0aW9uTmFtZWQ6IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFwiUnVubmluZyB0cmFja2VkIGFjdGlvbiAnXCIgKyBhY3Rpb25OYW1lICsgXCInXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKHtcbiAgICAgICAgICAgIGlzUHJldmlldzogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IF9fYXNzaWduKHsgbWVzc2FnZUlkOiBtZXNzYWdlLm1lc3NhZ2VJZCB9LCB2YXJzKSxcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm9uTWVzc2FnZXNSZWNlaXZlZCA9IGZ1bmN0aW9uIChyZWNlaXZlZE1lc3NhZ2VzKSB7XG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHJlY2VpdmVkTWVzc2FnZXMgfHwge307XG4gICAgICAgIHRoaXMuX21lc3NhZ2VDYWNoZSA9IG1lc3NhZ2VzO1xuICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMpKTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5zaG91bGRTaG93TWVzc2FnZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZSwgY29udGV4dCkge1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIG1hdGNoZXNUcmlnZ2VyID0gdGhpcy5tYXRjaGVzVHJpZ2dlcihtZXNzYWdlLndoZW5UcmlnZ2VycywgY29udGV4dCk7XG4gICAgICAgIHZhciBtYXRjaGVzVW5sZXNzID0gdGhpcy5tYXRjaGVzVHJpZ2dlcihtZXNzYWdlLnVubGVzc1RyaWdnZXJzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCFtYXRjaGVzVHJpZ2dlciB8fCBtYXRjaGVzVW5sZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyaWdnZXJzQ291bnQgPSB0aGlzLm9jY3VycmVuY2VUcmFja2VyLnJlY29yZFRyaWdnZXJPY2N1cnJlbmNlKGlkKTtcbiAgICAgICAgaWYgKCF0aGlzLm1hdGNoZXNMaW1pdHMoaWQsIG1lc3NhZ2Uud2hlbkxpbWl0cywgdHJpZ2dlcnNDb3VudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdGFydFRpbWUgJiYgbWVzc2FnZS5lbmRUaW1lKSB7XG4gICAgICAgICAgICB2YXIgb3V0c2lkZUFjdGl2ZVBlcmlvZCA9IG5vdyA8IG1lc3NhZ2Uuc3RhcnRUaW1lIHx8IG1lc3NhZ2UuZW5kVGltZSA8IG5vdztcbiAgICAgICAgICAgIGlmIChvdXRzaWRlQWN0aXZlUGVyaW9kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnNob3dNZXNzYWdlID0gZnVuY3Rpb24gKGlkLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2YXJzID0gdGhpcy5hZGREZWZhdWx0cyhfX2Fzc2lnbih7fSwgbWVzc2FnZS52YXJzKSk7XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgdHJhY2s6IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLnJlY29yZE9jY3VycmVuY2UoaWQpO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrTWVzc2FnZShpZCwgeyBldmVudDogZXZlbnQsIHZhbHVlOiB2YWx1ZSwgaW5mbzogaW5mbywgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuQWN0aW9uTmFtZWQ6IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbih2YXJzW2FjdGlvbk5hbWVdKTsgfSxcbiAgICAgICAgICAgIHJ1blRyYWNrZWRBY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBhY3Rpb25OYW1lLnJlcGxhY2UoLyBhY3Rpb24kLywgJycpO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrTWVzc2FnZShpZCwgeyBldmVudDogZXZlbnQgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25BY3Rpb24odmFyc1thY3Rpb25OYW1lXSk7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBtZXNzYWdlOiBfX2Fzc2lnbih7IG1lc3NhZ2VJZDogaWQgfSwgdmFycyksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnByb2Nlc3NNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBldmVudFVybCkge1xuICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJscC1tZXNzYWdlLVwiICsgbWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKCFpZnJhbWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNzYWdlIGNsb3NlZCwgc2tpcHBpbmcgZXZlbnQgcHJvY2Vzc2luZycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGV2ZW50VXJsLnJlcGxhY2UoL15odHRwOlxcL1xcL2xlYW5wbHVtXFwvLywgJycpLnNwbGl0KCc/JyksIGV2ZW50ID0gX2FbMF0sIF9iID0gX2FbMV0sIHF1ZXJ5ID0gX2IgPT09IHZvaWQgMCA/ICcnIDogX2I7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHZhciBwYXJhbXMgPSBxdWVyeS5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwYXJhbSkge1xuICAgICAgICAgICAgdmFyIF9hID0gcGFyYW0uc3BsaXQoJz0nKSwga2V5ID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHZhciBfYyA9IGlmcmFtZS5tZXRhZGF0YSwgbWVzc2FnZSA9IF9jLm1lc3NhZ2UsIGNvbnRleHQgPSBfYy5jb250ZXh0O1xuICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlICdsb2FkRmluaXNoZWQnOlxuICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlWydIVE1MIEhlaWdodCddID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBtZXNzYWdlWydIVE1MIFdpZHRoJ107XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSBtZXNzYWdlWydIVE1MIEhlaWdodCddICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmxlZnQgPSBcImNhbGMoKDEwMCUgLSBcIiArIHdpZHRoICsgXCIpIC8gMilcIjtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLnpJbmRleCA9ICcxMDAwMDAnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYW5jaG9yUHJvcCA9IG1lc3NhZ2VbJ0hUTUwgQWxpZ24nXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWx0UHJvcCA9IGFuY2hvclByb3AgPT09ICd0b3AnID8gJ2JvdHRvbScgOiAndG9wJztcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlW2FuY2hvclByb3BdID0gJzAnO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGVbYWx0UHJvcF0gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RyYWNrJzpcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYWNrKHBhcmFtcy5ldmVudCwgcGFyc2VGbG9hdChwYXJhbXMudmFsdWUpLCBwYXJhbXMucGFyYW1ldGVycywgcGFyYW1zLmluZm8pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncnVuQWN0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ3J1blRyYWNrZWRBY3Rpb24nOlxuICAgICAgICAgICAgICAgIGNvbnRleHRbZXZlbnQgKyBcIk5hbWVkXCJdKHBhcmFtcy5hY3Rpb24pO1xuICAgICAgICAgICAgLy8gZmFsbCB0aHJvdWdoIGFuZCBjbG9zZVxuICAgICAgICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICAgICAgICAgIGlmcmFtZS5tZXRhZGF0YSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmhhbmRsZU1lc3NhZ2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fc2hvd1JpY2hJQU0gJiYgb3B0aW9ucy5tZXNzYWdlLl9fbmFtZV9fID09PSAnSFRNTCcpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUZpbGVzKG9wdGlvbnMubWVzc2FnZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVOYW1lID0gb3B0aW9ucy5tZXNzYWdlWydUZW1wbGF0ZSddIHx8ICcnO1xuICAgICAgICAgICAgbmV3IE5ldHdvcmtfMS5kZWZhdWx0KCkuYWpheCgnZ2V0JywgdGVtcGxhdGVOYW1lLnJlcGxhY2UoJy0xMC5odG1sJywgJy0xMS5odG1sJyksICcnLCBmdW5jdGlvbiAodGVtcGxhdGUpIHsgcmV0dXJuIF90aGlzLnJlbmRlclJpY2hJbkFwcE1lc3NhZ2UodGVtcGxhdGUsIG9wdGlvbnMpOyB9LCBmdW5jdGlvbiAoKSB7IH0sIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Nob3dNZXNzYWdlJywgdGhpcy5yZXNvbHZlRmllbGRzKG9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnJlbmRlclJpY2hJbkFwcE1lc3NhZ2UgPSBmdW5jdGlvbiAodGVtcGxhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IG9wdGlvbnMubWVzc2FnZS5tZXNzYWdlSWQ7XG4gICAgICAgIHZhciB2YXJzID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdpZCcsIFwibHAtbWVzc2FnZS1cIiArIG1lc3NhZ2VJZCk7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5jc3NUZXh0ID0gW1xuICAgICAgICAgICAgJ2JvcmRlci13aWR0aDogMCcsXG4gICAgICAgICAgICAncG9zaXRpb246IGZpeGVkJyxcbiAgICAgICAgICAgICd0b3A6IC0xMDAlJyxcbiAgICAgICAgICAgICdsZWZ0OiAtMTAwJScsXG4gICAgICAgICAgICAnd2lkdGg6IDEwMCUnLFxuICAgICAgICAgICAgJ2hlaWdodDogMTAwJScsXG4gICAgICAgICAgICAndmlzaWJpbGl0eTogaGlkZGVuJyxcbiAgICAgICAgXS5qb2luKCc7Jyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgLy8gcGFzcyBtZXNzYWdlIGluZm9cbiAgICAgICAgaWZyYW1lLm1ldGFkYXRhID0gb3B0aW9ucztcbiAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cubWVzc2FnZUlkID0gbWVzc2FnZUlkO1xuICAgICAgICB2YXIgY29udGVudCA9IHRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgnIyNWYXJzIyMnLCB2YXJzKVxuICAgICAgICAgICAgLnJlcGxhY2UoJzxib2R5PicsIFwiPGJvZHk+PHNjcmlwdD53aW5kb3cubWVzc2FnZUlkPSdcIiArIG1lc3NhZ2VJZCArIFwiJzwvc2NyaXB0PlwiKTtcbiAgICAgICAgdmFyIGRvYyA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgICAgICBkb2Mub3BlbigpO1xuICAgICAgICBkb2Mud3JpdGUoY29udGVudCk7XG4gICAgICAgIGRvYy5jbG9zZSgpO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnRyYWNrTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIHRyYWNrT3B0aW9ucywgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHRyYWNrT3B0aW9ucyA9PT0gdm9pZCAwKSB7IHRyYWNrT3B0aW9ucyA9IHsgZXZlbnQ6IG51bGwgfTsgfVxuICAgICAgICBpZiAocmVzcG9uc2UgPT09IHZvaWQgMCkgeyByZXNwb25zZSA9IGZ1bmN0aW9uICgpIHsgfTsgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5NRVNTQUdFX0lELCBtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgZGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCAhPT0gJ3VuZGVmaW5lZCc7IH07XG4gICAgICAgIGlmICh0cmFja09wdGlvbnMuZXZlbnQpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCB0cmFja09wdGlvbnMuZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbmVkKHRyYWNrT3B0aW9ucy52YWx1ZSkpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB0cmFja09wdGlvbnMudmFsdWUgfHwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMuaW5mbykpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIHRyYWNrT3B0aW9ucy5pbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMucGFyYW1zKSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeSh0cmFja09wdGlvbnMucGFyYW1zKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25BY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICBpZiAoYWN0aW9uICYmIGFjdGlvbi5fX25hbWVfXyA9PT0gJ0NoYWluIHRvIEV4aXN0aW5nIE1lc3NhZ2UnKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5lZE1lc3NhZ2VJZCA9IGFjdGlvblsnQ2hhaW5lZCBtZXNzYWdlJ107XG4gICAgICAgICAgICB2YXIgbWVzc2FnZV8xID0gbWVzc2FnZXNbY2hhaW5lZE1lc3NhZ2VJZF07XG4gICAgICAgICAgICBpZiAobWVzc2FnZV8xLmFjdGlvbiA9PT0gJ09wZW4gVVJMJykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tNZXNzYWdlKGNoYWluZWRNZXNzYWdlSWQsIHsgZXZlbnQ6ICdWaWV3JyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbihtZXNzYWdlXzEudmFycyk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZShjaGFpbmVkTWVzc2FnZUlkLCBtZXNzYWdlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBhcHAgZnVuY3Rpb25cbiAgICAgICAgdmFyIHByb2Nlc3NBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLl9fbmFtZV9fID09PSAnT3BlbiBVUkwnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ25hdmlnYXRpb25DaGFuZ2UnLCBhY3Rpb24uVVJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IHRoaXMubWVzc2FnZUlkRnJvbUFjdGlvbihhY3Rpb24pO1xuICAgICAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrTWVzc2FnZShtZXNzYWdlSWQsIHsgZXZlbnQ6IG51bGwgfSwgcHJvY2Vzc0FjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzQWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5nZXRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VDYWNoZSB8fCB7fTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5jb2xvclRvSGV4ID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHZhciBiID0gY29sb3IgJiAweGZmO1xuICAgICAgICBjb2xvciA+Pj0gODtcbiAgICAgICAgdmFyIGcgPSBjb2xvciAmIDB4ZmY7XG4gICAgICAgIGNvbG9yID4+PSA4O1xuICAgICAgICB2YXIgciA9IGNvbG9yICYgMHhmZjtcbiAgICAgICAgY29sb3IgPj49IDg7XG4gICAgICAgIHZhciBhID0gKGNvbG9yICYgMHhmZikgLyAyNTU7XG4gICAgICAgIHJldHVybiBcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsXCIgKyBiICsgXCIsXCIgKyBhICsgXCIpXCI7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuYWRkRGVmYXVsdHMgPSBmdW5jdGlvbiAodmFycykge1xuICAgICAgICB2YXIga2luZHMgPSB0aGlzLmdldE1lc3NhZ2VzKCkuYWN0aW9uRGVmaW5pdGlvbnMgfHwge307XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IGtpbmRzW3ZhcnMuX19uYW1lX19dO1xuICAgICAgICBpZiAoIWRlZmF1bHRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFycztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB1c2VEZWZhdWx0cyhvYmosIGRlZmF1bHRWYWx1ZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhkZWZhdWx0VmFsdWVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRlZmF1bHRWYWx1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHVzZURlZmF1bHRzKG9ialtrZXldIHx8IHt9LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1c2VEZWZhdWx0cyhfX2Fzc2lnbih7fSwgdmFycyksIGRlZmF1bHRzLnZhbHVlcyk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVzb2x2ZUZpbGVzID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICAgICAgdmFyIGZpbGVQcmVmaXggPSAvXl9fZmlsZV9fLztcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHZhcnMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlUHJlZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lXzEgPSBrZXkucmVwbGFjZShmaWxlUHJlZml4LCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyc1tuYW1lXzFdID0gdGhpcy5nZXRGaWxlVXJsKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFyc1trZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IHRoaXMucmVzb2x2ZUZpbGVzKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVzb2x2ZUZpZWxkcyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBjb2xvclN1ZmZpeCA9IC9cXGJjb2xvci9pO1xuICAgICAgICB2YXIgZmlsZVByZWZpeCA9IC9eX19maWxlX18vO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFycykge1xuICAgICAgICAgICAgaWYgKGZpbGVQcmVmaXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVfMiA9IGtleS5yZXBsYWNlKGZpbGVQcmVmaXgsICcnKTtcbiAgICAgICAgICAgICAgICB2YXJzW25hbWVfMiArICcgVVJMJ10gPSB0aGlzLmdldEZpbGVVcmwodmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbG9yU3VmZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IHRoaXMuY29sb3JUb0hleCh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhcnNba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB2YXJzW2tleV0gPSB0aGlzLnJlc29sdmVGaWVsZHModmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFycztcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tZXNzYWdlSWRGcm9tQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLl9tZXNzYWdlQ2FjaGU7XG4gICAgICAgIHZhciB2YXJzID0gX19hc3NpZ24oe30sIGFjdGlvbik7XG4gICAgICAgIGRlbGV0ZSB2YXJzWydwYXJlbnRDYW1wYWlnbklkJ107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhtZXNzYWdlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG1lc3NhZ2VzW2lkXTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmVudENhbXBhaWduSWQgIT09IGFjdGlvbi5wYXJlbnRDYW1wYWlnbklkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9kYXNoX2lzZXF1YWxfMS5kZWZhdWx0KG1lc3NhZ2UudmFycywgdmFycykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tYXRjaGVzVHJpZ2dlciA9IGZ1bmN0aW9uICh3aGVuVHJpZ2dlcnMsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKCF3aGVuVHJpZ2dlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWdub3JlQ2FzZUVxdWFscyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS50b1N0cmluZygpLmxvY2FsZUNvbXBhcmUoYi50b1N0cmluZygpLCB1bmRlZmluZWQsIHsgc2Vuc2l0aXZpdHk6ICdhY2NlbnQnIH0pID09PSAwO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbWF0Y2hlc1RyaWdnZXJzID0gZnVuY3Rpb24gKGNvbnRleHROb3VuLCBwYXJhbXMsIHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzTm91biA9IGNvbnRleHROb3VuID09PSB0cmlnZ2VyLm5vdW47XG4gICAgICAgICAgICBpZiAodHJpZ2dlci52ZXJiID09PSAndHJpZ2dlcnMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNOb3VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHJpZ2dlci52ZXJiID09PSAndHJpZ2dlcnNXaXRoUGFyYW1ldGVyJykge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IHRyaWdnZXIub2JqZWN0cywgcGFyYW1ldGVyID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zUGFyYW0gPSBwYXJhbWV0ZXIgaW4gcGFyYW1zO1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzUGFyYW0gPSBjb250YWluc1BhcmFtICYmIGlnbm9yZUNhc2VFcXVhbHModmFsdWUsIHBhcmFtc1twYXJhbWV0ZXJdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc05vdW4gJiYgbWF0Y2hlc1BhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gd2hlblRyaWdnZXJzLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWJqZWN0ID0gdHJpZ2dlci5zdWJqZWN0O1xuICAgICAgICAgICAgc3dpdGNoIChjb250ZXh0LnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdGFydCc6IHJldHVybiBzdWJqZWN0ID09PSAnc3RhcnQnIHx8IHN1YmplY3QgPT09ICdyZXN1bWUnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc3VtZSc6IHJldHVybiBzdWJqZWN0ID09PSAncmVzdW1lJztcbiAgICAgICAgICAgICAgICBjYXNlICdldmVudCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0ICE9PSAnZXZlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNUcmlnZ2Vycyhjb250ZXh0LmV2ZW50TmFtZSwgY29udGV4dC5wYXJhbXMsIHRyaWdnZXIpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VzZXJBdHRyaWJ1dGUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViamVjdCAhPT0gJ3VzZXJBdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zQXR0cmlidXRlID0gdHJpZ2dlci5ub3VuIGluIGNvbnRleHQuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIudmVyYiA9PT0gJ2NoYW5nZXMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbnNBdHRyaWJ1dGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHJpZ2dlci52ZXJiID09PSAnY2hhbmdlc1RvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWluc0F0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0VmFsdWVfMSA9IGNvbnRleHQuYXR0cmlidXRlc1t0cmlnZ2VyLm5vdW5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXIub2JqZWN0cy5zb21lKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCAmJiBjb250ZXh0VmFsdWVfMSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICYmIGNvbnRleHRWYWx1ZV8xICYmIGlnbm9yZUNhc2VFcXVhbHModmFsdWUsIGNvbnRleHRWYWx1ZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXRlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmplY3QgIT09ICdzdGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1RyaWdnZXJzKGNvbnRleHQuc3RhdGUsIGNvbnRleHQucGFyYW1zLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUubWF0Y2hlc0xpbWl0cyA9IGZ1bmN0aW9uIChpZCwgd2hlbkxpbWl0cywgdHJpZ2dlck9jY3VycmVuY2VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghd2hlbkxpbWl0cykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdoZW5MaW1pdHMuY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24gKGxpbWl0KSB7XG4gICAgICAgICAgICB2YXIgc3ViamVjdCA9IGxpbWl0LnN1YmplY3QsIHZlcmIgPSBsaW1pdC52ZXJiO1xuICAgICAgICAgICAgdmFyIG5vdW4gPSBwYXJzZUludChsaW1pdC5ub3VuLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgaWYgKHN1YmplY3QgPT09ICd0aW1lcycpIHtcbiAgICAgICAgICAgICAgICBpZiAodmVyYiA9PT0gJ2xpbWl0U2Vzc2lvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlc3Npb25PY2N1cnJlbmNlcyA9IF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmdldFNlc3Npb25PY2N1cnJhbmNlQ291bnQoaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvbk9jY3VycmVuY2VzICsgMSA9PT0gbm91bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmVyYiA9PT0gJ2xpbWl0VXNlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9jY3VycmVuY2VzID0gX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuZ2V0T2NjdXJyZW5jZXMoaWQpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9jY3VycmVuY2VzICsgMSA8PSBub3VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWCBpbiBZIChzZWNvbmRzfG1pbnV0ZXN8ZGF5c3xob3VycylcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBlckludGVydmFsID0gcGFyc2VJbnQobGltaXQub2JqZWN0c1swXS50b1N0cmluZygpKSB8fCAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVNsb3QgPSB2ZXJiVG9JbnRlcnZhbCh2ZXJiKSAqIHBlckludGVydmFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2NjdXJyZW5jZXMgPSBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5nZXRPY2N1cnJlbmNlcyhpZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IG9jY3VycmVuY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50IDwgbm91bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2xpY2UgPSBvY2N1cnJlbmNlcy5zbGljZShjb3VudCAtIG5vdW4sIGNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHRoZSB0aW1lIG9mIHRoZSBmaXJzdCBvZiB0aGUgbGFzdCBOIG9jY3VycmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2VbMF0gPCBEYXRlLm5vdygpIC0gdGltZVNsb3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJqZWN0ID09PSAnb25OdGhPY2N1cnJlbmNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyT2NjdXJyZW5jZXMgPT09IG5vdW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJqZWN0ID09PSAnZXZlcnlOdGhPY2N1cnJlbmNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAodHJpZ2dlck9jY3VycmVuY2VzICUgbm91bikgPT09IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1lc3NhZ2VzO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1lc3NhZ2VzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRXZlbnRFbWl0dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKHsgZXZlbnROYW1lOiBldmVudE5hbWUsIGNhbGxiYWNrOiBjYWxsYmFjayB9KTtcbiAgICB9O1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmV2ZW50TmFtZSAhPT0gZXZlbnROYW1lIHx8IHguY2FsbGJhY2sgIT09IGNhbGxiYWNrOyB9KTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgYXJncykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyLmV2ZW50TmFtZSA9PT0gZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5jYWxsYmFjayhhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIExvY2FsU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Mb2NhbFN0b3JhZ2VNYW5hZ2VyXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbnZhciBWYXJDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYXJDYWNoZShjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuYWN0aW9uTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5oYXNSZWNlaXZlZERpZmZzID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWVyZ2VkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLmRpZmZzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRva2VuID0gJyc7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSBbXTtcbiAgICB9XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmFwcGx5RGlmZnMgPSBmdW5jdGlvbiAoZGlmZnMsIHZhcmlhbnRzLCBhY3Rpb25NZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmRpZmZzID0gZGlmZnM7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSB2YXJpYW50cztcbiAgICAgICAgdGhpcy5hY3Rpb25NZXRhZGF0YSA9IGFjdGlvbk1ldGFkYXRhO1xuICAgICAgICB0aGlzLmhhc1JlY2VpdmVkRGlmZnMgPSB0cnVlO1xuICAgICAgICB0aGlzLm1lcmdlZCA9IG1lcmdlSGVscGVyKHRoaXMudmFyaWFibGVzLCBkaWZmcyk7XG4gICAgICAgIHRoaXMuc2F2ZURpZmZzKCk7XG4gICAgICAgIGlmICh0aGlzLm9uVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5sb2FkRGlmZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5RGlmZnMoSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQUJMRVMpIHx8IG51bGwpLCBKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRTKSB8fCBudWxsKSwgSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5BQ1RJT05fTUVUQURBVEEpIHx8IG51bGwpKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW4gPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5UT0tFTik7XG4gICAgICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UX0RFQlVHX0lORk8pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxlYW5wbHVtOiBJbnZhbGlkIGRpZmZzOiBcIiArIGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2F2ZURpZmZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQUJMRVMsIEpTT04uc3RyaW5naWZ5KHRoaXMuZGlmZnMgfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVFMsIEpTT04uc3RyaW5naWZ5KHRoaXMudmFyaWFudHMgfHwgW10pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQUNUSU9OX01FVEFEQVRBLCBKU09OLnN0cmluZ2lmeSh0aGlzLmFjdGlvbk1ldGFkYXRhIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRfREVCVUdfSU5GTywgSlNPTi5zdHJpbmdpZnkodGhpcy52YXJpYW50RGVidWdJbmZvIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlRPS0VOLCB0aGlzLnRva2VuKTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5nZXRWYXJpYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuZ2V0VmFyaWFibGVzKCk7XG4gICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFthcmdzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lcmdlZCAhPT0gdW5kZWZpbmVkID8gdGhpcy5tZXJnZWQgOiB0aGlzLnZhcmlhYmxlcztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gdmFyaWFibGVzO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzUmVjZWl2ZWREaWZmcykge1xuICAgICAgICAgICAgaGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnRyaWdnZXJWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzW2ldKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5nZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50RGVidWdJbmZvO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0gdmFsdWU7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2VuZFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgYm9keSA9IChfYSA9IHt9LCBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WQVJJQUJMRVNdID0gdGhpcy52YXJpYWJsZXMsIF9hKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCkuYm9keShKU09OLnN0cmluZ2lmeShib2R5KSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU0VUX1ZBUlMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmNsZWFyVXNlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlmZnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB7fTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUubG9hZExvY2FsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0RnJvbUxvY2FsU3RvcmFnZShrZXkpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNhdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBWYXJDYWNoZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWYXJDYWNoZTtcbmZ1bmN0aW9uIG1lcmdlSGVscGVyKHZhcnMsIGRpZmYpIHtcbiAgICBpZiAodHlwZW9mIGRpZmYgPT09ICdudW1iZXInIHx8IHR5cGVvZiBkaWZmID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGRpZmYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgIH1cbiAgICBpZiAoZGlmZiA9PT0gbnVsbCB8fCBkaWZmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfVxuICAgIHZhciBvYmpJdGVyYXRvciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGl0ZXJhdGUoZikge1xuICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZihvYmpbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2VlbXMgdG8gYmUgYmVzdCBwcmFjdGljZTogaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzcwNzFcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZWZsZWN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgYXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYoYXR0cik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICB2YXIgdmFyc0l0ZXJhdG9yID0gb2JqSXRlcmF0b3IodmFycyk7XG4gICAgdmFyIGRpZmZJdGVyYXRvciA9IG9iakl0ZXJhdG9yKGRpZmYpO1xuICAgIC8vIEluZmVyIHRoYXQgdGhlIGRpZmZzIGlzIGFuIGFycmF5IGlmIHRoZSB2YXJzIHZhbHVlIGRvZXNuJ3QgZXhpc3QgdG8gdGVsbCB1cyB0aGUgdHlwZS5cbiAgICB2YXIgaXNBcnJheSA9IGZhbHNlO1xuICAgIGlmICh2YXJzID09PSBudWxsKSB7XG4gICAgICAgIGlmICghKGRpZmYgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIGlzQXJyYXkgPSBudWxsO1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlIGluIGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRpZmYuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmxlbmd0aCA8IDMgfHwgYXR0cmlidXRlLmNoYXJBdCgwKSAhPT0gJ1snIHx8XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5jaGFyQXQoYXR0cmlidXRlLmxlbmd0aCAtIDEpICE9PSAnXScpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTWVyZ2UgYXJyYXlzLlxuICAgIGlmICh2YXJzIGluc3RhbmNlb2YgQXJyYXkgfHwgaXNBcnJheSkge1xuICAgICAgICB2YXIgbWVyZ2VkXzEgPSBbXTtcbiAgICAgICAgdmFyc0l0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgICBtZXJnZWRfMS5wdXNoKGF0dHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGlmZkl0ZXJhdG9yKGZ1bmN0aW9uICh2YXJTdWJzY3JpcHQpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHQgPSBwYXJzZUludCh2YXJTdWJzY3JpcHQuc3Vic3RyaW5nKDEsIHZhclN1YnNjcmlwdC5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICB2YXIgZGlmZlZhbHVlID0gZGlmZlt2YXJTdWJzY3JpcHRdO1xuICAgICAgICAgICAgd2hpbGUgKHN1YnNjcmlwdCA+PSBtZXJnZWRfMS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRfMS5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkXzFbc3Vic2NyaXB0XSA9IG1lcmdlSGVscGVyKG1lcmdlZF8xW3N1YnNjcmlwdF0sIGRpZmZWYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkXzE7XG4gICAgfVxuICAgIC8vIE1lcmdlIGRpY3Rpb25hcmllcy5cbiAgICB2YXIgbWVyZ2VkID0ge307XG4gICAgdmFyc0l0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIGlmIChkaWZmW2F0dHJdID09PSBudWxsIHx8IGRpZmZbYXR0cl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWVyZ2VkW2F0dHJdID0gdmFyc1thdHRyXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRpZmZJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBtZXJnZWRbYXR0cl0gPSBtZXJnZUhlbHBlcih2YXJzID09PSBudWxsID8gbnVsbCA6IHZhcnNbYXR0cl0gfHwge30sIGRpZmZbYXR0cl0pO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZWQ7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9