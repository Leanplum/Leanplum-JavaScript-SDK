!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.8.5",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",ACTION_DEFINITIONS:"actionDefinitions",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_DEFINITIONS:"actionDefinitions",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_DEFINITIONS:"__leanplum_action_definitions",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",MESSAGE_OCCURRENCES:"__leanplum_message_occurrences",MESSAGE_CACHE:"__leanplum_message_cache",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),s=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var n="";return n=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+=e+"="+n,this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(i.default.PARAMS.APP_ID,e).add(i.default.PARAMS.CLIENT,i.default.CLIENT).add(i.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i={},s=function(){function e(){}return e.getFromLocalStorage=function(e){return!1===r?i[e]:localStorage[e]},e.saveToLocalStorage=function(e,t){if(!1!==r)try{localStorage[e]=t}catch(n){r=!1,i[e]=t}else i[e]=t},e.removeFromLocalStorage=function(e){if(!1!==r)try{localStorage.removeItem(e)}catch(t){r=!1,delete i[e]}else delete i[e]},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,n,r,i,s,o){var a=this;if(s){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:"+t.substring(6)),this.ajaxIE8(e,t,n,r,i,s,o);var u=!1,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(u)return;var e;u=!0;var t=!1;if(o)e=c.responseText;else try{e=JSON.parse(c.responseText)}catch(e){setTimeout((function(){i&&i(null,c)}),0),t=!0}t||(c.status>=200&&c.status<300?setTimeout((function(){r&&r(e,c)}),0):setTimeout((function(){i&&i(e,c)}),0)),s&&(a.runningRequest=!1,a.dequeueRequest())}},c.open(e,t,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(n),setTimeout((function(){u||c.abort()}),1e3*this.networkTimeoutSeconds)},e.prototype.ajaxIE8=function(e,t,n,r,i,s,o){var a=this,u=new XDomainRequest;u.onload=function(){var e,t=!1;if(o)e=u.responseText;else try{e=JSON.parse(u.responseText)}catch(e){setTimeout((function(){i&&i(null,u)}),0),t=!0}t||setTimeout((function(){r&&r(e,u)}),0),s&&(a.runningRequest=!1,a.dequeueRequest())},u.onerror=u.ontimeout=function(){setTimeout((function(){i&&i(null,u)}),0),s&&(a.runningRequest=!1,a.dequeueRequest())},u.onprogress=function(){},u.open(e,t),u.timeout=1e3*this.networkTimeoutSeconds,u.send(n)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=r},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",s="[object Object]",o="[object Set]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[i]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c[o]=c["[object String]"]=c["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=t&&!t.nodeType&&t,h=p&&"object"==typeof n&&n&&!n.nodeType&&n,v=h&&h.exports===p,g=v&&l.process,_=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),S=_&&_.isTypedArray;function y(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function m(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var A,E,R,I=Array.prototype,T=Function.prototype,M=Object.prototype,D=f["__core-js_shared__"],O=T.toString,w=M.hasOwnProperty,N=(A=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",C=M.toString,P=RegExp("^"+O.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=v?f.Buffer:void 0,U=f.Symbol,L=f.Uint8Array,V=M.propertyIsEnumerable,j=I.splice,F=U?U.toStringTag:void 0,q=Object.getOwnPropertySymbols,H=k?k.isBuffer:void 0,K=(E=Object.keys,R=Object,function(e){return E(R(e))}),x=_e(f,"DataView"),W=_e(f,"Map"),Y=_e(f,"Promise"),B=_e(f,"Set"),G=_e(f,"WeakMap"),z=_e(Object,"create"),J=me(x),X=me(W),$=me(Y),Q=me(B),Z=me(G),ee=U?U.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function se(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ie;++t<n;)this.add(e[t])}function oe(e){var t=this.__data__=new re(e);this.size=t.size}function ae(e,t){var n=Re(e),r=!n&&Ee(e),i=!n&&!r&&Ie(e),s=!n&&!r&&!i&&we(e),o=n||r||i||s,a=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=a.length;for(var c in e)!t&&!w.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||be(c,u))||a.push(c);return a}function ue(e,t){for(var n=e.length;n--;)if(Ae(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=w.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var i=C.call(e);r&&(t?e[F]=n:delete e[F]);return i}(e):function(e){return C.call(e)}(e)}function le(e){return Oe(e)&&ce(e)==r}function de(e,t,n,a,u){return e===t||(null==e||null==t||!Oe(e)&&!Oe(t)?e!=e&&t!=t:function(e,t,n,a,u,c){var l=Re(e),d=Re(t),f=l?"[object Array]":ye(e),p=d?"[object Array]":ye(t),h=(f=f==r?s:f)==s,v=(p=p==r?s:p)==s,g=f==p;if(g&&Ie(e)){if(!Ie(t))return!1;l=!0,h=!1}if(g&&!h)return c||(c=new oe),l||we(e)?he(e,t,n,a,u,c):function(e,t,n,r,s,a,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new L(e),new L(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ae(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=b;case o:var l=1&r;if(c||(c=m),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;r|=2,u.set(e,t);var f=he(c(e),c(t),r,s,a,u);return u.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,a,u,c);if(!(1&n)){var _=h&&w.call(e,"__wrapped__"),S=v&&w.call(t,"__wrapped__");if(_||S){var y=_?e.value():e,A=S?t.value():t;return c||(c=new oe),u(y,A,n,a,c)}}if(!g)return!1;return c||(c=new oe),function(e,t,n,r,i,s){var o=1&n,a=ve(e),u=a.length,c=ve(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var d=a[l];if(!(o?d in t:w.call(t,d)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var p=!0;s.set(e,t),s.set(t,e);var h=o;for(;++l<u;){d=a[l];var v=e[d],g=t[d];if(r)var _=o?r(g,v,d,t,e,s):r(v,g,d,e,t,s);if(!(void 0===_?v===g||i(v,g,n,r,s):_)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var S=e.constructor,y=t.constructor;S==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof y&&y instanceof y||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,a,u,c)}(e,t,n,a,de,u))}function fe(e){return!(!De(e)||function(e){return!!N&&N in e}(e))&&(Te(e)?P:a).test(me(e))}function pe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||M,t!==r)return K(e);var t,n,r,i=[];for(var s in Object(e))w.call(e,s)&&"constructor"!=s&&i.push(s);return i}function he(e,t,n,r,i,s){var o=1&n,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var l=-1,d=!0,f=2&n?new se:void 0;for(s.set(e,t),s.set(t,e);++l<a;){var p=e[l],h=t[l];if(r)var v=o?r(h,p,l,t,e,s):r(p,h,l,e,t,s);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!y(t,(function(e,t){if(o=t,!f.has(o)&&(p===e||i(p,e,n,r,s)))return f.push(t);var o}))){d=!1;break}}else if(p!==h&&!i(p,h,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function ve(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ne,Se)}function ge(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function _e(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=z?z(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(z){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return w.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return z?void 0!==t[e]:w.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=z&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ue(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ue(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ue(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ue(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(W||re),string:new ne}},ie.prototype.delete=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return ge(this,e).get(e)},ie.prototype.has=function(e){return ge(this,e).has(e)},ie.prototype.set=function(e,t){var n=ge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},se.prototype.add=se.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},se.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.clear=function(){this.__data__=new re,this.size=0},oe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},oe.prototype.get=function(e){return this.__data__.get(e)},oe.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!W||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(r)}return n.set(e,t),this.size=n.size,this};var Se=q?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}(q(e),(function(t){return V.call(e,t)})))}:function(){return[]},ye=ce;function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function me(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ae(e,t){return e===t||e!=e&&t!=t}(x&&"[object DataView]"!=ye(new x(new ArrayBuffer(1)))||W&&ye(new W)!=i||Y&&"[object Promise]"!=ye(Y.resolve())||B&&ye(new B)!=o||G&&"[object WeakMap]"!=ye(new G))&&(ye=function(e){var t=ce(e),n=t==s?e.constructor:void 0,r=n?me(n):"";if(r)switch(r){case J:return"[object DataView]";case X:return i;case $:return"[object Promise]";case Q:return o;case Z:return"[object WeakMap]"}return t});var Ee=le(function(){return arguments}())?le:function(e){return Oe(e)&&w.call(e,"callee")&&!V.call(e,"callee")},Re=Array.isArray;var Ie=H||function(){return!1};function Te(e){if(!De(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function De(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oe(e){return null!=e&&"object"==typeof e}var we=S?function(e){return function(t){return e(t)}}(S):function(e){return Oe(e)&&Me(e.length)&&!!c[ce(e)]};function Ne(e){return null!=(t=e)&&Me(t.length)&&!Te(t)?ae(e):pe(e);var t}n.exports=function(e,t){return de(e,t)}}).call(this,n(13),n(14)(e))},function(e,t,n){var r=n(6);e.exports=r.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),s=r(n(7)),o=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(){},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,n){e._lp.setAppIdForDevelopmentMode(t,n)},e.setAppIdForProductionMode=function(t,n){e._lp.setAppIdForProductionMode(t,n)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,n){e._lp.setRequestBatching(t,n)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.enableRichInAppMessages=function(t){e._lp.enableRichInAppMessages(t)},e.processMessageEvent=function(t,n){e._lp.processMessageEvent(t,n)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e._lp).getVariable.apply(t,n)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,n,r){e._lp.start(t,n,r)},e.startFromCache=function(t,n,r){e._lp.startFromCache(t,n,r)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,n){e._lp.setUserAttributes(t,n)},e.track=function(t,n,r,i){e._lp.track(t,n,r,i)},e.trackPurchase=function(t,n,r,i){void 0===i&&(i="Purchase"),e._lp.trackPurchase(t,n,r,i)},e.advanceTo=function(t,n,r){e._lp.advanceTo(t,n,r)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.defineAction=function(t){e._lp.defineAction(t)},e.applyQueue=function(t){e._lp.applyQueue(t)},e.on=function(t,n){e._lp.on(t,n)},e.off=function(t,n){e._lp.off(t,n)},e.getFileUrl=function(t){return e._lp.getFileUrl(t)},e.__destroy=function(){this._lp=new s.default(window)},e._lp=new s.default(window),e.VERSION=i.default.SDK_VERSION,e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),o=i(n(8)),a=i(n(0)),u=i(n(9)),c=i(n(10)),l=i(n(11)),d=i(n(12)),f=i(n(2)),p=i(n(16)),h=i(n(17)),v=i(n(18)),g=n(19),_=i(n(20)),S=a.default.DEFAULT_KEYS.SESSION,y=function(){function e(e){var t=this;this.wnd=e,this._events=new v.default,this._internalState=new u.default,this._lpInbox=new c.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new l.default,this._varCache=new _.default(this.createRequest.bind(this)),this._lpSocket=new d.default(this._varCache,this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest),this._events),this._pushManager=new p.default(this.createRequest.bind(this)),this._messages=new h.default(this._events,this.createRequest.bind(this),this.getFileUrl.bind(this)),this._browserDetector=new o.default(e),this._events.on("navigationChange",(function(e){var n=!1;t._events.emit("openUrl",{preventDefault:function(){return n=!0},url:e}),n||t.wnd.location.assign(e)})),this._events.on("registerForPush",(function(){return t.registerForWebPush()}))}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.enableRichInAppMessages=function(e){this._messages.enableRichInAppMessages(e)},e.prototype.processMessageEvent=function(e,t){this._messages.processMessageEvent(e,t)},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype.onInboxAction=function(e,t){var n=this;this._messages.trackMessage(e,{event:"Open"},(function(){return t&&n._messages.onAction(t)}))},e.prototype.defineAction=function(e){this._varCache.registerActionDefinition(r({kind:g.MessageKind.Template},e))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.getFileUrl=function(e){return this._lpRequest.getFileUrl(e)},e.prototype.forceContentUpdate=function(e){var t=this,n=(new s.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(n){var r=t._lpRequest.getLastResponse(n),i=t._lpRequest.isResponseSuccess(r);i&&(t._varCache.applyDiffs(r[a.default.KEYS.VARS],r[a.default.KEYS.VARIANTS],r[a.default.KEYS.ACTION_DEFINITIONS]),t._varCache.setVariantDebugInfo(r[a.default.KEYS.VARIANT_DEBUG_INFO]),t._events.emit("messagesReceived",r[a.default.KEYS.MESSAGES])),e&&e(i)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,n){var r=this;if("function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.hasActiveSession())return this.startFromCache(e,t,n);this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._varCache.onUpdate=function(){r._varCache.triggerVariablesChangedHandlers()};var i=(new s.default).add(a.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(a.default.PARAMS.COUNTRY,a.default.VALUES.DETECT).add(a.default.PARAMS.REGION,a.default.VALUES.DETECT).add(a.default.PARAMS.CITY,a.default.VALUES.DETECT).add(a.default.PARAMS.LOCATION,a.default.VALUES.DETECT).add(a.default.PARAMS.SYSTEM_NAME,this._systemName||this._browserDetector.OS).add(a.default.PARAMS.SYSTEM_VERSION,(this._systemVersion||"").toString()).add(a.default.PARAMS.BROWSER_NAME,this._browserDetector.browser).add(a.default.PARAMS.BROWSER_VERSION,this._browserDetector.version.toString()).add(a.default.PARAMS.LOCALE,a.default.VALUES.DETECT).add(a.default.PARAMS.DEVICE_NAME,this._deviceName||this._browserDetector.browser+" "+this._browserDetector.version).add(a.default.PARAMS.DEVICE_MODEL,this._deviceModel||"Web Browser").add(a.default.PARAMS.NEWSFEED_MESSAGES,this._lpInbox.messageIds()).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.START,i,{queued:!0,sendNow:!0,response:function(e){r._internalState.hasStarted=!0;var t=r._lpRequest.getLastResponse(e),n=r._lpRequest.isResponseSuccess(t);if(r._internalState.startSuccessful=n,n){r.updateSession();var i=t[a.default.KEYS.MESSAGES];if(t.actionDefinitions&&(i.actionDefinitions=t.actionDefinitions),r._events.emit("messagesReceived",i),t[a.default.KEYS.SYNC_INBOX]&&r._lpInbox.downloadMessages(),r._internalState.devMode){var s=t[a.default.KEYS.LATEST_VERSION];s&&console.log("A newer version of the Leanplum SDK, "+s+', is available.\nUse "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.'),r.connectSocket()}r._varCache.applyDiffs(t[a.default.KEYS.VARS],t[a.default.KEYS.VARIANTS],t[a.default.KEYS.ACTION_DEFINITIONS]),r._varCache.setVariantDebugInfo(t[a.default.KEYS.VARIANT_DEBUG_INFO]),r._varCache.token=t[a.default.KEYS.TOKEN]}else r._varCache.loadDiffs();r._events.emit("start",{success:n}),r._internalState.triggerStartHandlers()}})},e.prototype.startFromCache=function(e,t,n){"function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.updateSession(),this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._events.emit("resume"),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(a.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){f.default.removeFromLocalStorage(S)}})},e.prototype.pauseSession=function(){this.createRequest(a.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this._events.emit("resume"),this.createRequest(a.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(a.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(a.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var n=(new s.default).add(a.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(a.default.PARAMS.NEW_USER_ID,e);this._events.emit("setUserAttribute",t),this.createRequest(a.default.METHODS.SET_USER_ATTRIBUTES,n,{queued:!0}),e&&(this._lpRequest.userId=e,f.default.saveToLocalStorage(a.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,n,r){var i=this;"object"==typeof t&&null!=t?(r=t,n=void 0,t=void 0):"string"==typeof t?(r=n,n=t,t=void 0):"object"==typeof n&&null!=n&&(r=n,n=void 0);var o=(new s.default).add(a.default.PARAMS.EVENT,e).add(a.default.PARAMS.VALUE,t||0).add(a.default.PARAMS.INFO,n).add(a.default.PARAMS.PARAMS,JSON.stringify(r));this._events.emit("track",{eventName:e,params:r}),this.createRequest(a.default.METHODS.TRACK,o,{queued:!0,response:function(){return i.updateSession()}})},e.prototype.trackPurchase=function(e,t,n,r){void 0===r&&(r="Purchase");var i=(new s.default).add(a.default.PARAMS.EVENT,r).add(a.default.PARAMS.VALUE,e||0).add(a.default.PARAMS.PARAMS,JSON.stringify(n));t&&i.add(a.default.PARAMS.CURRENCY_CODE,t),this._events.emit("track",{eventName:r}),this.createRequest(a.default.METHODS.TRACK,i,{queued:!0})},e.prototype.advanceTo=function(e,t,n){"object"==typeof t&&null!=t&&(n=t,t=void 0);var r=(new s.default).add(a.default.PARAMS.STATE,e).add(a.default.PARAMS.INFO,t).add(a.default.PARAMS.PARAMS,JSON.stringify(n));this._events.emit("advanceState",{state:e,params:n}),this.createRequest(a.default.METHODS.ADVANCE,r,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){return this._pushManager.isWebPushSubscribed()},e.prototype.setWebPushOptions=function(e){this._webPushOptions=r({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var n=this._webPushOptions||{},r=e||n.serviceWorkerUrl,i=n&&n.scope?{scope:n.scope}:null;return this._pushManager.register(r,i,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){return this._pushManager.unsubscribeUser()},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,n){void 0===n&&(n={}),this._lpRequest.request(e,t,r({devMode:this._internalState.devMode},n))},e.prototype.connectSocket=function(){this._lpSocket.connect({appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId})},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(f.default.getFromLocalStorage(S));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){f.default.saveToLocalStorage(S,String(Date.now()))},e}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!==n.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),o=i(n(0)),a=function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var n=t.response[0];n&&n.newsfeedMessages&&(e.messageMap=n.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var n=new s.default;n.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",n,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),n=e.split("##")[0],r=(null==t?void 0:t.openAction())||null;this.onAction(n,r)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new s.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){this.changeHandlers.push(e)},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){sessionStorage.setItem(o.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap))},e.prototype.load=function(){var e=sessionStorage.getItem(o.default.DEFAULT_KEYS.INBOX_MESSAGES);this.messageMap=JSON.parse(e)||{}},e.prototype.count=function(){return a(this.messageMap).length},e.prototype.unreadCount=function(){return a(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var n in this.messageMap){var r=this.messageMap[n];e(r)&&t.push(c.create(n,r))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?c.create(e,t):null},e}();t.default=u;var c=function(){function e(e,t,n,r,i,s,o,a){this._id=e,this._title=t,this._subtitle=n,this._data=r,this._timestamp=i,this._isRead=s,this._imageUrl=o,this._openAction=a}return e.create=function(t,n){var i,s,a,u,c,l,d,f,p,h,v,g=null===(i=n.messageData)||void 0===i?void 0:i.parentCampaignId,_=r(r({},null===(a=null===(s=n.messageData)||void 0===s?void 0:s.vars)||void 0===a?void 0:a[o.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:g});return new e(t,null===(c=null===(u=n.messageData)||void 0===u?void 0:u.vars)||void 0===c?void 0:c.Title,null===(d=null===(l=n.messageData)||void 0===l?void 0:l.vars)||void 0===d?void 0:d.Subtitle,null===(p=null===(f=n.messageData)||void 0===f?void 0:f.vars)||void 0===p?void 0:p.Data,n.deliveryTimestamp,n.isRead,null===(v=null===(h=n.messageData)||void 0===h?void 0:h.vars)||void 0===v?void 0:v.Image,_)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.data=function(){return this._data},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),s=r(n(0)),o=r(n(2)),a=r(n(3)),u=function(){function e(e){void 0===e&&(e=new a.default),this.network=e,this.cooldownTimeout=null,this.lastRequestTime=void 0,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(s.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!0,configurable:!0}),e.prototype.request=function(e,t,n){var r=this;if(void 0===n&&(n={}),n=n||{},t=t||new i.default,this.deviceId||(this.deviceId=this.loadLocal(s.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var o="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=0;u<16;u++)o+=a.charAt(Math.floor(Math.random()*a.length));this.deviceId=o,this.saveLocal(s.default.DEFAULT_KEYS.DEVICE_ID,o)}this.saveLocal(s.default.DEFAULT_KEYS.USER_ID,this.userId);var c=t.attachApiKeys(this.appId,this.clientKey).add(s.default.PARAMS.SDK_VERSION,s.default.SDK_VERSION).add(s.default.PARAMS.DEVICE_ID,this.deviceId).add(s.default.PARAMS.USER_ID,this.userId).add(s.default.PARAMS.ACTION,e).add(s.default.PARAMS.VERSION_NAME,this.versionName).add(s.default.PARAMS.DEV_MODE,n.devMode).add(s.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),l=n.success||n.response,d=n.error||n.response;if(!this.appId||!this.clientKey){var f="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(f),void(d&&d(f))}if(t.body())this.network.ajax("POST",this.apiPath+"?"+c.build(),t.body(),l,d,n.queued);else{var p=n.devMode||n.sendNow||!this.batchEnabled,h=function(){var e=r.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),o=(new i.default).attachApiKeys(r.appId,r.clientKey).add(s.default.PARAMS.SDK_VERSION,s.default.SDK_VERSION).add(s.default.PARAMS.ACTION,s.default.METHODS.MULTI).add(s.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();r.network.ajax("POST",r.apiPath+"?"+o,t,l,d,n.queued)}};if(!p&&this.batchCooldown){var v=(new Date).getTime()/1e3;!this.lastRequestTime||v-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=v):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){r.cooldownTimeout=null,r.lastRequestTime=(new Date).getTime()/1e3,h()}),1e3*(this.batchCooldown-(v-this.lastRequestTime))))}this.saveRequestForLater(c.buildDict()),p&&h()}},e.prototype.getFileUrl=function(e){if(!e)return"";var t=(new i.default).attachApiKeys(this.appId,this.clientKey).add(s.default.PARAMS.SDK_VERSION,s.default.SDK_VERSION).add(s.default.PARAMS.ACTION,"downloadFile").add("filename",e);return this.apiPath+"?"+t.build()},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,n,r,i=null!==(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==n?n:0;return i>0?null===(r=null==e?void 0:e.response)||void 0===r?void 0:r[i-1]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(s.default.DEFAULT_KEYS.COUNT)||0,n=s.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(n,JSON.stringify(e)),t++,this.saveLocal(s.default.DEFAULT_KEYS.COUNT,t)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(s.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(s.default.DEFAULT_KEYS.COUNT);for(var n=0;n<t;n++){var r=s.default.DEFAULT_KEYS.ITEM+n;try{e.push(JSON.parse(this.loadLocal(r)))}catch(e){}this.removeLocal(r)}return e},e.prototype.loadLocal=function(e){return o.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){o.default.saveToLocalStorage(e,t)},e.prototype.removeLocal=function(e){o.default.removeFromLocalStorage(e)},e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),s=r(n(1)),o=r(n(0)),a=r(n(15)),u=function(){function e(e,t,n,r){this.cache=e,this.createRequest=t,this.getLastResponse=n,this.events=r,this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com"}return e.prototype.connect=function(e){var t=this;if(WebSocket){var n=!1;this.socketClient=new a.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var r;n||(console.log("Leanplum: Connected to development server."),t.socketClient.send("auth",((r={})[o.default.PARAMS.APP_ID]=e.appId,r[o.default.PARAMS.DEVICE_ID]=e.deviceId,r)),n=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=this.onMessageReceived.bind(this),this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),n=!1},this.socketClient.connect(this.socketHost),setInterval((function(){t.socketClient.connected||t.socketClient.connecting||t.socketClient.connect(t.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e.prototype.onMessageReceived=function(e,t){var n=this;if("updateVars"===e){var r=(new s.default).add(o.default.PARAMS.INCLUDE_DEFAULTS,!1);this.createRequest(o.default.METHODS.GET_VARS,r,{queued:!1,sendNow:!0,response:function(e){var t=n.getLastResponse(e),r=t[o.default.KEYS.VARS],s=t[o.default.KEYS.VARIANTS],a=t[o.default.KEYS.ACTION_DEFINITIONS];i.default(r,n.cache.diffs)||n.cache.applyDiffs(r,s,a)}})}else if("getVariables"===e)this.cache.sendVariables(),this.socketClient.send("getContentResponse",{updated:!0});else if("getActions"===e){var a=this.cache.sendActions();this.socketClient.send("getContentResponse",{updated:a})}else if("registerDevice"===e){var u=t[0];alert("Your device has been registered to "+u.email+".")}else if("trigger"===e){u=t[0];this.events.emit("previewRequest",u)}},e}();t.default=u},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),s=function(){function e(){this.network=new i.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://"+e+"/socket.io/1","",(function(n){var r=n.split(":"),i=r[0],s=parseInt(r[1])/2*1e3;t.socket=new WebSocket("wss://"+e+"/socket.io/1/websocket/"+i);var o=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),o=setInterval((function(){t.socket.send("2:::")}),s)},t.socket.onclose=function(){t.connected=!1,clearInterval(o),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var n=e.data.split(":"),r=parseInt(n[0]);if(2===r)t.socket.send("2::");else if(5===r){var i=n[1],s=JSON.parse(n.slice(3).join(":")),o=s.name,a=s.args;i&&t.socket.send("6:::"+i),t.onmessage&&t.onmessage(o,a)}else 7===r&&console.log("Socket error: "+e.data)},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.send=function(e,t){if(this.connected){var n=JSON.stringify({name:e,args:t});this.socket.send("5:::"+n)}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),a=s(n(0)),u=s(n(2)),c=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!0,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(){return r(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration()]:[2,!1];case 1:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[2,!1];case 2:return t=r.sent(),(n=null!==t)&&this.updateNewSubscriptionOnServer(t),[2,n]}}))}))},e.prototype.register=function(e,t,n){return r(this,void 0,void 0,(function(){var r,s,o,a;return i(this,(function(i){switch(i.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,n(!1)];i.label=1;case 1:return i.trys.push([1,4,,5]),r=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return r.serviceWorkerRegistration=i.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return s=i.sent(),(o=null!==s)&&this.updateNewSubscriptionOnServer(s),[2,n(o)];case 4:return a=i.sent(),console.log("Leanplum: Service Worker Error: ",a),[2,n(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=r.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw n=r.sent(),new Error("Leanplum: Failed to subscribe the user: "+n);case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,this.isWebPushSubscribed()];case 1:if(!n.sent())return[3,6];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(e=n.sent()))throw new Error;return[4,e.unsubscribe()];case 4:return n.sent(),[3,6];case 5:throw t=n.sent(),new Error("Leanplum: Error unsubscribing: "+t);case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return this.serviceWorkerRegistration?[3,2]:(e=this,[4,this.serviceWorker.getRegistration()]);case 1:e.serviceWorkerRegistration=t.sent(),t.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=this.decodeData(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),n=JSON.stringify(t);u.default.getFromLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==n&&(u.default.saveToLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,n),this.setSubscription(n))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],n="getKey"in e?e.getKey("auth"):[],r=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),i=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(n)));return{endpoint:e.endpoint,key:r,auth:i}},e.prototype.setSubscription=function(e){if(e){var t=(new o.default).add(a.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(a.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),o=i(n(1)),a=i(n(3)),u=i(n(4)),c=i(n(2)),l=function(){function e(){this.session={},this.triggers={},this.occurrences={}}return e.prototype.recordOccurrence=function(e){var t=(this.session[e]||0)+1;this.session[e]=t;var n=this.occurrences[e]||[];n.push(Date.now()),this.occurrences[e]=n,this.save()},e.prototype.recordTriggerOccurrence=function(e){var t=this.triggers[e]||[];return t.push(Date.now()),this.triggers[e]=t,this.save(),t.length},e.prototype.getSessionOccurranceCount=function(e){return this.session[e]||0},e.prototype.getOccurrences=function(e){return this.occurrences[e]||[]},e.prototype.clearSession=function(){this.session={}},e.prototype.load=function(){var e=c.default.getFromLocalStorage(s.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES);if(e){var t=JSON.parse(e);this.session=t.session,this.triggers=t.triggers,this.occurrences=t.occurrences}},e.prototype.save=function(){var e=s.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES;c.default.saveToLocalStorage(e,JSON.stringify({session:this.session,triggers:this.triggers,occurrences:this.occurrences}))},e}(),d=function(){function e(e,t,n){var r=this;this.events=e,this.createRequest=t,this.getFileUrl=n,this._messageCache={},this.occurrenceTracker=new l,this._showRichIAM=!1,e.on("previewRequest",this.onMessagePreview.bind(this)),e.on("messagesReceived",this.onMessagesReceived.bind(this)),e.on("start",(function(){r.occurrenceTracker.load(),r.occurrenceTracker.clearSession(),r.onTrigger({trigger:"start"})})),e.on("resume",(function(){var e=s.default.DEFAULT_KEYS.MESSAGE_CACHE,t=c.default.getFromLocalStorage(e);r._messageCache=t?JSON.parse(t):r._messageCache,r.occurrenceTracker.load(),r.onTrigger({trigger:"resume"})})),e.on("track",(function(e){r.onTrigger({trigger:"event",eventName:e.eventName,params:e.params||{}})})),e.on("advanceState",(function(e){return r.onTrigger({trigger:"state",state:e.state,params:e.params||{}})})),e.on("setUserAttribute",(function(e){return r.onTrigger({trigger:"userAttribute",attributes:e})}))}return e.prototype.enableRichInAppMessages=function(e){this._showRichIAM=e},e.prototype.onTrigger=function(e){var t=this,n=this.getMessages();Object.keys(n).filter((function(r){return t.shouldShowMessage(r,n[r],e)})).slice(0,1).forEach((function(e){return t.showMessage(e,n[e])}))},e.prototype.onMessagePreview=function(e){var t=e.action,n={track:function(t){var n=t?"event '"+t+"'":"impression";console.log("Tracking "+n+" for "+e.messageId)},runActionNamed:function(e){return console.log("Running untracked action '"+e+"'")},runTrackedActionNamed:function(e){return console.log("Running tracked action '"+e+"'")}};this.handleMessage({isPreview:!0,message:r({messageId:e.messageId},t),context:n})},e.prototype.onMessagesReceived=function(e){var t=e||{};this._messageCache=t,c.default.saveToLocalStorage(s.default.DEFAULT_KEYS.MESSAGE_CACHE,JSON.stringify(t))},e.prototype.shouldShowMessage=function(e,t,n){var r=Date.now(),i=this.matchesTrigger(t.whenTriggers,n),s=this.matchesTrigger(t.unlessTriggers,n);if(!i||s)return!1;var o=this.occurrenceTracker.recordTriggerOccurrence(e);if(!this.matchesLimits(e,t.whenLimits,o))return!1;if(t.startTime&&t.endTime&&(r<t.startTime||t.endTime<r))return!1;return!0},e.prototype.showMessage=function(e,t){var n=this,i=this.addDefaults(r({},t.vars)),s={track:function(t,r,i,s){n.occurrenceTracker.recordOccurrence(e),n.trackMessage(e,{event:t,value:r,info:i,params:s})},runActionNamed:function(t){return n.onAction(i[t],e)},runTrackedActionNamed:function(t){var r=t.replace(/ action$/,"");n.trackMessage(e,{event:r},(function(){return n.onAction(i[t],e)}))}};this.handleMessage({context:s,message:r({messageId:e},i)})},e.prototype.processMessageEvent=function(e,t){var n=document.getElementById("lp-message-"+e);if(n){var r=t.replace(/^http:\/\/leanplum\//,"").split("?"),i=r[0],s=r[1],o=(void 0===s?"":s).split("&").reduce((function(e,t){var n=t.split("="),r=n[0],i=n[1];return e[r]=decodeURIComponent(i),e}),{}),a=n.metadata,u=a.message,c=a.context;switch(i){case"loadFinished":if(n.style.visibility="visible",n.style.left="0",u["HTML Height"]>0){var l=u["HTML Width"];n.style.height=u["HTML Height"]+"px",n.style.width=l,n.style.left="calc((100% - "+l+") / 2)";var d=u["HTML Align"].toLowerCase(),f="top"===d?"bottom":"top";n.style[d]="0",n.style[f]=""}else n.style.top="0";c.track();break;case"track":c.track(o.event,parseFloat(o.value),o.parameters,o.info);break;case"runAction":case"runTrackedAction":c[i+"Named"](o.action);case"close":n.metadata=null,n.parentNode.removeChild(n)}}else console.log("message closed, skipping event processing")},e.prototype.handleMessage=function(e){var t=this;if(this._showRichIAM&&"HTML"===e.message.__name__){this.resolveFiles(e.message);var n=e.message.Template||"";(new a.default).ajax("get",n.replace("-10.html","-11.html"),"",(function(n){return t.renderRichInAppMessage(n,e)}),(function(){}),!1,!0)}else this.events.emit("showMessage",this.resolveFields(e))},e.prototype.renderRichInAppMessage=function(e,t){var n=t.message.messageId,r=JSON.stringify(t.message),i=document.createElement("iframe");i.setAttribute("id","lp-message-"+n),i.style.cssText=["border-width: 0","position: fixed","top: -100%","left: -100%","width: 100%","height: 100%","visibility: hidden","z-index: 100000"].join(";"),document.body.appendChild(i),i.metadata=t,i.contentWindow.messageId=n;var s=e.replace("##Vars##",r).replace("<body>","<body><script>window.messageId='"+n+"'<\/script>");if("srcdoc"in i)i.srcdoc=s;else{var o=i.contentWindow.document;o.open(),o.write(s),o.close()}},e.prototype.trackMessage=function(e,t,n){void 0===t&&(t={event:null}),void 0===n&&(n=function(){});var r=(new o.default).add(s.default.PARAMS.MESSAGE_ID,e),i=function(e){return void 0!==e};t.event&&r.add(s.default.PARAMS.EVENT,t.event),i(t.value)&&r.add(s.default.PARAMS.VALUE,t.value||0),i(t.info)&&r.add(s.default.PARAMS.INFO,t.info),i(t.params)&&r.add(s.default.PARAMS.PARAMS,JSON.stringify(t.params)),this.createRequest(s.default.METHODS.TRACK,r,{queued:!0,sendNow:!0,response:n})},e.prototype.onAction=function(e,t){var n=this;if(void 0===t&&(t=""),e){var r=this._messageCache;if("Chain to Existing Message"!==e.__name__){var i=function(){var r=e.__name__;"Open URL"===e.__name__?n.events.emit("navigationChange",e.URL):"Register For Push"===e.__name__?n.events.emit("registerForPush"):r&&n.showMessage(t,{messageId:t,action:r,vars:e})},s=this.messageIdFromAction(e);s?this.trackMessage(s,{event:null},i):i()}else{var o=e["Chained message"],a=r[o];"Open URL"===a.action?this.trackMessage(o,{event:"View"},(function(){return n.onAction(a.vars,o)})):"Register For Push"===a.action?this.events.emit("registerForPush"):this.showMessage(o,a)}}},e.prototype.getMessages=function(){return this._messageCache||{}},e.prototype.colorToHex=function(e){var t=255&e,n=255&(e>>=8);return"rgba("+(255&(e>>=8))+","+n+","+t+","+(255&(e>>=8))/255+")"},e.prototype.addDefaults=function(e){var t=(this.getMessages().actionDefinitions||{})[e.__name__];if(!t)return e;return function e(t,n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r],o=n[s];"object"==typeof o?t[s]=e(t[s]||{},o):void 0===t[s]&&(t[s]=o)}return t}(r({},e),t.values)},e.prototype.resolveFiles=function(e){var t=/^__file__/;for(var n in e){if(t.test(n))e[n.replace(t,"")]=this.getFileUrl(e[n]);else"object"==typeof e[n]&&(e[n]=this.resolveFiles(e[n]))}return e},e.prototype.resolveFields=function(e){var t=/\bcolor/i,n=/^__file__/;for(var r in e){if(n.test(r))e[r.replace(n,"")+" URL"]=this.getFileUrl(e[r]);else t.test(r)?e[r]=this.colorToHex(e[r]):"object"==typeof e[r]&&(e[r]=this.resolveFields(e[r]))}return e},e.prototype.messageIdFromAction=function(e){var t=this._messageCache,n=r({},e);delete n.parentCampaignId;for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];if(a.parentCampaignId===e.parentCampaignId&&u.default(a.vars,n))return o}},e.prototype.matchesTrigger=function(e,t){if(!e)return!1;var n=function(e,t){return 0===e.toString().localeCompare(t.toString(),void 0,{sensitivity:"accent"})},r=function(e,t,r){var i=e===r.noun;if("triggers"===r.verb)return i;if("triggersWithParameter"===r.verb){var s=r.objects,o=s[0],a=s[1],u=o in t&&n(a,t[o]);return i&&u}};return e.children.some((function(e){var i=e.subject;switch(t.trigger){case"start":return"start"===i||"resume"===i;case"resume":return"resume"===i;case"event":return"event"===i&&r(t.eventName,t.params,e);case"userAttribute":if("userAttribute"!==i)return!1;var s=e.noun in t.attributes;if("changes"===e.verb)return s;if("changesTo"===e.verb){if(!s)return!1;var o=t.attributes[e.noun];return e.objects.some((function(e){return null===e&&null===o||e&&o&&n(e,o)}))}break;case"state":return"state"===i&&r(t.state,t.params,e)}return!1}))},e.prototype.matchesLimits=function(e,t,n){var r=this;return!t||t.children.every((function(t){var i=t.subject,s=t.verb,o=parseInt(t.noun.toString());if("times"===i){if("limitSession"===s)return r.occurrenceTracker.getSessionOccurranceCount(e)+1===o;if("limitUser"===s)return(a=r.occurrenceTracker.getOccurrences(e).length)+1<=o;var a,u=parseInt(t.objects[0].toString())||1,c=function(e){switch(e){case"limitSecond":return 1e3;case"limitMinute":return 6e4;case"limitHour":return 36e5;case"limitDay":return 864e5}}(s)*u,l=(a=r.occurrenceTracker.getOccurrences(e)).length;return l<o||a.slice(l-o,l)[0]<Date.now()-c}return"onNthOccurrence"===i?n===o:"everyNthOccurrence"===i&&n%o==0}))},e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.handlers=[]}return e.prototype.on=function(e,t){this.handlers.push({eventName:e,callback:t})},e.prototype.off=function(e,t){this.handlers=this.handlers.filter((function(n){return n.eventName!==e||n.callback!==t}))},e.prototype.emit=function(e,t){this.handlers.forEach((function(n){n.eventName===e&&n.callback(t)}))},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Int="int",e.Integer="integer",e.Color="color",e.Float="float",e.Decimal="decimal",e.Number="number",e.Boolean="bool",e.String="string",e.Text="text",e.HTML="html",e.File="file",e.List="list",e.Group="group",e.Action="action",e.Unknown=""}(t.ActionParameterType||(t.ActionParameterType={})),function(e){e[e.Action=2]="Action",e[e.Template=3]="Template"}(t.MessageKind||(t.MessageKind={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),o=i(n(0)),a=i(n(2));var u=function(){function e(e){this.createRequest=e,this.actionDefinitions={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,n){var i;this.diffs=e,this.variants=t,this.actionDefinitions=r(r({},this.actionDefinitions),(i=n)?Object.keys(i).reduce((function(e,t){e[t]=r({},i[t]);var n=i[t].kinds;return n&&(e[t].kinds=Object.keys(n).reduce((function(r,i){var s=n[i].toLowerCase();return r[i]=s,"action"===s&&(e[t].values[i]=""),r}),{})),e}),{}):i),this.hasReceivedDiffs=!0,this.merged=function e(t,n){if("number"==typeof n||"boolean"==typeof n||"string"==typeof n)return n;if(null==n)return t;var r=function(e){return function(t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n]);else for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r)}},i=r(t),s=r(n),o=!1;if(null===t&&!(n instanceof Array))for(var a in o=null,n)if(n.hasOwnProperty(a)){if(null===o&&(o=!0),"string"!=typeof a){o=!1;break}if(a.length<3||"["!==a.charAt(0)||"]"!==a.charAt(a.length-1)){o=!1;break}}if(t instanceof Array||o){var u=[];return i((function(e){u.push(e)})),s((function(t){for(var r=parseInt(t.substring(1,t.length-1)),i=n[t];r>=u.length;)u.push(null);u[r]=e(u[r],i)})),u}var c={};return i((function(e){null!==n[e]&&void 0!==n[e]||(c[e]=t[e])})),s((function(r){c[r]=e(null===t?null:t[r]||{},n[r])})),c}(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.ACTION_DEFINITIONS)||null)),this.token=this.loadLocal(o.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(o.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: "+e)}},e.prototype.saveDiffs=function(){this.saveLocal(o.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(o.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(o.default.DEFAULT_KEYS.ACTION_DEFINITIONS,JSON.stringify(this.actionDefinitions||{})),this.saveLocal(o.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(o.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getVariables();if(n)for(var r=0;r<e.length;r++)n=n[e[r]];return n},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendActions=function(){var e;return!!Object.keys(this.actionDefinitions).length&&(this.setVars(((e={})[o.default.PARAMS.ACTION_DEFINITIONS]=this.actionDefinitions,e)),!0)},e.prototype.sendVariables=function(){var e;this.setVars(((e={})[o.default.PARAMS.VARIABLES]=this.variables,e))},e.prototype.setVars=function(e){var t=(new s.default).body(JSON.stringify(e));this.createRequest(o.default.METHODS.SET_VARS,t,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.registerActionDefinition=function(e){this.actionDefinitions[e.name]=function(e){return{kind:e.kind||3,options:null,values:c(e.args),kinds:l(e.args)}}(e)},e.prototype.loadLocal=function(e){return a.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){a.default.saveToLocalStorage(e,t)},e}();function c(e){return e.reduce((function(e,t){return t.value instanceof Array?e[t.name]=c(t.value):"action"===t.type?e[t.name]="":e[t.name]=t.value,e}),{})}function l(e,t){return void 0===t&&(t=""),e.reduce((function(e,n){var i,s=""+t+n.name;return n.value instanceof Array?e=r(((i={})[s]="group",i),l(n.value,s+".")):e[s]=n.type.toLowerCase(),e}),{})}t.default=u}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0FyZ3NCdWlsZGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xvY2FsU3RvcmFnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTmV0d29yay50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNlcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9idW5kbGVzL2xlYW5wbHVtLmZ1bGwudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW0udHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1JbnRlcm5hbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Ccm93c2VyRGV0ZWN0b3IudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvSW50ZXJuYWxTdGF0ZS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bUluYm94LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtUmVxdWVzdC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVNvY2tldC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1NvY2tldElvQ2xpZW50LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1B1c2hNYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL01lc3NhZ2VzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0V2ZW50RW1pdHRlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy90eXBlcy9wdWJsaWMudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvVmFyQ2FjaGUudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImRlZmF1bHQiLCJNRVRIT0RTIiwiU1RBUlQiLCJTVE9QIiwiQURWQU5DRSIsIlRSQUNLIiwiUEFVU0VfU0VTU0lPTiIsIlJFU1VNRV9TRVNTSU9OIiwiUEFVU0VfU1RBVEUiLCJSRVNVTUVfU1RBVEUiLCJET1dOTE9BRF9GSUxFIiwiTVVMVEkiLCJTRVRfVkFSUyIsIkdFVF9WQVJTIiwiU0VUX1VTRVJfQVRUUklCVVRFUyIsIlNFVF9ERVZJQ0VfQVRUUklCVVRFUyIsIlVQTE9BRF9GSUxFIiwiUkVHSVNURVJfREVWSUNFIiwiU0RLX1ZFUlNJT04iLCJDTElFTlQiLCJQQVJBTVMiLCJBQ1RJT04iLCJBUFBfSUQiLCJDTElFTlRfS0VZIiwiQ1VSUkVOQ1lfQ09ERSIsIkRFVklDRV9JRCIsIlVTRVJfSUQiLCJORVdfVVNFUl9JRCIsIkRFVl9NT0RFIiwiVkVSU0lPTl9OQU1FIiwiU1lTVEVNX05BTUUiLCJTWVNURU1fVkVSU0lPTiIsIkJST1dTRVJfTkFNRSIsIkJST1dTRVJfVkVSU0lPTiIsIkRFVklDRV9OQU1FIiwiREVWSUNFX01PREVMIiwiVVNFUl9BVFRSSUJVVEVTIiwiTE9DQUxFIiwiQ09VTlRSWSIsIlJFR0lPTiIsIkNJVFkiLCJMT0NBVElPTiIsIlNUQVRFIiwiSU5GTyIsIkVWRU5UIiwiVkFMVUUiLCJGSUxFTkFNRSIsIlRJTUUiLCJEQVRBIiwiVkFSUyIsIkZJTEUiLCJTSVpFIiwiVkFSSUFUSU9OIiwiSEFTSCIsIkVNQUlMIiwiVkFSSUFCTEVTIiwiQUNUSU9OX0RFRklOSVRJT05TIiwiSU5DTFVERV9ERUZBVUxUUyIsIklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPIiwiTkVXU0ZFRURfTUVTU0FHRVMiLCJNRVNTQUdFX0lEIiwiV0VCX1BVU0hfU1VCU0NSSVBUSU9OIiwiS0VZUyIsIklTX1JFR0lTVEVSRUQiLCJMQVRFU1RfVkVSU0lPTiIsIlNZTkNfSU5CT1giLCJNRVNTQUdFUyIsIlZBUklBTlRTIiwiVkFSSUFOVF9ERUJVR19JTkZPIiwiVE9LRU4iLCJERUZBVUxUX0tFWVMiLCJDT1VOVCIsIklURU0iLCJJTkJPWF9NRVNTQUdFUyIsIlNFU1NJT04iLCJNRVNTQUdFX09DQ1VSUkVOQ0VTIiwiTUVTU0FHRV9DQUNIRSIsIlBVU0hfU1VCU0NSSVBUSU9OIiwiVkFMVUVTIiwiREVURUNUIiwiREVGQVVMVF9QVVNIX0FDVElPTiIsIl9faW1wb3J0RGVmYXVsdCIsInRoaXMiLCJtb2QiLCJDb25zdGFudHNfMSIsIkFyZ3NCdWlsZGVyIiwiYXJnU3RyaW5nIiwiYXJnVmFsdWVzIiwiYWRkIiwidmFsIiwiQXJyYXkiLCJKU09OIiwic3RyaW5naWZ5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYm9keSIsIl9ib2R5IiwiYXR0YWNoQXBpS2V5cyIsImFwcElkIiwiY2xpZW50S2V5IiwiYnVpbGQiLCJidWlsZERpY3QiLCJsb2NhbFN0b3JhZ2VFbmFibGVkIiwiYWx0ZXJuYXRlTG9jYWxTdG9yYWdlIiwiTG9jYWxTdG9yYWdlTWFuYWdlciIsImdldEZyb21Mb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJlIiwicmVtb3ZlRnJvbUxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJOZXR3b3JrIiwibmV0d29ya1RpbWVvdXRTZWNvbmRzIiwicmVxdWVzdFF1ZXVlIiwicnVubmluZ1JlcXVlc3QiLCJzZXROZXR3b3JrVGltZW91dCIsInNlY29uZHMiLCJhamF4IiwibWV0aG9kIiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJlcnJvciIsInF1ZXVlZCIsInBsYWluVGV4dCIsIl90aGlzIiwiZW5xdWV1ZVJlcXVlc3QiLCJhcmd1bWVudHMiLCJYRG9tYWluUmVxdWVzdCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJpbmRleE9mIiwic3Vic3RyaW5nIiwiYWpheElFOCIsImhhbmRsZWQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZV8xIiwicmFuQ2FsbGJhY2siLCJyZXNwb25zZVRleHQiLCJwYXJzZSIsInNldFRpbWVvdXQiLCJzdGF0dXMiLCJkZXF1ZXVlUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsImFib3J0IiwieGRyIiwib25sb2FkIiwicmVzcG9uc2UiLCJvbmVycm9yIiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsInRpbWVvdXQiLCJyZXF1ZXN0QXJndW1lbnRzIiwicHVzaCIsImFyZ3MiLCJzaGlmdCIsImFwcGx5IiwiYXJnc1RhZyIsIm1hcFRhZyIsIm9iamVjdFRhZyIsInNldFRhZyIsInJlSXNIb3N0Q3RvciIsInJlSXNVaW50IiwidHlwZWRBcnJheVRhZ3MiLCJmcmVlR2xvYmFsIiwiZ2xvYmFsIiwiZnJlZVNlbGYiLCJzZWxmIiwiRnVuY3Rpb24iLCJmcmVlRXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsInByb2Nlc3MiLCJub2RlVXRpbCIsImJpbmRpbmciLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwiYXJyYXlTb21lIiwiYXJyYXkiLCJwcmVkaWNhdGUiLCJpbmRleCIsImxlbmd0aCIsIm1hcFRvQXJyYXkiLCJtYXAiLCJyZXN1bHQiLCJzaXplIiwiZm9yRWFjaCIsInNldFRvQXJyYXkiLCJzZXQiLCJ1aWQiLCJmdW5jIiwidHJhbnNmb3JtIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsInRvU3RyaW5nIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsInJlSXNOYXRpdmUiLCJSZWdFeHAiLCJyZXBsYWNlIiwiQnVmZmVyIiwidW5kZWZpbmVkIiwiVWludDhBcnJheSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ltVG9TdHJpbmdUYWciLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUtleXMiLCJhcmciLCJEYXRhVmlldyIsImdldE5hdGl2ZSIsIk1hcCIsIlByb21pc2UiLCJTZXQiLCJXZWFrTWFwIiwibmF0aXZlQ3JlYXRlIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsInZhbHVlcyIsIl9fZGF0YV9fIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FycmF5IiwiaXNBcmciLCJpc0FyZ3VtZW50cyIsImlzQnVmZiIsImlzVHlwZSIsInNraXBJbmRleGVzIiwiaXRlcmF0ZWUiLCJiYXNlVGltZXMiLCJTdHJpbmciLCJpc0luZGV4IiwiYXNzb2NJbmRleE9mIiwiZXEiLCJiYXNlR2V0VGFnIiwiaXNPd24iLCJ0YWciLCJ1bm1hc2tlZCIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwiYmFzZUlzQXJndW1lbnRzIiwiaXNPYmplY3RMaWtlIiwiYmFzZUlzRXF1YWwiLCJvdGhlciIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJlcXVhbEZ1bmMiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwiZ2V0VGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsImVxdWFsQXJyYXlzIiwiYnl0ZUxlbmd0aCIsImJ5dGVPZmZzZXQiLCJidWZmZXIiLCJtZXNzYWdlIiwiY29udmVydCIsImlzUGFydGlhbCIsInN0YWNrZWQiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJnZXRBbGxLZXlzIiwib2JqTGVuZ3RoIiwib3RoTGVuZ3RoIiwic2tpcEN0b3IiLCJvYmpWYWx1ZSIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwiY29uc3RydWN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYmFzZUlzTmF0aXZlIiwiaXNPYmplY3QiLCJpc01hc2tlZCIsImlzRnVuY3Rpb24iLCJ0ZXN0IiwiYmFzZUtleXMiLCJDdG9yIiwicHJvdG8iLCJhcnJMZW5ndGgiLCJzZWVuIiwiYXJyVmFsdWUiLCJvdGhJbmRleCIsImhhcyIsImtleXNGdW5jIiwic3ltYm9sc0Z1bmMiLCJvZmZzZXQiLCJhcnJheVB1c2giLCJiYXNlR2V0QWxsS2V5cyIsImdldFN5bWJvbHMiLCJnZXRNYXBEYXRhIiwidHlwZSIsImdldFZhbHVlIiwicG9wIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwicmVzSW5kZXgiLCJhcnJheUZpbHRlciIsInN5bWJvbCIsIkFycmF5QnVmZmVyIiwicmVzb2x2ZSIsImN0b3JTdHJpbmciLCJpc0xlbmd0aCIsImJhc2VVbmFyeSIsIkxlYW5wbHVtIiwiTGVhbnBsdW1JbnRlcm5hbF8xIiwic2V0QXBpUGF0aCIsImFwaVBhdGgiLCJfbHAiLCJzZXRFbWFpbCIsInNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlIiwiYWNjZXNzS2V5Iiwic2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSIsInNldFNvY2tldEhvc3QiLCJob3N0Iiwic2V0RGV2aWNlSWQiLCJkZXZpY2VJZCIsInNldEFwcFZlcnNpb24iLCJ2ZXJzaW9uTmFtZSIsInNldERldmljZU5hbWUiLCJkZXZpY2VOYW1lIiwic2V0RGV2aWNlTW9kZWwiLCJkZXZpY2VNb2RlbCIsInNldFJlcXVlc3RCYXRjaGluZyIsImJhdGNoRW5hYmxlZCIsImNvb2xkb3duU2Vjb25kcyIsInNldFN5c3RlbU5hbWUiLCJzeXN0ZW1OYW1lIiwic2V0U3lzdGVtVmVyc2lvbiIsInN5c3RlbVZlcnNpb24iLCJzZXRWYXJpYWJsZXMiLCJ2YXJpYWJsZXMiLCJzZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCIsInZhcmlhbnREZWJ1Z0luZm9FbmFibGVkIiwiZW5hYmxlUmljaEluQXBwTWVzc2FnZXMiLCJlbmFibGVkIiwicHJvY2Vzc01lc3NhZ2VFdmVudCIsIm1lc3NhZ2VJZCIsImdldFZhcmlhbnREZWJ1Z0luZm8iLCJnZXRWYXJpYWJsZXMiLCJnZXRWYXJpYWJsZSIsIl9hIiwiX2kiLCJnZXRWYXJpYW50cyIsImluYm94IiwiYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIiLCJoYW5kbGVyIiwicmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIiLCJhZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciIsInJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyIiwiZm9yY2VDb250ZW50VXBkYXRlIiwiY2FsbGJhY2siLCJ1c2VTZXNzaW9uTGVuZ3RoIiwic3RhcnQiLCJ1c2VySWQiLCJ1c2VyQXR0cmlidXRlcyIsInN0YXJ0RnJvbUNhY2hlIiwic3RvcCIsInBhdXNlU2Vzc2lvbiIsInJlc3VtZVNlc3Npb24iLCJwYXVzZVN0YXRlIiwicmVzdW1lU3RhdGUiLCJnZXRVc2VySWQiLCJzZXRVc2VySWQiLCJzZXRVc2VyQXR0cmlidXRlcyIsInRyYWNrIiwiZXZlbnQiLCJpbmZvIiwicGFyYW1zIiwidHJhY2tQdXJjaGFzZSIsImN1cnJlbmN5Q29kZSIsImFkdmFuY2VUbyIsInN0YXRlIiwiaXNXZWJQdXNoU3VwcG9ydGVkIiwiaXNXZWJQdXNoU3Vic2NyaWJlZCIsInNldFdlYlB1c2hPcHRpb25zIiwib3B0aW9ucyIsInJlZ2lzdGVyRm9yV2ViUHVzaCIsInNlcnZpY2VXb3JrZXJVcmwiLCJ1bnJlZ2lzdGVyRnJvbVdlYlB1c2giLCJjbGVhclVzZXJDb250ZW50IiwiZGVmaW5lQWN0aW9uIiwiYXBwbHlRdWV1ZSIsInF1ZXVlIiwib24iLCJldmVudE5hbWUiLCJvZmYiLCJnZXRGaWxlVXJsIiwiZmlsZW5hbWUiLCJfX2Rlc3Ryb3kiLCJWRVJTSU9OIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJBcmdzQnVpbGRlcl8xIiwiQnJvd3NlckRldGVjdG9yXzEiLCJJbnRlcm5hbFN0YXRlXzEiLCJMZWFucGx1bUluYm94XzEiLCJMZWFucGx1bVJlcXVlc3RfMSIsIkxlYW5wbHVtU29ja2V0XzEiLCJMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEiLCJQdXNoTWFuYWdlcl8xIiwiTWVzc2FnZXNfMSIsIkV2ZW50RW1pdHRlcl8xIiwicHVibGljXzEiLCJWYXJDYWNoZV8xIiwiU0VTU0lPTl9LRVkiLCJMZWFucGx1bUludGVybmFsIiwid25kIiwiX2V2ZW50cyIsIl9pbnRlcm5hbFN0YXRlIiwiX2xwSW5ib3giLCJjcmVhdGVSZXF1ZXN0Iiwib25JbmJveEFjdGlvbiIsIl9scFJlcXVlc3QiLCJfdmFyQ2FjaGUiLCJfbHBTb2NrZXQiLCJnZXRMYXN0UmVzcG9uc2UiLCJfcHVzaE1hbmFnZXIiLCJfbWVzc2FnZXMiLCJfYnJvd3NlckRldGVjdG9yIiwicHJldmVudGVkIiwiZW1pdCIsInByZXZlbnREZWZhdWx0IiwiZGV2TW9kZSIsIl9kZXZpY2VOYW1lIiwiX2RldmljZU1vZGVsIiwiYmF0Y2hDb29sZG93biIsIl9zeXN0ZW1OYW1lIiwiX3N5c3RlbVZlcnNpb24iLCJ2YXJpYW50cyIsImFjdGlvbiIsInRyYWNrTWVzc2FnZSIsIm9uQWN0aW9uIiwicmVnaXN0ZXJBY3Rpb25EZWZpbml0aW9uIiwia2luZCIsIk1lc3NhZ2VLaW5kIiwiVGVtcGxhdGUiLCJzZW5kTm93IiwiZ2V0VmFyc1Jlc3BvbnNlIiwiaXNTdWNjZXNzIiwiaXNSZXNwb25zZVN1Y2Nlc3MiLCJhcHBseURpZmZzIiwic2V0VmFyaWFudERlYnVnSW5mbyIsIl9zZXNzaW9uTGVuZ3RoIiwiaGFzQWN0aXZlU2Vzc2lvbiIsIm9uVXBkYXRlIiwidHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyIsIk9TIiwiYnJvd3NlciIsInZlcnNpb24iLCJtZXNzYWdlSWRzIiwiaGFzU3RhcnRlZCIsInN0YXJ0UmVzcG9uc2UiLCJzdGFydFN1Y2Nlc3NmdWwiLCJ1cGRhdGVTZXNzaW9uIiwibWVzc2FnZXMiLCJhY3Rpb25EZWZpbml0aW9ucyIsImRvd25sb2FkTWVzc2FnZXMiLCJsYXRlc3RWZXJzaW9uIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3RTb2NrZXQiLCJ0b2tlbiIsImxvYWREaWZmcyIsInRyaWdnZXJTdGFydEhhbmRsZXJzIiwiX3dlYlB1c2hPcHRpb25zIiwid29ya2VyVXJsIiwic2NvcGUiLCJyZWdpc3RlciIsImlzU3Vic2NyaWJlZCIsInN1YnNjcmliZVVzZXIiLCJyZWplY3QiLCJ1bnN1YnNjcmliZVVzZXIiLCJpbnZvY2F0aW9uIiwicmVxdWVzdCIsImNvbm5lY3QiLCJjdXJyZW50VGltZSIsIkRhdGUiLCJub3ciLCJsYXN0QWN0aXZlIiwicGFyc2VJbnQiLCJpc05hTiIsIkJyb3dzZXJEZXRlY3RvciIsInNlYXJjaFN0cmluZyIsImdldEJyb3dzZXJEYXRhIiwic2VhcmNoVmVyc2lvbiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImFwcFZlcnNpb24iLCJnZXRPU0RhdGEiLCJkYXRhU3RyaW5nIiwic3RyaW5nIiwiZGF0YVByb3AiLCJwcm9wIiwidmVyc2lvblNlYXJjaFN0cmluZyIsInZlcnNpb25TZWFyY2giLCJpZGVudGl0eSIsInN1YlN0cmluZyIsInBhcnNlRmxvYXQiLCJ2ZW5kb3IiLCJvcGVyYSIsInBsYXRmb3JtIiwiSW50ZXJuYWxTdGF0ZSIsInN0YXJ0SGFuZGxlcnMiLCJpZHgiLCJvYmoiLCJMZWFucGx1bUluYm94IiwibWVzc2FnZU1hcCIsImNoYW5nZUhhbmRsZXJzIiwibG9hZCIsIm5ld3NmZWVkTWVzc2FnZXMiLCJ0cmlnZ2VyQ2hhbmdlSGFuZGxlcnMiLCJtYXJrQXNSZWFkIiwiaXNSZWFkIiwicmVhZCIsImluYm94TWVzc2FnZSIsImlkIiwic3BsaXQiLCJvcGVuQWN0aW9uIiwicmVtb3ZlIiwib25DaGFuZ2VkIiwic2F2ZSIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsImdldEl0ZW0iLCJjb3VudCIsInVucmVhZENvdW50IiwiZmlsdGVyIiwieCIsIkxlYW5wbHVtSW5ib3hNZXNzYWdlIiwiYWxsTWVzc2FnZXMiLCJ1bnJlYWRNZXNzYWdlcyIsIl9pZCIsIl90aXRsZSIsIl9zdWJ0aXRsZSIsIl9kYXRhIiwiX3RpbWVzdGFtcCIsIl9pc1JlYWQiLCJfaW1hZ2VVcmwiLCJfb3BlbkFjdGlvbiIsIm1lc3NhZ2VJbmZvIiwiX2IiLCJfYyIsIl9kIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJfaiIsIl9rIiwiX2wiLCJwYXJlbnRDYW1wYWlnbklkIiwibWVzc2FnZURhdGEiLCJ2YXJzIiwiVGl0bGUiLCJTdWJ0aXRsZSIsIkRhdGEiLCJkZWxpdmVyeVRpbWVzdGFtcCIsIkltYWdlIiwidGl0bGUiLCJzdWJ0aXRsZSIsInRpbWVzdGFtcCIsImltYWdlVXJsIiwiTmV0d29ya18xIiwiTGVhbnBsdW1SZXF1ZXN0IiwibmV0d29yayIsImNvb2xkb3duVGltZW91dCIsImxhc3RSZXF1ZXN0VGltZSIsInVzZXJJZFZhbHVlIiwibG9hZExvY2FsIiwiY29uZmlndXJhYmxlIiwicG9zc2libGUiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzYXZlTG9jYWwiLCJhcmdzQnVpbGRlciIsImdldFRpbWUiLCJlcnIiLCJzZW5kVW5zZW50UmVxdWVzdHMiLCJyZXF1ZXN0c1RvU2VuZCIsInBvcFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdERhdGEiLCJtdWx0aVJlcXVlc3RBcmdzIiwic2F2ZVJlcXVlc3RGb3JMYXRlciIsIkJvb2xlYW4iLCJpdGVtS2V5IiwicmVtb3ZlTG9jYWwiLCJpZ25vcmVkIiwibG9kYXNoX2lzZXF1YWxfMSIsIlNvY2tldElvQ2xpZW50XzEiLCJMZWFucGx1bVNvY2tldCIsImNhY2hlIiwiZXZlbnRzIiwic29ja2V0Q2xpZW50Iiwic29ja2V0SG9zdCIsImF1dGgiLCJXZWJTb2NrZXQiLCJhdXRoU2VudCIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsIm9uTWVzc2FnZVJlY2VpdmVkIiwib25jbG9zZSIsInNldEludGVydmFsIiwiY29ubmVjdGVkIiwiY29ubmVjdGluZyIsImFyZ3NfMSIsImRpZmZzIiwic2VuZFZhcmlhYmxlcyIsInVwZGF0ZWQiLCJzZW5kQWN0aW9ucyIsImFsZXJ0IiwiZW1haWwiLCJnIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsIlNvY2tldElvQ2xpZW50IiwibGluZSIsInBhcnRzIiwic2Vzc2lvbiIsImhlYXJ0YmVhdCIsInNvY2tldCIsImhlYXJ0YmVhdEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIm1lc3NhZ2VQYXJ0cyIsImNvZGUiLCJzbGljZSIsImpvaW4iLCJtZXNzYWdlRXZlbnQiLCJjbG9zZSIsImFyZ3NKc29uIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsImRvbmUiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJmIiwieSIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwiUHVzaE1hbmFnZXIiLCJzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIiwic2VydmljZVdvcmtlciIsInJlZ2lzdHJhdGlvbiIsInN1YnNjcmlwdGlvbiIsImdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJwdXNoTWFuYWdlciIsImdldFN1YnNjcmlwdGlvbiIsInVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyIiwiZXJyb3JfMSIsImFwcGxpY2F0aW9uU2VydmVyS2V5IiwiZXJyb3JfMiIsInVybEI2NFRvVWludDhBcnJheSIsInN1YnNjcmliZSIsInVzZXJWaXNpYmxlT25seSIsIkVycm9yIiwiZXJyb3JfMyIsInVuc3Vic2NyaWJlIiwiZ2V0UmVnaXN0cmF0aW9uIiwiYmFzZTY0U3RyaW5nIiwiYmFzZTY0IiwicmVwZWF0IiwicmF3RGF0YSIsImRlY29kZURhdGEiLCJvdXRwdXRBcnJheSIsImNoYXJDb2RlQXQiLCJwcmVwYXJlZFN1YnNjcmlwdGlvbiIsInByZXBhcmVTdWJzY3JpcHRpb24iLCJwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyIsInNldFN1YnNjcmlwdGlvbiIsImdldEtleSIsImtleUFzY2lpIiwiZW5jb2RlRGF0YSIsImZyb21DaGFyQ29kZSIsImF1dGhBc2NpaSIsImVuZHBvaW50IiwiYnRvYSIsImF0b2IiLCJPY2N1cnJlbmNlVHJhY2tlciIsInRyaWdnZXJzIiwib2NjdXJyZW5jZXMiLCJyZWNvcmRPY2N1cnJlbmNlIiwic2Vzc2lvbk9jY3VycmVuY2VzIiwicmVjb3JkVHJpZ2dlck9jY3VycmVuY2UiLCJ0cmlnZ2VyT2NjdXJyZW5jZXMiLCJnZXRTZXNzaW9uT2NjdXJyYW5jZUNvdW50IiwiZ2V0T2NjdXJyZW5jZXMiLCJjbGVhclNlc3Npb24iLCJqc29uIiwiTWVzc2FnZXMiLCJfbWVzc2FnZUNhY2hlIiwib2NjdXJyZW5jZVRyYWNrZXIiLCJfc2hvd1JpY2hJQU0iLCJvbk1lc3NhZ2VQcmV2aWV3Iiwib25NZXNzYWdlc1JlY2VpdmVkIiwib25UcmlnZ2VyIiwidHJpZ2dlciIsImF0dHJpYnV0ZXMiLCJjb250ZXh0IiwiZ2V0TWVzc2FnZXMiLCJzaG91bGRTaG93TWVzc2FnZSIsInNob3dNZXNzYWdlIiwiZXZlbnRJbmZvIiwicnVuQWN0aW9uTmFtZWQiLCJhY3Rpb25OYW1lIiwicnVuVHJhY2tlZEFjdGlvbk5hbWVkIiwiaGFuZGxlTWVzc2FnZSIsImlzUHJldmlldyIsInJlY2VpdmVkTWVzc2FnZXMiLCJtYXRjaGVzVHJpZ2dlciIsIndoZW5UcmlnZ2VycyIsIm1hdGNoZXNVbmxlc3MiLCJ1bmxlc3NUcmlnZ2VycyIsInRyaWdnZXJzQ291bnQiLCJtYXRjaGVzTGltaXRzIiwid2hlbkxpbWl0cyIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJhZGREZWZhdWx0cyIsImV2ZW50VXJsIiwiaWZyYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlZHVjZSIsImFjYyIsInBhcmFtIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwibWV0YWRhdGEiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJsZWZ0Iiwid2lkdGgiLCJoZWlnaHQiLCJhbmNob3JQcm9wIiwidG9Mb3dlckNhc2UiLCJhbHRQcm9wIiwidG9wIiwicGFyYW1ldGVycyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIl9fbmFtZV9fIiwicmVzb2x2ZUZpbGVzIiwidGVtcGxhdGVOYW1lIiwidGVtcGxhdGUiLCJyZW5kZXJSaWNoSW5BcHBNZXNzYWdlIiwicmVzb2x2ZUZpZWxkcyIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjc3NUZXh0IiwiYXBwZW5kQ2hpbGQiLCJjb250ZW50V2luZG93IiwiY29udGVudCIsInNyY2RvYyIsImRvYyIsIndyaXRlIiwidHJhY2tPcHRpb25zIiwiZGVmaW5lZCIsInBhcmVudE1lc3NhZ2VJZCIsInByb2Nlc3NBY3Rpb24iLCJVUkwiLCJtZXNzYWdlSWRGcm9tQWN0aW9uIiwiY2hhaW5lZE1lc3NhZ2VJZF8xIiwibWVzc2FnZV8xIiwiY29sb3JUb0hleCIsImNvbG9yIiwiYiIsImRlZmF1bHRzIiwidXNlRGVmYXVsdHMiLCJkZWZhdWx0VmFsdWVzIiwiZmlsZVByZWZpeCIsImNvbG9yU3VmZml4IiwiaWdub3JlQ2FzZUVxdWFscyIsImEiLCJsb2NhbGVDb21wYXJlIiwic2Vuc2l0aXZpdHkiLCJtYXRjaGVzVHJpZ2dlcnMiLCJjb250ZXh0Tm91biIsIm1hdGNoZXNOb3VuIiwibm91biIsIm9iamVjdHMiLCJwYXJhbWV0ZXIiLCJtYXRjaGVzUGFyYW0iLCJzb21lIiwic3ViamVjdCIsImNvbnRhaW5zQXR0cmlidXRlIiwiY29udGV4dFZhbHVlXzEiLCJldmVyeSIsImxpbWl0IiwicGVySW50ZXJ2YWwiLCJ0aW1lU2xvdCIsInZlcmJUb0ludGVydmFsIiwiRXZlbnRFbWl0dGVyIiwiaGFuZGxlcnMiLCJBY3Rpb25QYXJhbWV0ZXJUeXBlIiwiVmFyQ2FjaGUiLCJoYXNSZWNlaXZlZERpZmZzIiwibWVyZ2VkIiwidmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzIiwidmFyaWFudERlYnVnSW5mbyIsImtpbmRzIiwiayIsImt4IiwibWVyZ2VIZWxwZXIiLCJkaWZmIiwib2JqSXRlcmF0b3IiLCJhdHRyIiwidmFyc0l0ZXJhdG9yIiwiZGlmZkl0ZXJhdG9yIiwiYXR0cmlidXRlIiwibWVyZ2VkXzEiLCJ2YXJTdWJzY3JpcHQiLCJzdWJzY3JpcHQiLCJkaWZmVmFsdWUiLCJzYXZlRGlmZnMiLCJjdXJyZW50Iiwic2V0VmFycyIsImFyZ3VtZW50VHJlZSIsImFyZ3VtZW50S2luZHMiLCJvcHRpb25zVG9EZWZpbml0aW9ucyIsInByZWZpeCIsInByb3BOYW1lIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RBLFFBQWtCLFNBQUlELElBRXRCRCxFQUFlLFNBQUlDLElBUnJCLENBU0dLLFFBQVEsV0FDWCxPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVAsUUFHbkMsSUFBSUMsRUFBU0ksRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFQsUUFBUyxJQVVWLE9BTkFVLEVBQVFILEdBQVVJLEtBQUtWLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNNLEdBRy9ETCxFQUFPUSxHQUFJLEVBR0pSLEVBQU9ELFFBMERmLE9BckRBTSxFQUFvQk0sRUFBSUYsRUFHeEJKLEVBQW9CTyxFQUFJUixFQUd4QkMsRUFBb0JRLEVBQUksU0FBU2QsRUFBU2UsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFakIsRUFBU2UsSUFDbENHLE9BQU9DLGVBQWVuQixFQUFTZSxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVWLEVBQW9CZ0IsRUFBSSxTQUFTdEIsR0FDWCxvQkFBWHVCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZW5CLEVBQVN1QixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWVuQixFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sS0FRdkRuQixFQUFvQm9CLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRbkIsRUFBb0JtQixJQUMvQixF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UzExQixVQUFVOG1CLFVBQVksU0FBVW5uQixFQUFLTixHQUMxQ3djLEVBQXNCemIsUUFBUTBHLG1CQUFtQm5ILEVBQUtOLElBRW5EcTJCLEVBekhrQixHQTRIN0IsU0FBU3NCLEVBQWE5c0IsR0FDbEIsT0FBT0EsRUFBS2luQixRQUFPLFNBQVVDLEVBQUt0TixHQVc5QixPQVZJQSxFQUFFemtCLGlCQUFpQnlHLE1BQ25Cc3JCLEVBQUl0TixFQUFFbmxCLE1BQVFxNEIsRUFBYWxULEVBQUV6a0IsT0FFYixXQUFYeWtCLEVBQUU3TyxLQUNQbWMsRUFBSXROLEVBQUVubEIsTUFBUSxHQUlkeXlCLEVBQUl0TixFQUFFbmxCLE1BQVFtbEIsRUFBRXprQixNQUViK3hCLElBQ1IsSUFFUCxTQUFTNkYsRUFBYy9zQixFQUFNaXRCLEdBRXpCLFlBRGUsSUFBWEEsSUFBcUJBLEVBQVMsSUFDM0JqdEIsRUFBS2luQixRQUFPLFNBQVVDLEVBQUt0TixHQUM5QixJQUFJM0wsRUFDQWlmLEVBQVcsR0FBS0QsRUFBU3JULEVBQUVubEIsS0FPL0IsT0FOSW1sQixFQUFFemtCLGlCQUFpQnlHLE1BQ25Cc3JCLEVBQU0vVixJQUFVbEQsRUFBSyxJQUFPaWYsR0FBWSxRQUFTamYsR0FBSzhlLEVBQWNuVCxFQUFFemtCLE1BQU8rM0IsRUFBVyxNQUd4RmhHLEVBQUlnRyxHQUFZdFQsRUFBRTdPLEtBQUs2YyxjQUVwQlYsSUFDUixJQTVCUHh6QixFQUFRd0MsUUFBVXMxQiIsImZpbGUiOiJsZWFucGx1bS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkxlYW5wbHVtXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkxlYW5wbHVtXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgTUVUSE9EUzoge1xuICAgICAgICBTVEFSVDogJ3N0YXJ0JyxcbiAgICAgICAgU1RPUDogJ3N0b3AnLFxuICAgICAgICBBRFZBTkNFOiAnYWR2YW5jZScsXG4gICAgICAgIFRSQUNLOiAndHJhY2snLFxuICAgICAgICBQQVVTRV9TRVNTSU9OOiAncGF1c2VTZXNzaW9uJyxcbiAgICAgICAgUkVTVU1FX1NFU1NJT046ICdyZXN1bWVTZXNzaW9uJyxcbiAgICAgICAgUEFVU0VfU1RBVEU6ICdwYXVzZVN0YXRlJyxcbiAgICAgICAgUkVTVU1FX1NUQVRFOiAncmVzdW1lU3RhdGUnLFxuICAgICAgICBET1dOTE9BRF9GSUxFOiAnZG93bmxvYWRGaWxlJyxcbiAgICAgICAgTVVMVEk6ICdtdWx0aScsXG4gICAgICAgIFNFVF9WQVJTOiAnc2V0VmFycycsXG4gICAgICAgIEdFVF9WQVJTOiAnZ2V0VmFycycsXG4gICAgICAgIFNFVF9VU0VSX0FUVFJJQlVURVM6ICdzZXRVc2VyQXR0cmlidXRlcycsXG4gICAgICAgIFNFVF9ERVZJQ0VfQVRUUklCVVRFUzogJ3NldERldmljZUF0dHJpYnV0ZXMnLFxuICAgICAgICBVUExPQURfRklMRTogJ3VwbG9hZEZpbGUnLFxuICAgICAgICBSRUdJU1RFUl9ERVZJQ0U6ICdyZWdpc3RlckRldmljZScsXG4gICAgfSxcbiAgICBTREtfVkVSU0lPTjogJzEuOC41JyxcbiAgICBDTElFTlQ6ICdqcycsXG4gICAgUEFSQU1TOiB7XG4gICAgICAgIEFDVElPTjogJ2FjdGlvbicsXG4gICAgICAgIEFQUF9JRDogJ2FwcElkJyxcbiAgICAgICAgQ0xJRU5UOiAnY2xpZW50JyxcbiAgICAgICAgQ0xJRU5UX0tFWTogJ2NsaWVudEtleScsXG4gICAgICAgIENVUlJFTkNZX0NPREU6ICdjdXJyZW5jeUNvZGUnLFxuICAgICAgICBERVZJQ0VfSUQ6ICdkZXZpY2VJZCcsXG4gICAgICAgIFNES19WRVJTSU9OOiAnc2RrVmVyc2lvbicsXG4gICAgICAgIFVTRVJfSUQ6ICd1c2VySWQnLFxuICAgICAgICBORVdfVVNFUl9JRDogJ25ld1VzZXJJZCcsXG4gICAgICAgIERFVl9NT0RFOiAnZGV2TW9kZScsXG4gICAgICAgIFZFUlNJT05fTkFNRTogJ3ZlcnNpb25OYW1lJyxcbiAgICAgICAgU1lTVEVNX05BTUU6ICdzeXN0ZW1OYW1lJyxcbiAgICAgICAgU1lTVEVNX1ZFUlNJT046ICdzeXN0ZW1WZXJzaW9uJyxcbiAgICAgICAgQlJPV1NFUl9OQU1FOiAnYnJvd3Nlck5hbWUnLFxuICAgICAgICBCUk9XU0VSX1ZFUlNJT046ICdicm93c2VyVmVyc2lvbicsXG4gICAgICAgIERFVklDRV9OQU1FOiAnZGV2aWNlTmFtZScsXG4gICAgICAgIERFVklDRV9NT0RFTDogJ2RldmljZU1vZGVsJyxcbiAgICAgICAgVVNFUl9BVFRSSUJVVEVTOiAndXNlckF0dHJpYnV0ZXMnLFxuICAgICAgICBMT0NBTEU6ICdsb2NhbGUnLFxuICAgICAgICBDT1VOVFJZOiAnY291bnRyeScsXG4gICAgICAgIFJFR0lPTjogJ3JlZ2lvbicsXG4gICAgICAgIENJVFk6ICdjaXR5JyxcbiAgICAgICAgTE9DQVRJT046ICdsb2NhdGlvbicsXG4gICAgICAgIFNUQVRFOiAnc3RhdGUnLFxuICAgICAgICBJTkZPOiAnaW5mbycsXG4gICAgICAgIEVWRU5UOiAnZXZlbnQnLFxuICAgICAgICBWQUxVRTogJ3ZhbHVlJyxcbiAgICAgICAgRklMRU5BTUU6ICdmaWxlbmFtZScsXG4gICAgICAgIFRJTUU6ICd0aW1lJyxcbiAgICAgICAgREFUQTogJ2RhdGEnLFxuICAgICAgICBWQVJTOiAndmFycycsXG4gICAgICAgIEZJTEU6ICdmaWxlJyxcbiAgICAgICAgU0laRTogJ3NpemUnLFxuICAgICAgICBWQVJJQVRJT046ICd2YXJpYXRpb24nLFxuICAgICAgICBIQVNIOiAnaGFzaCcsXG4gICAgICAgIEVNQUlMOiAnZW1haWwnLFxuICAgICAgICBWQVJJQUJMRVM6ICd2YXJzJyxcbiAgICAgICAgQUNUSU9OX0RFRklOSVRJT05TOiAnYWN0aW9uRGVmaW5pdGlvbnMnLFxuICAgICAgICBQQVJBTVM6ICdwYXJhbXMnLFxuICAgICAgICBJTkNMVURFX0RFRkFVTFRTOiAnaW5jbHVkZURlZmF1bHRzJyxcbiAgICAgICAgSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk86ICdpbmNsdWRlVmFyaWFudERlYnVnSW5mbycsXG4gICAgICAgIE5FV1NGRUVEX01FU1NBR0VTOiAnbmV3c2ZlZWRNZXNzYWdlcycsXG4gICAgICAgIE1FU1NBR0VfSUQ6ICdtZXNzYWdlSWQnLFxuICAgICAgICBXRUJfUFVTSF9TVUJTQ1JJUFRJT046ICd3ZWJQdXNoU3Vic2NyaXB0aW9uJyxcbiAgICB9LFxuICAgIEtFWVM6IHtcbiAgICAgICAgSVNfUkVHSVNURVJFRDogJ2lzUmVnaXN0ZXJlZCcsXG4gICAgICAgIExBVEVTVF9WRVJTSU9OOiAnbGF0ZXN0VmVyc2lvbicsXG4gICAgICAgIFNZTkNfSU5CT1g6ICdzeW5jTmV3c2ZlZWQnLFxuICAgICAgICBNRVNTQUdFUzogJ21lc3NhZ2VzJyxcbiAgICAgICAgVkFSUzogJ3ZhcnMnLFxuICAgICAgICBWQVJJQU5UUzogJ3ZhcmlhbnRzJyxcbiAgICAgICAgVkFSSUFOVF9ERUJVR19JTkZPOiAndmFyaWFudERlYnVnSW5mbycsXG4gICAgICAgIEFDVElPTl9ERUZJTklUSU9OUzogJ2FjdGlvbkRlZmluaXRpb25zJyxcbiAgICAgICAgVE9LRU46ICd0b2tlbicsXG4gICAgfSxcbiAgICBERUZBVUxUX0tFWVM6IHtcbiAgICAgICAgQ09VTlQ6ICdfX2xlYW5wbHVtX3Vuc3luY2VkJyxcbiAgICAgICAgSVRFTTogJ19fbGVhbnBsdW1fdW5zeW5jZWRfJyxcbiAgICAgICAgVkFSSUFCTEVTOiAnX19sZWFucGx1bV92YXJpYWJsZXMnLFxuICAgICAgICBWQVJJQU5UUzogJ19fbGVhbnBsdW1fdmFyaWFudHMnLFxuICAgICAgICBWQVJJQU5UX0RFQlVHX0lORk86ICdfX2xlYW5wbHVtX3ZhcmlhbnRfZGVidWdfaW5mbycsXG4gICAgICAgIEFDVElPTl9ERUZJTklUSU9OUzogJ19fbGVhbnBsdW1fYWN0aW9uX2RlZmluaXRpb25zJyxcbiAgICAgICAgSU5CT1hfTUVTU0FHRVM6ICdfX2xlYW5wbHVtX2luYm94X21lc3NhZ2VzJyxcbiAgICAgICAgVE9LRU46ICdfX2xlYW5wbHVtX3Rva2VuJyxcbiAgICAgICAgREVWSUNFX0lEOiAnX19sZWFucGx1bV9kZXZpY2VfaWQnLFxuICAgICAgICBVU0VSX0lEOiAnX19sZWFucGx1bV91c2VyX2lkJyxcbiAgICAgICAgU0VTU0lPTjogJ19fbGVhbnBsdW1fc2Vzc2lvbicsXG4gICAgICAgIE1FU1NBR0VfT0NDVVJSRU5DRVM6ICdfX2xlYW5wbHVtX21lc3NhZ2Vfb2NjdXJyZW5jZXMnLFxuICAgICAgICBNRVNTQUdFX0NBQ0hFOiAnX19sZWFucGx1bV9tZXNzYWdlX2NhY2hlJyxcbiAgICAgICAgUFVTSF9TVUJTQ1JJUFRJT046ICdfX2xlYW5wbHVtX3B1c2hfc3Vic2NyaXB0aW9uJyxcbiAgICB9LFxuICAgIFZBTFVFUzoge1xuICAgICAgICBERVRFQ1Q6ICcoZGV0ZWN0KScsXG4gICAgICAgIERFRkFVTFRfUFVTSF9BQ1RJT046ICdPcGVuIGFjdGlvbicsXG4gICAgfSxcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKlxuICogTGVhbnBsdW0gQXJnc0J1aWxkZXIsIHVzZSB0byBjb25zdHJ1Y3QgcmVxdWVzdCBwYXlsb2FkLlxuICovXG52YXIgQXJnc0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJlcXVlc3QgYXJndW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXJnc0J1aWxkZXIoKSB7XG4gICAgICAgIHRoaXMuYXJnU3RyaW5nID0gJyc7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBnaXZlbiBrZXksIHZhbHVlIHRvIHRoZSBwYXlsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBmb3IgdGhlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSBmb3IgZ2l2ZW4ga2V5LlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfSBSZXR1cm5zIGFuIG9iamVjdCBvZiBBcmdzQnVpbGRlci5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFyZ1N0cmluZykge1xuICAgICAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0gJyYnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWwgPSAnJztcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHZhbCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbCA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0ga2V5ICsgXCI9XCIgKyB2YWw7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYm9keSA9IGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgIGlmIChib2R5KSB7XG4gICAgICAgICAgICB0aGlzLl9ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIHRvIGF0dGFjaCBnaXZlbiBhcHBJZCBhbmQgYXBwS2V5IHRvIHJlcXVlc3QuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBhcHBJZCBUaGUgYXBwSWQgdG8gYXR0YWNoLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gY2xpZW50S2V5IFRoZSBhcHBLZXkgdG8gYXR0YWNoLlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfSBSZXR1cm5zIGFuIG9iamVjdCBvZiBBcmdzQnVpbGRlci5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYXR0YWNoQXBpS2V5cyA9IGZ1bmN0aW9uIChhcHBJZCwgY2xpZW50S2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BUFBfSUQsIGFwcElkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DTElFTlQsIENvbnN0YW50c18xLmRlZmF1bHQuQ0xJRU5UKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DTElFTlRfS0VZLCBjbGllbnRLZXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcmd1bWVudHMuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBBcmd1bWVudHMgc3RyaW5nLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJnU3RyaW5nO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcmd1bWVudCB2YWx1ZXMuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgYXJndW1lbnQgdmFsdWVzLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5idWlsZERpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyZ1ZhbHVlcztcbiAgICB9O1xuICAgIHJldHVybiBBcmdzQnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBBcmdzQnVpbGRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsb2NhbFN0b3JhZ2VFbmFibGVkO1xudmFyIGFsdGVybmF0ZUxvY2FsU3RvcmFnZSA9IHt9O1xudmFyIExvY2FsU3RvcmFnZU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9jYWxTdG9yYWdlTWFuYWdlcigpIHtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyLmdldEZyb21Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2VFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFsdGVybmF0ZUxvY2FsU3RvcmFnZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZUVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUZyb21Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2VFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVsZXRlIGFsdGVybmF0ZUxvY2FsU3RvcmFnZVtrZXldO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBkZWxldGUgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMb2NhbFN0b3JhZ2VNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExvY2FsU3RvcmFnZU1hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQWpheCBmdW5jdGlvbnMgZnJvbTpcbiAqXG4gKiBQYXJzZSBKYXZhU2NyaXB0IFNES1xuICogVmVyc2lvbjogMS4xLjVcbiAqIEJ1aWx0OiBNb24gT2N0IDAxIDIwMTIgMTc6NTc6MTNcbiAqIGh0dHA6Ly9wYXJzZS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgMjAxMiBQYXJzZSwgSW5jLlxuICogVGhlIFBhcnNlIEphdmFTY3JpcHQgU0RLIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5ldHdvcmsgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmV0d29yaygpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSAxMDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gc2Vjb25kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gYWpheCByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgVGhlIGh0dHAgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCB0byBvcGVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfEJsb2J8RG9jdW1lbnR8Rm9ybURhdGF9IGRhdGEgVGhlIGRhdGEgdG8gYmUgc2VudCBpbiBib2R5LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3MgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gc3VjY2Vzcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvciBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1ZXVlZCBXaGV0aGVyIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBxdWV1ZWQgb3IgaW1tZWRpYXRlbHkgc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwbGFpblRleHRdIFdoZXRoZXIgdGhlIHJlc3BvbnNlIHNob3VsZCBiZSByZXR1cm5lZCBhcyBwbGFpbiB0ZXh0IG9yIGpzb24uXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5hamF4ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucnVubmluZ1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5xdWV1ZVJlcXVlc3QoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucnVubmluZ1JlcXVlc3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgWERvbWFpblJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwOicgJiYgdXJsLmluZGV4T2YoJ2h0dHBzOicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gXCJodHRwOlwiICsgdXJsLnN1YnN0cmluZyg2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFqYXhJRTgobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VfMTtcbiAgICAgICAgICAgICAgICB2YXIgcmFuQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAocGxhaW5UZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlXzEgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlXzEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbkNhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXJhbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlXzEsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IocmVzcG9uc2VfMSwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlcXVldWVSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9wbGFpbicpOyAvLyBBdm9pZCBwcmUtZmxpZ2h0LlxuICAgICAgICB4aHIuc2VuZChkYXRhKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgKiAxMDAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gYWpheCByZXF1ZXN0IGZvciBJRTguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgdXJsIHRvIG9wZW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXlCdWZmZXJ8QmxvYnxEb2N1bWVudHxGb3JtRGF0YX0gZGF0YSBUaGUgZGF0YSB0byBiZSBzZW50IGluIGJvZHkuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3VjY2VzcyBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBzdWNjZXNzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVldWVkIFdoZXRoZXIgdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHF1ZXVlZCBvciBpbW1lZGlhdGVseSBzZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGxhaW5UZXh0IFdoZXRoZXIgdGhlIHJlc3BvbnNlIHNob3VsZCBiZSByZXR1cm5lZCBhcyBwbGFpbiB0ZXh0IG9yIGpzb24uXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuYWpheElFOCA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB4ZHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcbiAgICAgICAgeGRyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXNwb25zZTtcbiAgICAgICAgICAgIHZhciByYW5DYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBsYWluVGV4dCkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0geGRyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZSh4ZHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihudWxsLCB4ZHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuQ2FsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmFuQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2UsIHhkcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlcXVldWVSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhkci5vbmVycm9yID0geGRyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcihudWxsLCB4ZHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIHhkci5vcGVuKG1ldGhvZCwgdXJsKTtcbiAgICAgICAgeGRyLnRpbWVvdXQgPSB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyAqIDEwMDA7XG4gICAgICAgIHhkci5zZW5kKGRhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgcmVxdWVzdCB0byB0aGUgcmVxdWVzdCBxdWV1ZS5cbiAgICAgKiBAcGFyYW0ge0FyZ3VtZW50c30gcmVxdWVzdEFyZ3VtZW50cyBUaGUgcmVxdWVzdCBhcmd1bWVudHMgZnJvbSB0aGUgaW5pdGlhbCBtZXRob2QgY2FsbC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmVucXVldWVSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3RBcmd1bWVudHMpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UXVldWUucHVzaChyZXF1ZXN0QXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHJlcXVlc3QgZnJvbSB0aGUgcmVxdWVzdCBxdWV1ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmRlcXVldWVSZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IHRoaXMucmVxdWVzdFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgICAgICAgICAgdGhpcy5hamF4LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTmV0d29yaztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBOZXR3b3JrO1xuIiwiLyoqXG4gKiBMb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanMuZm91bmRhdGlvbi8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAqL1xuZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKSxcbiAgICBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpLFxuICAgIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG52YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgfVxuICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICBvYmpJc09iaiA9IGZhbHNlO1xuICB9XG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKHNlZW4pIHtcbiAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgYm9vbFRhZzpcbiAgICBjYXNlIGRhdGVUYWc6XG4gICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgY2FzZSBlcnJvclRhZzpcbiAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICBjYXNlIG1hcFRhZzpcbiAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gIH1cbiAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICogZXF1aXZhbGVudC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogb2JqZWN0ID09PSBvdGhlcjtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICogLy8gPT4gW1tdLCBbXV1cbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRXF1YWw7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzICovXG52YXIgTGVhbnBsdW0gPSByZXF1aXJlKCcuLi9MZWFucGx1bS50cycpO1xubW9kdWxlLmV4cG9ydHMgPSBMZWFucGx1bS5kZWZhdWx0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTGVhbnBsdW1JbnRlcm5hbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtSW50ZXJuYWxcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIExlYW5wbHVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtKCkge1xuICAgIH1cbiAgICBMZWFucGx1bS5zZXRBcGlQYXRoID0gZnVuY3Rpb24gKGFwaVBhdGgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwaVBhdGgoYXBpUGF0aCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRFbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZGVwcmVjYXRlZFxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0uc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZShhcHBJZCwgYWNjZXNzS2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZShhcHBJZCwgYWNjZXNzS2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U29ja2V0SG9zdChob3N0KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZUlkID0gZnVuY3Rpb24gKGRldmljZUlkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VJZChkZXZpY2VJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBWZXJzaW9uKHZlcnNpb25OYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZU5hbWUgPSBmdW5jdGlvbiAoZGV2aWNlTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0RGV2aWNlTmFtZShkZXZpY2VOYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZU1vZGVsID0gZnVuY3Rpb24gKGRldmljZU1vZGVsKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VNb2RlbChkZXZpY2VNb2RlbCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRSZXF1ZXN0QmF0Y2hpbmcgPSBmdW5jdGlvbiAoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFJlcXVlc3RCYXRjaGluZyhiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTeXN0ZW1OYW1lID0gZnVuY3Rpb24gKHN5c3RlbU5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFN5c3RlbU5hbWUoc3lzdGVtTmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTeXN0ZW1WZXJzaW9uID0gZnVuY3Rpb24gKHN5c3RlbVZlcnNpb24pIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFN5c3RlbVZlcnNpb24oc3lzdGVtVmVyc2lvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRWYXJpYWJsZXModmFyaWFibGVzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gZnVuY3Rpb24gKHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyhlbmFibGVkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnByb2Nlc3NNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBtZXNzYWdlKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5wcm9jZXNzTWVzc2FnZUV2ZW50KG1lc3NhZ2VJZCwgbWVzc2FnZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhbnREZWJ1Z0luZm8oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYWJsZXMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IExlYW5wbHVtLl9scCkuZ2V0VmFyaWFibGUuYXBwbHkoX2EsIGFyZ3MpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFudHMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmluYm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmluYm94KCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmZvcmNlQ29udGVudFVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBMZWFucGx1bS5fbHAuZm9yY2VDb250ZW50VXBkYXRlKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnVzZVNlc3Npb25MZW5ndGggPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAudXNlU2Vzc2lvbkxlbmd0aChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0YXJ0ID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdGFydCh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdGFydEZyb21DYWNoZSA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RhcnRGcm9tQ2FjaGUodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0b3AoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnBhdXNlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnBhdXNlU2Vzc2lvbigpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVzdW1lU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlc3VtZVNlc3Npb24oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnBhdXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5wYXVzZVN0YXRlKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZXN1bWVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlc3VtZVN0YXRlKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRVc2VySWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scC5nZXRVc2VySWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgTGVhbnBsdW0uc2V0VXNlckF0dHJpYnV0ZXModXNlcklkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFVzZXJBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0udHJhY2sgPSBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnRyYWNrKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnRyYWNrUHVyY2hhc2UgPSBmdW5jdGlvbiAodmFsdWUsIGN1cnJlbmN5Q29kZSwgcGFyYW1zLCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkgeyBldmVudCA9ICdQdXJjaGFzZSc7IH1cbiAgICAgICAgTGVhbnBsdW0uX2xwLnRyYWNrUHVyY2hhc2UodmFsdWUsIGN1cnJlbmN5Q29kZSwgcGFyYW1zLCBldmVudCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZHZhbmNlVG8gPSBmdW5jdGlvbiAoc3RhdGUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuYWR2YW5jZVRvKHN0YXRlLCBpbmZvLCBwYXJhbXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmlzV2ViUHVzaFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdWJzY3JpYmVkLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHRydWUsIHJlamVjdHMgaWYgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5pc1dlYlB1c2hTdWJzY3JpYmVkKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRXZWJQdXNoT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuc2V0V2ViUHVzaE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0aGUgYnJvd3NlciBmb3Igd2ViIHB1c2guXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCBvbiB5b3VyIHNlcnZlciB0aGF0IGhvc3RzIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zdy5taW4uanMgc2VydmljZSB3b3JrZXIganMgZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgICAgICBSZXNvbHZlcyBpZiByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UgZmFpbHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0ucmVnaXN0ZXJGb3JXZWJQdXNoID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5yZWdpc3RlckZvcldlYlB1c2goc2VydmljZVdvcmtlclVybCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyB0aGUgYnJvd3NlciBmb3JtIHdlYiBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgUmVzb2x2ZXMgb24gc3VjY2Vzcywgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0udW5yZWdpc3RlckZyb21XZWJQdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGNhY2hlZCB2YWx1ZXMgZm9yIG1lc3NhZ2VzLCB2YXJpYWJsZXMgYW5kIHRlc3QgYXNzaWdubWVudHMuXG4gICAgICogVXNlIHNwYXJpbmdseSBhcyBpZiB0aGUgYXBwIGlzIHVwZGF0ZWQsIHlvdSdsbCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWxseVxuICAgICAqIGluY29uc2lzdGVudCBzdGF0ZSBvciB1c2VyIGV4cGVyaWVuY2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmNsZWFyVXNlckNvbnRlbnQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmRlZmluZUFjdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5kZWZpbmVBY3Rpb24ob3B0aW9ucyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hcHBseVF1ZXVlID0gZnVuY3Rpb24gKHF1ZXVlKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hcHBseVF1ZXVlKHF1ZXVlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLm9mZiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldEZpbGVVcmwoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uX19kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9scCA9IG5ldyBMZWFucGx1bUludGVybmFsXzEuZGVmYXVsdCh3aW5kb3cpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uX2xwID0gbmV3IExlYW5wbHVtSW50ZXJuYWxfMS5kZWZhdWx0KHdpbmRvdyk7XG4gICAgTGVhbnBsdW0uVkVSU0lPTiA9IENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT047XG4gICAgcmV0dXJuIExlYW5wbHVtO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBCcm93c2VyRGV0ZWN0b3JfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Ccm93c2VyRGV0ZWN0b3JcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgSW50ZXJuYWxTdGF0ZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0ludGVybmFsU3RhdGVcIikpO1xudmFyIExlYW5wbHVtSW5ib3hfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bUluYm94XCIpKTtcbnZhciBMZWFucGx1bVJlcXVlc3RfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bVJlcXVlc3RcIikpO1xudmFyIExlYW5wbHVtU29ja2V0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1Tb2NrZXRcIikpO1xudmFyIExvY2FsU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Mb2NhbFN0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBQdXNoTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1B1c2hNYW5hZ2VyXCIpKTtcbnZhciBNZXNzYWdlc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL01lc3NhZ2VzXCIpKTtcbnZhciBFdmVudEVtaXR0ZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9FdmVudEVtaXR0ZXJcIikpO1xudmFyIHB1YmxpY18xID0gcmVxdWlyZShcIi4vdHlwZXMvcHVibGljXCIpO1xudmFyIFZhckNhY2hlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmFyQ2FjaGVcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIFNFU1NJT05fS0VZID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuU0VTU0lPTjtcbnZhciBMZWFucGx1bUludGVybmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW50ZXJuYWwod25kKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMud25kID0gd25kO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlID0gbmV3IEludGVybmFsU3RhdGVfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2xwSW5ib3ggPSBuZXcgTGVhbnBsdW1JbmJveF8xLmRlZmF1bHQodGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcyksIHRoaXMub25JbmJveEFjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0ID0gbmV3IExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUgPSBuZXcgVmFyQ2FjaGVfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQgPSBuZXcgTGVhbnBsdW1Tb2NrZXRfMS5kZWZhdWx0KHRoaXMuX3ZhckNhY2hlLCB0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSwgdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZS5iaW5kKHRoaXMuX2xwUmVxdWVzdCksIHRoaXMuX2V2ZW50cyk7XG4gICAgICAgIHRoaXMuX3B1c2hNYW5hZ2VyID0gbmV3IFB1c2hNYW5hZ2VyXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzID0gbmV3IE1lc3NhZ2VzXzEuZGVmYXVsdCh0aGlzLl9ldmVudHMsIHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLmdldEZpbGVVcmwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJEZXRlY3RvciA9IG5ldyBCcm93c2VyRGV0ZWN0b3JfMS5kZWZhdWx0KHduZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbignbmF2aWdhdGlvbkNoYW5nZScsIGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgIHZhciBwcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnb3BlblVybCcsIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJldmVudGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFwcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53bmQubG9jYXRpb24uYXNzaWduKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ3JlZ2lzdGVyRm9yUHVzaCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlZ2lzdGVyRm9yV2ViUHVzaCgpOyB9KTtcbiAgICB9XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBpUGF0aCA9IGZ1bmN0aW9uIChhcGlQYXRoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbHBSZXF1ZXN0LmFwaVBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBpUGF0aCA9IGFwaVBhdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcHBJZCA9IGFwcElkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgPSB0cnVlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcHBJZCA9IGFwcElkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgPSBmYWxzZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICB0aGlzLl9scFNvY2tldC5zZXRTb2NrZXRIb3N0KGhvc3QpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZGV2aWNlSWQpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmRldmljZUlkID0gZGV2aWNlSWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC52ZXJzaW9uTmFtZSA9IHZlcnNpb25OYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTmFtZSA9IGZ1bmN0aW9uIChkZXZpY2VOYW1lKSB7XG4gICAgICAgIHRoaXMuX2RldmljZU5hbWUgPSBkZXZpY2VOYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTW9kZWwgPSBmdW5jdGlvbiAoZGV2aWNlTW9kZWwpIHtcbiAgICAgICAgdGhpcy5fZGV2aWNlTW9kZWwgPSBkZXZpY2VNb2RlbDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFJlcXVlc3RCYXRjaGluZyA9IGZ1bmN0aW9uIChiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcykge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hFbmFibGVkID0gYmF0Y2hFbmFibGVkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hDb29sZG93biA9IGNvb2xkb3duU2Vjb25kcztcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICB0aGlzLl9zeXN0ZW1OYW1lID0gc3lzdGVtTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbVZlcnNpb24gPSBmdW5jdGlvbiAoc3lzdGVtVmVyc2lvbikge1xuICAgICAgICB0aGlzLl9zeXN0ZW1WZXJzaW9uID0gc3lzdGVtVmVyc2lvbjtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uICh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gdmFyaWFudERlYnVnSW5mb0VuYWJsZWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzKGVuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMucHJvY2Vzc01lc3NhZ2VFdmVudChtZXNzYWdlSWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhbnREZWJ1Z0luZm8oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdmFyQ2FjaGUpLmdldFZhcmlhYmxlLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyQ2FjaGUudmFyaWFudHMgfHwgW107XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pbmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwSW5ib3g7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLm9uSW5ib3hBY3Rpb24gPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMudHJhY2tNZXNzYWdlKG1lc3NhZ2VJZCwgeyBldmVudDogJ09wZW4nIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFjdGlvbiAmJiBfdGhpcy5fbWVzc2FnZXMub25BY3Rpb24oYWN0aW9uKTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5kZWZpbmVBY3Rpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5yZWdpc3RlckFjdGlvbkRlZmluaXRpb24oX19hc3NpZ24oeyBraW5kOiBwdWJsaWNfMS5NZXNzYWdlS2luZC5UZW1wbGF0ZSB9LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICAvLyBUT0RPKGJyZWFraW5nIGNoYW5nZSk6IHJlcGxhY2Ugd2l0aCBldmVudHMgYW5kIHJlbW92ZSBzdGF0ZWZ1bCBoYW5kbGVyc1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LmdldEZpbGVVcmwoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuR0VUX1ZBUlMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBnZXRWYXJzUmVzcG9uc2UgPSBfdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3VjY2VzcyA9IF90aGlzLl9scFJlcXVlc3QuaXNSZXNwb25zZVN1Y2Nlc3MoZ2V0VmFyc1Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5hcHBseURpZmZzKGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU10sIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9ERUZJTklUSU9OU10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFudERlYnVnSW5mbyhnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRfREVCVUdfSU5GT10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpc1N1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25MZW5ndGggPSBzZWNvbmRzO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQWN0aXZlU2Vzc2lvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YXJDYWNoZS5vblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DT1VOVFJZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlJFR0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DSVRZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9OQU1FLCB0aGlzLl9zeXN0ZW1OYW1lIHx8IHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5PUylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1lTVEVNX1ZFUlNJT04sICh0aGlzLl9zeXN0ZW1WZXJzaW9uIHx8ICcnKS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX05BTUUsIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX1ZFUlNJT04sIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FMRSwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTkFNRSwgdGhpcy5fZGV2aWNlTmFtZSB8fFxuICAgICAgICAgICAgdGhpcy5fYnJvd3NlckRldGVjdG9yLmJyb3dzZXIgKyBcIiBcIiArIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTU9ERUwsIHRoaXMuX2RldmljZU1vZGVsIHx8ICdXZWIgQnJvd3NlcicpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV1NGRUVEX01FU1NBR0VTLCB0aGlzLl9scEluYm94Lm1lc3NhZ2VJZHMoKSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPLCB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVEFSVCwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzID0gX3RoaXMuX2xwUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyhzdGFydFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5zdGFydFN1Y2Nlc3NmdWwgPSBpc1N1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlcyA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0UmVzcG9uc2UuYWN0aW9uRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmFjdGlvbkRlZmluaXRpb25zID0gc3RhcnRSZXNwb25zZS5hY3Rpb25EZWZpbml0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBtZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5TWU5DX0lOQk9YXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xwSW5ib3guZG93bmxvYWRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ZXN0VmVyc2lvbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkxBVEVTVF9WRVJTSU9OXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBIG5ld2VyIHZlcnNpb24gb2YgdGhlIExlYW5wbHVtIFNESywgXCIgKyBsYXRlc3RWZXJzaW9uICsgXCIsIGlzIGF2YWlsYWJsZS5cXG5Vc2UgXFxcIm5wbSB1cGRhdGUgbGVhbnBsdW0tc2RrXFxcIiBvciBnbyB0byBodHRwczovL2RvY3MubGVhbnBsdW0uY29tL3JlZmVyZW5jZSNqYXZhc2NyaXB0LXNldHVwIHRvIGRvd25sb2FkIGl0LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RTb2NrZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuYXBwbHlEaWZmcyhzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fREVGSU5JVElPTlNdKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnNldFZhcmlhbnREZWJ1Z0luZm8oc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVF9ERUJVR19JTkZPXSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50b2tlbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlRPS0VOXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5sb2FkRGlmZnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdzdGFydCcsIHsgc3VjY2VzczogaXNTdWNjZXNzIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnRyaWdnZXJTdGFydEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnICYmIHVzZXJJZCAhPT0gbnVsbCAmJiB1c2VySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlckF0dHJpYnV0ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU2Vzc2lvbigpO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0U29ja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUubG9hZERpZmZzKCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS50cmlnZ2VyU3RhcnRIYW5kbGVycygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVE9QLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZUZyb21Mb2NhbFN0b3JhZ2UoU0VTU0lPTl9LRVkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5wYXVzZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5SRVNVTUVfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnBhdXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU1RBVEUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlJFU1VNRV9TVEFURSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgdGhpcy5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VXNlckF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICBpZiAodXNlckF0dHJpYnV0ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICAgICAgdXNlcklkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IHNldFVzZXJBdHRyaWJ1dGVzIGV4cGVjdHMgYSBzdHJpbmcgb3IgYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9BVFRSSUJVVEVTLCB1c2VyQXR0cmlidXRlcyA/IEpTT04uc3RyaW5naWZ5KHVzZXJBdHRyaWJ1dGVzKSA6IHVuZGVmaW5lZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTkVXX1VTRVJfSUQsIHVzZXJJZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdzZXRVc2VyQXR0cmlidXRlJywgdXNlckF0dHJpYnV0ZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9VU0VSX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xwUmVxdWVzdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHZhbHVlO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3RyYWNrJywgeyBldmVudE5hbWU6IGV2ZW50LCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZVNlc3Npb24oKTsgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFja1B1cmNoYXNlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSAnUHVyY2hhc2UnOyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgaWYgKGN1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ1VSUkVOQ1lfQ09ERSwgY3VycmVuY3lDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgndHJhY2snLCB7IGV2ZW50TmFtZTogZXZlbnQgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZHZhbmNlVG8gPSBmdW5jdGlvbiAoc3RhdGUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TVEFURSwgc3RhdGUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdhZHZhbmNlU3RhdGUnLCB7IHN0YXRlOiBzdGF0ZSwgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuQURWQU5DRSwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdWJzY3JpYmVkLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHRydWUsIHJlamVjdHMgaWYgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1YnNjcmliZWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFdlYlB1c2hPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fd2ViUHVzaE9wdGlvbnMgPSBfX2Fzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0aGUgYnJvd3NlciBmb3Igd2ViIHB1c2guXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCBvbiB5b3VyIHNlcnZlciB0aGF0IGhvc3RzIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zdy5taW4uanMgc2VydmljZSB3b3JrZXIganMgZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgICAgICBSZXNvbHZlcyBpZiByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UgZmFpbHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVnaXN0ZXJGb3JXZWJQdXNoID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9wdXNoTWFuYWdlci5zdWJzY3JpYmVVc2VyKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLl93ZWJQdXNoT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgIHZhciB3b3JrZXJVcmwgPSBzZXJ2aWNlV29ya2VyVXJsIHx8IG9wdGlvbnMuc2VydmljZVdvcmtlclVybDtcbiAgICAgICAgICAgIHZhciBzY29wZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zY29wZSA/IHsgc2NvcGU6IG9wdGlvbnMuc2NvcGUgfSA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIucmVnaXN0ZXIod29ya2VyVXJsLCBzY29wZSwgc3Vic2NyaWJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnTGVhbnBsdW06IFdlYlB1c2ggaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgdGhlIGJyb3dzZXIgZm9ybSB3ZWIgcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgIFJlc29sdmVzIG9uIHN1Y2Nlc3MsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLnVuc3Vic2NyaWJlVXNlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGNhY2hlZCB2YWx1ZXMgZm9yIG1lc3NhZ2VzLCB2YXJpYWJsZXMgYW5kIHRlc3QgYXNzaWdubWVudHMuXG4gICAgICogVXNlIHNwYXJpbmdseSBhcyBpZiB0aGUgYXBwIGlzIHVwZGF0ZWQsIHlvdSdsbCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWxseVxuICAgICAqIGluY29uc2lzdGVudCBzdGF0ZSBvciB1c2VyIGV4cGVyaWVuY2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuY2xlYXJVc2VyQ29udGVudCgpO1xuICAgIH07XG4gICAgLy8gdXNlZCBieSBHb29nbGUgVGFnIE1hbmFnZXIgdG8gYXBwbHkgY29tbWFuZHMgcXVldWVkIGR1cmluZyBhc3luYyBzY3JpcHQgbG9hZGluZ1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFwcGx5UXVldWUgPSBmdW5jdGlvbiAocXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcXVldWUuZm9yRWFjaChmdW5jdGlvbiAoaW52b2NhdGlvbikgeyByZXR1cm4gX3RoaXNbaW52b2NhdGlvbi5uYW1lXS5hcHBseShfdGhpcywgaW52b2NhdGlvbi5hcmdzKTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgYXJncywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLl9scFJlcXVlc3QucmVxdWVzdChhY3Rpb24sIGFyZ3MsIF9fYXNzaWduKHsgZGV2TW9kZTogdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlIH0sIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNvbm5lY3RTb2NrZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LmNvbm5lY3Qoe1xuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuX2xwUmVxdWVzdC5hcHBJZCxcbiAgICAgICAgICAgIGRldmljZUlkOiB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaGFzQWN0aXZlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXNzaW9uTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGxhc3RBY3RpdmUgPSBwYXJzZUludChMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKFNFU1NJT05fS0VZKSk7XG4gICAgICAgIGlmIChpc05hTihsYXN0QWN0aXZlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50VGltZSAtIGxhc3RBY3RpdmUgPCB0aGlzLl9zZXNzaW9uTGVuZ3RoICogMTAwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXBkYXRlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKFNFU1NJT05fS0VZLCBTdHJpbmcoRGF0ZS5ub3coKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW50ZXJuYWw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbnRlcm5hbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIEJyb3dzZXIgZGV0ZWN0aW9uLiBTb3VyY2U6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZGV0ZWN0Lmh0bWxcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGRldGVjdCB3aGljaCBicm93c2VyIGNsaWVudCBpcyB1c2luZy5cbiAqL1xudmFyIEJyb3dzZXJEZXRlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgb2JqZWN0IHdpdGggY3VycmVudCBicm93c2VyIHNldHRpbmdzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJEZXRlY3Rvcih3bmQpIHtcbiAgICAgICAgdGhpcy5icm93c2VyID0gdGhpcy5zZWFyY2hTdHJpbmcodGhpcy5nZXRCcm93c2VyRGF0YSh3bmQpKSB8fCAnVW5rbm93biBCcm93c2VyJztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gKHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHxcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLmFwcFZlcnNpb24pIHx8XG4gICAgICAgICAgICAnVW5rbm93biBWZXJzaW9uJyk7XG4gICAgICAgIHRoaXMuT1MgPSB0aGlzLnNlYXJjaFN0cmluZyh0aGlzLmdldE9TRGF0YSh3bmQpKSB8fCAnVW5rbm93biBPUyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoZXMgdGhlIGNsaWVudCdzIHN5c3RlbSB0byB0aGUgcHJlZGVmaW5lZCBzeXN0ZW0gbGlzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmb3VuZCBpZGVudGl0eSBzdHJpbmcuXG4gICAgICovXG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5zZWFyY2hTdHJpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhU3RyaW5nID0gZGF0YVtpXS5zdHJpbmc7XG4gICAgICAgICAgICB2YXIgZGF0YVByb3AgPSBkYXRhW2ldLnByb3A7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcgPSBkYXRhW2ldLnZlcnNpb25TZWFyY2ggfHwgZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIGlmIChkYXRhU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcuaW5kZXhPZihkYXRhW2ldLnN1YlN0cmluZykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFQcm9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIGdpdmVuIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVN0cmluZyBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBmb3VuZCBudW1iZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLnNlYXJjaFZlcnNpb24gPSBmdW5jdGlvbiAoZGF0YVN0cmluZykge1xuICAgICAgICBpZiAoIWRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZGF0YVN0cmluZy5pbmRleE9mKHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YVN0cmluZy5zdWJzdHJpbmcoaW5kZXggKyB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcubGVuZ3RoICsgMSkpO1xuICAgIH07XG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5nZXRCcm93c2VyRGF0YSA9IGZ1bmN0aW9uICh3bmQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0Nocm9tZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdDaHJvbWUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ09tbmlXZWInLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT21uaVdlYicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ09tbmlXZWIvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBcHBsZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdTYWZhcmknLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvcDogd25kLm9wZXJhLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT3BlcmEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpQ2FiJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ2lDYWInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0tERScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdLb25xdWVyb3InLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0ZpcmVmb3gnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRmlyZWZveCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ2FtaW5vJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0NhbWlubycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01TSUUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRXhwbG9yZXInLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdNU0lFJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQgQnJvd3NlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0dlY2tvJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ01vemlsbGEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdydicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTW96aWxsYScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ01vemlsbGEnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuZ2V0T1NEYXRhID0gZnVuY3Rpb24gKHduZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdXaW4nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnV2luZG93cycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNYWMnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTWFjIE9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpUGhvbmUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTGludXgnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTGludXgnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyRGV0ZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnJvd3NlckRldGVjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEludGVybmFsU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJuYWxTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuZGV2TW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydFN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuc3RhcnRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5oYXNTdGFydGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVyKHRoaXMuc3RhcnRTdWNjZXNzZnVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW50ZXJuYWxTdGF0ZS5wcm90b3R5cGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5zdGFydEhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS50cmlnZ2VyU3RhcnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXJ0SGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIYW5kbGVyc1tpXSh0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbnRlcm5hbFN0YXRlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEludGVybmFsU3RhdGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG52YXIgdmFsdWVzID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvYmpba2V5XTsgfSk7XG59O1xudmFyIExlYW5wbHVtSW5ib3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbmJveChjcmVhdGVSZXF1ZXN0LCBvbkFjdGlvbikge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLm9uQWN0aW9uID0gb25BY3Rpb247XG4gICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IHt9O1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5kb3dubG9hZE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ2dldE5ld3NmZWVkTWVzc2FnZXMnLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBkYXRhLnJlc3BvbnNlWzBdO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VNYXAgPSByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1hcmtBc1JlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWVzc2FnZS5pc1JlYWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuaXNSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ21hcmtOZXdzZmVlZE1lc3NhZ2VBc1JlYWQnLCBhcmdzLCB7fSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHRoaXMubWFya0FzUmVhZChtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgaW5ib3hNZXNzYWdlID0gdGhpcy5tZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBpZCA9IG1lc3NhZ2VJZC5zcGxpdCgnIyMnKVswXTtcbiAgICAgICAgdmFyIG9wZW5BY3Rpb24gPSAoaW5ib3hNZXNzYWdlID09PSBudWxsIHx8IGluYm94TWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5ib3hNZXNzYWdlLm9wZW5BY3Rpb24oKSkgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5vbkFjdGlvbihpZCwgb3BlbkFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2VNYXBbbWVzc2FnZUlkXTtcbiAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnZGVsZXRlTmV3c2ZlZWRNZXNzYWdlJywgYXJncywge30pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUub25DaGFuZ2VkID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudHJpZ2dlckNoYW5nZUhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGhhbmRsZXIoKTsgfSk7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JTkJPWF9NRVNTQUdFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5tZXNzYWdlTWFwKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklOQk9YX01FU1NBR0VTKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0gSlNPTi5wYXJzZShzdGF0ZSkgfHwge307XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyh0aGlzLm1lc3NhZ2VNYXApLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnVucmVhZENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWVzKHRoaXMubWVzc2FnZU1hcCkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiAheC5pc1JlYWQ7IH0pLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2VzID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMubWVzc2FnZU1hcCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICAgICAgaWYgKGZpbHRlcihkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZShpZCwgZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5hbGxNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS51bnJlYWRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4LmlzUmVhZDsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tZXNzYWdlSWRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tZXNzYWdlTWFwKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMZWFucGx1bUluYm94TWVzc2FnZS5jcmVhdGUoaWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3g7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbmJveDtcbnZhciBMZWFucGx1bUluYm94TWVzc2FnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUluYm94TWVzc2FnZShfaWQsIF90aXRsZSwgX3N1YnRpdGxlLCBfZGF0YSwgX3RpbWVzdGFtcCwgX2lzUmVhZCwgX2ltYWdlVXJsLCBfb3BlbkFjdGlvbikge1xuICAgICAgICB0aGlzLl9pZCA9IF9pZDtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBfdGl0bGU7XG4gICAgICAgIHRoaXMuX3N1YnRpdGxlID0gX3N1YnRpdGxlO1xuICAgICAgICB0aGlzLl9kYXRhID0gX2RhdGE7XG4gICAgICAgIHRoaXMuX3RpbWVzdGFtcCA9IF90aW1lc3RhbXA7XG4gICAgICAgIHRoaXMuX2lzUmVhZCA9IF9pc1JlYWQ7XG4gICAgICAgIHRoaXMuX2ltYWdlVXJsID0gX2ltYWdlVXJsO1xuICAgICAgICB0aGlzLl9vcGVuQWN0aW9uID0gX29wZW5BY3Rpb247XG4gICAgfVxuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZUluZm8pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbDtcbiAgICAgICAgdmFyIHBhcmVudENhbXBhaWduSWQgPSAoX2EgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmVudENhbXBhaWduSWQ7XG4gICAgICAgIHZhciBhY3Rpb24gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKF9jID0gKF9iID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi52YXJzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVGQVVMVF9QVVNIX0FDVElPTl0pLCB7IHBhcmVudENhbXBhaWduSWQ6IHBhcmVudENhbXBhaWduSWQgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTGVhbnBsdW1JbmJveE1lc3NhZ2UoaWQsIChfZSA9IChfZCA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudmFycykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLlRpdGxlLCAoX2cgPSAoX2YgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnZhcnMpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5TdWJ0aXRsZSwgKF9qID0gKF9oID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC52YXJzKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouRGF0YSwgbWVzc2FnZUluZm8uZGVsaXZlcnlUaW1lc3RhbXAsIG1lc3NhZ2VJbmZvLmlzUmVhZCwgKF9sID0gKF9rID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay52YXJzKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuSW1hZ2UsIGFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS50aXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnN1YnRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VidGl0bGU7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUudGltZXN0YW1wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZXN0YW1wO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmlzUmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUmVhZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pbWFnZVVybCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlVXJsO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLm9wZW5BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuQWN0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3hNZXNzYWdlO1xufSgpKTtcbmV4cG9ydHMuTGVhbnBsdW1JbmJveE1lc3NhZ2UgPSBMZWFucGx1bUluYm94TWVzc2FnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIExlYW5wbHVtUmVxdWVzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVJlcXVlc3QobmV0d29yaykge1xuICAgICAgICBpZiAobmV0d29yayA9PT0gdm9pZCAwKSB7IG5ldHdvcmsgPSBuZXcgTmV0d29ya18xLmRlZmF1bHQoKTsgfVxuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXR3b3JrO1xuICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVzZXJJZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFwaVBhdGggPSAnaHR0cHM6Ly9hcGkubGVhbnBsdW0uY29tL2FwaSc7XG4gICAgICAgIHRoaXMuYmF0Y2hDb29sZG93biA9IDU7XG4gICAgICAgIHRoaXMuYmF0Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUsIFwidXNlcklkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMudXNlcklkVmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRldmljZUlkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMudXNlcklkVmFsdWUgPSB1c2VySWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChhY3Rpb24sIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgLy8gR2V0IG9yIGNyZWF0ZSBkZXZpY2UgSUQgYW5kIHVzZXIgSUQuXG4gICAgICAgIGlmICghdGhpcy5kZXZpY2VJZCkge1xuICAgICAgICAgICAgdGhpcy5kZXZpY2VJZCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRldmljZUlkKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAnJztcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRldmljZUlkID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lELCB0aGlzLnVzZXJJZCk7XG4gICAgICAgIHZhciBhcmdzQnVpbGRlciA9IHBhcmFtc1xuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfSUQsIHRoaXMuZGV2aWNlSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfSUQsIHRoaXMudXNlcklkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sIGFjdGlvbilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkVSU0lPTl9OQU1FLCB0aGlzLnZlcnNpb25OYW1lKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZfTU9ERSwgb3B0aW9ucy5kZXZNb2RlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5USU1FLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKS50b1N0cmluZygpKTtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3MgfHwgb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgdmFyIGVycm9yID0gb3B0aW9ucy5lcnJvciB8fCBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICBpZiAoIXRoaXMuYXBwSWQgfHwgIXRoaXMuY2xpZW50S2V5KSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gJ0xlYW5wbHVtIEFwcCBJRCBhbmQgY2xpZW50IGtleSBhcmUgbm90IHNldC4gTWFrZSBzdXJlIHlvdSAnICtcbiAgICAgICAgICAgICAgICAnYXJlIGNhbGxpbmcgc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgb3Igc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSAnICtcbiAgICAgICAgICAgICAgICAnYmVmb3JlIGlzc3VpbmcgQVBJIGNhbGxzLic7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmJvZHkoKSkge1xuICAgICAgICAgICAgdGhpcy5uZXR3b3JrLmFqYXgoJ1BPU1QnLCB0aGlzLmFwaVBhdGggKyBcIj9cIiArIGFyZ3NCdWlsZGVyLmJ1aWxkKCksIHBhcmFtcy5ib2R5KCksIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbmROb3cgPSBvcHRpb25zLmRldk1vZGUgfHwgb3B0aW9ucy5zZW5kTm93IHx8ICF0aGlzLmJhdGNoRW5hYmxlZDtcbiAgICAgICAgdmFyIHNlbmRVbnNlbnRSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0c1RvU2VuZCA9IF90aGlzLnBvcFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgICAgICBpZiAocmVxdWVzdHNUb1NlbmQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiByZXF1ZXN0c1RvU2VuZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbXVsdGlSZXF1ZXN0QXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0YWNoQXBpS2V5cyhfdGhpcy5hcHBJZCwgX3RoaXMuY2xpZW50S2V5KVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLk1VTFRJKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlRJTUUsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLnRvU3RyaW5nKCkudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubmV0d29yay5hamF4KCdQT1NUJywgX3RoaXMuYXBpUGF0aCArIFwiP1wiICsgbXVsdGlSZXF1ZXN0QXJncywgcmVxdWVzdERhdGEsIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIERlYWwgd2l0aCBjb29sZG93bi5cbiAgICAgICAgaWYgKCFzZW5kTm93ICYmIHRoaXMuYmF0Y2hDb29sZG93bikge1xuICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5sYXN0UmVxdWVzdFRpbWUgfHwgbm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUgPj0gdGhpcy5iYXRjaENvb2xkb3duKSB7XG4gICAgICAgICAgICAgICAgc2VuZE5vdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBub3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5jb29sZG93blRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb29sZG93blRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRVbnNlbnRSZXF1ZXN0cygpO1xuICAgICAgICAgICAgICAgIH0sICh0aGlzLmJhdGNoQ29vbGRvd24gLSAobm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUpKSAqIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZVJlcXVlc3RGb3JMYXRlcihhcmdzQnVpbGRlci5idWlsZERpY3QoKSk7XG4gICAgICAgIGlmIChzZW5kTm93KSB7XG4gICAgICAgICAgICBzZW5kVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5nZXRGaWxlVXJsID0gZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIGlmICghZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sICdkb3dubG9hZEZpbGUnKVxuICAgICAgICAgICAgLmFkZCgnZmlsZW5hbWUnLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaVBhdGggKyBcIj9cIiArIGFyZ3MuYnVpbGQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmsuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0TGFzdFJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB2YXIgY291bnQgPSAoX2IgPSAoX2EgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgICAgIHJldHVybiAoY291bnQgPiAwKSA/IChfYyA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jW2NvdW50IC0gMV0gOiBudWxsO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5pc1Jlc3BvbnNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihyZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2Uuc3VjY2Vzcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNhdmVSZXF1ZXN0Rm9yTGF0ZXIgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCkgfHwgMDtcbiAgICAgICAgdmFyIGl0ZW1LZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JVEVNICsgY291bnQ7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKGl0ZW1LZXksIEpTT04uc3RyaW5naWZ5KGFyZ3MpKTtcbiAgICAgICAgY291bnQrKztcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQsIGNvdW50KTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5wb3BVbnNlbnRSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlcXVlc3REYXRhID0gW107XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKSB8fCAwO1xuICAgICAgICB0aGlzLnJlbW92ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbUtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklURU0gKyBpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YS5wdXNoKEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoaXRlbUtleSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTG9jYWwoaXRlbUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3REYXRhO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5sb2FkTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKGtleSk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNhdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucmVtb3ZlTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZUZyb21Mb2NhbFN0b3JhZ2Uoa2V5KTtcbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bVJlcXVlc3Q7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1SZXF1ZXN0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsb2Rhc2hfaXNlcXVhbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2guaXNlcXVhbFwiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBTb2NrZXRJb0NsaWVudF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1NvY2tldElvQ2xpZW50XCIpKTtcbnZhciBMZWFucGx1bVNvY2tldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVNvY2tldChjYWNoZSwgY3JlYXRlUmVxdWVzdCwgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBnZXRMYXN0UmVzcG9uc2UsIGV2ZW50cykge1xuICAgICAgICB0aGlzLmNhY2hlID0gY2FjaGU7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuZ2V0TGFzdFJlc3BvbnNlID0gZ2V0TGFzdFJlc3BvbnNlO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSAxMDtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnNvY2tldEhvc3QgPSAnZGV2LmxlYW5wbHVtLmNvbSc7XG4gICAgfVxuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGF1dGgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgV2ViU29ja2V0cy4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXV0aFNlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQgPSBuZXcgU29ja2V0SW9DbGllbnRfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LnNldE5ldHdvcmtUaW1lb3V0KHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFhdXRoU2VudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogQ29ubmVjdGVkIHRvIGRldmVsb3BtZW50IHNlcnZlci4nKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnYXV0aCcsIChfYSA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BUFBfSURdID0gYXV0aC5hcHBJZCxcbiAgICAgICAgICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX0lEXSA9IGF1dGguZGV2aWNlSWQsXG4gICAgICAgICAgICAgICAgICAgIF9hKSk7XG4gICAgICAgICAgICAgICAgYXV0aFNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNvY2tldCBlcnJvcicsIGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25tZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2VSZWNlaXZlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBEaXNjb25uZWN0ZWQgZnJvbSBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICBhdXRoU2VudCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5jb25uZWN0KHRoaXMuc29ja2V0SG9zdCk7XG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RlZCAmJiAhX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdChfdGhpcy5zb2NrZXRIb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG4gICAgfTtcbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNvY2tldEhvc3QgPSB2YWx1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSBzZWNvbmRzO1xuICAgICAgICAoX2EgPSB0aGlzLnNvY2tldENsaWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLm9uTWVzc2FnZVJlY2VpdmVkID0gZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudCA9PT0gJ3VwZGF0ZVZhcnMnKSB7XG4gICAgICAgICAgICB2YXIgYXJnc18xID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX0RFRkFVTFRTLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLkdFVF9WQVJTLCBhcmdzXzEsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0VmFyc1Jlc3BvbnNlID0gX3RoaXMuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU107XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YXJpYW50cyA9IGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uRGVmaW5pdGlvbnMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9ERUZJTklUSU9OU107XG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9kYXNoX2lzZXF1YWxfMS5kZWZhdWx0KHZhbHVlcywgX3RoaXMuY2FjaGUuZGlmZnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYWNoZS5hcHBseURpZmZzKHZhbHVlcywgdmFyaWFudHMsIGFjdGlvbkRlZmluaXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ2dldFZhcmlhYmxlcycpIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2VuZFZhcmlhYmxlcygpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgICd1cGRhdGVkJzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0QWN0aW9ucycpIHtcbiAgICAgICAgICAgIHZhciB1cGRhdGVkID0gdGhpcy5jYWNoZS5zZW5kQWN0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IHVwZGF0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ3JlZ2lzdGVyRGV2aWNlJykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgICAgICAgICBhbGVydChcIllvdXIgZGV2aWNlIGhhcyBiZWVuIHJlZ2lzdGVyZWQgdG8gXCIgKyBtZXNzYWdlLmVtYWlsICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAndHJpZ2dlcicpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gYXJnc1swXTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3ByZXZpZXdSZXF1ZXN0JywgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bVNvY2tldDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bVNvY2tldDtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOZXR3b3JrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTmV0d29ya1wiKSk7XG4vKipcbiAqIFNvY2tldC5pbyAxLjAgY2xpZW50IGNsYXNzLlxuICovXG52YXIgU29ja2V0SW9DbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBuZXcgU29ja2V0SW9DbGllbnQsIG5vdCBjb25uZWN0ZWQgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTb2NrZXRJb0NsaWVudCgpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV3IE5ldHdvcmtfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdHMgdG8gdGhlIGdpdmVuIHNvY2tldEhvc3QuXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBzb2NrZXRIb3N0IFRoZSBob3N0IHRvIGNvbm5lY3QgdG8uXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoc29ja2V0SG9zdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm5ldHdvcmsuYWpheCgnUE9TVCcsIFwiaHR0cHM6Ly9cIiArIHNvY2tldEhvc3QgKyBcIi9zb2NrZXQuaW8vMVwiLCAnJywgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKTtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gcGFydHNbMF07XG4gICAgICAgICAgICB2YXIgaGVhcnRiZWF0ID0gcGFyc2VJbnQocGFydHNbMV0pIC8gMiAqIDEwMDA7XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KFwid3NzOi8vXCIgKyBzb2NrZXRIb3N0ICsgXCIvc29ja2V0LmlvLzEvd2Vic29ja2V0L1wiICsgc2Vzc2lvbik7XG4gICAgICAgICAgICB2YXIgaGVhcnRiZWF0SW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9ub3BlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoZWFydGJlYXRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoJzI6OjonKTtcbiAgICAgICAgICAgICAgICB9LCBoZWFydGJlYXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaGVhcnRiZWF0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlUGFydHMgPSBldmVudC5kYXRhLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBwYXJzZUludChtZXNzYWdlUGFydHNbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKCcyOjonKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUlkID0gbWVzc2FnZVBhcnRzWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZVBhcnRzLnNsaWNlKDMpLmpvaW4oJzonKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlRXZlbnQgPSBkYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gZGF0YS5hcmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZChcIjY6OjpcIiArIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLm9ubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25tZXNzYWdlKG1lc3NhZ2VFdmVudCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNvY2tldCBlcnJvcjogXCIgKyBldmVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbmVycm9yKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBudWxsLCBmYWxzZSwgdHJ1ZSAvLyBudWxsLCBxdWV1ZWQsIHBsYWluVGV4dFxuICAgICAgICApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZHMgZ2l2ZW4gZXZlbnQgd2l0aCBhcmd1bWVudHMgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtICB7Kn0gYXJncyBBcmd1bWVudHMgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3NKc29uID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKFwiNTo6OlwiICsgYXJnc0pzb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgcmV0dXJuIFNvY2tldElvQ2xpZW50O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNvY2tldElvQ2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgQVBQTElDQVRJT05fU0VSVkVSX1BVQkxJQ19LRVkgPSAnQkluV1BwV250ZlIzOXJnWFNQMDRwcWRtRWRER2E1MHo2enFiTXZ4eXhKQ3d6WEl1U3BTaDhDODg4LUNmSjgyV0VMbDdYZThjakFuZkN0LTN2SzBDaTY4Jztcbi8qKlxuICogUHVzaCBNYW5hZ2VyIGhhbmRsZXMgdGhlIHJlZ2lzdHJhdGlvbiBhbmQgc3Vic2NyaXB0aW9uIGZvciB3ZWIgcHVzaC5cbiAqL1xudmFyIFB1c2hNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFB1c2hNYW5hZ2VyKGNyZWF0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFB1c2hNYW5hZ2VyLnByb3RvdHlwZSwgXCJzZXJ2aWNlV29ya2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5zZXJ2aWNlV29ya2VyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oKHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5uYXZpZ2F0b3IpICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICdzZXJ2aWNlV29ya2VyJyBpbiB3aW5kb3cubmF2aWdhdG9yICYmXG4gICAgICAgICAgICAnUHVzaE1hbmFnZXInIGluIHdpbmRvdyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYnJvd3NlciBpcyBzdWJzY3JpYmVkIHRvIHdlYiBwdXNoIG5vdGlmaWNhdGlvbnMuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gVHJ1ZSBpZiBzdWJzY3JpYmVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVnaXN0cmF0aW9uLCBzdWJzY3JpcHRpb24sIGlzU3Vic2NyaWJlZDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1dlYlB1c2hTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3Vic2NyaWJlZCA9IHN1YnNjcmlwdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgaXNTdWJzY3JpYmVkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBmb3IgV2ViUHVzaC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIHRoYXQgc2VydmVzIHRoZSBzZXJ2aWNlIHdvcmtlciBvbiB5b3VyIGRvbWFpbi5cbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICBUaGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdpdGggcmVzdWx0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRydWUgaWYgc3Vic2NyaWJlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCwgc2NvcGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgc3Vic2NyaXB0aW9uLCBpc1N1YnNjcmliZWQsIGVycm9yXzE7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFB1c2ggbWVzc2FnaW5nIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgNCwgLCA1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc2VydmljZVdvcmtlclVybCB8fCAnL3N3Lm1pbi5qcycsIHNjb3BlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1YnNjcmliZWQgPSBzdWJzY3JpcHRpb24gIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlcihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGlzU3Vic2NyaWJlZCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8xID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTZXJ2aWNlIFdvcmtlciBFcnJvcjogJywgZXJyb3JfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRoZSB1c2VyIChicm93c2VyKSB0byBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHN1YnNjcmlwdGlvbiBzdWNjZXNzZnVsLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuc3Vic2NyaWJlVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFwcGxpY2F0aW9uU2VydmVyS2V5LCBzdWJzY3JpcHRpb24sIGVycm9yXzI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleSA9IHRoaXMudXJsQjY0VG9VaW50OEFycmF5KEFQUExJQ0FUSU9OX1NFUlZFUl9QVUJMSUNfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5OiBhcHBsaWNhdGlvblNlcnZlcktleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxlYW5wbHVtOiBGYWlsZWQgdG8gc3Vic2NyaWJlIHRoZSB1c2VyOiBcIiArIGVycm9yXzIpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZSB0aGUgdXNlcihicm93c2VyKSBmcm9tIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdW5zdWJzY3JpYmVkLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudW5zdWJzY3JpYmVVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlZCwgc3Vic2NyaXB0aW9uLCBlcnJvcl8zO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmlzV2ViUHVzaFN1YnNjcmliZWQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZWQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZWQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzIsIDUsICwgNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZWFucGx1bTogRXJyb3IgdW5zdWJzY3JpYmluZzogXCIgKyBlcnJvcl8zKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBzZXJ2aWNlIHdvcmtlciByZWdpc3RyYXRpb24gb2JqZWN0IGZyb20gYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFJldHVybnMgdGhlIHJlZ2lzdHJhdGlvbiBvciBudWxsLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmNvZGVzIGEgYmFzZTY0IFVSTCBzdHJpbmcgdG8gYW4gVWludDggYXJyYXkuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVybEI2NFRvVWludDhBcnJheSA9IGZ1bmN0aW9uIChiYXNlNjRTdHJpbmcpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7XG4gICAgICAgIHZhciBiYXNlNjQgPSAoYmFzZTY0U3RyaW5nICsgcGFkZGluZykucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgICAgICAgdmFyIHJhd0RhdGEgPSB0aGlzLmRlY29kZURhdGEoYmFzZTY0KTtcbiAgICAgICAgdmFyIG91dHB1dEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG91dHB1dEFycmF5W2ldID0gcmF3RGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXRBcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSBuZXcgc3Vic2NyaXB0aW9uIG9iamVjdCB0byB0aGUgTGVhbnBsdW0gc2VydmVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdWJzY3JpcHRpb24gVGhlIHN1YnNjcmlwdGlvbi5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZFN1YnNjcmlwdGlvbiA9IHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocHJlcGFyZWRTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nU3Vic2NyaXB0aW9uU3RyaW5nID0gTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0RnJvbUxvY2FsU3RvcmFnZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5QVVNIX1NVQlNDUklQVElPTik7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTdWJzY3JpcHRpb25TdHJpbmcgIT09IHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlBVU0hfU1VCU0NSSVBUSU9OLCBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdWJzY3JpcHRpb24ocHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUucHJlcGFyZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIGtleSA9ICgnZ2V0S2V5JyBpbiBzdWJzY3JpcHRpb24pID8gc3Vic2NyaXB0aW9uLmdldEtleSgncDI1NmRoJykgOiBbXTtcbiAgICAgICAgdmFyIGF1dGggPSAoJ2dldEtleScgaW4gc3Vic2NyaXB0aW9uKSA/IHN1YnNjcmlwdGlvbi5nZXRLZXkoJ2F1dGgnKSA6IFtdO1xuICAgICAgICB2YXIga2V5QXNjaWkgPSB0aGlzLmVuY29kZURhdGEoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShrZXkpKSk7XG4gICAgICAgIHZhciBhdXRoQXNjaWkgPSB0aGlzLmVuY29kZURhdGEoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShhdXRoKSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW5kcG9pbnQ6IHN1YnNjcmlwdGlvbi5lbmRwb2ludCxcbiAgICAgICAgICAgIGtleToga2V5QXNjaWksXG4gICAgICAgICAgICBhdXRoOiBhdXRoQXNjaWksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24gc3RyaW5nLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5zZXRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5XRUJfUFVTSF9TVUJTQ1JJUFRJT04sIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9ERVZJQ0VfQVRUUklCVVRFUywgYXJncywge1xuICAgICAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZW5jb2RlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYnRvYShkYXRhKTtcbiAgICB9O1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5kZWNvZGVEYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5hdG9iKGRhdGEpO1xuICAgIH07XG4gICAgcmV0dXJuIFB1c2hNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFB1c2hNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgT2NjdXJyZW5jZVRyYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2NjdXJyZW5jZVRyYWNrZXIoKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLnRyaWdnZXJzID0ge307XG4gICAgICAgIHRoaXMub2NjdXJyZW5jZXMgPSB7fTtcbiAgICB9XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLnJlY29yZE9jY3VycmVuY2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIHNlc3Npb25PY2N1cnJlbmNlcyA9ICh0aGlzLnNlc3Npb25baWRdIHx8IDApICsgMTtcbiAgICAgICAgdGhpcy5zZXNzaW9uW2lkXSA9IHNlc3Npb25PY2N1cnJlbmNlcztcbiAgICAgICAgdmFyIG9jY3VycmVuY2VzID0gKHRoaXMub2NjdXJyZW5jZXNbaWRdIHx8IFtdKTtcbiAgICAgICAgb2NjdXJyZW5jZXMucHVzaChEYXRlLm5vdygpKTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlc1tpZF0gPSBvY2N1cnJlbmNlcztcbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUucmVjb3JkVHJpZ2dlck9jY3VycmVuY2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIHRyaWdnZXJPY2N1cnJlbmNlcyA9IHRoaXMudHJpZ2dlcnNbaWRdIHx8IFtdO1xuICAgICAgICB0cmlnZ2VyT2NjdXJyZW5jZXMucHVzaChEYXRlLm5vdygpKTtcbiAgICAgICAgdGhpcy50cmlnZ2Vyc1tpZF0gPSB0cmlnZ2VyT2NjdXJyZW5jZXM7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgICAgICByZXR1cm4gdHJpZ2dlck9jY3VycmVuY2VzLmxlbmd0aDtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5nZXRTZXNzaW9uT2NjdXJyYW5jZUNvdW50ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25baWRdIHx8IDA7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuZ2V0T2NjdXJyZW5jZXMgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2NjdXJyZW5jZXNbaWRdIHx8IFtdO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmNsZWFyU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0RnJvbUxvY2FsU3RvcmFnZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NRVNTQUdFX09DQ1VSUkVOQ0VTKTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoY2FjaGUpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0ganNvbi5zZXNzaW9uO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VycyA9IGpzb24udHJpZ2dlcnM7XG4gICAgICAgICAgICB0aGlzLm9jY3VycmVuY2VzID0ganNvbi5vY2N1cnJlbmNlcztcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBrZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NRVNTQUdFX09DQ1VSUkVOQ0VTO1xuICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2Uoa2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sXG4gICAgICAgICAgICB0cmlnZ2VyczogdGhpcy50cmlnZ2VycyxcbiAgICAgICAgICAgIG9jY3VycmVuY2VzOiB0aGlzLm9jY3VycmVuY2VzLFxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2NjdXJyZW5jZVRyYWNrZXI7XG59KCkpO1xudmFyIHZlcmJUb0ludGVydmFsID0gZnVuY3Rpb24gKHZlcmIpIHtcbiAgICB2YXIgU0VDT05EID0gMTAwMDtcbiAgICB2YXIgTUlOVVRFID0gNjAgKiBTRUNPTkQ7XG4gICAgdmFyIEhPVVIgPSA2MCAqIE1JTlVURTtcbiAgICB2YXIgREFZID0gMjQgKiBIT1VSO1xuICAgIHN3aXRjaCAodmVyYikge1xuICAgICAgICBjYXNlICdsaW1pdFNlY29uZCc6IHJldHVybiBTRUNPTkQ7XG4gICAgICAgIGNhc2UgJ2xpbWl0TWludXRlJzogcmV0dXJuIE1JTlVURTtcbiAgICAgICAgY2FzZSAnbGltaXRIb3VyJzogcmV0dXJuIEhPVVI7XG4gICAgICAgIGNhc2UgJ2xpbWl0RGF5JzogcmV0dXJuIERBWTtcbiAgICB9XG59O1xudmFyIE1lc3NhZ2VzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lc3NhZ2VzKGV2ZW50cywgY3JlYXRlUmVxdWVzdCwgZ2V0RmlsZVVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5nZXRGaWxlVXJsID0gZ2V0RmlsZVVybDtcbiAgICAgICAgdGhpcy5fbWVzc2FnZUNhY2hlID0ge307XG4gICAgICAgIHRoaXMub2NjdXJyZW5jZVRyYWNrZXIgPSBuZXcgT2NjdXJyZW5jZVRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy5fc2hvd1JpY2hJQU0gPSBmYWxzZTtcbiAgICAgICAgZXZlbnRzLm9uKCdwcmV2aWV3UmVxdWVzdCcsIHRoaXMub25NZXNzYWdlUHJldmlldy5iaW5kKHRoaXMpKTtcbiAgICAgICAgZXZlbnRzLm9uKCdtZXNzYWdlc1JlY2VpdmVkJywgdGhpcy5vbk1lc3NhZ2VzUmVjZWl2ZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIGV2ZW50cy5vbignc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5sb2FkKCk7XG4gICAgICAgICAgICBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5jbGVhclNlc3Npb24oKTtcbiAgICAgICAgICAgIF90aGlzLm9uVHJpZ2dlcih7IHRyaWdnZXI6ICdzdGFydCcgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ3Jlc3VtZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NRVNTQUdFX0NBQ0hFO1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0RnJvbUxvY2FsU3RvcmFnZShrZXkpO1xuICAgICAgICAgICAgX3RoaXMuX21lc3NhZ2VDYWNoZSA9IGNhY2hlID8gSlNPTi5wYXJzZShjYWNoZSkgOiBfdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICAgICAgX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIubG9hZCgpO1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3Jlc3VtZScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ3RyYWNrJywgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIF90aGlzLm9uVHJpZ2dlcih7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2V2ZW50JyxcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6IGFyZ3MuZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIHBhcmFtczogYXJncy5wYXJhbXMgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbignYWR2YW5jZVN0YXRlJywgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblRyaWdnZXIoe1xuICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdzdGF0ZScsXG4gICAgICAgICAgICAgICAgc3RhdGU6IGFyZ3Muc3RhdGUsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBhcmdzLnBhcmFtcyB8fCB7fSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCdzZXRVc2VyQXR0cmlidXRlJywgZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblRyaWdnZXIoeyB0cmlnZ2VyOiAndXNlckF0dHJpYnV0ZScsIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuZW5hYmxlUmljaEluQXBwTWVzc2FnZXMgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9zaG93UmljaElBTSA9IGVuYWJsZWQ7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25UcmlnZ2VyID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5nZXRNZXNzYWdlcygpO1xuICAgICAgICB2YXIgbWVzc2FnZUlkcyA9IE9iamVjdC5rZXlzKG1lc3NhZ2VzKTtcbiAgICAgICAgbWVzc2FnZUlkc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIF90aGlzLnNob3VsZFNob3dNZXNzYWdlKGlkLCBtZXNzYWdlc1tpZF0sIGNvbnRleHQpOyB9KVxuICAgICAgICAgICAgLnNsaWNlKDAsIDEpIC8vIFRPRE86IGNob29zZSByYW5kb21seVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7IHJldHVybiBfdGhpcy5zaG93TWVzc2FnZShpZCwgbWVzc2FnZXNbaWRdKTsgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25NZXNzYWdlUHJldmlldyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciB2YXJzID0gbWVzc2FnZS5hY3Rpb247XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgdHJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudEluZm8gPSBldmVudCA/IFwiZXZlbnQgJ1wiICsgZXZlbnQgKyBcIidcIiA6ICdpbXByZXNzaW9uJztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyYWNraW5nIFwiICsgZXZlbnRJbmZvICsgXCIgZm9yIFwiICsgbWVzc2FnZS5tZXNzYWdlSWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bkFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIlJ1bm5pbmcgdW50cmFja2VkIGFjdGlvbiAnXCIgKyBhY3Rpb25OYW1lICsgXCInXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1blRyYWNrZWRBY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJSdW5uaW5nIHRyYWNrZWQgYWN0aW9uICdcIiArIGFjdGlvbk5hbWUgKyBcIidcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgaXNQcmV2aWV3OiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogX19hc3NpZ24oeyBtZXNzYWdlSWQ6IG1lc3NhZ2UubWVzc2FnZUlkIH0sIHZhcnMpLFxuICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25NZXNzYWdlc1JlY2VpdmVkID0gZnVuY3Rpb24gKHJlY2VpdmVkTWVzc2FnZXMpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gcmVjZWl2ZWRNZXNzYWdlcyB8fCB7fTtcbiAgICAgICAgdGhpcy5fbWVzc2FnZUNhY2hlID0gbWVzc2FnZXM7XG4gICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NRVNTQUdFX0NBQ0hFLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlcykpO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnNob3VsZFNob3dNZXNzYWdlID0gZnVuY3Rpb24gKGlkLCBtZXNzYWdlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbWF0Y2hlc1RyaWdnZXIgPSB0aGlzLm1hdGNoZXNUcmlnZ2VyKG1lc3NhZ2Uud2hlblRyaWdnZXJzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIG1hdGNoZXNVbmxlc3MgPSB0aGlzLm1hdGNoZXNUcmlnZ2VyKG1lc3NhZ2UudW5sZXNzVHJpZ2dlcnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoIW1hdGNoZXNUcmlnZ2VyIHx8IG1hdGNoZXNVbmxlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJpZ2dlcnNDb3VudCA9IHRoaXMub2NjdXJyZW5jZVRyYWNrZXIucmVjb3JkVHJpZ2dlck9jY3VycmVuY2UoaWQpO1xuICAgICAgICBpZiAoIXRoaXMubWF0Y2hlc0xpbWl0cyhpZCwgbWVzc2FnZS53aGVuTGltaXRzLCB0cmlnZ2Vyc0NvdW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXJ0VGltZSAmJiBtZXNzYWdlLmVuZFRpbWUpIHtcbiAgICAgICAgICAgIHZhciBvdXRzaWRlQWN0aXZlUGVyaW9kID0gbm93IDwgbWVzc2FnZS5zdGFydFRpbWUgfHwgbWVzc2FnZS5lbmRUaW1lIDwgbm93O1xuICAgICAgICAgICAgaWYgKG91dHNpZGVBY3RpdmVQZXJpb2QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuc2hvd01lc3NhZ2UgPSBmdW5jdGlvbiAoaWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHZhcnMgPSB0aGlzLmFkZERlZmF1bHRzKF9fYXNzaWduKHt9LCBtZXNzYWdlLnZhcnMpKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgICAgICB0cmFjazogZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIucmVjb3JkT2NjdXJyZW5jZShpZCk7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJhY2tNZXNzYWdlKGlkLCB7IGV2ZW50OiBldmVudCwgdmFsdWU6IHZhbHVlLCBpbmZvOiBpbmZvLCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5BY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHsgcmV0dXJuIF90aGlzLm9uQWN0aW9uKHZhcnNbYWN0aW9uTmFtZV0sIGlkKTsgfSxcbiAgICAgICAgICAgIHJ1blRyYWNrZWRBY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBhY3Rpb25OYW1lLnJlcGxhY2UoLyBhY3Rpb24kLywgJycpO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrTWVzc2FnZShpZCwgeyBldmVudDogZXZlbnQgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25BY3Rpb24odmFyc1thY3Rpb25OYW1lXSwgaWQpOyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZSh7XG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgbWVzc2FnZTogX19hc3NpZ24oeyBtZXNzYWdlSWQ6IGlkIH0sIHZhcnMpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5wcm9jZXNzTWVzc2FnZUV2ZW50ID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgZXZlbnRVcmwpIHtcbiAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibHAtbWVzc2FnZS1cIiArIG1lc3NhZ2VJZCk7XG4gICAgICAgIGlmICghaWZyYW1lKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbWVzc2FnZSBjbG9zZWQsIHNraXBwaW5nIGV2ZW50IHByb2Nlc3NpbmcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBldmVudFVybC5yZXBsYWNlKC9eaHR0cDpcXC9cXC9sZWFucGx1bVxcLy8sICcnKS5zcGxpdCgnPycpLCBldmVudCA9IF9hWzBdLCBfYiA9IF9hWzFdLCBxdWVyeSA9IF9iID09PSB2b2lkIDAgPyAnJyA6IF9iO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB2YXIgcGFyYW1zID0gcXVlcnkuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFyYW0pIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHBhcmFtLnNwbGl0KCc9JyksIGtleSA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xuICAgICAgICAgICAgYWNjW2tleV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICB2YXIgX2MgPSBpZnJhbWUubWV0YWRhdGEsIG1lc3NhZ2UgPSBfYy5tZXNzYWdlLCBjb250ZXh0ID0gX2MuY29udGV4dDtcbiAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgY2FzZSAnbG9hZEZpbmlzaGVkJzpcbiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZVsnSFRNTCBIZWlnaHQnXSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gbWVzc2FnZVsnSFRNTCBXaWR0aCddO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gbWVzc2FnZVsnSFRNTCBIZWlnaHQnXSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5sZWZ0ID0gXCJjYWxjKCgxMDAlIC0gXCIgKyB3aWR0aCArIFwiKSAvIDIpXCI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3JQcm9wID0gbWVzc2FnZVsnSFRNTCBBbGlnbiddLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbHRQcm9wID0gYW5jaG9yUHJvcCA9PT0gJ3RvcCcgPyAnYm90dG9tJyA6ICd0b3AnO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGVbYW5jaG9yUHJvcF0gPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZVthbHRQcm9wXSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFjaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhY2snOlxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhY2socGFyYW1zLmV2ZW50LCBwYXJzZUZsb2F0KHBhcmFtcy52YWx1ZSksIHBhcmFtcy5wYXJhbWV0ZXJzLCBwYXJhbXMuaW5mbyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdydW5BY3Rpb24nOlxuICAgICAgICAgICAgY2FzZSAncnVuVHJhY2tlZEFjdGlvbic6XG4gICAgICAgICAgICAgICAgY29udGV4dFtldmVudCArIFwiTmFtZWRcIl0ocGFyYW1zLmFjdGlvbik7XG4gICAgICAgICAgICAvLyBmYWxsIHRocm91Z2ggYW5kIGNsb3NlXG4gICAgICAgICAgICBjYXNlICdjbG9zZSc6XG4gICAgICAgICAgICAgICAgaWZyYW1lLm1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuaGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9zaG93UmljaElBTSAmJiBvcHRpb25zLm1lc3NhZ2UuX19uYW1lX18gPT09ICdIVE1MJykge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlRmlsZXMob3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZU5hbWUgPSBvcHRpb25zLm1lc3NhZ2VbJ1RlbXBsYXRlJ10gfHwgJyc7XG4gICAgICAgICAgICBuZXcgTmV0d29ya18xLmRlZmF1bHQoKS5hamF4KCdnZXQnLCB0ZW1wbGF0ZU5hbWUucmVwbGFjZSgnLTEwLmh0bWwnLCAnLTExLmh0bWwnKSwgJycsIGZ1bmN0aW9uICh0ZW1wbGF0ZSkgeyByZXR1cm4gX3RoaXMucmVuZGVyUmljaEluQXBwTWVzc2FnZSh0ZW1wbGF0ZSwgb3B0aW9ucyk7IH0sIGZ1bmN0aW9uICgpIHsgfSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2hvd01lc3NhZ2UnLCB0aGlzLnJlc29sdmVGaWVsZHMob3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVuZGVyUmljaEluQXBwTWVzc2FnZSA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbWVzc2FnZUlkID0gb3B0aW9ucy5tZXNzYWdlLm1lc3NhZ2VJZDtcbiAgICAgICAgdmFyIHZhcnMgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLm1lc3NhZ2UpO1xuICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2lkJywgXCJscC1tZXNzYWdlLVwiICsgbWVzc2FnZUlkKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLmNzc1RleHQgPSBbXG4gICAgICAgICAgICAnYm9yZGVyLXdpZHRoOiAwJyxcbiAgICAgICAgICAgICdwb3NpdGlvbjogZml4ZWQnLFxuICAgICAgICAgICAgJ3RvcDogLTEwMCUnLFxuICAgICAgICAgICAgJ2xlZnQ6IC0xMDAlJyxcbiAgICAgICAgICAgICd3aWR0aDogMTAwJScsXG4gICAgICAgICAgICAnaGVpZ2h0OiAxMDAlJyxcbiAgICAgICAgICAgICd2aXNpYmlsaXR5OiBoaWRkZW4nLFxuICAgICAgICAgICAgJ3otaW5kZXg6IDEwMDAwMCcsXG4gICAgICAgIF0uam9pbignOycpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICAgIC8vIHBhc3MgbWVzc2FnZSBpbmZvXG4gICAgICAgIGlmcmFtZS5tZXRhZGF0YSA9IG9wdGlvbnM7XG4gICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93Lm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZDtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB0ZW1wbGF0ZVxuICAgICAgICAgICAgLnJlcGxhY2UoJyMjVmFycyMjJywgdmFycylcbiAgICAgICAgICAgIC5yZXBsYWNlKCc8Ym9keT4nLCBcIjxib2R5PjxzY3JpcHQ+d2luZG93Lm1lc3NhZ2VJZD0nXCIgKyBtZXNzYWdlSWQgKyBcIic8L3NjcmlwdD5cIik7XG4gICAgICAgIGlmICgnc3JjZG9jJyBpbiBpZnJhbWUpIHtcbiAgICAgICAgICAgIGlmcmFtZS5zcmNkb2MgPSBjb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRvYyA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgICAgICAgICAgZG9jLm9wZW4oKTtcbiAgICAgICAgICAgIGRvYy53cml0ZShjb250ZW50KTtcbiAgICAgICAgICAgIGRvYy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUudHJhY2tNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgdHJhY2tPcHRpb25zLCByZXNwb25zZSkge1xuICAgICAgICBpZiAodHJhY2tPcHRpb25zID09PSB2b2lkIDApIHsgdHJhY2tPcHRpb25zID0geyBldmVudDogbnVsbCB9OyB9XG4gICAgICAgIGlmIChyZXNwb25zZSA9PT0gdm9pZCAwKSB7IHJlc3BvbnNlID0gZnVuY3Rpb24gKCkgeyB9OyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk1FU1NBR0VfSUQsIG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBkZWZpbmVkID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ICE9PSAndW5kZWZpbmVkJzsgfTtcbiAgICAgICAgaWYgKHRyYWNrT3B0aW9ucy5ldmVudCkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuRVZFTlQsIHRyYWNrT3B0aW9ucy5ldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmluZWQodHJhY2tPcHRpb25zLnZhbHVlKSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHRyYWNrT3B0aW9ucy52YWx1ZSB8fCAwLjApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbmVkKHRyYWNrT3B0aW9ucy5pbmZvKSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgdHJhY2tPcHRpb25zLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbmVkKHRyYWNrT3B0aW9ucy5wYXJhbXMpKSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5QQVJBTVMsIEpTT04uc3RyaW5naWZ5KHRyYWNrT3B0aW9ucy5wYXJhbXMpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlRSQUNLLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5vbkFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24sIHBhcmVudE1lc3NhZ2VJZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAocGFyZW50TWVzc2FnZUlkID09PSB2b2lkIDApIHsgcGFyZW50TWVzc2FnZUlkID0gJyc7IH1cbiAgICAgICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLl9tZXNzYWdlQ2FjaGU7XG4gICAgICAgIGlmIChhY3Rpb24uX19uYW1lX18gPT09ICdDaGFpbiB0byBFeGlzdGluZyBNZXNzYWdlJykge1xuICAgICAgICAgICAgdmFyIGNoYWluZWRNZXNzYWdlSWRfMSA9IGFjdGlvblsnQ2hhaW5lZCBtZXNzYWdlJ107XG4gICAgICAgICAgICB2YXIgbWVzc2FnZV8xID0gbWVzc2FnZXNbY2hhaW5lZE1lc3NhZ2VJZF8xXTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlXzEuYWN0aW9uID09PSAnT3BlbiBVUkwnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja01lc3NhZ2UoY2hhaW5lZE1lc3NhZ2VJZF8xLCB7IGV2ZW50OiAnVmlldycgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25BY3Rpb24obWVzc2FnZV8xLnZhcnMsIGNoYWluZWRNZXNzYWdlSWRfMSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZV8xLmFjdGlvbiA9PT0gJ1JlZ2lzdGVyIEZvciBQdXNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3JlZ2lzdGVyRm9yUHVzaCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZShjaGFpbmVkTWVzc2FnZUlkXzEsIG1lc3NhZ2VfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIGFwcCBmdW5jdGlvblxuICAgICAgICB2YXIgcHJvY2Vzc0FjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gYWN0aW9uLl9fbmFtZV9fO1xuICAgICAgICAgICAgaWYgKGFjdGlvbi5fX25hbWVfXyA9PT0gJ09wZW4gVVJMJykge1xuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50cy5lbWl0KCduYXZpZ2F0aW9uQ2hhbmdlJywgYWN0aW9uLlVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhY3Rpb24uX19uYW1lX18gPT09ICdSZWdpc3RlciBGb3IgUHVzaCcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMuZW1pdCgncmVnaXN0ZXJGb3JQdXNoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gZW1iZWRkZWQgY2hhaW5lZCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvd01lc3NhZ2UocGFyZW50TWVzc2FnZUlkLCB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogcGFyZW50TWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhcnM6IGFjdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IHRoaXMubWVzc2FnZUlkRnJvbUFjdGlvbihhY3Rpb24pO1xuICAgICAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrTWVzc2FnZShtZXNzYWdlSWQsIHsgZXZlbnQ6IG51bGwgfSwgcHJvY2Vzc0FjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzQWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5nZXRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VDYWNoZSB8fCB7fTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5jb2xvclRvSGV4ID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHZhciBiID0gY29sb3IgJiAweGZmO1xuICAgICAgICBjb2xvciA+Pj0gODtcbiAgICAgICAgdmFyIGcgPSBjb2xvciAmIDB4ZmY7XG4gICAgICAgIGNvbG9yID4+PSA4O1xuICAgICAgICB2YXIgciA9IGNvbG9yICYgMHhmZjtcbiAgICAgICAgY29sb3IgPj49IDg7XG4gICAgICAgIHZhciBhID0gKGNvbG9yICYgMHhmZikgLyAyNTU7XG4gICAgICAgIHJldHVybiBcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsXCIgKyBiICsgXCIsXCIgKyBhICsgXCIpXCI7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuYWRkRGVmYXVsdHMgPSBmdW5jdGlvbiAodmFycykge1xuICAgICAgICB2YXIga2luZHMgPSB0aGlzLmdldE1lc3NhZ2VzKCkuYWN0aW9uRGVmaW5pdGlvbnMgfHwge307XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IGtpbmRzW3ZhcnMuX19uYW1lX19dO1xuICAgICAgICBpZiAoIWRlZmF1bHRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFycztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB1c2VEZWZhdWx0cyhvYmosIGRlZmF1bHRWYWx1ZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhkZWZhdWx0VmFsdWVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRlZmF1bHRWYWx1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHVzZURlZmF1bHRzKG9ialtrZXldIHx8IHt9LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1c2VEZWZhdWx0cyhfX2Fzc2lnbih7fSwgdmFycyksIGRlZmF1bHRzLnZhbHVlcyk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVzb2x2ZUZpbGVzID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICAgICAgdmFyIGZpbGVQcmVmaXggPSAvXl9fZmlsZV9fLztcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHZhcnMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlUHJlZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lXzEgPSBrZXkucmVwbGFjZShmaWxlUHJlZml4LCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyc1tuYW1lXzFdID0gdGhpcy5nZXRGaWxlVXJsKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFyc1trZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IHRoaXMucmVzb2x2ZUZpbGVzKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVzb2x2ZUZpZWxkcyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBjb2xvclN1ZmZpeCA9IC9cXGJjb2xvci9pO1xuICAgICAgICB2YXIgZmlsZVByZWZpeCA9IC9eX19maWxlX18vO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFycykge1xuICAgICAgICAgICAgaWYgKGZpbGVQcmVmaXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVfMiA9IGtleS5yZXBsYWNlKGZpbGVQcmVmaXgsICcnKTtcbiAgICAgICAgICAgICAgICB2YXJzW25hbWVfMiArICcgVVJMJ10gPSB0aGlzLmdldEZpbGVVcmwodmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbG9yU3VmZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IHRoaXMuY29sb3JUb0hleCh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhcnNba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB2YXJzW2tleV0gPSB0aGlzLnJlc29sdmVGaWVsZHModmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFycztcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tZXNzYWdlSWRGcm9tQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLl9tZXNzYWdlQ2FjaGU7XG4gICAgICAgIHZhciB2YXJzID0gX19hc3NpZ24oe30sIGFjdGlvbik7XG4gICAgICAgIGRlbGV0ZSB2YXJzWydwYXJlbnRDYW1wYWlnbklkJ107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhtZXNzYWdlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG1lc3NhZ2VzW2lkXTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmVudENhbXBhaWduSWQgIT09IGFjdGlvbi5wYXJlbnRDYW1wYWlnbklkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9kYXNoX2lzZXF1YWxfMS5kZWZhdWx0KG1lc3NhZ2UudmFycywgdmFycykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tYXRjaGVzVHJpZ2dlciA9IGZ1bmN0aW9uICh3aGVuVHJpZ2dlcnMsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKCF3aGVuVHJpZ2dlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWdub3JlQ2FzZUVxdWFscyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS50b1N0cmluZygpLmxvY2FsZUNvbXBhcmUoYi50b1N0cmluZygpLCB1bmRlZmluZWQsIHsgc2Vuc2l0aXZpdHk6ICdhY2NlbnQnIH0pID09PSAwO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbWF0Y2hlc1RyaWdnZXJzID0gZnVuY3Rpb24gKGNvbnRleHROb3VuLCBwYXJhbXMsIHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzTm91biA9IGNvbnRleHROb3VuID09PSB0cmlnZ2VyLm5vdW47XG4gICAgICAgICAgICBpZiAodHJpZ2dlci52ZXJiID09PSAndHJpZ2dlcnMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNOb3VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHJpZ2dlci52ZXJiID09PSAndHJpZ2dlcnNXaXRoUGFyYW1ldGVyJykge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IHRyaWdnZXIub2JqZWN0cywgcGFyYW1ldGVyID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zUGFyYW0gPSBwYXJhbWV0ZXIgaW4gcGFyYW1zO1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzUGFyYW0gPSBjb250YWluc1BhcmFtICYmIGlnbm9yZUNhc2VFcXVhbHModmFsdWUsIHBhcmFtc1twYXJhbWV0ZXJdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc05vdW4gJiYgbWF0Y2hlc1BhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gd2hlblRyaWdnZXJzLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWJqZWN0ID0gdHJpZ2dlci5zdWJqZWN0O1xuICAgICAgICAgICAgc3dpdGNoIChjb250ZXh0LnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdGFydCc6IHJldHVybiBzdWJqZWN0ID09PSAnc3RhcnQnIHx8IHN1YmplY3QgPT09ICdyZXN1bWUnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc3VtZSc6IHJldHVybiBzdWJqZWN0ID09PSAncmVzdW1lJztcbiAgICAgICAgICAgICAgICBjYXNlICdldmVudCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0ICE9PSAnZXZlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNUcmlnZ2Vycyhjb250ZXh0LmV2ZW50TmFtZSwgY29udGV4dC5wYXJhbXMsIHRyaWdnZXIpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VzZXJBdHRyaWJ1dGUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViamVjdCAhPT0gJ3VzZXJBdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zQXR0cmlidXRlID0gdHJpZ2dlci5ub3VuIGluIGNvbnRleHQuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIudmVyYiA9PT0gJ2NoYW5nZXMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbnNBdHRyaWJ1dGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHJpZ2dlci52ZXJiID09PSAnY2hhbmdlc1RvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWluc0F0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0VmFsdWVfMSA9IGNvbnRleHQuYXR0cmlidXRlc1t0cmlnZ2VyLm5vdW5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXIub2JqZWN0cy5zb21lKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCAmJiBjb250ZXh0VmFsdWVfMSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICYmIGNvbnRleHRWYWx1ZV8xICYmIGlnbm9yZUNhc2VFcXVhbHModmFsdWUsIGNvbnRleHRWYWx1ZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXRlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmplY3QgIT09ICdzdGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1RyaWdnZXJzKGNvbnRleHQuc3RhdGUsIGNvbnRleHQucGFyYW1zLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUubWF0Y2hlc0xpbWl0cyA9IGZ1bmN0aW9uIChpZCwgd2hlbkxpbWl0cywgdHJpZ2dlck9jY3VycmVuY2VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghd2hlbkxpbWl0cykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdoZW5MaW1pdHMuY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24gKGxpbWl0KSB7XG4gICAgICAgICAgICB2YXIgc3ViamVjdCA9IGxpbWl0LnN1YmplY3QsIHZlcmIgPSBsaW1pdC52ZXJiO1xuICAgICAgICAgICAgdmFyIG5vdW4gPSBwYXJzZUludChsaW1pdC5ub3VuLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgaWYgKHN1YmplY3QgPT09ICd0aW1lcycpIHtcbiAgICAgICAgICAgICAgICBpZiAodmVyYiA9PT0gJ2xpbWl0U2Vzc2lvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlc3Npb25PY2N1cnJlbmNlcyA9IF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmdldFNlc3Npb25PY2N1cnJhbmNlQ291bnQoaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvbk9jY3VycmVuY2VzICsgMSA9PT0gbm91bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmVyYiA9PT0gJ2xpbWl0VXNlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9jY3VycmVuY2VzID0gX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuZ2V0T2NjdXJyZW5jZXMoaWQpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9jY3VycmVuY2VzICsgMSA8PSBub3VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWCBpbiBZIChzZWNvbmRzfG1pbnV0ZXN8ZGF5c3xob3VycylcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBlckludGVydmFsID0gcGFyc2VJbnQobGltaXQub2JqZWN0c1swXS50b1N0cmluZygpKSB8fCAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVNsb3QgPSB2ZXJiVG9JbnRlcnZhbCh2ZXJiKSAqIHBlckludGVydmFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2NjdXJyZW5jZXMgPSBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5nZXRPY2N1cnJlbmNlcyhpZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IG9jY3VycmVuY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50IDwgbm91bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2xpY2UgPSBvY2N1cnJlbmNlcy5zbGljZShjb3VudCAtIG5vdW4sIGNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHRoZSB0aW1lIG9mIHRoZSBmaXJzdCBvZiB0aGUgbGFzdCBOIG9jY3VycmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2VbMF0gPCBEYXRlLm5vdygpIC0gdGltZVNsb3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJqZWN0ID09PSAnb25OdGhPY2N1cnJlbmNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyT2NjdXJyZW5jZXMgPT09IG5vdW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJqZWN0ID09PSAnZXZlcnlOdGhPY2N1cnJlbmNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAodHJpZ2dlck9jY3VycmVuY2VzICUgbm91bikgPT09IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1lc3NhZ2VzO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1lc3NhZ2VzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRXZlbnRFbWl0dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKHsgZXZlbnROYW1lOiBldmVudE5hbWUsIGNhbGxiYWNrOiBjYWxsYmFjayB9KTtcbiAgICB9O1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmV2ZW50TmFtZSAhPT0gZXZlbnROYW1lIHx8IHguY2FsbGJhY2sgIT09IGNhbGxiYWNrOyB9KTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgYXJncykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyLmV2ZW50TmFtZSA9PT0gZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5jYWxsYmFjayhhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFjdGlvblBhcmFtZXRlclR5cGU7XG4oZnVuY3Rpb24gKEFjdGlvblBhcmFtZXRlclR5cGUpIHtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiSW50XCJdID0gXCJpbnRcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiSW50ZWdlclwiXSA9IFwiaW50ZWdlclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJDb2xvclwiXSA9IFwiY29sb3JcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiRmxvYXRcIl0gPSBcImZsb2F0XCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkRlY2ltYWxcIl0gPSBcImRlY2ltYWxcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiTnVtYmVyXCJdID0gXCJudW1iZXJcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiQm9vbGVhblwiXSA9IFwiYm9vbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJTdHJpbmdcIl0gPSBcInN0cmluZ1wiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJUZXh0XCJdID0gXCJ0ZXh0XCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkhUTUxcIl0gPSBcImh0bWxcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiRmlsZVwiXSA9IFwiZmlsZVwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJMaXN0XCJdID0gXCJsaXN0XCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkdyb3VwXCJdID0gXCJncm91cFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJBY3Rpb25cIl0gPSBcImFjdGlvblwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJVbmtub3duXCJdID0gXCJcIjtcbn0pKEFjdGlvblBhcmFtZXRlclR5cGUgPSBleHBvcnRzLkFjdGlvblBhcmFtZXRlclR5cGUgfHwgKGV4cG9ydHMuQWN0aW9uUGFyYW1ldGVyVHlwZSA9IHt9KSk7XG47XG52YXIgTWVzc2FnZUtpbmQ7XG4oZnVuY3Rpb24gKE1lc3NhZ2VLaW5kKSB7XG4gICAgTWVzc2FnZUtpbmRbTWVzc2FnZUtpbmRbXCJBY3Rpb25cIl0gPSAyXSA9IFwiQWN0aW9uXCI7XG4gICAgTWVzc2FnZUtpbmRbTWVzc2FnZUtpbmRbXCJUZW1wbGF0ZVwiXSA9IDNdID0gXCJUZW1wbGF0ZVwiO1xufSkoTWVzc2FnZUtpbmQgPSBleHBvcnRzLk1lc3NhZ2VLaW5kIHx8IChleHBvcnRzLk1lc3NhZ2VLaW5kID0ge30pKTtcbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vLyB0cmFuc2Zvcm1zIHRoZSBzZXJ2ZXIgcmVzcG9uc2UgdG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBzZXRWYXJzXG5mdW5jdGlvbiB0b1NldFZhcnNGb3JtYXQobykge1xuICAgIGlmICghbylcbiAgICAgICAgcmV0dXJuIG87XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBhY3Rpb24pIHtcbiAgICAgICAgYWNjW2FjdGlvbl0gPSBfX2Fzc2lnbih7fSwgb1thY3Rpb25dKTtcbiAgICAgICAgdmFyIGtpbmRzID0gb1thY3Rpb25dLmtpbmRzO1xuICAgICAgICBpZiAoa2luZHMpIHtcbiAgICAgICAgICAgIGFjY1thY3Rpb25dLmtpbmRzID0gT2JqZWN0LmtleXMoa2luZHMpXG4gICAgICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoaywga3gpIHtcbiAgICAgICAgICAgICAgICB2YXIga2luZCA9IGtpbmRzW2t4XS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGtba3hdID0ga2luZDtcbiAgICAgICAgICAgICAgICBpZiAoa2luZCA9PT0gJ2FjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjW2FjdGlvbl0udmFsdWVzW2t4XSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbnZhciBWYXJDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYXJDYWNoZShjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5oYXNSZWNlaXZlZERpZmZzID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWVyZ2VkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLmRpZmZzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRva2VuID0gJyc7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSBbXTtcbiAgICB9XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmFwcGx5RGlmZnMgPSBmdW5jdGlvbiAoZGlmZnMsIHZhcmlhbnRzLCBhY3Rpb25EZWZpbml0aW9ucykge1xuICAgICAgICB0aGlzLmRpZmZzID0gZGlmZnM7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSB2YXJpYW50cztcbiAgICAgICAgdGhpcy5hY3Rpb25EZWZpbml0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLmFjdGlvbkRlZmluaXRpb25zKSwgdG9TZXRWYXJzRm9ybWF0KGFjdGlvbkRlZmluaXRpb25zKSk7XG4gICAgICAgIHRoaXMuaGFzUmVjZWl2ZWREaWZmcyA9IHRydWU7XG4gICAgICAgIHRoaXMubWVyZ2VkID0gbWVyZ2VIZWxwZXIodGhpcy52YXJpYWJsZXMsIGRpZmZzKTtcbiAgICAgICAgdGhpcy5zYXZlRGlmZnMoKTtcbiAgICAgICAgaWYgKHRoaXMub25VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmxvYWREaWZmcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEaWZmcyhKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBQkxFUykgfHwgbnVsbCksIEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVFMpIHx8IG51bGwpLCBKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkFDVElPTl9ERUZJTklUSU9OUykgfHwgbnVsbCkpO1xuICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlRPS0VOKTtcbiAgICAgICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRfREVCVUdfSU5GTyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGVhbnBsdW06IEludmFsaWQgZGlmZnM6IFwiICsgZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zYXZlRGlmZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBQkxFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5kaWZmcyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UUywgSlNPTi5zdHJpbmdpZnkodGhpcy52YXJpYW50cyB8fCBbXSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5BQ1RJT05fREVGSU5JVElPTlMsIEpTT04uc3RyaW5naWZ5KHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMgfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVF9ERUJVR19JTkZPLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhcmlhbnREZWJ1Z0luZm8gfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVE9LRU4sIHRoaXMudG9rZW4pO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5nZXRWYXJpYWJsZXMoKTtcbiAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2FyZ3NbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVyZ2VkICE9PSB1bmRlZmluZWQgPyB0aGlzLm1lcmdlZCA6IHRoaXMudmFyaWFibGVzO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSB2YXJpYWJsZXM7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5oYXNSZWNlaXZlZERpZmZzKSB7XG4gICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUudHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnNbaV0oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnREZWJ1Z0luZm87XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB2YWx1ZTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZW5kQWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMpLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0VmFycygoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTl9ERUZJTklUSU9OU10gPSB0aGlzLmFjdGlvbkRlZmluaXRpb25zLFxuICAgICAgICAgICAgX2EpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2VuZFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnNldFZhcnMoKF9hID0ge30sXG4gICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WQVJJQUJMRVNdID0gdGhpcy52YXJpYWJsZXMsXG4gICAgICAgICAgICBfYSkpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcnMgPSBmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5ib2R5KEpTT04uc3RyaW5naWZ5KGJvZHkpKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfVkFSUywgYXJncywge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaWZmcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhcmlhbnRzID0gW107XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLm1lcmdlZCA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5yZWdpc3RlckFjdGlvbkRlZmluaXRpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmFjdGlvbkRlZmluaXRpb25zW29wdGlvbnMubmFtZV0gPSBvcHRpb25zVG9EZWZpbml0aW9ucyhvcHRpb25zKTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5sb2FkTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKGtleSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2F2ZUxvY2FsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFZhckNhY2hlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFZhckNhY2hlO1xuZnVuY3Rpb24gYXJndW1lbnRUcmVlKGFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkge1xuICAgICAgICBpZiAoeC52YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBhY2NbeC5uYW1lXSA9IGFyZ3VtZW50VHJlZSh4LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4LnR5cGUgPT09ICdhY3Rpb24nKSB7XG4gICAgICAgICAgICBhY2NbeC5uYW1lXSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETzogYWxsb3cgc3BlY2lmeWluZyBjb2xvcnMgYXMgc3RyaW5nc1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSB4LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gYXJndW1lbnRLaW5kcyhhcmdzLCBwcmVmaXgpIHtcbiAgICBpZiAocHJlZml4ID09PSB2b2lkIDApIHsgcHJlZml4ID0gJyc7IH1cbiAgICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IFwiXCIgKyBwcmVmaXggKyB4Lm5hbWU7XG4gICAgICAgIGlmICh4LnZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGFjYyA9IF9fYXNzaWduKChfYSA9IHt9LCBfYVtwcm9wTmFtZV0gPSAnZ3JvdXAnLCBfYSksIGFyZ3VtZW50S2luZHMoeC52YWx1ZSwgcHJvcE5hbWUgKyBcIi5cIikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWNjW3Byb3BOYW1lXSA9IHgudHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gb3B0aW9uc1RvRGVmaW5pdGlvbnMob3B0aW9ucykge1xuICAgIHZhciBkZWZpbml0aW9ucyA9IHtcbiAgICAgICAga2luZDogb3B0aW9ucy5raW5kIHx8IDMsXG4gICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgIHZhbHVlczogYXJndW1lbnRUcmVlKG9wdGlvbnMuYXJncyksXG4gICAgICAgIGtpbmRzOiBhcmd1bWVudEtpbmRzKG9wdGlvbnMuYXJncyksXG4gICAgfTtcbiAgICByZXR1cm4gZGVmaW5pdGlvbnM7XG59XG5mdW5jdGlvbiBtZXJnZUhlbHBlcih2YXJzLCBkaWZmKSB7XG4gICAgaWYgKHR5cGVvZiBkaWZmID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgZGlmZiA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBkaWZmID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICB9XG4gICAgaWYgKGRpZmYgPT09IG51bGwgfHwgZGlmZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB2YXJzO1xuICAgIH1cbiAgICB2YXIgb2JqSXRlcmF0b3IgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBpdGVyYXRlKGYpIHtcbiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGYob2JqW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHNlZW1zIHRvIGJlIGJlc3QgcHJhY3RpY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy83MDcxXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVmbGVjdFxuICAgICAgICAgICAgICAgICAgICBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmKGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgdmFyIHZhcnNJdGVyYXRvciA9IG9iakl0ZXJhdG9yKHZhcnMpO1xuICAgIHZhciBkaWZmSXRlcmF0b3IgPSBvYmpJdGVyYXRvcihkaWZmKTtcbiAgICAvLyBJbmZlciB0aGF0IHRoZSBkaWZmcyBpcyBhbiBhcnJheSBpZiB0aGUgdmFycyB2YWx1ZSBkb2Vzbid0IGV4aXN0IHRvIHRlbGwgdXMgdGhlIHR5cGUuXG4gICAgdmFyIGlzQXJyYXkgPSBmYWxzZTtcbiAgICBpZiAodmFycyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoIShkaWZmIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICBpc0FycmF5ID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAodmFyIGF0dHJpYnV0ZSBpbiBkaWZmKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkaWZmLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5sZW5ndGggPCAzIHx8IGF0dHJpYnV0ZS5jaGFyQXQoMCkgIT09ICdbJyB8fFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuY2hhckF0KGF0dHJpYnV0ZS5sZW5ndGggLSAxKSAhPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE1lcmdlIGFycmF5cy5cbiAgICBpZiAodmFycyBpbnN0YW5jZW9mIEFycmF5IHx8IGlzQXJyYXkpIHtcbiAgICAgICAgdmFyIG1lcmdlZF8xID0gW107XG4gICAgICAgIHZhcnNJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICAgICAgbWVyZ2VkXzEucHVzaChhdHRyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRpZmZJdGVyYXRvcihmdW5jdGlvbiAodmFyU3Vic2NyaXB0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0ID0gcGFyc2VJbnQodmFyU3Vic2NyaXB0LnN1YnN0cmluZygxLCB2YXJTdWJzY3JpcHQubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgdmFyIGRpZmZWYWx1ZSA9IGRpZmZbdmFyU3Vic2NyaXB0XTtcbiAgICAgICAgICAgIHdoaWxlIChzdWJzY3JpcHQgPj0gbWVyZ2VkXzEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkXzEucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lcmdlZF8xW3N1YnNjcmlwdF0gPSBtZXJnZUhlbHBlcihtZXJnZWRfMVtzdWJzY3JpcHRdLCBkaWZmVmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZF8xO1xuICAgIH1cbiAgICAvLyBNZXJnZSBkaWN0aW9uYXJpZXMuXG4gICAgdmFyIG1lcmdlZCA9IHt9O1xuICAgIHZhcnNJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBpZiAoZGlmZlthdHRyXSA9PT0gbnVsbCB8fCBkaWZmW2F0dHJdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1lcmdlZFthdHRyXSA9IHZhcnNbYXR0cl07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBkaWZmSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgbWVyZ2VkW2F0dHJdID0gbWVyZ2VIZWxwZXIodmFycyA9PT0gbnVsbCA/IG51bGwgOiB2YXJzW2F0dHJdIHx8IHt9LCBkaWZmW2F0dHJdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWVyZ2VkO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==