!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.8.5",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",ACTION_DEFINITIONS:"actionDefinitions",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_DEFINITIONS:"actionDefinitions",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_DEFINITIONS:"__leanplum_action_definitions",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",MESSAGE_OCCURRENCES:"__leanplum_message_occurrences",MESSAGE_CACHE:"__leanplum_message_cache",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),s=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var n="";return n=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+=e+"="+n,this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(i.default.PARAMS.APP_ID,e).add(i.default.PARAMS.CLIENT,i.default.CLIENT).add(i.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i={},s=function(){function e(){}return e.getFromLocalStorage=function(e){return!1===r?i[e]:localStorage[e]},e.saveToLocalStorage=function(e,t){if(!1!==r)try{localStorage[e]=t}catch(n){r=!1,i[e]=t}else i[e]=t},e.removeFromLocalStorage=function(e){if(!1!==r)try{localStorage.removeItem(e)}catch(t){r=!1,delete i[e]}else delete i[e]},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,n,r,i,s,o){var a=this;if(s){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:"+t.substring(6)),this.ajaxIE8(e,t,n,r,i,s,o);var u=!1,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(u)return;var e;u=!0;var t=!1;if(o)e=c.responseText;else try{e=JSON.parse(c.responseText)}catch(e){setTimeout((function(){i&&i(null,c)}),0),t=!0}t||(c.status>=200&&c.status<300?setTimeout((function(){r&&r(e,c)}),0):setTimeout((function(){i&&i(e,c)}),0)),s&&(a.runningRequest=!1,a.dequeueRequest())}},c.open(e,t,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(n),setTimeout((function(){u||c.abort()}),1e3*this.networkTimeoutSeconds)},e.prototype.ajaxIE8=function(e,t,n,r,i,s,o){var a=this,u=new XDomainRequest;u.onload=function(){var e,t=!1;if(o)e=u.responseText;else try{e=JSON.parse(u.responseText)}catch(e){setTimeout((function(){i&&i(null,u)}),0),t=!0}t||setTimeout((function(){r&&r(e,u)}),0),s&&(a.runningRequest=!1,a.dequeueRequest())},u.onerror=u.ontimeout=function(){setTimeout((function(){i&&i(null,u)}),0),s&&(a.runningRequest=!1,a.dequeueRequest())},u.onprogress=function(){},u.open(e,t),u.timeout=1e3*this.networkTimeoutSeconds,u.send(n)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=r},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",s="[object Object]",o="[object Set]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[i]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c[o]=c["[object String]"]=c["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=t&&!t.nodeType&&t,h=p&&"object"==typeof n&&n&&!n.nodeType&&n,v=h&&h.exports===p,g=v&&l.process,_=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),S=_&&_.isTypedArray;function y(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function m(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var A,E,I,R=Array.prototype,T=Function.prototype,M=Object.prototype,D=f["__core-js_shared__"],O=T.toString,w=M.hasOwnProperty,N=(A=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",C=M.toString,P=RegExp("^"+O.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=v?f.Buffer:void 0,U=f.Symbol,L=f.Uint8Array,V=M.propertyIsEnumerable,j=R.splice,F=U?U.toStringTag:void 0,q=Object.getOwnPropertySymbols,H=k?k.isBuffer:void 0,K=(E=Object.keys,I=Object,function(e){return E(I(e))}),x=_e(f,"DataView"),W=_e(f,"Map"),Y=_e(f,"Promise"),B=_e(f,"Set"),G=_e(f,"WeakMap"),z=_e(Object,"create"),J=me(x),X=me(W),$=me(Y),Q=me(B),Z=me(G),ee=U?U.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function se(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ie;++t<n;)this.add(e[t])}function oe(e){var t=this.__data__=new re(e);this.size=t.size}function ae(e,t){var n=Ie(e),r=!n&&Ee(e),i=!n&&!r&&Re(e),s=!n&&!r&&!i&&we(e),o=n||r||i||s,a=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=a.length;for(var c in e)!t&&!w.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||be(c,u))||a.push(c);return a}function ue(e,t){for(var n=e.length;n--;)if(Ae(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=w.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var i=C.call(e);r&&(t?e[F]=n:delete e[F]);return i}(e):function(e){return C.call(e)}(e)}function le(e){return Oe(e)&&ce(e)==r}function de(e,t,n,a,u){return e===t||(null==e||null==t||!Oe(e)&&!Oe(t)?e!=e&&t!=t:function(e,t,n,a,u,c){var l=Ie(e),d=Ie(t),f=l?"[object Array]":ye(e),p=d?"[object Array]":ye(t),h=(f=f==r?s:f)==s,v=(p=p==r?s:p)==s,g=f==p;if(g&&Re(e)){if(!Re(t))return!1;l=!0,h=!1}if(g&&!h)return c||(c=new oe),l||we(e)?he(e,t,n,a,u,c):function(e,t,n,r,s,a,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new L(e),new L(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ae(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=b;case o:var l=1&r;if(c||(c=m),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;r|=2,u.set(e,t);var f=he(c(e),c(t),r,s,a,u);return u.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,a,u,c);if(!(1&n)){var _=h&&w.call(e,"__wrapped__"),S=v&&w.call(t,"__wrapped__");if(_||S){var y=_?e.value():e,A=S?t.value():t;return c||(c=new oe),u(y,A,n,a,c)}}if(!g)return!1;return c||(c=new oe),function(e,t,n,r,i,s){var o=1&n,a=ve(e),u=a.length,c=ve(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var d=a[l];if(!(o?d in t:w.call(t,d)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var p=!0;s.set(e,t),s.set(t,e);var h=o;for(;++l<u;){d=a[l];var v=e[d],g=t[d];if(r)var _=o?r(g,v,d,t,e,s):r(v,g,d,e,t,s);if(!(void 0===_?v===g||i(v,g,n,r,s):_)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var S=e.constructor,y=t.constructor;S==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof y&&y instanceof y||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,a,u,c)}(e,t,n,a,de,u))}function fe(e){return!(!De(e)||function(e){return!!N&&N in e}(e))&&(Te(e)?P:a).test(me(e))}function pe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||M,t!==r)return K(e);var t,n,r,i=[];for(var s in Object(e))w.call(e,s)&&"constructor"!=s&&i.push(s);return i}function he(e,t,n,r,i,s){var o=1&n,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var l=-1,d=!0,f=2&n?new se:void 0;for(s.set(e,t),s.set(t,e);++l<a;){var p=e[l],h=t[l];if(r)var v=o?r(h,p,l,t,e,s):r(p,h,l,e,t,s);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!y(t,(function(e,t){if(o=t,!f.has(o)&&(p===e||i(p,e,n,r,s)))return f.push(t);var o}))){d=!1;break}}else if(p!==h&&!i(p,h,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function ve(e){return function(e,t,n){var r=t(e);return Ie(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ne,Se)}function ge(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function _e(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=z?z(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(z){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return w.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return z?void 0!==t[e]:w.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=z&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ue(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ue(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ue(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ue(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(W||re),string:new ne}},ie.prototype.delete=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return ge(this,e).get(e)},ie.prototype.has=function(e){return ge(this,e).has(e)},ie.prototype.set=function(e,t){var n=ge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},se.prototype.add=se.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},se.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.clear=function(){this.__data__=new re,this.size=0},oe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},oe.prototype.get=function(e){return this.__data__.get(e)},oe.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!W||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(r)}return n.set(e,t),this.size=n.size,this};var Se=q?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}(q(e),(function(t){return V.call(e,t)})))}:function(){return[]},ye=ce;function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function me(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ae(e,t){return e===t||e!=e&&t!=t}(x&&"[object DataView]"!=ye(new x(new ArrayBuffer(1)))||W&&ye(new W)!=i||Y&&"[object Promise]"!=ye(Y.resolve())||B&&ye(new B)!=o||G&&"[object WeakMap]"!=ye(new G))&&(ye=function(e){var t=ce(e),n=t==s?e.constructor:void 0,r=n?me(n):"";if(r)switch(r){case J:return"[object DataView]";case X:return i;case $:return"[object Promise]";case Q:return o;case Z:return"[object WeakMap]"}return t});var Ee=le(function(){return arguments}())?le:function(e){return Oe(e)&&w.call(e,"callee")&&!V.call(e,"callee")},Ie=Array.isArray;var Re=H||function(){return!1};function Te(e){if(!De(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function De(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oe(e){return null!=e&&"object"==typeof e}var we=S?function(e){return function(t){return e(t)}}(S):function(e){return Oe(e)&&Me(e.length)&&!!c[ce(e)]};function Ne(e){return null!=(t=e)&&Me(t.length)&&!Te(t)?ae(e):pe(e);var t}n.exports=function(e,t){return de(e,t)}}).call(this,n(14),n(15)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.decodeColor=function(e){var t=255&e,n=255&(e>>=8);return"rgba("+(255&(e>>=8))+","+n+","+t+","+(255&(e>>=8))/255+")"},e.encodeColor=function(e){if("number"==typeof e)return e;var t=/^rgba\((\d+),(\d+),(\d+),(\d+(\.\d+)?)\)$/.exec(e);if(t)return(255*parseInt(t[4],10)<<24)+((255&parseInt(t[1],10))<<16)+((255&parseInt(t[2],10))<<8)+(255&parseInt(t[3],10));var n=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(n)return(255<<24)+((255&parseInt(n[1],16))<<16)+((255&parseInt(n[2],16))<<8)+(255&parseInt(n[3],16));throw new Error('Could not parse color "'+e+'"')},e}();t.default=r},function(e,t,n){var r=n(7);e.exports=r.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),s=r(n(8)),o=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(){},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,n){e._lp.setAppIdForDevelopmentMode(t,n)},e.setAppIdForProductionMode=function(t,n){e._lp.setAppIdForProductionMode(t,n)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,n){e._lp.setRequestBatching(t,n)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.enableRichInAppMessages=function(t){e._lp.enableRichInAppMessages(t)},e.processMessageEvent=function(t,n){e._lp.processMessageEvent(t,n)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e._lp).getVariable.apply(t,n)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,n,r){e._lp.start(t,n,r)},e.startFromCache=function(t,n,r){e._lp.startFromCache(t,n,r)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,n){e._lp.setUserAttributes(t,n)},e.track=function(t,n,r,i){e._lp.track(t,n,r,i)},e.trackPurchase=function(t,n,r,i){void 0===i&&(i="Purchase"),e._lp.trackPurchase(t,n,r,i)},e.advanceTo=function(t,n,r){e._lp.advanceTo(t,n,r)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.defineAction=function(t){e._lp.defineAction(t)},e.applyQueue=function(t){e._lp.applyQueue(t)},e.on=function(t,n){e._lp.on(t,n)},e.off=function(t,n){e._lp.off(t,n)},e.getFileUrl=function(t){return e._lp.getFileUrl(t)},e.__destroy=function(){this._lp=new s.default(window)},e._lp=new s.default(window),e.VERSION=i.default.SDK_VERSION,e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),o=i(n(9)),a=i(n(0)),u=i(n(10)),c=i(n(11)),l=i(n(12)),d=i(n(13)),f=i(n(2)),p=i(n(17)),h=i(n(18)),v=i(n(19)),g=n(20),_=i(n(21)),S=a.default.DEFAULT_KEYS.SESSION,y=function(){function e(e){var t=this;this.wnd=e,this._events=new v.default,this._internalState=new u.default,this._lpInbox=new c.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new l.default,this._varCache=new _.default(this.createRequest.bind(this)),this._lpSocket=new d.default(this._varCache,this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest),this._events),this._pushManager=new p.default(this.createRequest.bind(this)),this._messages=new h.default(this._events,this.createRequest.bind(this),this.getFileUrl.bind(this)),this._browserDetector=new o.default(e),this._events.on("navigationChange",(function(e){var n=!1;t._events.emit("openUrl",{preventDefault:function(){return n=!0},url:e}),n||t.wnd.location.assign(e)})),this._events.on("registerForPush",(function(){return t.registerForWebPush()}))}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.enableRichInAppMessages=function(e){this._messages.enableRichInAppMessages(e)},e.prototype.processMessageEvent=function(e,t){this._messages.processMessageEvent(e,t)},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype.onInboxAction=function(e,t){var n=this;this._messages.trackMessage(e,{event:"Open"},(function(){return t&&n._messages.onAction(t)}))},e.prototype.defineAction=function(e){this._varCache.registerActionDefinition(r({kind:g.MessageKind.Template},e))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.getFileUrl=function(e){return this._lpRequest.getFileUrl(e)},e.prototype.forceContentUpdate=function(e){var t=this,n=(new s.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(n){var r=t._lpRequest.getLastResponse(n),i=t._lpRequest.isResponseSuccess(r);i&&(t._varCache.applyDiffs(r[a.default.KEYS.VARS],r[a.default.KEYS.VARIANTS],r[a.default.KEYS.ACTION_DEFINITIONS]),t._varCache.setVariantDebugInfo(r[a.default.KEYS.VARIANT_DEBUG_INFO]),t._events.emit("messagesReceived",r[a.default.KEYS.MESSAGES])),e&&e(i)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,n){var r=this;if("function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.hasActiveSession())return this.startFromCache(e,t,n);this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._varCache.onUpdate=function(){r._varCache.triggerVariablesChangedHandlers()};var i=(new s.default).add(a.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(a.default.PARAMS.COUNTRY,a.default.VALUES.DETECT).add(a.default.PARAMS.REGION,a.default.VALUES.DETECT).add(a.default.PARAMS.CITY,a.default.VALUES.DETECT).add(a.default.PARAMS.LOCATION,a.default.VALUES.DETECT).add(a.default.PARAMS.SYSTEM_NAME,this._systemName||this._browserDetector.OS).add(a.default.PARAMS.SYSTEM_VERSION,(this._systemVersion||"").toString()).add(a.default.PARAMS.BROWSER_NAME,this._browserDetector.browser).add(a.default.PARAMS.BROWSER_VERSION,this._browserDetector.version.toString()).add(a.default.PARAMS.LOCALE,a.default.VALUES.DETECT).add(a.default.PARAMS.DEVICE_NAME,this._deviceName||this._browserDetector.browser+" "+this._browserDetector.version).add(a.default.PARAMS.DEVICE_MODEL,this._deviceModel||"Web Browser").add(a.default.PARAMS.NEWSFEED_MESSAGES,this._lpInbox.messageIds()).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.START,i,{queued:!0,sendNow:!0,response:function(e){r._internalState.hasStarted=!0;var t=r._lpRequest.getLastResponse(e),n=r._lpRequest.isResponseSuccess(t);if(r._internalState.startSuccessful=n,n){r.updateSession();var i=t[a.default.KEYS.MESSAGES];if(t.actionDefinitions&&(i.actionDefinitions=t.actionDefinitions),r._events.emit("messagesReceived",i),t[a.default.KEYS.SYNC_INBOX]&&r._lpInbox.downloadMessages(),r._internalState.devMode){var s=t[a.default.KEYS.LATEST_VERSION];s&&console.log("A newer version of the Leanplum SDK, "+s+', is available.\nUse "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.'),r.connectSocket()}r._varCache.applyDiffs(t[a.default.KEYS.VARS],t[a.default.KEYS.VARIANTS],t[a.default.KEYS.ACTION_DEFINITIONS]),r._varCache.setVariantDebugInfo(t[a.default.KEYS.VARIANT_DEBUG_INFO]),r._varCache.token=t[a.default.KEYS.TOKEN]}else r._varCache.loadDiffs();r._events.emit("start",{success:n}),r._internalState.triggerStartHandlers()}})},e.prototype.startFromCache=function(e,t,n){"function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.updateSession(),this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._events.emit("resume"),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(a.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){f.default.removeFromLocalStorage(S)}})},e.prototype.pauseSession=function(){this.createRequest(a.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this._events.emit("resume"),this.createRequest(a.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(a.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(a.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var n=(new s.default).add(a.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(a.default.PARAMS.NEW_USER_ID,e);this._events.emit("setUserAttribute",t),this.createRequest(a.default.METHODS.SET_USER_ATTRIBUTES,n,{queued:!0}),e&&(this._lpRequest.userId=e,f.default.saveToLocalStorage(a.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,n,r){var i=this;"object"==typeof t&&null!=t?(r=t,n=void 0,t=void 0):"string"==typeof t?(r=n,n=t,t=void 0):"object"==typeof n&&null!=n&&(r=n,n=void 0);var o=(new s.default).add(a.default.PARAMS.EVENT,e).add(a.default.PARAMS.VALUE,t||0).add(a.default.PARAMS.INFO,n).add(a.default.PARAMS.PARAMS,JSON.stringify(r));this._events.emit("track",{eventName:e,params:r}),this.createRequest(a.default.METHODS.TRACK,o,{queued:!0,response:function(){return i.updateSession()}})},e.prototype.trackPurchase=function(e,t,n,r){void 0===r&&(r="Purchase");var i=(new s.default).add(a.default.PARAMS.EVENT,r).add(a.default.PARAMS.VALUE,e||0).add(a.default.PARAMS.PARAMS,JSON.stringify(n));t&&i.add(a.default.PARAMS.CURRENCY_CODE,t),this._events.emit("track",{eventName:r}),this.createRequest(a.default.METHODS.TRACK,i,{queued:!0})},e.prototype.advanceTo=function(e,t,n){"object"==typeof t&&null!=t&&(n=t,t=void 0);var r=(new s.default).add(a.default.PARAMS.STATE,e).add(a.default.PARAMS.INFO,t).add(a.default.PARAMS.PARAMS,JSON.stringify(n));this._events.emit("advanceState",{state:e,params:n}),this.createRequest(a.default.METHODS.ADVANCE,r,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){return this._pushManager.isWebPushSubscribed()},e.prototype.setWebPushOptions=function(e){this._webPushOptions=r({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var n=this._webPushOptions||{},r=e||n.serviceWorkerUrl,i=n&&n.scope?{scope:n.scope}:null;return this._pushManager.register(r,i,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){return this._pushManager.unsubscribeUser()},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,n){void 0===n&&(n={}),this._lpRequest.request(e,t,r({devMode:this._internalState.devMode},n))},e.prototype.connectSocket=function(){this._lpSocket.connect({appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId})},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(f.default.getFromLocalStorage(S));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){f.default.saveToLocalStorage(S,String(Date.now()))},e}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!==n.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),o=i(n(0)),a=function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var n=t.response[0];n&&n.newsfeedMessages&&(e.messageMap=n.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var n=new s.default;n.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",n,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),n=e.split("##")[0],r=(null==t?void 0:t.openAction())||null;this.onAction(n,r)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new s.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){this.changeHandlers.push(e)},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){sessionStorage.setItem(o.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap))},e.prototype.load=function(){var e=sessionStorage.getItem(o.default.DEFAULT_KEYS.INBOX_MESSAGES);this.messageMap=JSON.parse(e)||{}},e.prototype.count=function(){return a(this.messageMap).length},e.prototype.unreadCount=function(){return a(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var n in this.messageMap){var r=this.messageMap[n];e(r)&&t.push(c.create(n,r))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?c.create(e,t):null},e}();t.default=u;var c=function(){function e(e,t,n,r,i,s,o,a){this._id=e,this._title=t,this._subtitle=n,this._data=r,this._timestamp=i,this._isRead=s,this._imageUrl=o,this._openAction=a}return e.create=function(t,n){var i,s,a,u,c,l,d,f,p,h,v,g=null===(i=n.messageData)||void 0===i?void 0:i.parentCampaignId,_=r(r({},null===(a=null===(s=n.messageData)||void 0===s?void 0:s.vars)||void 0===a?void 0:a[o.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:g});return new e(t,null===(c=null===(u=n.messageData)||void 0===u?void 0:u.vars)||void 0===c?void 0:c.Title,null===(d=null===(l=n.messageData)||void 0===l?void 0:l.vars)||void 0===d?void 0:d.Subtitle,null===(p=null===(f=n.messageData)||void 0===f?void 0:f.vars)||void 0===p?void 0:p.Data,n.deliveryTimestamp,n.isRead,null===(v=null===(h=n.messageData)||void 0===h?void 0:h.vars)||void 0===v?void 0:v.Image,_)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.data=function(){return this._data},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),s=r(n(0)),o=r(n(2)),a=r(n(3)),u=function(){function e(e){void 0===e&&(e=new a.default),this.network=e,this.cooldownTimeout=null,this.lastRequestTime=void 0,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(s.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!0,configurable:!0}),e.prototype.request=function(e,t,n){var r=this;if(void 0===n&&(n={}),n=n||{},t=t||new i.default,this.deviceId||(this.deviceId=this.loadLocal(s.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var o="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=0;u<16;u++)o+=a.charAt(Math.floor(Math.random()*a.length));this.deviceId=o,this.saveLocal(s.default.DEFAULT_KEYS.DEVICE_ID,o)}this.saveLocal(s.default.DEFAULT_KEYS.USER_ID,this.userId);var c=t.attachApiKeys(this.appId,this.clientKey).add(s.default.PARAMS.SDK_VERSION,s.default.SDK_VERSION).add(s.default.PARAMS.DEVICE_ID,this.deviceId).add(s.default.PARAMS.USER_ID,this.userId).add(s.default.PARAMS.ACTION,e).add(s.default.PARAMS.VERSION_NAME,this.versionName).add(s.default.PARAMS.DEV_MODE,n.devMode).add(s.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),l=n.success||n.response,d=n.error||n.response;if(!this.appId||!this.clientKey){var f="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(f),void(d&&d(f))}if(t.body())this.network.ajax("POST",this.apiPath+"?"+c.build(),t.body(),l,d,n.queued);else{var p=n.devMode||n.sendNow||!this.batchEnabled,h=function(){var e=r.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),o=(new i.default).attachApiKeys(r.appId,r.clientKey).add(s.default.PARAMS.SDK_VERSION,s.default.SDK_VERSION).add(s.default.PARAMS.ACTION,s.default.METHODS.MULTI).add(s.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();r.network.ajax("POST",r.apiPath+"?"+o,t,l,d,n.queued)}};if(!p&&this.batchCooldown){var v=(new Date).getTime()/1e3;!this.lastRequestTime||v-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=v):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){r.cooldownTimeout=null,r.lastRequestTime=(new Date).getTime()/1e3,h()}),1e3*(this.batchCooldown-(v-this.lastRequestTime))))}this.saveRequestForLater(c.buildDict()),p&&h()}},e.prototype.getFileUrl=function(e){if(!e)return"";var t=(new i.default).attachApiKeys(this.appId,this.clientKey).add(s.default.PARAMS.SDK_VERSION,s.default.SDK_VERSION).add(s.default.PARAMS.ACTION,"downloadFile").add("filename",e);return this.apiPath+"?"+t.build()},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,n,r,i=null!==(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==n?n:0;return i>0?null===(r=null==e?void 0:e.response)||void 0===r?void 0:r[i-1]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(s.default.DEFAULT_KEYS.COUNT)||0,n=s.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(n,JSON.stringify(e)),t++,this.saveLocal(s.default.DEFAULT_KEYS.COUNT,t)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(s.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(s.default.DEFAULT_KEYS.COUNT);for(var n=0;n<t;n++){var r=s.default.DEFAULT_KEYS.ITEM+n;try{e.push(JSON.parse(this.loadLocal(r)))}catch(e){}this.removeLocal(r)}return e},e.prototype.loadLocal=function(e){return o.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){o.default.saveToLocalStorage(e,t)},e.prototype.removeLocal=function(e){o.default.removeFromLocalStorage(e)},e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),s=r(n(1)),o=r(n(0)),a=r(n(16)),u=function(){function e(e,t,n,r){this.cache=e,this.createRequest=t,this.getLastResponse=n,this.events=r,this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com"}return e.prototype.connect=function(e){var t=this;if(WebSocket){var n=!1;this.socketClient=new a.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var r;n||(console.log("Leanplum: Connected to development server."),t.socketClient.send("auth",((r={})[o.default.PARAMS.APP_ID]=e.appId,r[o.default.PARAMS.DEVICE_ID]=e.deviceId,r)),n=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=this.onMessageReceived.bind(this),this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),n=!1},this.socketClient.connect(this.socketHost),setInterval((function(){t.socketClient.connected||t.socketClient.connecting||t.socketClient.connect(t.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e.prototype.onMessageReceived=function(e,t){var n=this;if("updateVars"===e){var r=(new s.default).add(o.default.PARAMS.INCLUDE_DEFAULTS,!1);this.createRequest(o.default.METHODS.GET_VARS,r,{queued:!1,sendNow:!0,response:function(e){var t=n.getLastResponse(e),r=t[o.default.KEYS.VARS],s=t[o.default.KEYS.VARIANTS],a=t[o.default.KEYS.ACTION_DEFINITIONS];i.default(r,n.cache.diffs)||n.cache.applyDiffs(r,s,a)}})}else if("getVariables"===e)this.cache.sendVariables(),this.socketClient.send("getContentResponse",{updated:!0});else if("getActions"===e){var a=this.cache.sendActions();this.socketClient.send("getContentResponse",{updated:a})}else if("registerDevice"===e){var u=t[0];alert("Your device has been registered to "+u.email+".")}else if("trigger"===e){u=t[0];this.events.emit("previewRequest",u)}},e}();t.default=u},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),s=function(){function e(){this.network=new i.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://"+e+"/socket.io/1","",(function(n){var r=n.split(":"),i=r[0],s=parseInt(r[1])/2*1e3;t.socket=new WebSocket("wss://"+e+"/socket.io/1/websocket/"+i);var o=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),o=setInterval((function(){t.socket.send("2:::")}),s)},t.socket.onclose=function(){t.connected=!1,clearInterval(o),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var n=e.data.split(":"),r=parseInt(n[0]);if(2===r)t.socket.send("2::");else if(5===r){var i=n[1],s=JSON.parse(n.slice(3).join(":")),o=s.name,a=s.args;i&&t.socket.send("6:::"+i),t.onmessage&&t.onmessage(o,a)}else 7===r&&console.log("Socket error: "+e.data)},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.send=function(e,t){if(this.connected){var n=JSON.stringify({name:e,args:t});this.socket.send("5:::"+n)}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),a=s(n(0)),u=s(n(2)),c=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!0,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(){return r(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration()]:[2,!1];case 1:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[2,!1];case 2:return t=r.sent(),(n=null!==t)&&this.updateNewSubscriptionOnServer(t),[2,n]}}))}))},e.prototype.register=function(e,t,n){return r(this,void 0,void 0,(function(){var r,s,o,a;return i(this,(function(i){switch(i.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,n(!1)];i.label=1;case 1:return i.trys.push([1,4,,5]),r=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return r.serviceWorkerRegistration=i.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return s=i.sent(),(o=null!==s)&&this.updateNewSubscriptionOnServer(s),[2,n(o)];case 4:return a=i.sent(),console.log("Leanplum: Service Worker Error: ",a),[2,n(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=r.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw n=r.sent(),new Error("Leanplum: Failed to subscribe the user: "+n);case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,this.isWebPushSubscribed()];case 1:if(!n.sent())return[3,6];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(e=n.sent()))throw new Error;return[4,e.unsubscribe()];case 4:return n.sent(),[3,6];case 5:throw t=n.sent(),new Error("Leanplum: Error unsubscribing: "+t);case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return this.serviceWorkerRegistration?[3,2]:(e=this,[4,this.serviceWorker.getRegistration()]);case 1:e.serviceWorkerRegistration=t.sent(),t.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=this.decodeData(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),n=JSON.stringify(t);u.default.getFromLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==n&&(u.default.saveToLocalStorage(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,n),this.setSubscription(n))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],n="getKey"in e?e.getKey("auth"):[],r=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),i=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(n)));return{endpoint:e.endpoint,key:r,auth:i}},e.prototype.setSubscription=function(e){if(e){var t=(new o.default).add(a.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(a.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),o=i(n(1)),a=i(n(3)),u=i(n(4)),c=i(n(2)),l=i(n(5)),d=function(){function e(){this.session={},this.triggers={},this.occurrences={}}return e.prototype.recordOccurrence=function(e){var t=(this.session[e]||0)+1;this.session[e]=t;var n=this.occurrences[e]||[];n.push(Date.now()),this.occurrences[e]=n,this.save()},e.prototype.recordTriggerOccurrence=function(e){var t=this.triggers[e]||[];return t.push(Date.now()),this.triggers[e]=t,this.save(),t.length},e.prototype.getSessionOccurranceCount=function(e){return this.session[e]||0},e.prototype.getOccurrences=function(e){return this.occurrences[e]||[]},e.prototype.clearSession=function(){this.session={}},e.prototype.load=function(){var e=c.default.getFromLocalStorage(s.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES);if(e){var t=JSON.parse(e);this.session=t.session,this.triggers=t.triggers,this.occurrences=t.occurrences}},e.prototype.save=function(){var e=s.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES;c.default.saveToLocalStorage(e,JSON.stringify({session:this.session,triggers:this.triggers,occurrences:this.occurrences}))},e}(),f=function(){function e(e,t,n){var r=this;this.events=e,this.createRequest=t,this.getFileUrl=n,this._messageCache={},this.occurrenceTracker=new d,this._showRichIAM=!1,e.on("previewRequest",this.onMessagePreview.bind(this)),e.on("messagesReceived",this.onMessagesReceived.bind(this)),e.on("start",(function(){r.occurrenceTracker.load(),r.occurrenceTracker.clearSession(),r.onTrigger({trigger:"start"})})),e.on("resume",(function(){var e=s.default.DEFAULT_KEYS.MESSAGE_CACHE,t=c.default.getFromLocalStorage(e);r._messageCache=t?JSON.parse(t):r._messageCache,r.occurrenceTracker.load(),r.onTrigger({trigger:"resume"})})),e.on("track",(function(e){r.onTrigger({trigger:"event",eventName:e.eventName,params:e.params||{}})})),e.on("advanceState",(function(e){return r.onTrigger({trigger:"state",state:e.state,params:e.params||{}})})),e.on("setUserAttribute",(function(e){return r.onTrigger({trigger:"userAttribute",attributes:e})}))}return e.prototype.enableRichInAppMessages=function(e){this._showRichIAM=e},e.prototype.onTrigger=function(e){var t=this,n=this.getMessages();Object.keys(n).filter((function(r){return t.shouldShowMessage(r,n[r],e)})).slice(0,1).forEach((function(e){return t.showMessage(e,n[e])}))},e.prototype.onMessagePreview=function(e){var t=e.action,n={track:function(t){var n=t?"event '"+t+"'":"impression";console.log("Tracking "+n+" for "+e.messageId)},runActionNamed:function(e){return console.log("Running untracked action '"+e+"'")},runTrackedActionNamed:function(e){return console.log("Running tracked action '"+e+"'")}};this.handleMessage({isPreview:!0,message:r({messageId:e.messageId},t),context:n})},e.prototype.onMessagesReceived=function(e){var t=e||{};this._messageCache=t,c.default.saveToLocalStorage(s.default.DEFAULT_KEYS.MESSAGE_CACHE,JSON.stringify(t))},e.prototype.shouldShowMessage=function(e,t,n){var r=Date.now(),i=this.matchesTrigger(t.whenTriggers,n),s=this.matchesTrigger(t.unlessTriggers,n);if(!i||s)return!1;var o=this.occurrenceTracker.recordTriggerOccurrence(e);if(!this.matchesLimits(e,t.whenLimits,o))return!1;if(t.startTime&&t.endTime&&(r<t.startTime||t.endTime<r))return!1;return!0},e.prototype.showMessage=function(e,t){var n=this,i=this.addDefaults(r({},t.vars)),s={track:function(t,r,i,s){n.occurrenceTracker.recordOccurrence(e),n.trackMessage(e,{event:t,value:r,info:i,params:s})},runActionNamed:function(t){return n.onAction(i[t],e)},runTrackedActionNamed:function(t){var r=t.replace(/ action$/,"");n.trackMessage(e,{event:r},(function(){return n.onAction(i[t],e)}))}};this.handleMessage({context:s,message:r({messageId:e},i)})},e.prototype.processMessageEvent=function(e,t){var n=document.getElementById("lp-message-"+e);if(n){var r=t.replace(/^http:\/\/leanplum\//,"").split("?"),i=r[0],s=r[1],o=(void 0===s?"":s).split("&").reduce((function(e,t){var n=t.split("="),r=n[0],i=n[1];return e[r]=decodeURIComponent(i),e}),{}),a=n.metadata,u=a.message,c=a.context;switch(i){case"loadFinished":if(n.style.visibility="visible",n.style.left="0",u["HTML Height"]>0){var l=u["HTML Width"];n.style.height=u["HTML Height"]+"px",n.style.width=l,n.style.left="calc((100% - "+l+") / 2)";var d=u["HTML Align"].toLowerCase(),f="top"===d?"bottom":"top";n.style[d]="0",n.style[f]=""}else n.style.top="0";c.track();break;case"track":c.track(o.event,parseFloat(o.value),o.parameters,o.info);break;case"runAction":case"runTrackedAction":c[i+"Named"](o.action);case"close":n.metadata=null,n.parentNode.removeChild(n)}}else console.log("message closed, skipping event processing")},e.prototype.handleMessage=function(e){var t=this;if(this._showRichIAM&&"HTML"===e.message.__name__){this.resolveFiles(e.message);var n=e.message.Template||"";(new a.default).ajax("get",n.replace("-10.html","-11.html"),"",(function(n){return t.renderRichInAppMessage(n,e)}),(function(){}),!1,!0)}else this.events.emit("showMessage",this.resolveFields(e))},e.prototype.renderRichInAppMessage=function(e,t){var n=t.message.messageId,r=JSON.stringify(t.message),i=document.createElement("iframe");i.setAttribute("id","lp-message-"+n),i.style.cssText=["border-width: 0","position: fixed","top: -100%","left: -100%","width: 100%","height: 100%","visibility: hidden","z-index: 100000"].join(";"),document.body.appendChild(i),i.metadata=t,i.contentWindow.messageId=n;var s=e.replace("##Vars##",r).replace("<body>","<body><script>window.messageId='"+n+"'<\/script>");if("srcdoc"in i)i.srcdoc=s;else{var o=i.contentWindow.document;o.open(),o.write(s),o.close()}},e.prototype.trackMessage=function(e,t,n){void 0===t&&(t={event:null}),void 0===n&&(n=function(){});var r=(new o.default).add(s.default.PARAMS.MESSAGE_ID,e),i=function(e){return void 0!==e};t.event&&r.add(s.default.PARAMS.EVENT,t.event),i(t.value)&&r.add(s.default.PARAMS.VALUE,t.value||0),i(t.info)&&r.add(s.default.PARAMS.INFO,t.info),i(t.params)&&r.add(s.default.PARAMS.PARAMS,JSON.stringify(t.params)),this.createRequest(s.default.METHODS.TRACK,r,{queued:!0,sendNow:!0,response:n})},e.prototype.onAction=function(e,t){var n=this;if(void 0===t&&(t=""),e){var r=this._messageCache;if("Chain to Existing Message"!==e.__name__){var i=function(){var r=e.__name__;"Open URL"===e.__name__?n.events.emit("navigationChange",e.URL):"Register For Push"===e.__name__?n.events.emit("registerForPush"):r&&n.showMessage(t,{messageId:t,action:r,vars:e})},s=this.messageIdFromAction(e);s?this.trackMessage(s,{event:null},i):i()}else{var o=e["Chained message"],a=r[o];"Open URL"===a.action?this.trackMessage(o,{event:"View"},(function(){return n.onAction(a.vars,o)})):"Register For Push"===a.action?this.events.emit("registerForPush"):this.showMessage(o,a)}}},e.prototype.getMessages=function(){return this._messageCache||{}},e.prototype.addDefaults=function(e){var t=(this.getMessages().actionDefinitions||{})[e.__name__];if(!t)return e;return function e(t,n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r],o=n[s];"object"==typeof o?t[s]=e(t[s]||{},o):void 0===t[s]&&(t[s]=o)}return t}(r({},e),t.values)},e.prototype.resolveFiles=function(e){var t=/^__file__/;for(var n in e){if(t.test(n))e[n.replace(t,"")]=this.getFileUrl(e[n]);else"object"==typeof e[n]&&(e[n]=this.resolveFiles(e[n]))}return e},e.prototype.resolveFields=function(e){var t=/\bcolor/i,n=/^__file__/;for(var r in e){if(n.test(r))e[r.replace(n,"")+" URL"]=this.getFileUrl(e[r]);else t.test(r)?e[r]=l.default.decodeColor(e[r]):"object"==typeof e[r]&&(e[r]=this.resolveFields(e[r]))}return e},e.prototype.messageIdFromAction=function(e){var t=this._messageCache,n=r({},e);delete n.parentCampaignId;for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];if(a.parentCampaignId===e.parentCampaignId&&u.default(a.vars,n))return o}},e.prototype.matchesTrigger=function(e,t){if(!e)return!1;var n=function(e,t){return 0===e.toString().localeCompare(t.toString(),void 0,{sensitivity:"accent"})},r=function(e,t,r){var i=e===r.noun;if("triggers"===r.verb)return i;if("triggersWithParameter"===r.verb){var s=r.objects,o=s[0],a=s[1],u=o in t&&n(a,t[o]);return i&&u}};return e.children.some((function(e){var i=e.subject;switch(t.trigger){case"start":return"start"===i||"resume"===i;case"resume":return"resume"===i;case"event":return"event"===i&&r(t.eventName,t.params,e);case"userAttribute":if("userAttribute"!==i)return!1;var s=e.noun in t.attributes;if("changes"===e.verb)return s;if("changesTo"===e.verb){if(!s)return!1;var o=t.attributes[e.noun];return e.objects.some((function(e){return null===e&&null===o||e&&o&&n(e,o)}))}break;case"state":return"state"===i&&r(t.state,t.params,e)}return!1}))},e.prototype.matchesLimits=function(e,t,n){var r=this;return!t||t.children.every((function(t){var i=t.subject,s=t.verb,o=parseInt(t.noun.toString());if("times"===i){if("limitSession"===s)return r.occurrenceTracker.getSessionOccurranceCount(e)+1===o;if("limitUser"===s)return(a=r.occurrenceTracker.getOccurrences(e).length)+1<=o;var a,u=parseInt(t.objects[0].toString())||1,c=function(e){switch(e){case"limitSecond":return 1e3;case"limitMinute":return 6e4;case"limitHour":return 36e5;case"limitDay":return 864e5}}(s)*u,l=(a=r.occurrenceTracker.getOccurrences(e)).length;return l<o||a.slice(l-o,l)[0]<Date.now()-c}return"onNthOccurrence"===i?n===o:"everyNthOccurrence"===i&&n%o==0}))},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.handlers=[]}return e.prototype.on=function(e,t){this.handlers.push({eventName:e,callback:t})},e.prototype.off=function(e,t){this.handlers=this.handlers.filter((function(n){return n.eventName!==e||n.callback!==t}))},e.prototype.emit=function(e,t){this.handlers.forEach((function(n){n.eventName===e&&n.callback(t)}))},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Int="int",e.Integer="integer",e.Color="color",e.Float="float",e.Decimal="decimal",e.Number="number",e.Boolean="bool",e.String="string",e.Text="text",e.HTML="html",e.File="file",e.List="list",e.Group="group",e.Action="action",e.Unknown=""}(t.ActionParameterType||(t.ActionParameterType={})),function(e){e[e.Action=2]="Action",e[e.Template=3]="Template"}(t.MessageKind||(t.MessageKind={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),o=i(n(0)),a=i(n(2)),u=i(n(5));var c=function(){function e(e){this.createRequest=e,this.actionDefinitions={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,n){var i;this.diffs=e,this.variants=t,this.actionDefinitions=r(r({},this.actionDefinitions),(i=n)?Object.keys(i).reduce((function(e,t){e[t]=r({},i[t]);var n=i[t].kinds;return n&&(e[t].kinds=Object.keys(n).reduce((function(r,i){var s=n[i].toLowerCase();return r[i]=s,"action"===s&&(e[t].values[i]=""),r}),{})),e}),{}):i),this.hasReceivedDiffs=!0,this.merged=function e(t,n){if("number"==typeof n||"boolean"==typeof n||"string"==typeof n)return n;if(null==n)return t;var r=function(e){return function(t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n]);else for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r)}},i=r(t),s=r(n),o=!1;if(null===t&&!(n instanceof Array))for(var a in o=null,n)if(n.hasOwnProperty(a)){if(null===o&&(o=!0),"string"!=typeof a){o=!1;break}if(a.length<3||"["!==a.charAt(0)||"]"!==a.charAt(a.length-1)){o=!1;break}}if(t instanceof Array||o){var u=[];return i((function(e){u.push(e)})),s((function(t){for(var r=parseInt(t.substring(1,t.length-1)),i=n[t];r>=u.length;)u.push(null);u[r]=e(u[r],i)})),u}var c={};return i((function(e){null!==n[e]&&void 0!==n[e]||(c[e]=t[e])})),s((function(r){c[r]=e(null===t?null:t[r]||{},n[r])})),c}(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.ACTION_DEFINITIONS)||null)),this.token=this.loadLocal(o.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(o.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: "+e)}},e.prototype.saveDiffs=function(){this.saveLocal(o.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(o.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(o.default.DEFAULT_KEYS.ACTION_DEFINITIONS,JSON.stringify(this.actionDefinitions||{})),this.saveLocal(o.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(o.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getVariables();if(n)for(var r=0;r<e.length;r++)n=n[e[r]];return n},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendActions=function(){var e;return!!Object.keys(this.actionDefinitions).length&&(this.setVars(((e={})[o.default.PARAMS.ACTION_DEFINITIONS]=this.actionDefinitions,e)),!0)},e.prototype.sendVariables=function(){var e;this.setVars(((e={})[o.default.PARAMS.VARIABLES]=this.variables,e))},e.prototype.setVars=function(e){var t=(new s.default).body(JSON.stringify(e));this.createRequest(o.default.METHODS.SET_VARS,t,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.registerActionDefinition=function(e){this.actionDefinitions[e.name]=function(e){return{kind:e.kind||3,options:null,values:l(e.args),kinds:d(e.args)}}(e)},e.prototype.loadLocal=function(e){return a.default.getFromLocalStorage(e)},e.prototype.saveLocal=function(e,t){a.default.saveToLocalStorage(e,t)},e}();function l(e){return e.reduce((function(e,t){return t.value instanceof Array?e[t.name]=l(t.value):"action"===t.type?e[t.name]="":"color"===t.type?e[t.name]=u.default.encodeColor(t.value):e[t.name]=t.value,e}),{})}function d(e,t){return void 0===t&&(t=""),e.reduce((function(e,n){var i,s=""+t+n.name;return n.value instanceof Array?e=r(((i={})[s]="group",i),d(n.value,s+".")):e[s]=n.type.toLowerCase(),e}),{})}t.default=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0FyZ3NCdWlsZGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xvY2FsU3RvcmFnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTmV0d29yay50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNlcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9WYWx1ZVRyYW5zZm9ybXMudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvYnVuZGxlcy9sZWFucGx1bS5mdWxsLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtSW50ZXJuYWwudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQnJvd3NlckRldGVjdG9yLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0ludGVybmFsU3RhdGUudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1JbmJveC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1Tb2NrZXQudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL0xlYW5wbHVtLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Tb2NrZXRJb0NsaWVudC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9QdXNoTWFuYWdlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9NZXNzYWdlcy50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9FdmVudEVtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvdHlwZXMvcHVibGljLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1ZhckNhY2hlLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJkZWZhdWx0IiwiTUVUSE9EUyIsIlNUQVJUIiwiU1RPUCIsIkFEVkFOQ0UiLCJUUkFDSyIsIlBBVVNFX1NFU1NJT04iLCJSRVNVTUVfU0VTU0lPTiIsIlBBVVNFX1NUQVRFIiwiUkVTVU1FX1NUQVRFIiwiRE9XTkxPQURfRklMRSIsIk1VTFRJIiwiU0VUX1ZBUlMiLCJHRVRfVkFSUyIsIlNFVF9VU0VSX0FUVFJJQlVURVMiLCJTRVRfREVWSUNFX0FUVFJJQlVURVMiLCJVUExPQURfRklMRSIsIlJFR0lTVEVSX0RFVklDRSIsIlNES19WRVJTSU9OIiwiQ0xJRU5UIiwiUEFSQU1TIiwiQUNUSU9OIiwiQVBQX0lEIiwiQ0xJRU5UX0tFWSIsIkNVUlJFTkNZX0NPREUiLCJERVZJQ0VfSUQiLCJVU0VSX0lEIiwiTkVXX1VTRVJfSUQiLCJERVZfTU9ERSIsIlZFUlNJT05fTkFNRSIsIlNZU1RFTV9OQU1FIiwiU1lTVEVNX1ZFUlNJT04iLCJCUk9XU0VSX05BTUUiLCJCUk9XU0VSX1ZFUlNJT04iLCJERVZJQ0VfTkFNRSIsIkRFVklDRV9NT0RFTCIsIlVTRVJfQVRUUklCVVRFUyIsIkxPQ0FMRSIsIkNPVU5UUlkiLCJSRUdJT04iLCJDSVRZIiwiTE9DQVRJT04iLCJTVEFURSIsIklORk8iLCJFVkVOVCIsIlZBTFVFIiwiRklMRU5BTUUiLCJUSU1FIiwiREFUQSIsIlZBUlMiLCJGSUxFIiwiU0laRSIsIlZBUklBVElPTiIsIkhBU0giLCJFTUFJTCIsIlZBUklBQkxFUyIsIkFDVElPTl9ERUZJTklUSU9OUyIsIklOQ0xVREVfREVGQVVMVFMiLCJJTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTyIsIk5FV1NGRUVEX01FU1NBR0VTIiwiTUVTU0FHRV9JRCIsIldFQl9QVVNIX1NVQlNDUklQVElPTiIsIktFWVMiLCJJU19SRUdJU1RFUkVEIiwiTEFURVNUX1ZFUlNJT04iLCJTWU5DX0lOQk9YIiwiTUVTU0FHRVMiLCJWQVJJQU5UUyIsIlZBUklBTlRfREVCVUdfSU5GTyIsIlRPS0VOIiwiREVGQVVMVF9LRVlTIiwiQ09VTlQiLCJJVEVNIiwiSU5CT1hfTUVTU0FHRVMiLCJTRVNTSU9OIiwiTUVTU0FHRV9PQ0NVUlJFTkNFUyIsIk1FU1NBR0VfQ0FDSEUiLCJQVVNIX1NVQlNDUklQVElPTiIsIlZBTFVFUyIsIkRFVEVDVCIsIkRFRkFVTFRfUFVTSF9BQ1RJT04iLCJfX2ltcG9ydERlZmF1bHQiLCJ0aGlzIiwibW9kIiwiQ29uc3RhbnRzXzEiLCJBcmdzQnVpbGRlciIsImFyZ1N0cmluZyIsImFyZ1ZhbHVlcyIsImFkZCIsInZhbCIsIkFycmF5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVuY29kZVVSSUNvbXBvbmVudCIsImJvZHkiLCJfYm9keSIsImF0dGFjaEFwaUtleXMiLCJhcHBJZCIsImNsaWVudEtleSIsImJ1aWxkIiwiYnVpbGREaWN0IiwibG9jYWxTdG9yYWdlRW5hYmxlZCIsImFsdGVybmF0ZUxvY2FsU3RvcmFnZSIsIkxvY2FsU3RvcmFnZU1hbmFnZXIiLCJnZXRGcm9tTG9jYWxTdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwic2F2ZVRvTG9jYWxTdG9yYWdlIiwiZSIsInJlbW92ZUZyb21Mb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiTmV0d29yayIsIm5ldHdvcmtUaW1lb3V0U2Vjb25kcyIsInJlcXVlc3RRdWV1ZSIsInJ1bm5pbmdSZXF1ZXN0Iiwic2V0TmV0d29ya1RpbWVvdXQiLCJzZWNvbmRzIiwiYWpheCIsIm1ldGhvZCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwiZXJyb3IiLCJxdWV1ZWQiLCJwbGFpblRleHQiLCJfdGhpcyIsImVucXVldWVSZXF1ZXN0IiwiYXJndW1lbnRzIiwiWERvbWFpblJlcXVlc3QiLCJsb2NhdGlvbiIsInByb3RvY29sIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImFqYXhJRTgiLCJoYW5kbGVkIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2VfMSIsInJhbkNhbGxiYWNrIiwicmVzcG9uc2VUZXh0IiwicGFyc2UiLCJzZXRUaW1lb3V0Iiwic3RhdHVzIiwiZGVxdWV1ZVJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJhYm9ydCIsInhkciIsIm9ubG9hZCIsInJlc3BvbnNlIiwib25lcnJvciIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJ0aW1lb3V0IiwicmVxdWVzdEFyZ3VtZW50cyIsInB1c2giLCJhcmdzIiwic2hpZnQiLCJhcHBseSIsImFyZ3NUYWciLCJtYXBUYWciLCJvYmplY3RUYWciLCJzZXRUYWciLCJyZUlzSG9zdEN0b3IiLCJyZUlzVWludCIsInR5cGVkQXJyYXlUYWdzIiwiZnJlZUdsb2JhbCIsImdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJiaW5kaW5nIiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImFycmF5U29tZSIsImFycmF5IiwicHJlZGljYXRlIiwiaW5kZXgiLCJsZW5ndGgiLCJtYXBUb0FycmF5IiwibWFwIiwicmVzdWx0Iiwic2l6ZSIsImZvckVhY2giLCJzZXRUb0FycmF5Iiwic2V0IiwidWlkIiwiZnVuYyIsInRyYW5zZm9ybSIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJ0b1N0cmluZyIsIm1hc2tTcmNLZXkiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJyZUlzTmF0aXZlIiwiUmVnRXhwIiwicmVwbGFjZSIsIkJ1ZmZlciIsInVuZGVmaW5lZCIsIlVpbnQ4QXJyYXkiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInNwbGljZSIsInN5bVRvU3RyaW5nVGFnIiwibmF0aXZlR2V0U3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVLZXlzIiwiYXJnIiwiRGF0YVZpZXciLCJnZXROYXRpdmUiLCJNYXAiLCJQcm9taXNlIiwiU2V0IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsImRhdGFWaWV3Q3RvclN0cmluZyIsInRvU291cmNlIiwibWFwQ3RvclN0cmluZyIsInByb21pc2VDdG9yU3RyaW5nIiwic2V0Q3RvclN0cmluZyIsIndlYWtNYXBDdG9yU3RyaW5nIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xWYWx1ZU9mIiwidmFsdWVPZiIsIkhhc2giLCJlbnRyaWVzIiwiY2xlYXIiLCJlbnRyeSIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJ2YWx1ZXMiLCJfX2RhdGFfXyIsIlN0YWNrIiwiYXJyYXlMaWtlS2V5cyIsImluaGVyaXRlZCIsImlzQXJyIiwiaXNBcnJheSIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsIml0ZXJhdGVlIiwiYmFzZVRpbWVzIiwiU3RyaW5nIiwiaXNJbmRleCIsImFzc29jSW5kZXhPZiIsImVxIiwiYmFzZUdldFRhZyIsImlzT3duIiwidGFnIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VJc0FyZ3VtZW50cyIsImlzT2JqZWN0TGlrZSIsImJhc2VJc0VxdWFsIiwib3RoZXIiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsInN0YWNrIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsImdldFRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImJ5dGVMZW5ndGgiLCJieXRlT2Zmc2V0IiwiYnVmZmVyIiwibWVzc2FnZSIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJzdGFja2VkIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwiZ2V0QWxsS2V5cyIsIm9iakxlbmd0aCIsIm90aExlbmd0aCIsInNraXBDdG9yIiwib2JqVmFsdWUiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwib2JqQ3RvciIsImNvbnN0cnVjdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc05hdGl2ZSIsImlzT2JqZWN0IiwiaXNNYXNrZWQiLCJpc0Z1bmN0aW9uIiwidGVzdCIsImJhc2VLZXlzIiwiQ3RvciIsInByb3RvIiwiYXJyTGVuZ3RoIiwic2VlbiIsImFyclZhbHVlIiwib3RoSW5kZXgiLCJoYXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwib2Zmc2V0IiwiYXJyYXlQdXNoIiwiYmFzZUdldEFsbEtleXMiLCJnZXRTeW1ib2xzIiwiZ2V0TWFwRGF0YSIsInR5cGUiLCJnZXRWYWx1ZSIsInBvcCIsInBhaXJzIiwiTEFSR0VfQVJSQVlfU0laRSIsInJlc0luZGV4IiwiYXJyYXlGaWx0ZXIiLCJzeW1ib2wiLCJBcnJheUJ1ZmZlciIsInJlc29sdmUiLCJjdG9yU3RyaW5nIiwiaXNMZW5ndGgiLCJiYXNlVW5hcnkiLCJWYWx1ZVRyYW5zZm9ybXMiLCJkZWNvZGVDb2xvciIsImNvbG9yIiwiYiIsImciLCJlbmNvZGVDb2xvciIsInJnYmEiLCJwYXJzZUludCIsImhleCIsIkVycm9yIiwiTGVhbnBsdW0iLCJMZWFucGx1bUludGVybmFsXzEiLCJzZXRBcGlQYXRoIiwiYXBpUGF0aCIsIl9scCIsInNldEVtYWlsIiwic2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUiLCJhY2Nlc3NLZXkiLCJzZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlIiwic2V0U29ja2V0SG9zdCIsImhvc3QiLCJzZXREZXZpY2VJZCIsImRldmljZUlkIiwic2V0QXBwVmVyc2lvbiIsInZlcnNpb25OYW1lIiwic2V0RGV2aWNlTmFtZSIsImRldmljZU5hbWUiLCJzZXREZXZpY2VNb2RlbCIsImRldmljZU1vZGVsIiwic2V0UmVxdWVzdEJhdGNoaW5nIiwiYmF0Y2hFbmFibGVkIiwiY29vbGRvd25TZWNvbmRzIiwic2V0U3lzdGVtTmFtZSIsInN5c3RlbU5hbWUiLCJzZXRTeXN0ZW1WZXJzaW9uIiwic3lzdGVtVmVyc2lvbiIsInNldFZhcmlhYmxlcyIsInZhcmlhYmxlcyIsInNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkIiwidmFyaWFudERlYnVnSW5mb0VuYWJsZWQiLCJlbmFibGVSaWNoSW5BcHBNZXNzYWdlcyIsImVuYWJsZWQiLCJwcm9jZXNzTWVzc2FnZUV2ZW50IiwibWVzc2FnZUlkIiwiZ2V0VmFyaWFudERlYnVnSW5mbyIsImdldFZhcmlhYmxlcyIsImdldFZhcmlhYmxlIiwiX2EiLCJfaSIsImdldFZhcmlhbnRzIiwiaW5ib3giLCJhZGRTdGFydFJlc3BvbnNlSGFuZGxlciIsImhhbmRsZXIiLCJyZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciIsImFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyIiwicmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIiLCJmb3JjZUNvbnRlbnRVcGRhdGUiLCJjYWxsYmFjayIsInVzZVNlc3Npb25MZW5ndGgiLCJzdGFydCIsInVzZXJJZCIsInVzZXJBdHRyaWJ1dGVzIiwic3RhcnRGcm9tQ2FjaGUiLCJzdG9wIiwicGF1c2VTZXNzaW9uIiwicmVzdW1lU2Vzc2lvbiIsInBhdXNlU3RhdGUiLCJyZXN1bWVTdGF0ZSIsImdldFVzZXJJZCIsInNldFVzZXJJZCIsInNldFVzZXJBdHRyaWJ1dGVzIiwidHJhY2siLCJldmVudCIsImluZm8iLCJwYXJhbXMiLCJ0cmFja1B1cmNoYXNlIiwiY3VycmVuY3lDb2RlIiwiYWR2YW5jZVRvIiwic3RhdGUiLCJpc1dlYlB1c2hTdXBwb3J0ZWQiLCJpc1dlYlB1c2hTdWJzY3JpYmVkIiwic2V0V2ViUHVzaE9wdGlvbnMiLCJvcHRpb25zIiwicmVnaXN0ZXJGb3JXZWJQdXNoIiwic2VydmljZVdvcmtlclVybCIsInVucmVnaXN0ZXJGcm9tV2ViUHVzaCIsImNsZWFyVXNlckNvbnRlbnQiLCJkZWZpbmVBY3Rpb24iLCJhcHBseVF1ZXVlIiwicXVldWUiLCJvbiIsImV2ZW50TmFtZSIsIm9mZiIsImdldEZpbGVVcmwiLCJmaWxlbmFtZSIsIl9fZGVzdHJveSIsIlZFUlNJT04iLCJfX2Fzc2lnbiIsImFzc2lnbiIsIkFyZ3NCdWlsZGVyXzEiLCJCcm93c2VyRGV0ZWN0b3JfMSIsIkludGVybmFsU3RhdGVfMSIsIkxlYW5wbHVtSW5ib3hfMSIsIkxlYW5wbHVtUmVxdWVzdF8xIiwiTGVhbnBsdW1Tb2NrZXRfMSIsIkxvY2FsU3RvcmFnZU1hbmFnZXJfMSIsIlB1c2hNYW5hZ2VyXzEiLCJNZXNzYWdlc18xIiwiRXZlbnRFbWl0dGVyXzEiLCJwdWJsaWNfMSIsIlZhckNhY2hlXzEiLCJTRVNTSU9OX0tFWSIsIkxlYW5wbHVtSW50ZXJuYWwiLCJ3bmQiLCJfZXZlbnRzIiwiX2ludGVybmFsU3RhdGUiLCJfbHBJbmJveCIsImNyZWF0ZVJlcXVlc3QiLCJvbkluYm94QWN0aW9uIiwiX2xwUmVxdWVzdCIsIl92YXJDYWNoZSIsIl9scFNvY2tldCIsImdldExhc3RSZXNwb25zZSIsIl9wdXNoTWFuYWdlciIsIl9tZXNzYWdlcyIsIl9icm93c2VyRGV0ZWN0b3IiLCJwcmV2ZW50ZWQiLCJlbWl0IiwicHJldmVudERlZmF1bHQiLCJkZXZNb2RlIiwiX2RldmljZU5hbWUiLCJfZGV2aWNlTW9kZWwiLCJiYXRjaENvb2xkb3duIiwiX3N5c3RlbU5hbWUiLCJfc3lzdGVtVmVyc2lvbiIsInZhcmlhbnRzIiwiYWN0aW9uIiwidHJhY2tNZXNzYWdlIiwib25BY3Rpb24iLCJyZWdpc3RlckFjdGlvbkRlZmluaXRpb24iLCJraW5kIiwiTWVzc2FnZUtpbmQiLCJUZW1wbGF0ZSIsInNlbmROb3ciLCJnZXRWYXJzUmVzcG9uc2UiLCJpc1N1Y2Nlc3MiLCJpc1Jlc3BvbnNlU3VjY2VzcyIsImFwcGx5RGlmZnMiLCJzZXRWYXJpYW50RGVidWdJbmZvIiwiX3Nlc3Npb25MZW5ndGgiLCJoYXNBY3RpdmVTZXNzaW9uIiwib25VcGRhdGUiLCJ0cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzIiwiT1MiLCJicm93c2VyIiwidmVyc2lvbiIsIm1lc3NhZ2VJZHMiLCJoYXNTdGFydGVkIiwic3RhcnRSZXNwb25zZSIsInN0YXJ0U3VjY2Vzc2Z1bCIsInVwZGF0ZVNlc3Npb24iLCJtZXNzYWdlcyIsImFjdGlvbkRlZmluaXRpb25zIiwiZG93bmxvYWRNZXNzYWdlcyIsImxhdGVzdFZlcnNpb24iLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdFNvY2tldCIsInRva2VuIiwibG9hZERpZmZzIiwidHJpZ2dlclN0YXJ0SGFuZGxlcnMiLCJfd2ViUHVzaE9wdGlvbnMiLCJ3b3JrZXJVcmwiLCJzY29wZSIsInJlZ2lzdGVyIiwiaXNTdWJzY3JpYmVkIiwic3Vic2NyaWJlVXNlciIsInJlamVjdCIsInVuc3Vic2NyaWJlVXNlciIsImludm9jYXRpb24iLCJyZXF1ZXN0IiwiY29ubmVjdCIsImN1cnJlbnRUaW1lIiwiRGF0ZSIsIm5vdyIsImxhc3RBY3RpdmUiLCJpc05hTiIsIkJyb3dzZXJEZXRlY3RvciIsInNlYXJjaFN0cmluZyIsImdldEJyb3dzZXJEYXRhIiwic2VhcmNoVmVyc2lvbiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImFwcFZlcnNpb24iLCJnZXRPU0RhdGEiLCJkYXRhU3RyaW5nIiwic3RyaW5nIiwiZGF0YVByb3AiLCJwcm9wIiwidmVyc2lvblNlYXJjaFN0cmluZyIsInZlcnNpb25TZWFyY2giLCJpZGVudGl0eSIsInN1YlN0cmluZyIsInBhcnNlRmxvYXQiLCJ2ZW5kb3IiLCJvcGVyYSIsInBsYXRmb3JtIiwiSW50ZXJuYWxTdGF0ZSIsInN0YXJ0SGFuZGxlcnMiLCJpZHgiLCJvYmoiLCJMZWFucGx1bUluYm94IiwibWVzc2FnZU1hcCIsImNoYW5nZUhhbmRsZXJzIiwibG9hZCIsIm5ld3NmZWVkTWVzc2FnZXMiLCJ0cmlnZ2VyQ2hhbmdlSGFuZGxlcnMiLCJtYXJrQXNSZWFkIiwiaXNSZWFkIiwicmVhZCIsImluYm94TWVzc2FnZSIsImlkIiwic3BsaXQiLCJvcGVuQWN0aW9uIiwicmVtb3ZlIiwib25DaGFuZ2VkIiwic2F2ZSIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsImdldEl0ZW0iLCJjb3VudCIsInVucmVhZENvdW50IiwiZmlsdGVyIiwieCIsIkxlYW5wbHVtSW5ib3hNZXNzYWdlIiwiYWxsTWVzc2FnZXMiLCJ1bnJlYWRNZXNzYWdlcyIsIl9pZCIsIl90aXRsZSIsIl9zdWJ0aXRsZSIsIl9kYXRhIiwiX3RpbWVzdGFtcCIsIl9pc1JlYWQiLCJfaW1hZ2VVcmwiLCJfb3BlbkFjdGlvbiIsIm1lc3NhZ2VJbmZvIiwiX2IiLCJfYyIsIl9kIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJfaiIsIl9rIiwiX2wiLCJwYXJlbnRDYW1wYWlnbklkIiwibWVzc2FnZURhdGEiLCJ2YXJzIiwiVGl0bGUiLCJTdWJ0aXRsZSIsIkRhdGEiLCJkZWxpdmVyeVRpbWVzdGFtcCIsIkltYWdlIiwidGl0bGUiLCJzdWJ0aXRsZSIsInRpbWVzdGFtcCIsImltYWdlVXJsIiwiTmV0d29ya18xIiwiTGVhbnBsdW1SZXF1ZXN0IiwibmV0d29yayIsImNvb2xkb3duVGltZW91dCIsImxhc3RSZXF1ZXN0VGltZSIsInVzZXJJZFZhbHVlIiwibG9hZExvY2FsIiwiY29uZmlndXJhYmxlIiwicG9zc2libGUiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzYXZlTG9jYWwiLCJhcmdzQnVpbGRlciIsImdldFRpbWUiLCJlcnIiLCJzZW5kVW5zZW50UmVxdWVzdHMiLCJyZXF1ZXN0c1RvU2VuZCIsInBvcFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdERhdGEiLCJtdWx0aVJlcXVlc3RBcmdzIiwic2F2ZVJlcXVlc3RGb3JMYXRlciIsIkJvb2xlYW4iLCJpdGVtS2V5IiwicmVtb3ZlTG9jYWwiLCJpZ25vcmVkIiwibG9kYXNoX2lzZXF1YWxfMSIsIlNvY2tldElvQ2xpZW50XzEiLCJMZWFucGx1bVNvY2tldCIsImNhY2hlIiwiZXZlbnRzIiwic29ja2V0Q2xpZW50Iiwic29ja2V0SG9zdCIsImF1dGgiLCJXZWJTb2NrZXQiLCJhdXRoU2VudCIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsIm9uTWVzc2FnZVJlY2VpdmVkIiwib25jbG9zZSIsInNldEludGVydmFsIiwiY29ubmVjdGVkIiwiY29ubmVjdGluZyIsImFyZ3NfMSIsImRpZmZzIiwic2VuZFZhcmlhYmxlcyIsInVwZGF0ZWQiLCJzZW5kQWN0aW9ucyIsImFsZXJ0IiwiZW1haWwiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJwYXRocyIsImNoaWxkcmVuIiwiU29ja2V0SW9DbGllbnQiLCJsaW5lIiwicGFydHMiLCJzZXNzaW9uIiwiaGVhcnRiZWF0Iiwic29ja2V0IiwiaGVhcnRiZWF0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwibWVzc2FnZVBhcnRzIiwiY29kZSIsInNsaWNlIiwiam9pbiIsIm1lc3NhZ2VFdmVudCIsImNsb3NlIiwiYXJnc0pzb24iLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwiZG9uZSIsInRoZW4iLCJfX2dlbmVyYXRvciIsImYiLCJ5IiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJQdXNoTWFuYWdlciIsInNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0cmF0aW9uIiwic3Vic2NyaXB0aW9uIiwiZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsInB1c2hNYW5hZ2VyIiwiZ2V0U3Vic2NyaXB0aW9uIiwidXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIiLCJlcnJvcl8xIiwiYXBwbGljYXRpb25TZXJ2ZXJLZXkiLCJlcnJvcl8yIiwidXJsQjY0VG9VaW50OEFycmF5Iiwic3Vic2NyaWJlIiwidXNlclZpc2libGVPbmx5IiwiZXJyb3JfMyIsInVuc3Vic2NyaWJlIiwiZ2V0UmVnaXN0cmF0aW9uIiwiYmFzZTY0U3RyaW5nIiwiYmFzZTY0IiwicmVwZWF0IiwicmF3RGF0YSIsImRlY29kZURhdGEiLCJvdXRwdXRBcnJheSIsImNoYXJDb2RlQXQiLCJwcmVwYXJlZFN1YnNjcmlwdGlvbiIsInByZXBhcmVTdWJzY3JpcHRpb24iLCJwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyIsInNldFN1YnNjcmlwdGlvbiIsImdldEtleSIsImtleUFzY2lpIiwiZW5jb2RlRGF0YSIsImZyb21DaGFyQ29kZSIsImF1dGhBc2NpaSIsImVuZHBvaW50IiwiYnRvYSIsImF0b2IiLCJWYWx1ZVRyYW5zZm9ybXNfMSIsIk9jY3VycmVuY2VUcmFja2VyIiwidHJpZ2dlcnMiLCJvY2N1cnJlbmNlcyIsInJlY29yZE9jY3VycmVuY2UiLCJzZXNzaW9uT2NjdXJyZW5jZXMiLCJyZWNvcmRUcmlnZ2VyT2NjdXJyZW5jZSIsInRyaWdnZXJPY2N1cnJlbmNlcyIsImdldFNlc3Npb25PY2N1cnJhbmNlQ291bnQiLCJnZXRPY2N1cnJlbmNlcyIsImNsZWFyU2Vzc2lvbiIsImpzb24iLCJNZXNzYWdlcyIsIl9tZXNzYWdlQ2FjaGUiLCJvY2N1cnJlbmNlVHJhY2tlciIsIl9zaG93UmljaElBTSIsIm9uTWVzc2FnZVByZXZpZXciLCJvbk1lc3NhZ2VzUmVjZWl2ZWQiLCJvblRyaWdnZXIiLCJ0cmlnZ2VyIiwiYXR0cmlidXRlcyIsImNvbnRleHQiLCJnZXRNZXNzYWdlcyIsInNob3VsZFNob3dNZXNzYWdlIiwic2hvd01lc3NhZ2UiLCJldmVudEluZm8iLCJydW5BY3Rpb25OYW1lZCIsImFjdGlvbk5hbWUiLCJydW5UcmFja2VkQWN0aW9uTmFtZWQiLCJoYW5kbGVNZXNzYWdlIiwiaXNQcmV2aWV3IiwicmVjZWl2ZWRNZXNzYWdlcyIsIm1hdGNoZXNUcmlnZ2VyIiwid2hlblRyaWdnZXJzIiwibWF0Y2hlc1VubGVzcyIsInVubGVzc1RyaWdnZXJzIiwidHJpZ2dlcnNDb3VudCIsIm1hdGNoZXNMaW1pdHMiLCJ3aGVuTGltaXRzIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImFkZERlZmF1bHRzIiwiZXZlbnRVcmwiLCJpZnJhbWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicmVkdWNlIiwiYWNjIiwicGFyYW0iLCJkZWNvZGVVUklDb21wb25lbnQiLCJtZXRhZGF0YSIsInN0eWxlIiwidmlzaWJpbGl0eSIsImxlZnQiLCJ3aWR0aCIsImhlaWdodCIsImFuY2hvclByb3AiLCJ0b0xvd2VyQ2FzZSIsImFsdFByb3AiLCJ0b3AiLCJwYXJhbWV0ZXJzIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiX19uYW1lX18iLCJyZXNvbHZlRmlsZXMiLCJ0ZW1wbGF0ZU5hbWUiLCJ0ZW1wbGF0ZSIsInJlbmRlclJpY2hJbkFwcE1lc3NhZ2UiLCJyZXNvbHZlRmllbGRzIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNzc1RleHQiLCJhcHBlbmRDaGlsZCIsImNvbnRlbnRXaW5kb3ciLCJjb250ZW50Iiwic3JjZG9jIiwiZG9jIiwid3JpdGUiLCJ0cmFja09wdGlvbnMiLCJkZWZpbmVkIiwicGFyZW50TWVzc2FnZUlkIiwicHJvY2Vzc0FjdGlvbiIsIlVSTCIsIm1lc3NhZ2VJZEZyb21BY3Rpb24iLCJjaGFpbmVkTWVzc2FnZUlkXzEiLCJtZXNzYWdlXzEiLCJkZWZhdWx0cyIsInVzZURlZmF1bHRzIiwiZGVmYXVsdFZhbHVlcyIsImZpbGVQcmVmaXgiLCJjb2xvclN1ZmZpeCIsImlnbm9yZUNhc2VFcXVhbHMiLCJhIiwibG9jYWxlQ29tcGFyZSIsInNlbnNpdGl2aXR5IiwibWF0Y2hlc1RyaWdnZXJzIiwiY29udGV4dE5vdW4iLCJtYXRjaGVzTm91biIsIm5vdW4iLCJvYmplY3RzIiwicGFyYW1ldGVyIiwibWF0Y2hlc1BhcmFtIiwic29tZSIsInN1YmplY3QiLCJjb250YWluc0F0dHJpYnV0ZSIsImNvbnRleHRWYWx1ZV8xIiwiZXZlcnkiLCJsaW1pdCIsInBlckludGVydmFsIiwidGltZVNsb3QiLCJ2ZXJiVG9JbnRlcnZhbCIsIkV2ZW50RW1pdHRlciIsImhhbmRsZXJzIiwiQWN0aW9uUGFyYW1ldGVyVHlwZSIsIlZhckNhY2hlIiwiaGFzUmVjZWl2ZWREaWZmcyIsIm1lcmdlZCIsInZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyIsInZhcmlhbnREZWJ1Z0luZm8iLCJraW5kcyIsImsiLCJreCIsIm1lcmdlSGVscGVyIiwiZGlmZiIsIm9iakl0ZXJhdG9yIiwiYXR0ciIsInZhcnNJdGVyYXRvciIsImRpZmZJdGVyYXRvciIsImF0dHJpYnV0ZSIsIm1lcmdlZF8xIiwidmFyU3Vic2NyaXB0Iiwic3Vic2NyaXB0IiwiZGlmZlZhbHVlIiwic2F2ZURpZmZzIiwiY3VycmVudCIsInNldFZhcnMiLCJhcmd1bWVudFRyZWUiLCJhcmd1bWVudEtpbmRzIiwib3B0aW9uc1RvRGVmaW5pdGlvbnMiLCJwcmVmaXgiLCJwcm9wTmFtZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxHQUFJSCxHQUNlLGlCQUFaQyxRQUNkQSxRQUFrQixTQUFJRCxJQUV0QkQsRUFBZSxTQUFJQyxJQVJyQixDQVNHSyxRQUFRLFdBQ1gsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVQLFFBR25DLElBQUlDLEVBQVNJLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hULFFBQVMsSUFVVixPQU5BVSxFQUFRSCxHQUFVSSxLQUFLVixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTTSxHQUcvREwsRUFBT1EsR0FBSSxFQUdKUixFQUFPRCxRQTBEZixPQXJEQU0sRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNkLEVBQVNlLEVBQU1DLEdBQzNDVixFQUFvQlcsRUFBRWpCLEVBQVNlLElBQ2xDRyxPQUFPQyxlQUFlbkIsRUFBU2UsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFVixFQUFvQmdCLEVBQUksU0FBU3RCLEdBQ1gsb0JBQVh1QixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWVuQixFQUFTdUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxP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OHJCLEVBQUlyTixFQUFFNWxCLE1BQVEwNEIsRUFBYTlTLEVBQUVsbEIsT0FFYixXQUFYa2xCLEVBQUV0UCxLQUNQMmMsRUFBSXJOLEVBQUU1bEIsTUFBUSxHQUVFLFVBQVg0bEIsRUFBRXRQLEtBQ1AyYyxFQUFJck4sRUFBRTVsQixNQUFRa3dCLEVBQWtCenVCLFFBQVErVixZQUFZb08sRUFBRWxsQixPQUd0RHV5QixFQUFJck4sRUFBRTVsQixNQUFRNGxCLEVBQUVsbEIsTUFFYnV5QixJQUNSLElBRVAsU0FBUzBGLEVBQWNwdEIsRUFBTXN0QixHQUV6QixZQURlLElBQVhBLElBQXFCQSxFQUFTLElBQzNCdHRCLEVBQUt5bkIsUUFBTyxTQUFVQyxFQUFLck4sR0FDOUIsSUFBSTFMLEVBQ0E0ZSxFQUFXLEdBQUtELEVBQVNqVCxFQUFFNWxCLEtBTy9CLE9BTkk0bEIsRUFBRWxsQixpQkFBaUJ5RyxNQUNuQjhyQixFQUFNN1YsSUFBVWxELEVBQUssSUFBTzRlLEdBQVksUUFBUzVlLEdBQUt5ZSxFQUFjL1MsRUFBRWxsQixNQUFPbzRCLEVBQVcsTUFHeEY3RixFQUFJNkYsR0FBWWxULEVBQUV0UCxLQUFLcWQsY0FFcEJWLElBQ1IsSUE5QlBoMEIsRUFBUXdDLFFBQVUyMUIiLCJmaWxlIjoibGVhbnBsdW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJMZWFucGx1bVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJMZWFucGx1bVwiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDYpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIE1FVEhPRFM6IHtcbiAgICAgICAgU1RBUlQ6ICdzdGFydCcsXG4gICAgICAgIFNUT1A6ICdzdG9wJyxcbiAgICAgICAgQURWQU5DRTogJ2FkdmFuY2UnLFxuICAgICAgICBUUkFDSzogJ3RyYWNrJyxcbiAgICAgICAgUEFVU0VfU0VTU0lPTjogJ3BhdXNlU2Vzc2lvbicsXG4gICAgICAgIFJFU1VNRV9TRVNTSU9OOiAncmVzdW1lU2Vzc2lvbicsXG4gICAgICAgIFBBVVNFX1NUQVRFOiAncGF1c2VTdGF0ZScsXG4gICAgICAgIFJFU1VNRV9TVEFURTogJ3Jlc3VtZVN0YXRlJyxcbiAgICAgICAgRE9XTkxPQURfRklMRTogJ2Rvd25sb2FkRmlsZScsXG4gICAgICAgIE1VTFRJOiAnbXVsdGknLFxuICAgICAgICBTRVRfVkFSUzogJ3NldFZhcnMnLFxuICAgICAgICBHRVRfVkFSUzogJ2dldFZhcnMnLFxuICAgICAgICBTRVRfVVNFUl9BVFRSSUJVVEVTOiAnc2V0VXNlckF0dHJpYnV0ZXMnLFxuICAgICAgICBTRVRfREVWSUNFX0FUVFJJQlVURVM6ICdzZXREZXZpY2VBdHRyaWJ1dGVzJyxcbiAgICAgICAgVVBMT0FEX0ZJTEU6ICd1cGxvYWRGaWxlJyxcbiAgICAgICAgUkVHSVNURVJfREVWSUNFOiAncmVnaXN0ZXJEZXZpY2UnLFxuICAgIH0sXG4gICAgU0RLX1ZFUlNJT046ICcxLjguNScsXG4gICAgQ0xJRU5UOiAnanMnLFxuICAgIFBBUkFNUzoge1xuICAgICAgICBBQ1RJT046ICdhY3Rpb24nLFxuICAgICAgICBBUFBfSUQ6ICdhcHBJZCcsXG4gICAgICAgIENMSUVOVDogJ2NsaWVudCcsXG4gICAgICAgIENMSUVOVF9LRVk6ICdjbGllbnRLZXknLFxuICAgICAgICBDVVJSRU5DWV9DT0RFOiAnY3VycmVuY3lDb2RlJyxcbiAgICAgICAgREVWSUNFX0lEOiAnZGV2aWNlSWQnLFxuICAgICAgICBTREtfVkVSU0lPTjogJ3Nka1ZlcnNpb24nLFxuICAgICAgICBVU0VSX0lEOiAndXNlcklkJyxcbiAgICAgICAgTkVXX1VTRVJfSUQ6ICduZXdVc2VySWQnLFxuICAgICAgICBERVZfTU9ERTogJ2Rldk1vZGUnLFxuICAgICAgICBWRVJTSU9OX05BTUU6ICd2ZXJzaW9uTmFtZScsXG4gICAgICAgIFNZU1RFTV9OQU1FOiAnc3lzdGVtTmFtZScsXG4gICAgICAgIFNZU1RFTV9WRVJTSU9OOiAnc3lzdGVtVmVyc2lvbicsXG4gICAgICAgIEJST1dTRVJfTkFNRTogJ2Jyb3dzZXJOYW1lJyxcbiAgICAgICAgQlJPV1NFUl9WRVJTSU9OOiAnYnJvd3NlclZlcnNpb24nLFxuICAgICAgICBERVZJQ0VfTkFNRTogJ2RldmljZU5hbWUnLFxuICAgICAgICBERVZJQ0VfTU9ERUw6ICdkZXZpY2VNb2RlbCcsXG4gICAgICAgIFVTRVJfQVRUUklCVVRFUzogJ3VzZXJBdHRyaWJ1dGVzJyxcbiAgICAgICAgTE9DQUxFOiAnbG9jYWxlJyxcbiAgICAgICAgQ09VTlRSWTogJ2NvdW50cnknLFxuICAgICAgICBSRUdJT046ICdyZWdpb24nLFxuICAgICAgICBDSVRZOiAnY2l0eScsXG4gICAgICAgIExPQ0FUSU9OOiAnbG9jYXRpb24nLFxuICAgICAgICBTVEFURTogJ3N0YXRlJyxcbiAgICAgICAgSU5GTzogJ2luZm8nLFxuICAgICAgICBFVkVOVDogJ2V2ZW50JyxcbiAgICAgICAgVkFMVUU6ICd2YWx1ZScsXG4gICAgICAgIEZJTEVOQU1FOiAnZmlsZW5hbWUnLFxuICAgICAgICBUSU1FOiAndGltZScsXG4gICAgICAgIERBVEE6ICdkYXRhJyxcbiAgICAgICAgVkFSUzogJ3ZhcnMnLFxuICAgICAgICBGSUxFOiAnZmlsZScsXG4gICAgICAgIFNJWkU6ICdzaXplJyxcbiAgICAgICAgVkFSSUFUSU9OOiAndmFyaWF0aW9uJyxcbiAgICAgICAgSEFTSDogJ2hhc2gnLFxuICAgICAgICBFTUFJTDogJ2VtYWlsJyxcbiAgICAgICAgVkFSSUFCTEVTOiAndmFycycsXG4gICAgICAgIEFDVElPTl9ERUZJTklUSU9OUzogJ2FjdGlvbkRlZmluaXRpb25zJyxcbiAgICAgICAgUEFSQU1TOiAncGFyYW1zJyxcbiAgICAgICAgSU5DTFVERV9ERUZBVUxUUzogJ2luY2x1ZGVEZWZhdWx0cycsXG4gICAgICAgIElOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPOiAnaW5jbHVkZVZhcmlhbnREZWJ1Z0luZm8nLFxuICAgICAgICBORVdTRkVFRF9NRVNTQUdFUzogJ25ld3NmZWVkTWVzc2FnZXMnLFxuICAgICAgICBNRVNTQUdFX0lEOiAnbWVzc2FnZUlkJyxcbiAgICAgICAgV0VCX1BVU0hfU1VCU0NSSVBUSU9OOiAnd2ViUHVzaFN1YnNjcmlwdGlvbicsXG4gICAgfSxcbiAgICBLRVlTOiB7XG4gICAgICAgIElTX1JFR0lTVEVSRUQ6ICdpc1JlZ2lzdGVyZWQnLFxuICAgICAgICBMQVRFU1RfVkVSU0lPTjogJ2xhdGVzdFZlcnNpb24nLFxuICAgICAgICBTWU5DX0lOQk9YOiAnc3luY05ld3NmZWVkJyxcbiAgICAgICAgTUVTU0FHRVM6ICdtZXNzYWdlcycsXG4gICAgICAgIFZBUlM6ICd2YXJzJyxcbiAgICAgICAgVkFSSUFOVFM6ICd2YXJpYW50cycsXG4gICAgICAgIFZBUklBTlRfREVCVUdfSU5GTzogJ3ZhcmlhbnREZWJ1Z0luZm8nLFxuICAgICAgICBBQ1RJT05fREVGSU5JVElPTlM6ICdhY3Rpb25EZWZpbml0aW9ucycsXG4gICAgICAgIFRPS0VOOiAndG9rZW4nLFxuICAgIH0sXG4gICAgREVGQVVMVF9LRVlTOiB7XG4gICAgICAgIENPVU5UOiAnX19sZWFucGx1bV91bnN5bmNlZCcsXG4gICAgICAgIElURU06ICdfX2xlYW5wbHVtX3Vuc3luY2VkXycsXG4gICAgICAgIFZBUklBQkxFUzogJ19fbGVhbnBsdW1fdmFyaWFibGVzJyxcbiAgICAgICAgVkFSSUFOVFM6ICdfX2xlYW5wbHVtX3ZhcmlhbnRzJyxcbiAgICAgICAgVkFSSUFOVF9ERUJVR19JTkZPOiAnX19sZWFucGx1bV92YXJpYW50X2RlYnVnX2luZm8nLFxuICAgICAgICBBQ1RJT05fREVGSU5JVElPTlM6ICdfX2xlYW5wbHVtX2FjdGlvbl9kZWZpbml0aW9ucycsXG4gICAgICAgIElOQk9YX01FU1NBR0VTOiAnX19sZWFucGx1bV9pbmJveF9tZXNzYWdlcycsXG4gICAgICAgIFRPS0VOOiAnX19sZWFucGx1bV90b2tlbicsXG4gICAgICAgIERFVklDRV9JRDogJ19fbGVhbnBsdW1fZGV2aWNlX2lkJyxcbiAgICAgICAgVVNFUl9JRDogJ19fbGVhbnBsdW1fdXNlcl9pZCcsXG4gICAgICAgIFNFU1NJT046ICdfX2xlYW5wbHVtX3Nlc3Npb24nLFxuICAgICAgICBNRVNTQUdFX09DQ1VSUkVOQ0VTOiAnX19sZWFucGx1bV9tZXNzYWdlX29jY3VycmVuY2VzJyxcbiAgICAgICAgTUVTU0FHRV9DQUNIRTogJ19fbGVhbnBsdW1fbWVzc2FnZV9jYWNoZScsXG4gICAgICAgIFBVU0hfU1VCU0NSSVBUSU9OOiAnX19sZWFucGx1bV9wdXNoX3N1YnNjcmlwdGlvbicsXG4gICAgfSxcbiAgICBWQUxVRVM6IHtcbiAgICAgICAgREVURUNUOiAnKGRldGVjdCknLFxuICAgICAgICBERUZBVUxUX1BVU0hfQUNUSU9OOiAnT3BlbiBhY3Rpb24nLFxuICAgIH0sXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKipcbiAqIExlYW5wbHVtIEFyZ3NCdWlsZGVyLCB1c2UgdG8gY29uc3RydWN0IHJlcXVlc3QgcGF5bG9hZC5cbiAqL1xudmFyIEFyZ3NCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBlbXB0eSByZXF1ZXN0IGFyZ3VtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFyZ3NCdWlsZGVyKCkge1xuICAgICAgICB0aGlzLmFyZ1N0cmluZyA9ICcnO1xuICAgICAgICB0aGlzLmFyZ1ZhbHVlcyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgZ2l2ZW4ga2V5LCB2YWx1ZSB0byB0aGUgcGF5bG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgZm9yIHRoZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSB2YWx1ZSBUaGUgdmFsdWUgZm9yIGdpdmVuIGtleS5cbiAgICAgKiBAcmV0dXJuIHtBcmdzQnVpbGRlcn0gUmV0dXJucyBhbiBvYmplY3Qgb2YgQXJnc0J1aWxkZXIuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hcmdTdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYXJnU3RyaW5nICs9ICcmJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsID0gJyc7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB2YWwgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWwgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXJnU3RyaW5nICs9IGtleSArIFwiPVwiICsgdmFsO1xuICAgICAgICB0aGlzLmFyZ1ZhbHVlc1trZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJvZHkgPSBmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgICAgdGhpcy5fYm9keSA9IGJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYm9keTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byBhdHRhY2ggZ2l2ZW4gYXBwSWQgYW5kIGFwcEtleSB0byByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gYXBwSWQgVGhlIGFwcElkIHRvIGF0dGFjaC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNsaWVudEtleSBUaGUgYXBwS2V5IHRvIGF0dGFjaC5cbiAgICAgKiBAcmV0dXJuIHtBcmdzQnVpbGRlcn0gUmV0dXJucyBhbiBvYmplY3Qgb2YgQXJnc0J1aWxkZXIuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmF0dGFjaEFwaUtleXMgPSBmdW5jdGlvbiAoYXBwSWQsIGNsaWVudEtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQVBQX0lELCBhcHBJZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ0xJRU5ULCBDb25zdGFudHNfMS5kZWZhdWx0LkNMSUVOVClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ0xJRU5UX0tFWSwgY2xpZW50S2V5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gQXJndW1lbnRzIHN0cmluZy5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyZ1N0cmluZztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYXJndW1lbnQgdmFsdWVzLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGFyZ3VtZW50IHZhbHVlcy5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYnVpbGREaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcmdWYWx1ZXM7XG4gICAgfTtcbiAgICByZXR1cm4gQXJnc0J1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQXJnc0J1aWxkZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbG9jYWxTdG9yYWdlRW5hYmxlZDtcbnZhciBhbHRlcm5hdGVMb2NhbFN0b3JhZ2UgPSB7fTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvY2FsU3RvcmFnZU1hbmFnZXIoKSB7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgTG9jYWxTdG9yYWdlTWFuYWdlci5nZXRGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlW2tleV07XG4gICAgfTtcbiAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2VFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYWx0ZXJuYXRlTG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9jYWxTdG9yYWdlTWFuYWdlci5yZW1vdmVGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhbHRlcm5hdGVMb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZGVsZXRlIGFsdGVybmF0ZUxvY2FsU3RvcmFnZVtrZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTG9jYWxTdG9yYWdlTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMb2NhbFN0b3JhZ2VNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEFqYXggZnVuY3Rpb25zIGZyb206XG4gKlxuICogUGFyc2UgSmF2YVNjcmlwdCBTREtcbiAqIFZlcnNpb246IDEuMS41XG4gKiBCdWlsdDogTW9uIE9jdCAwMSAyMDEyIDE3OjU3OjEzXG4gKiBodHRwOi8vcGFyc2UuY29tXG4gKlxuICogQ29weXJpZ2h0IDIwMTIgUGFyc2UsIEluYy5cbiAqIFRoZSBQYXJzZSBKYXZhU2NyaXB0IFNESyBpcyBmcmVlbHkgZGlzdHJpYnV0YWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOZXR3b3JrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5ldHdvcmsoKSB7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gMTA7XG4gICAgICAgIHRoaXMucmVxdWVzdFF1ZXVlID0gW107XG4gICAgICAgIHRoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IHNlY29uZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGFuIGFqYXggcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gb3Blbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcnxCbG9ifERvY3VtZW50fEZvcm1EYXRhfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHNlbnQgaW4gYm9keS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZXJyb3IgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBxdWV1ZWQgV2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgYmUgcXVldWVkIG9yIGltbWVkaWF0ZWx5IHNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcGxhaW5UZXh0XSBXaGV0aGVyIHRoZSByZXNwb25zZSBzaG91bGQgYmUgcmV0dXJuZWQgYXMgcGxhaW4gdGV4dCBvciBqc29uLlxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuYWpheCA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bm5pbmdSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVucXVldWVSZXF1ZXN0KGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cDonICYmIHVybC5pbmRleE9mKCdodHRwczonKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cDpcIiArIHVybC5zdWJzdHJpbmcoNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hamF4SUU4KG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYW5kbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlXzE7XG4gICAgICAgICAgICAgICAgdmFyIHJhbkNhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWluVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZV8xID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZV8xID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5DYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFyYW5DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZV8xLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKHJlc3BvbnNlXzEsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQvcGxhaW4nKTsgLy8gQXZvaWQgcHJlLWZsaWdodC5cbiAgICAgICAgeGhyLnNlbmQoZGF0YSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzICogMTAwMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGFuIGFqYXggcmVxdWVzdCBmb3IgSUU4LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgVGhlIGh0dHAgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCB0byBvcGVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfEJsb2J8RG9jdW1lbnR8Rm9ybURhdGF9IGRhdGEgVGhlIGRhdGEgdG8gYmUgc2VudCBpbiBib2R5LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3MgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gc3VjY2Vzcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvciBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1ZXVlZCBXaGV0aGVyIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBxdWV1ZWQgb3IgaW1tZWRpYXRlbHkgc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBsYWluVGV4dCBXaGV0aGVyIHRoZSByZXNwb25zZSBzaG91bGQgYmUgcmV0dXJuZWQgYXMgcGxhaW4gdGV4dCBvciBqc29uLlxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmFqYXhJRTggPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgeGRyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgIHhkci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgICAgICB2YXIgcmFuQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChwbGFpblRleHQpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHhkci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UoeGRyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbkNhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJhbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlLCB4ZHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4ZHIub25lcnJvciA9IHhkci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGRyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlcXVldWVSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhkci5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB4ZHIub3BlbihtZXRob2QsIHVybCk7XG4gICAgICAgIHhkci50aW1lb3V0ID0gdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgKiAxMDAwO1xuICAgICAgICB4ZHIuc2VuZChkYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHJlcXVlc3QgdG8gdGhlIHJlcXVlc3QgcXVldWUuXG4gICAgICogQHBhcmFtIHtBcmd1bWVudHN9IHJlcXVlc3RBcmd1bWVudHMgVGhlIHJlcXVlc3QgYXJndW1lbnRzIGZyb20gdGhlIGluaXRpYWwgbWV0aG9kIGNhbGwuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5lbnF1ZXVlUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0QXJndW1lbnRzKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFF1ZXVlLnB1c2gocmVxdWVzdEFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSByZXF1ZXN0IGZyb20gdGhlIHJlcXVlc3QgcXVldWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5kZXF1ZXVlUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSB0aGlzLnJlcXVlc3RRdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoYXJncykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICAgICAgICAgIHRoaXMuYWpheC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5ldHdvcms7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTmV0d29yaztcbiIsIi8qKlxuICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUocm9vdCwgJ0RhdGFWaWV3JyksXG4gICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBQcm9taXNlID0gZ2V0TmF0aXZlKHJvb3QsICdQcm9taXNlJyksXG4gICAgU2V0ID0gZ2V0TmF0aXZlKHJvb3QsICdTZXQnKSxcbiAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICB9XG4gIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzU2FtZVRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHRydWU7XG4gIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICB9XG4gIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xudmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbi8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbmlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAqIGVxdWl2YWxlbnQuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIG9iamVjdCA9PT0gb3RoZXI7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzKTtcbiAqIC8vID0+IFtbXSwgW11dXG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzWzBdID09PSBhcnJheXNbMV0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gc3R1YkFycmF5KCkge1xuICByZXR1cm4gW107XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0VxdWFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVmFsdWVUcmFuc2Zvcm1zID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhbHVlVHJhbnNmb3JtcygpIHtcbiAgICB9XG4gICAgVmFsdWVUcmFuc2Zvcm1zLmRlY29kZUNvbG9yID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHZhciBiID0gY29sb3IgJiAweGZmO1xuICAgICAgICBjb2xvciA+Pj0gODtcbiAgICAgICAgdmFyIGcgPSBjb2xvciAmIDB4ZmY7XG4gICAgICAgIGNvbG9yID4+PSA4O1xuICAgICAgICB2YXIgciA9IGNvbG9yICYgMHhmZjtcbiAgICAgICAgY29sb3IgPj49IDg7XG4gICAgICAgIHZhciBhID0gKGNvbG9yICYgMHhmZikgLyAyNTU7XG4gICAgICAgIHJldHVybiBcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsXCIgKyBiICsgXCIsXCIgKyBhICsgXCIpXCI7XG4gICAgfTtcbiAgICBWYWx1ZVRyYW5zZm9ybXMuZW5jb2RlQ29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyByZ2JhIC0+IG51bWJlclxuICAgICAgICB2YXIgcmdiYVJlID0gL15yZ2JhXFwoKFxcZCspLChcXGQrKSwoXFxkKyksKFxcZCsoXFwuXFxkKyk/KVxcKSQvO1xuICAgICAgICB2YXIgcmdiYSA9IHJnYmFSZS5leGVjKGNvbG9yKTtcbiAgICAgICAgaWYgKHJnYmEpIHtcbiAgICAgICAgICAgIHZhciBhID0gcGFyc2VJbnQocmdiYVs0XSwgMTApICogMjU1O1xuICAgICAgICAgICAgdmFyIHIgPSBwYXJzZUludChyZ2JhWzFdLCAxMCkgJiAweGZmO1xuICAgICAgICAgICAgdmFyIGcgPSBwYXJzZUludChyZ2JhWzJdLCAxMCkgJiAweGZmO1xuICAgICAgICAgICAgdmFyIGIgPSBwYXJzZUludChyZ2JhWzNdLCAxMCkgJiAweGZmO1xuICAgICAgICAgICAgcmV0dXJuIChhIDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICAgICAgfVxuICAgICAgICAvLyBoZXggLT4gbnVtYmVyXG4gICAgICAgIHZhciBoZXhSZSA9IC9eIyhbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KSQvaTtcbiAgICAgICAgdmFyIGhleCA9IGhleFJlLmV4ZWMoY29sb3IpO1xuICAgICAgICBpZiAoaGV4KSB7XG4gICAgICAgICAgICB2YXIgciA9IHBhcnNlSW50KGhleFsxXSwgMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHZhciBnID0gcGFyc2VJbnQoaGV4WzJdLCAxNikgJiAweGZmO1xuICAgICAgICAgICAgdmFyIGIgPSBwYXJzZUludChoZXhbM10sIDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICByZXR1cm4gKDI1NSA8PCAyNCkgKyAociA8PCAxNikgKyAoZyA8PCA4KSArIGI7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHBhcnNlIGNvbG9yIFxcXCJcIiArIGNvbG9yICsgXCJcXFwiXCIpO1xuICAgIH07XG4gICAgcmV0dXJuIFZhbHVlVHJhbnNmb3Jtcztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWYWx1ZVRyYW5zZm9ybXM7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzICovXG52YXIgTGVhbnBsdW0gPSByZXF1aXJlKCcuLi9MZWFucGx1bS50cycpO1xubW9kdWxlLmV4cG9ydHMgPSBMZWFucGx1bS5kZWZhdWx0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTGVhbnBsdW1JbnRlcm5hbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtSW50ZXJuYWxcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIExlYW5wbHVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtKCkge1xuICAgIH1cbiAgICBMZWFucGx1bS5zZXRBcGlQYXRoID0gZnVuY3Rpb24gKGFwaVBhdGgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwaVBhdGgoYXBpUGF0aCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRFbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZGVwcmVjYXRlZFxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0uc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZShhcHBJZCwgYWNjZXNzS2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZShhcHBJZCwgYWNjZXNzS2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U29ja2V0SG9zdChob3N0KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZUlkID0gZnVuY3Rpb24gKGRldmljZUlkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VJZChkZXZpY2VJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBWZXJzaW9uKHZlcnNpb25OYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZU5hbWUgPSBmdW5jdGlvbiAoZGV2aWNlTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0RGV2aWNlTmFtZShkZXZpY2VOYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZU1vZGVsID0gZnVuY3Rpb24gKGRldmljZU1vZGVsKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VNb2RlbChkZXZpY2VNb2RlbCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRSZXF1ZXN0QmF0Y2hpbmcgPSBmdW5jdGlvbiAoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFJlcXVlc3RCYXRjaGluZyhiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTeXN0ZW1OYW1lID0gZnVuY3Rpb24gKHN5c3RlbU5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFN5c3RlbU5hbWUoc3lzdGVtTmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTeXN0ZW1WZXJzaW9uID0gZnVuY3Rpb24gKHN5c3RlbVZlcnNpb24pIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFN5c3RlbVZlcnNpb24oc3lzdGVtVmVyc2lvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRWYXJpYWJsZXModmFyaWFibGVzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gZnVuY3Rpb24gKHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyhlbmFibGVkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnByb2Nlc3NNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBtZXNzYWdlKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5wcm9jZXNzTWVzc2FnZUV2ZW50KG1lc3NhZ2VJZCwgbWVzc2FnZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhbnREZWJ1Z0luZm8oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYWJsZXMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IExlYW5wbHVtLl9scCkuZ2V0VmFyaWFibGUuYXBwbHkoX2EsIGFyZ3MpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFudHMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmluYm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmluYm94KCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmZvcmNlQ29udGVudFVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBMZWFucGx1bS5fbHAuZm9yY2VDb250ZW50VXBkYXRlKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnVzZVNlc3Npb25MZW5ndGggPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAudXNlU2Vzc2lvbkxlbmd0aChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0YXJ0ID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdGFydCh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdGFydEZyb21DYWNoZSA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RhcnRGcm9tQ2FjaGUodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0b3AoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnBhdXNlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnBhdXNlU2Vzc2lvbigpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVzdW1lU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlc3VtZVNlc3Npb24oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnBhdXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5wYXVzZVN0YXRlKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZXN1bWVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlc3VtZVN0YXRlKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRVc2VySWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scC5nZXRVc2VySWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgTGVhbnBsdW0uc2V0VXNlckF0dHJpYnV0ZXModXNlcklkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFVzZXJBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0udHJhY2sgPSBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnRyYWNrKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnRyYWNrUHVyY2hhc2UgPSBmdW5jdGlvbiAodmFsdWUsIGN1cnJlbmN5Q29kZSwgcGFyYW1zLCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkgeyBldmVudCA9ICdQdXJjaGFzZSc7IH1cbiAgICAgICAgTGVhbnBsdW0uX2xwLnRyYWNrUHVyY2hhc2UodmFsdWUsIGN1cnJlbmN5Q29kZSwgcGFyYW1zLCBldmVudCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZHZhbmNlVG8gPSBmdW5jdGlvbiAoc3RhdGUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuYWR2YW5jZVRvKHN0YXRlLCBpbmZvLCBwYXJhbXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmlzV2ViUHVzaFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdWJzY3JpYmVkLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHRydWUsIHJlamVjdHMgaWYgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5pc1dlYlB1c2hTdWJzY3JpYmVkKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRXZWJQdXNoT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuc2V0V2ViUHVzaE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0aGUgYnJvd3NlciBmb3Igd2ViIHB1c2guXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCBvbiB5b3VyIHNlcnZlciB0aGF0IGhvc3RzIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zdy5taW4uanMgc2VydmljZSB3b3JrZXIganMgZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgICAgICBSZXNvbHZlcyBpZiByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UgZmFpbHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0ucmVnaXN0ZXJGb3JXZWJQdXNoID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5yZWdpc3RlckZvcldlYlB1c2goc2VydmljZVdvcmtlclVybCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyB0aGUgYnJvd3NlciBmb3JtIHdlYiBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgUmVzb2x2ZXMgb24gc3VjY2Vzcywgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0udW5yZWdpc3RlckZyb21XZWJQdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGNhY2hlZCB2YWx1ZXMgZm9yIG1lc3NhZ2VzLCB2YXJpYWJsZXMgYW5kIHRlc3QgYXNzaWdubWVudHMuXG4gICAgICogVXNlIHNwYXJpbmdseSBhcyBpZiB0aGUgYXBwIGlzIHVwZGF0ZWQsIHlvdSdsbCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWxseVxuICAgICAqIGluY29uc2lzdGVudCBzdGF0ZSBvciB1c2VyIGV4cGVyaWVuY2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmNsZWFyVXNlckNvbnRlbnQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmRlZmluZUFjdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5kZWZpbmVBY3Rpb24ob3B0aW9ucyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hcHBseVF1ZXVlID0gZnVuY3Rpb24gKHF1ZXVlKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hcHBseVF1ZXVlKHF1ZXVlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLm9mZiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldEZpbGVVcmwoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uX19kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9scCA9IG5ldyBMZWFucGx1bUludGVybmFsXzEuZGVmYXVsdCh3aW5kb3cpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uX2xwID0gbmV3IExlYW5wbHVtSW50ZXJuYWxfMS5kZWZhdWx0KHdpbmRvdyk7XG4gICAgTGVhbnBsdW0uVkVSU0lPTiA9IENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT047XG4gICAgcmV0dXJuIExlYW5wbHVtO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBCcm93c2VyRGV0ZWN0b3JfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Ccm93c2VyRGV0ZWN0b3JcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgSW50ZXJuYWxTdGF0ZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0ludGVybmFsU3RhdGVcIikpO1xudmFyIExlYW5wbHVtSW5ib3hfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bUluYm94XCIpKTtcbnZhciBMZWFucGx1bVJlcXVlc3RfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bVJlcXVlc3RcIikpO1xudmFyIExlYW5wbHVtU29ja2V0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1Tb2NrZXRcIikpO1xudmFyIExvY2FsU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Mb2NhbFN0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBQdXNoTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1B1c2hNYW5hZ2VyXCIpKTtcbnZhciBNZXNzYWdlc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL01lc3NhZ2VzXCIpKTtcbnZhciBFdmVudEVtaXR0ZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9FdmVudEVtaXR0ZXJcIikpO1xudmFyIHB1YmxpY18xID0gcmVxdWlyZShcIi4vdHlwZXMvcHVibGljXCIpO1xudmFyIFZhckNhY2hlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmFyQ2FjaGVcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIFNFU1NJT05fS0VZID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuU0VTU0lPTjtcbnZhciBMZWFucGx1bUludGVybmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW50ZXJuYWwod25kKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMud25kID0gd25kO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlID0gbmV3IEludGVybmFsU3RhdGVfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2xwSW5ib3ggPSBuZXcgTGVhbnBsdW1JbmJveF8xLmRlZmF1bHQodGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcyksIHRoaXMub25JbmJveEFjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0ID0gbmV3IExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUgPSBuZXcgVmFyQ2FjaGVfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQgPSBuZXcgTGVhbnBsdW1Tb2NrZXRfMS5kZWZhdWx0KHRoaXMuX3ZhckNhY2hlLCB0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSwgdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZS5iaW5kKHRoaXMuX2xwUmVxdWVzdCksIHRoaXMuX2V2ZW50cyk7XG4gICAgICAgIHRoaXMuX3B1c2hNYW5hZ2VyID0gbmV3IFB1c2hNYW5hZ2VyXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzID0gbmV3IE1lc3NhZ2VzXzEuZGVmYXVsdCh0aGlzLl9ldmVudHMsIHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLmdldEZpbGVVcmwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJEZXRlY3RvciA9IG5ldyBCcm93c2VyRGV0ZWN0b3JfMS5kZWZhdWx0KHduZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbignbmF2aWdhdGlvbkNoYW5nZScsIGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgIHZhciBwcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnb3BlblVybCcsIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJldmVudGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFwcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53bmQubG9jYXRpb24uYXNzaWduKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ3JlZ2lzdGVyRm9yUHVzaCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlZ2lzdGVyRm9yV2ViUHVzaCgpOyB9KTtcbiAgICB9XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBpUGF0aCA9IGZ1bmN0aW9uIChhcGlQYXRoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbHBSZXF1ZXN0LmFwaVBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBpUGF0aCA9IGFwaVBhdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcHBJZCA9IGFwcElkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgPSB0cnVlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcHBJZCA9IGFwcElkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgPSBmYWxzZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICB0aGlzLl9scFNvY2tldC5zZXRTb2NrZXRIb3N0KGhvc3QpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZGV2aWNlSWQpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmRldmljZUlkID0gZGV2aWNlSWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC52ZXJzaW9uTmFtZSA9IHZlcnNpb25OYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTmFtZSA9IGZ1bmN0aW9uIChkZXZpY2VOYW1lKSB7XG4gICAgICAgIHRoaXMuX2RldmljZU5hbWUgPSBkZXZpY2VOYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTW9kZWwgPSBmdW5jdGlvbiAoZGV2aWNlTW9kZWwpIHtcbiAgICAgICAgdGhpcy5fZGV2aWNlTW9kZWwgPSBkZXZpY2VNb2RlbDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFJlcXVlc3RCYXRjaGluZyA9IGZ1bmN0aW9uIChiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcykge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hFbmFibGVkID0gYmF0Y2hFbmFibGVkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hDb29sZG93biA9IGNvb2xkb3duU2Vjb25kcztcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICB0aGlzLl9zeXN0ZW1OYW1lID0gc3lzdGVtTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbVZlcnNpb24gPSBmdW5jdGlvbiAoc3lzdGVtVmVyc2lvbikge1xuICAgICAgICB0aGlzLl9zeXN0ZW1WZXJzaW9uID0gc3lzdGVtVmVyc2lvbjtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uICh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gdmFyaWFudERlYnVnSW5mb0VuYWJsZWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzKGVuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMucHJvY2Vzc01lc3NhZ2VFdmVudChtZXNzYWdlSWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhbnREZWJ1Z0luZm8oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdmFyQ2FjaGUpLmdldFZhcmlhYmxlLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyQ2FjaGUudmFyaWFudHMgfHwgW107XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pbmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwSW5ib3g7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLm9uSW5ib3hBY3Rpb24gPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMudHJhY2tNZXNzYWdlKG1lc3NhZ2VJZCwgeyBldmVudDogJ09wZW4nIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFjdGlvbiAmJiBfdGhpcy5fbWVzc2FnZXMub25BY3Rpb24oYWN0aW9uKTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5kZWZpbmVBY3Rpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5yZWdpc3RlckFjdGlvbkRlZmluaXRpb24oX19hc3NpZ24oeyBraW5kOiBwdWJsaWNfMS5NZXNzYWdlS2luZC5UZW1wbGF0ZSB9LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICAvLyBUT0RPKGJyZWFraW5nIGNoYW5nZSk6IHJlcGxhY2Ugd2l0aCBldmVudHMgYW5kIHJlbW92ZSBzdGF0ZWZ1bCBoYW5kbGVyc1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LmdldEZpbGVVcmwoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuR0VUX1ZBUlMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBnZXRWYXJzUmVzcG9uc2UgPSBfdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3VjY2VzcyA9IF90aGlzLl9scFJlcXVlc3QuaXNSZXNwb25zZVN1Y2Nlc3MoZ2V0VmFyc1Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5hcHBseURpZmZzKGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU10sIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9ERUZJTklUSU9OU10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFudERlYnVnSW5mbyhnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRfREVCVUdfSU5GT10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpc1N1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25MZW5ndGggPSBzZWNvbmRzO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQWN0aXZlU2Vzc2lvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YXJDYWNoZS5vblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DT1VOVFJZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlJFR0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DSVRZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9OQU1FLCB0aGlzLl9zeXN0ZW1OYW1lIHx8IHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5PUylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1lTVEVNX1ZFUlNJT04sICh0aGlzLl9zeXN0ZW1WZXJzaW9uIHx8ICcnKS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX05BTUUsIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX1ZFUlNJT04sIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FMRSwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTkFNRSwgdGhpcy5fZGV2aWNlTmFtZSB8fFxuICAgICAgICAgICAgdGhpcy5fYnJvd3NlckRldGVjdG9yLmJyb3dzZXIgKyBcIiBcIiArIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTU9ERUwsIHRoaXMuX2RldmljZU1vZGVsIHx8ICdXZWIgQnJvd3NlcicpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV1NGRUVEX01FU1NBR0VTLCB0aGlzLl9scEluYm94Lm1lc3NhZ2VJZHMoKSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPLCB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVEFSVCwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzID0gX3RoaXMuX2xwUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyhzdGFydFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5zdGFydFN1Y2Nlc3NmdWwgPSBpc1N1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlcyA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0UmVzcG9uc2UuYWN0aW9uRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmFjdGlvbkRlZmluaXRpb25zID0gc3RhcnRSZXNwb25zZS5hY3Rpb25EZWZpbml0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBtZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5TWU5DX0lOQk9YXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xwSW5ib3guZG93bmxvYWRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ZXN0VmVyc2lvbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkxBVEVTVF9WRVJTSU9OXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBIG5ld2VyIHZlcnNpb24gb2YgdGhlIExlYW5wbHVtIFNESywgXCIgKyBsYXRlc3RWZXJzaW9uICsgXCIsIGlzIGF2YWlsYWJsZS5cXG5Vc2UgXFxcIm5wbSB1cGRhdGUgbGVhbnBsdW0tc2RrXFxcIiBvciBnbyB0byBodHRwczovL2RvY3MubGVhbnBsdW0uY29tL3JlZmVyZW5jZSNqYXZhc2NyaXB0LXNldHVwIHRvIGRvd25sb2FkIGl0LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RTb2NrZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuYXBwbHlEaWZmcyhzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fREVGSU5JVElPTlNdKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnNldFZhcmlhbnREZWJ1Z0luZm8oc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVF9ERUJVR19JTkZPXSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50b2tlbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlRPS0VOXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5sb2FkRGlmZnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdzdGFydCcsIHsgc3VjY2VzczogaXNTdWNjZXNzIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnRyaWdnZXJTdGFydEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnICYmIHVzZXJJZCAhPT0gbnVsbCAmJiB1c2VySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlckF0dHJpYnV0ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU2Vzc2lvbigpO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0U29ja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUubG9hZERpZmZzKCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS50cmlnZ2VyU3RhcnRIYW5kbGVycygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVE9QLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZUZyb21Mb2NhbFN0b3JhZ2UoU0VTU0lPTl9LRVkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5wYXVzZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5SRVNVTUVfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnBhdXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU1RBVEUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlJFU1VNRV9TVEFURSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgdGhpcy5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VXNlckF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICBpZiAodXNlckF0dHJpYnV0ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICAgICAgdXNlcklkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IHNldFVzZXJBdHRyaWJ1dGVzIGV4cGVjdHMgYSBzdHJpbmcgb3IgYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9BVFRSSUJVVEVTLCB1c2VyQXR0cmlidXRlcyA/IEpTT04uc3RyaW5naWZ5KHVzZXJBdHRyaWJ1dGVzKSA6IHVuZGVmaW5lZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTkVXX1VTRVJfSUQsIHVzZXJJZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdzZXRVc2VyQXR0cmlidXRlJywgdXNlckF0dHJpYnV0ZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9VU0VSX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xwUmVxdWVzdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgICAgICBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlVG9Mb2NhbFN0b3JhZ2UoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHZhbHVlO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3RyYWNrJywgeyBldmVudE5hbWU6IGV2ZW50LCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZVNlc3Npb24oKTsgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFja1B1cmNoYXNlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSAnUHVyY2hhc2UnOyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgaWYgKGN1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ1VSUkVOQ1lfQ09ERSwgY3VycmVuY3lDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgndHJhY2snLCB7IGV2ZW50TmFtZTogZXZlbnQgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZHZhbmNlVG8gPSBmdW5jdGlvbiAoc3RhdGUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TVEFURSwgc3RhdGUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdhZHZhbmNlU3RhdGUnLCB7IHN0YXRlOiBzdGF0ZSwgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuQURWQU5DRSwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdWJzY3JpYmVkLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHRydWUsIHJlamVjdHMgaWYgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1YnNjcmliZWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFdlYlB1c2hPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fd2ViUHVzaE9wdGlvbnMgPSBfX2Fzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0aGUgYnJvd3NlciBmb3Igd2ViIHB1c2guXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCBvbiB5b3VyIHNlcnZlciB0aGF0IGhvc3RzIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zdy5taW4uanMgc2VydmljZSB3b3JrZXIganMgZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgICAgICBSZXNvbHZlcyBpZiByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UgZmFpbHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVnaXN0ZXJGb3JXZWJQdXNoID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9wdXNoTWFuYWdlci5zdWJzY3JpYmVVc2VyKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLl93ZWJQdXNoT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgIHZhciB3b3JrZXJVcmwgPSBzZXJ2aWNlV29ya2VyVXJsIHx8IG9wdGlvbnMuc2VydmljZVdvcmtlclVybDtcbiAgICAgICAgICAgIHZhciBzY29wZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zY29wZSA/IHsgc2NvcGU6IG9wdGlvbnMuc2NvcGUgfSA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIucmVnaXN0ZXIod29ya2VyVXJsLCBzY29wZSwgc3Vic2NyaWJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnTGVhbnBsdW06IFdlYlB1c2ggaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgdGhlIGJyb3dzZXIgZm9ybSB3ZWIgcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgIFJlc29sdmVzIG9uIHN1Y2Nlc3MsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLnVuc3Vic2NyaWJlVXNlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGNhY2hlZCB2YWx1ZXMgZm9yIG1lc3NhZ2VzLCB2YXJpYWJsZXMgYW5kIHRlc3QgYXNzaWdubWVudHMuXG4gICAgICogVXNlIHNwYXJpbmdseSBhcyBpZiB0aGUgYXBwIGlzIHVwZGF0ZWQsIHlvdSdsbCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWxseVxuICAgICAqIGluY29uc2lzdGVudCBzdGF0ZSBvciB1c2VyIGV4cGVyaWVuY2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuY2xlYXJVc2VyQ29udGVudCgpO1xuICAgIH07XG4gICAgLy8gdXNlZCBieSBHb29nbGUgVGFnIE1hbmFnZXIgdG8gYXBwbHkgY29tbWFuZHMgcXVldWVkIGR1cmluZyBhc3luYyBzY3JpcHQgbG9hZGluZ1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFwcGx5UXVldWUgPSBmdW5jdGlvbiAocXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcXVldWUuZm9yRWFjaChmdW5jdGlvbiAoaW52b2NhdGlvbikgeyByZXR1cm4gX3RoaXNbaW52b2NhdGlvbi5uYW1lXS5hcHBseShfdGhpcywgaW52b2NhdGlvbi5hcmdzKTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgYXJncywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLl9scFJlcXVlc3QucmVxdWVzdChhY3Rpb24sIGFyZ3MsIF9fYXNzaWduKHsgZGV2TW9kZTogdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlIH0sIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNvbm5lY3RTb2NrZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LmNvbm5lY3Qoe1xuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuX2xwUmVxdWVzdC5hcHBJZCxcbiAgICAgICAgICAgIGRldmljZUlkOiB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaGFzQWN0aXZlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXNzaW9uTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGxhc3RBY3RpdmUgPSBwYXJzZUludChMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKFNFU1NJT05fS0VZKSk7XG4gICAgICAgIGlmIChpc05hTihsYXN0QWN0aXZlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50VGltZSAtIGxhc3RBY3RpdmUgPCB0aGlzLl9zZXNzaW9uTGVuZ3RoICogMTAwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXBkYXRlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKFNFU1NJT05fS0VZLCBTdHJpbmcoRGF0ZS5ub3coKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW50ZXJuYWw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbnRlcm5hbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIEJyb3dzZXIgZGV0ZWN0aW9uLiBTb3VyY2U6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZGV0ZWN0Lmh0bWxcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGRldGVjdCB3aGljaCBicm93c2VyIGNsaWVudCBpcyB1c2luZy5cbiAqL1xudmFyIEJyb3dzZXJEZXRlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgb2JqZWN0IHdpdGggY3VycmVudCBicm93c2VyIHNldHRpbmdzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJEZXRlY3Rvcih3bmQpIHtcbiAgICAgICAgdGhpcy5icm93c2VyID0gdGhpcy5zZWFyY2hTdHJpbmcodGhpcy5nZXRCcm93c2VyRGF0YSh3bmQpKSB8fCAnVW5rbm93biBCcm93c2VyJztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gKHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHxcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLmFwcFZlcnNpb24pIHx8XG4gICAgICAgICAgICAnVW5rbm93biBWZXJzaW9uJyk7XG4gICAgICAgIHRoaXMuT1MgPSB0aGlzLnNlYXJjaFN0cmluZyh0aGlzLmdldE9TRGF0YSh3bmQpKSB8fCAnVW5rbm93biBPUyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoZXMgdGhlIGNsaWVudCdzIHN5c3RlbSB0byB0aGUgcHJlZGVmaW5lZCBzeXN0ZW0gbGlzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmb3VuZCBpZGVudGl0eSBzdHJpbmcuXG4gICAgICovXG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5zZWFyY2hTdHJpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhU3RyaW5nID0gZGF0YVtpXS5zdHJpbmc7XG4gICAgICAgICAgICB2YXIgZGF0YVByb3AgPSBkYXRhW2ldLnByb3A7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcgPSBkYXRhW2ldLnZlcnNpb25TZWFyY2ggfHwgZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIGlmIChkYXRhU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcuaW5kZXhPZihkYXRhW2ldLnN1YlN0cmluZykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFQcm9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIGdpdmVuIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVN0cmluZyBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBmb3VuZCBudW1iZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLnNlYXJjaFZlcnNpb24gPSBmdW5jdGlvbiAoZGF0YVN0cmluZykge1xuICAgICAgICBpZiAoIWRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZGF0YVN0cmluZy5pbmRleE9mKHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YVN0cmluZy5zdWJzdHJpbmcoaW5kZXggKyB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcubGVuZ3RoICsgMSkpO1xuICAgIH07XG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5nZXRCcm93c2VyRGF0YSA9IGZ1bmN0aW9uICh3bmQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0Nocm9tZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdDaHJvbWUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ09tbmlXZWInLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT21uaVdlYicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ09tbmlXZWIvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBcHBsZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdTYWZhcmknLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvcDogd25kLm9wZXJhLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT3BlcmEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpQ2FiJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ2lDYWInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0tERScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdLb25xdWVyb3InLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0ZpcmVmb3gnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRmlyZWZveCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ2FtaW5vJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0NhbWlubycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01TSUUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRXhwbG9yZXInLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdNU0lFJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQgQnJvd3NlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0dlY2tvJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ01vemlsbGEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdydicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTW96aWxsYScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ01vemlsbGEnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuZ2V0T1NEYXRhID0gZnVuY3Rpb24gKHduZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdXaW4nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnV2luZG93cycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNYWMnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTWFjIE9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpUGhvbmUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTGludXgnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTGludXgnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyRGV0ZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnJvd3NlckRldGVjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEludGVybmFsU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJuYWxTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuZGV2TW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydFN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuc3RhcnRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5oYXNTdGFydGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVyKHRoaXMuc3RhcnRTdWNjZXNzZnVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW50ZXJuYWxTdGF0ZS5wcm90b3R5cGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5zdGFydEhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS50cmlnZ2VyU3RhcnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXJ0SGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIYW5kbGVyc1tpXSh0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbnRlcm5hbFN0YXRlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEludGVybmFsU3RhdGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG52YXIgdmFsdWVzID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvYmpba2V5XTsgfSk7XG59O1xudmFyIExlYW5wbHVtSW5ib3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbmJveChjcmVhdGVSZXF1ZXN0LCBvbkFjdGlvbikge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLm9uQWN0aW9uID0gb25BY3Rpb247XG4gICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IHt9O1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5kb3dubG9hZE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ2dldE5ld3NmZWVkTWVzc2FnZXMnLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBkYXRhLnJlc3BvbnNlWzBdO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VNYXAgPSByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1hcmtBc1JlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWVzc2FnZS5pc1JlYWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuaXNSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ21hcmtOZXdzZmVlZE1lc3NhZ2VBc1JlYWQnLCBhcmdzLCB7fSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHRoaXMubWFya0FzUmVhZChtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgaW5ib3hNZXNzYWdlID0gdGhpcy5tZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBpZCA9IG1lc3NhZ2VJZC5zcGxpdCgnIyMnKVswXTtcbiAgICAgICAgdmFyIG9wZW5BY3Rpb24gPSAoaW5ib3hNZXNzYWdlID09PSBudWxsIHx8IGluYm94TWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5ib3hNZXNzYWdlLm9wZW5BY3Rpb24oKSkgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5vbkFjdGlvbihpZCwgb3BlbkFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2VNYXBbbWVzc2FnZUlkXTtcbiAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnZGVsZXRlTmV3c2ZlZWRNZXNzYWdlJywgYXJncywge30pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUub25DaGFuZ2VkID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudHJpZ2dlckNoYW5nZUhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGhhbmRsZXIoKTsgfSk7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JTkJPWF9NRVNTQUdFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5tZXNzYWdlTWFwKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklOQk9YX01FU1NBR0VTKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0gSlNPTi5wYXJzZShzdGF0ZSkgfHwge307XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyh0aGlzLm1lc3NhZ2VNYXApLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnVucmVhZENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWVzKHRoaXMubWVzc2FnZU1hcCkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiAheC5pc1JlYWQ7IH0pLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2VzID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMubWVzc2FnZU1hcCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICAgICAgaWYgKGZpbHRlcihkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZShpZCwgZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5hbGxNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS51bnJlYWRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4LmlzUmVhZDsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tZXNzYWdlSWRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tZXNzYWdlTWFwKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMZWFucGx1bUluYm94TWVzc2FnZS5jcmVhdGUoaWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3g7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbmJveDtcbnZhciBMZWFucGx1bUluYm94TWVzc2FnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUluYm94TWVzc2FnZShfaWQsIF90aXRsZSwgX3N1YnRpdGxlLCBfZGF0YSwgX3RpbWVzdGFtcCwgX2lzUmVhZCwgX2ltYWdlVXJsLCBfb3BlbkFjdGlvbikge1xuICAgICAgICB0aGlzLl9pZCA9IF9pZDtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBfdGl0bGU7XG4gICAgICAgIHRoaXMuX3N1YnRpdGxlID0gX3N1YnRpdGxlO1xuICAgICAgICB0aGlzLl9kYXRhID0gX2RhdGE7XG4gICAgICAgIHRoaXMuX3RpbWVzdGFtcCA9IF90aW1lc3RhbXA7XG4gICAgICAgIHRoaXMuX2lzUmVhZCA9IF9pc1JlYWQ7XG4gICAgICAgIHRoaXMuX2ltYWdlVXJsID0gX2ltYWdlVXJsO1xuICAgICAgICB0aGlzLl9vcGVuQWN0aW9uID0gX29wZW5BY3Rpb247XG4gICAgfVxuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZUluZm8pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbDtcbiAgICAgICAgdmFyIHBhcmVudENhbXBhaWduSWQgPSAoX2EgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmVudENhbXBhaWduSWQ7XG4gICAgICAgIHZhciBhY3Rpb24gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKF9jID0gKF9iID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi52YXJzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVGQVVMVF9QVVNIX0FDVElPTl0pLCB7IHBhcmVudENhbXBhaWduSWQ6IHBhcmVudENhbXBhaWduSWQgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTGVhbnBsdW1JbmJveE1lc3NhZ2UoaWQsIChfZSA9IChfZCA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudmFycykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLlRpdGxlLCAoX2cgPSAoX2YgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnZhcnMpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5TdWJ0aXRsZSwgKF9qID0gKF9oID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC52YXJzKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouRGF0YSwgbWVzc2FnZUluZm8uZGVsaXZlcnlUaW1lc3RhbXAsIG1lc3NhZ2VJbmZvLmlzUmVhZCwgKF9sID0gKF9rID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay52YXJzKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuSW1hZ2UsIGFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS50aXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnN1YnRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VidGl0bGU7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUudGltZXN0YW1wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZXN0YW1wO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmlzUmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUmVhZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pbWFnZVVybCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlVXJsO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLm9wZW5BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuQWN0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3hNZXNzYWdlO1xufSgpKTtcbmV4cG9ydHMuTGVhbnBsdW1JbmJveE1lc3NhZ2UgPSBMZWFucGx1bUluYm94TWVzc2FnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIExlYW5wbHVtUmVxdWVzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVJlcXVlc3QobmV0d29yaykge1xuICAgICAgICBpZiAobmV0d29yayA9PT0gdm9pZCAwKSB7IG5ldHdvcmsgPSBuZXcgTmV0d29ya18xLmRlZmF1bHQoKTsgfVxuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXR3b3JrO1xuICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVzZXJJZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFwaVBhdGggPSAnaHR0cHM6Ly9hcGkubGVhbnBsdW0uY29tL2FwaSc7XG4gICAgICAgIHRoaXMuYmF0Y2hDb29sZG93biA9IDU7XG4gICAgICAgIHRoaXMuYmF0Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUsIFwidXNlcklkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMudXNlcklkVmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRldmljZUlkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMudXNlcklkVmFsdWUgPSB1c2VySWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChhY3Rpb24sIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgLy8gR2V0IG9yIGNyZWF0ZSBkZXZpY2UgSUQgYW5kIHVzZXIgSUQuXG4gICAgICAgIGlmICghdGhpcy5kZXZpY2VJZCkge1xuICAgICAgICAgICAgdGhpcy5kZXZpY2VJZCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRldmljZUlkKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAnJztcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRldmljZUlkID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lELCB0aGlzLnVzZXJJZCk7XG4gICAgICAgIHZhciBhcmdzQnVpbGRlciA9IHBhcmFtc1xuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfSUQsIHRoaXMuZGV2aWNlSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfSUQsIHRoaXMudXNlcklkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sIGFjdGlvbilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkVSU0lPTl9OQU1FLCB0aGlzLnZlcnNpb25OYW1lKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZfTU9ERSwgb3B0aW9ucy5kZXZNb2RlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5USU1FLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKS50b1N0cmluZygpKTtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3MgfHwgb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgdmFyIGVycm9yID0gb3B0aW9ucy5lcnJvciB8fCBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICBpZiAoIXRoaXMuYXBwSWQgfHwgIXRoaXMuY2xpZW50S2V5KSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gJ0xlYW5wbHVtIEFwcCBJRCBhbmQgY2xpZW50IGtleSBhcmUgbm90IHNldC4gTWFrZSBzdXJlIHlvdSAnICtcbiAgICAgICAgICAgICAgICAnYXJlIGNhbGxpbmcgc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgb3Igc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSAnICtcbiAgICAgICAgICAgICAgICAnYmVmb3JlIGlzc3VpbmcgQVBJIGNhbGxzLic7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmJvZHkoKSkge1xuICAgICAgICAgICAgdGhpcy5uZXR3b3JrLmFqYXgoJ1BPU1QnLCB0aGlzLmFwaVBhdGggKyBcIj9cIiArIGFyZ3NCdWlsZGVyLmJ1aWxkKCksIHBhcmFtcy5ib2R5KCksIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbmROb3cgPSBvcHRpb25zLmRldk1vZGUgfHwgb3B0aW9ucy5zZW5kTm93IHx8ICF0aGlzLmJhdGNoRW5hYmxlZDtcbiAgICAgICAgdmFyIHNlbmRVbnNlbnRSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0c1RvU2VuZCA9IF90aGlzLnBvcFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgICAgICBpZiAocmVxdWVzdHNUb1NlbmQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiByZXF1ZXN0c1RvU2VuZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbXVsdGlSZXF1ZXN0QXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0YWNoQXBpS2V5cyhfdGhpcy5hcHBJZCwgX3RoaXMuY2xpZW50S2V5KVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLk1VTFRJKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlRJTUUsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLnRvU3RyaW5nKCkudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubmV0d29yay5hamF4KCdQT1NUJywgX3RoaXMuYXBpUGF0aCArIFwiP1wiICsgbXVsdGlSZXF1ZXN0QXJncywgcmVxdWVzdERhdGEsIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIERlYWwgd2l0aCBjb29sZG93bi5cbiAgICAgICAgaWYgKCFzZW5kTm93ICYmIHRoaXMuYmF0Y2hDb29sZG93bikge1xuICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5sYXN0UmVxdWVzdFRpbWUgfHwgbm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUgPj0gdGhpcy5iYXRjaENvb2xkb3duKSB7XG4gICAgICAgICAgICAgICAgc2VuZE5vdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBub3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5jb29sZG93blRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb29sZG93blRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRVbnNlbnRSZXF1ZXN0cygpO1xuICAgICAgICAgICAgICAgIH0sICh0aGlzLmJhdGNoQ29vbGRvd24gLSAobm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUpKSAqIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZVJlcXVlc3RGb3JMYXRlcihhcmdzQnVpbGRlci5idWlsZERpY3QoKSk7XG4gICAgICAgIGlmIChzZW5kTm93KSB7XG4gICAgICAgICAgICBzZW5kVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5nZXRGaWxlVXJsID0gZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIGlmICghZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sICdkb3dubG9hZEZpbGUnKVxuICAgICAgICAgICAgLmFkZCgnZmlsZW5hbWUnLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaVBhdGggKyBcIj9cIiArIGFyZ3MuYnVpbGQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmsuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0TGFzdFJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB2YXIgY291bnQgPSAoX2IgPSAoX2EgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgICAgIHJldHVybiAoY291bnQgPiAwKSA/IChfYyA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jW2NvdW50IC0gMV0gOiBudWxsO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5pc1Jlc3BvbnNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihyZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2Uuc3VjY2Vzcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNhdmVSZXF1ZXN0Rm9yTGF0ZXIgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCkgfHwgMDtcbiAgICAgICAgdmFyIGl0ZW1LZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JVEVNICsgY291bnQ7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKGl0ZW1LZXksIEpTT04uc3RyaW5naWZ5KGFyZ3MpKTtcbiAgICAgICAgY291bnQrKztcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQsIGNvdW50KTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5wb3BVbnNlbnRSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlcXVlc3REYXRhID0gW107XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKSB8fCAwO1xuICAgICAgICB0aGlzLnJlbW92ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbUtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklURU0gKyBpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YS5wdXNoKEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoaXRlbUtleSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTG9jYWwoaXRlbUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3REYXRhO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5sb2FkTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKGtleSk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNhdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucmVtb3ZlTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZUZyb21Mb2NhbFN0b3JhZ2Uoa2V5KTtcbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bVJlcXVlc3Q7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1SZXF1ZXN0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsb2Rhc2hfaXNlcXVhbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2guaXNlcXVhbFwiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBTb2NrZXRJb0NsaWVudF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1NvY2tldElvQ2xpZW50XCIpKTtcbnZhciBMZWFucGx1bVNvY2tldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVNvY2tldChjYWNoZSwgY3JlYXRlUmVxdWVzdCwgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBnZXRMYXN0UmVzcG9uc2UsIGV2ZW50cykge1xuICAgICAgICB0aGlzLmNhY2hlID0gY2FjaGU7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuZ2V0TGFzdFJlc3BvbnNlID0gZ2V0TGFzdFJlc3BvbnNlO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSAxMDtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnNvY2tldEhvc3QgPSAnZGV2LmxlYW5wbHVtLmNvbSc7XG4gICAgfVxuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGF1dGgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgV2ViU29ja2V0cy4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXV0aFNlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQgPSBuZXcgU29ja2V0SW9DbGllbnRfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LnNldE5ldHdvcmtUaW1lb3V0KHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFhdXRoU2VudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogQ29ubmVjdGVkIHRvIGRldmVsb3BtZW50IHNlcnZlci4nKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnYXV0aCcsIChfYSA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BUFBfSURdID0gYXV0aC5hcHBJZCxcbiAgICAgICAgICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX0lEXSA9IGF1dGguZGV2aWNlSWQsXG4gICAgICAgICAgICAgICAgICAgIF9hKSk7XG4gICAgICAgICAgICAgICAgYXV0aFNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNvY2tldCBlcnJvcicsIGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25tZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2VSZWNlaXZlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBEaXNjb25uZWN0ZWQgZnJvbSBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICBhdXRoU2VudCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5jb25uZWN0KHRoaXMuc29ja2V0SG9zdCk7XG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RlZCAmJiAhX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdChfdGhpcy5zb2NrZXRIb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG4gICAgfTtcbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNvY2tldEhvc3QgPSB2YWx1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSBzZWNvbmRzO1xuICAgICAgICAoX2EgPSB0aGlzLnNvY2tldENsaWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLm9uTWVzc2FnZVJlY2VpdmVkID0gZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudCA9PT0gJ3VwZGF0ZVZhcnMnKSB7XG4gICAgICAgICAgICB2YXIgYXJnc18xID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX0RFRkFVTFRTLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLkdFVF9WQVJTLCBhcmdzXzEsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0VmFyc1Jlc3BvbnNlID0gX3RoaXMuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU107XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YXJpYW50cyA9IGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uRGVmaW5pdGlvbnMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9ERUZJTklUSU9OU107XG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9kYXNoX2lzZXF1YWxfMS5kZWZhdWx0KHZhbHVlcywgX3RoaXMuY2FjaGUuZGlmZnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYWNoZS5hcHBseURpZmZzKHZhbHVlcywgdmFyaWFudHMsIGFjdGlvbkRlZmluaXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ2dldFZhcmlhYmxlcycpIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2VuZFZhcmlhYmxlcygpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgICd1cGRhdGVkJzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0QWN0aW9ucycpIHtcbiAgICAgICAgICAgIHZhciB1cGRhdGVkID0gdGhpcy5jYWNoZS5zZW5kQWN0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IHVwZGF0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ3JlZ2lzdGVyRGV2aWNlJykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgICAgICAgICBhbGVydChcIllvdXIgZGV2aWNlIGhhcyBiZWVuIHJlZ2lzdGVyZWQgdG8gXCIgKyBtZXNzYWdlLmVtYWlsICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAndHJpZ2dlcicpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gYXJnc1swXTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3ByZXZpZXdSZXF1ZXN0JywgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bVNvY2tldDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bVNvY2tldDtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOZXR3b3JrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTmV0d29ya1wiKSk7XG4vKipcbiAqIFNvY2tldC5pbyAxLjAgY2xpZW50IGNsYXNzLlxuICovXG52YXIgU29ja2V0SW9DbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBuZXcgU29ja2V0SW9DbGllbnQsIG5vdCBjb25uZWN0ZWQgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTb2NrZXRJb0NsaWVudCgpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV3IE5ldHdvcmtfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdHMgdG8gdGhlIGdpdmVuIHNvY2tldEhvc3QuXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBzb2NrZXRIb3N0IFRoZSBob3N0IHRvIGNvbm5lY3QgdG8uXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoc29ja2V0SG9zdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm5ldHdvcmsuYWpheCgnUE9TVCcsIFwiaHR0cHM6Ly9cIiArIHNvY2tldEhvc3QgKyBcIi9zb2NrZXQuaW8vMVwiLCAnJywgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKTtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gcGFydHNbMF07XG4gICAgICAgICAgICB2YXIgaGVhcnRiZWF0ID0gcGFyc2VJbnQocGFydHNbMV0pIC8gMiAqIDEwMDA7XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KFwid3NzOi8vXCIgKyBzb2NrZXRIb3N0ICsgXCIvc29ja2V0LmlvLzEvd2Vic29ja2V0L1wiICsgc2Vzc2lvbik7XG4gICAgICAgICAgICB2YXIgaGVhcnRiZWF0SW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9ub3BlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoZWFydGJlYXRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoJzI6OjonKTtcbiAgICAgICAgICAgICAgICB9LCBoZWFydGJlYXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaGVhcnRiZWF0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlUGFydHMgPSBldmVudC5kYXRhLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBwYXJzZUludChtZXNzYWdlUGFydHNbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKCcyOjonKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUlkID0gbWVzc2FnZVBhcnRzWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZVBhcnRzLnNsaWNlKDMpLmpvaW4oJzonKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlRXZlbnQgPSBkYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gZGF0YS5hcmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZChcIjY6OjpcIiArIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLm9ubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25tZXNzYWdlKG1lc3NhZ2VFdmVudCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNvY2tldCBlcnJvcjogXCIgKyBldmVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbmVycm9yKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBudWxsLCBmYWxzZSwgdHJ1ZSAvLyBudWxsLCBxdWV1ZWQsIHBsYWluVGV4dFxuICAgICAgICApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZHMgZ2l2ZW4gZXZlbnQgd2l0aCBhcmd1bWVudHMgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtICB7Kn0gYXJncyBBcmd1bWVudHMgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3NKc29uID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKFwiNTo6OlwiICsgYXJnc0pzb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgcmV0dXJuIFNvY2tldElvQ2xpZW50O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNvY2tldElvQ2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgQVBQTElDQVRJT05fU0VSVkVSX1BVQkxJQ19LRVkgPSAnQkluV1BwV250ZlIzOXJnWFNQMDRwcWRtRWRER2E1MHo2enFiTXZ4eXhKQ3d6WEl1U3BTaDhDODg4LUNmSjgyV0VMbDdYZThjakFuZkN0LTN2SzBDaTY4Jztcbi8qKlxuICogUHVzaCBNYW5hZ2VyIGhhbmRsZXMgdGhlIHJlZ2lzdHJhdGlvbiBhbmQgc3Vic2NyaXB0aW9uIGZvciB3ZWIgcHVzaC5cbiAqL1xudmFyIFB1c2hNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFB1c2hNYW5hZ2VyKGNyZWF0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFB1c2hNYW5hZ2VyLnByb3RvdHlwZSwgXCJzZXJ2aWNlV29ya2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5zZXJ2aWNlV29ya2VyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oKHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5uYXZpZ2F0b3IpICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICdzZXJ2aWNlV29ya2VyJyBpbiB3aW5kb3cubmF2aWdhdG9yICYmXG4gICAgICAgICAgICAnUHVzaE1hbmFnZXInIGluIHdpbmRvdyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYnJvd3NlciBpcyBzdWJzY3JpYmVkIHRvIHdlYiBwdXNoIG5vdGlmaWNhdGlvbnMuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gVHJ1ZSBpZiBzdWJzY3JpYmVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVnaXN0cmF0aW9uLCBzdWJzY3JpcHRpb24sIGlzU3Vic2NyaWJlZDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1dlYlB1c2hTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3Vic2NyaWJlZCA9IHN1YnNjcmlwdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgaXNTdWJzY3JpYmVkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBmb3IgV2ViUHVzaC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIHRoYXQgc2VydmVzIHRoZSBzZXJ2aWNlIHdvcmtlciBvbiB5b3VyIGRvbWFpbi5cbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICBUaGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdpdGggcmVzdWx0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRydWUgaWYgc3Vic2NyaWJlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCwgc2NvcGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgc3Vic2NyaXB0aW9uLCBpc1N1YnNjcmliZWQsIGVycm9yXzE7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFB1c2ggbWVzc2FnaW5nIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgNCwgLCA1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc2VydmljZVdvcmtlclVybCB8fCAnL3N3Lm1pbi5qcycsIHNjb3BlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1YnNjcmliZWQgPSBzdWJzY3JpcHRpb24gIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlcihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGlzU3Vic2NyaWJlZCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8xID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTZXJ2aWNlIFdvcmtlciBFcnJvcjogJywgZXJyb3JfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRoZSB1c2VyIChicm93c2VyKSB0byBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHN1YnNjcmlwdGlvbiBzdWNjZXNzZnVsLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuc3Vic2NyaWJlVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFwcGxpY2F0aW9uU2VydmVyS2V5LCBzdWJzY3JpcHRpb24sIGVycm9yXzI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleSA9IHRoaXMudXJsQjY0VG9VaW50OEFycmF5KEFQUExJQ0FUSU9OX1NFUlZFUl9QVUJMSUNfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5OiBhcHBsaWNhdGlvblNlcnZlcktleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxlYW5wbHVtOiBGYWlsZWQgdG8gc3Vic2NyaWJlIHRoZSB1c2VyOiBcIiArIGVycm9yXzIpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZSB0aGUgdXNlcihicm93c2VyKSBmcm9tIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdW5zdWJzY3JpYmVkLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudW5zdWJzY3JpYmVVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlZCwgc3Vic2NyaXB0aW9uLCBlcnJvcl8zO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmlzV2ViUHVzaFN1YnNjcmliZWQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZWQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZWQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzIsIDUsICwgNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZWFucGx1bTogRXJyb3IgdW5zdWJzY3JpYmluZzogXCIgKyBlcnJvcl8zKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBzZXJ2aWNlIHdvcmtlciByZWdpc3RyYXRpb24gb2JqZWN0IGZyb20gYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFJldHVybnMgdGhlIHJlZ2lzdHJhdGlvbiBvciBudWxsLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmNvZGVzIGEgYmFzZTY0IFVSTCBzdHJpbmcgdG8gYW4gVWludDggYXJyYXkuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVybEI2NFRvVWludDhBcnJheSA9IGZ1bmN0aW9uIChiYXNlNjRTdHJpbmcpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7XG4gICAgICAgIHZhciBiYXNlNjQgPSAoYmFzZTY0U3RyaW5nICsgcGFkZGluZykucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgICAgICAgdmFyIHJhd0RhdGEgPSB0aGlzLmRlY29kZURhdGEoYmFzZTY0KTtcbiAgICAgICAgdmFyIG91dHB1dEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG91dHB1dEFycmF5W2ldID0gcmF3RGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXRBcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSBuZXcgc3Vic2NyaXB0aW9uIG9iamVjdCB0byB0aGUgTGVhbnBsdW0gc2VydmVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdWJzY3JpcHRpb24gVGhlIHN1YnNjcmlwdGlvbi5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZFN1YnNjcmlwdGlvbiA9IHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocHJlcGFyZWRTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nU3Vic2NyaXB0aW9uU3RyaW5nID0gTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0RnJvbUxvY2FsU3RvcmFnZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5QVVNIX1NVQlNDUklQVElPTik7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTdWJzY3JpcHRpb25TdHJpbmcgIT09IHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlBVU0hfU1VCU0NSSVBUSU9OLCBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdWJzY3JpcHRpb24ocHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUucHJlcGFyZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIGtleSA9ICgnZ2V0S2V5JyBpbiBzdWJzY3JpcHRpb24pID8gc3Vic2NyaXB0aW9uLmdldEtleSgncDI1NmRoJykgOiBbXTtcbiAgICAgICAgdmFyIGF1dGggPSAoJ2dldEtleScgaW4gc3Vic2NyaXB0aW9uKSA/IHN1YnNjcmlwdGlvbi5nZXRLZXkoJ2F1dGgnKSA6IFtdO1xuICAgICAgICB2YXIga2V5QXNjaWkgPSB0aGlzLmVuY29kZURhdGEoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShrZXkpKSk7XG4gICAgICAgIHZhciBhdXRoQXNjaWkgPSB0aGlzLmVuY29kZURhdGEoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShhdXRoKSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW5kcG9pbnQ6IHN1YnNjcmlwdGlvbi5lbmRwb2ludCxcbiAgICAgICAgICAgIGtleToga2V5QXNjaWksXG4gICAgICAgICAgICBhdXRoOiBhdXRoQXNjaWksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24gc3RyaW5nLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5zZXRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5XRUJfUFVTSF9TVUJTQ1JJUFRJT04sIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9ERVZJQ0VfQVRUUklCVVRFUywgYXJncywge1xuICAgICAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZW5jb2RlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYnRvYShkYXRhKTtcbiAgICB9O1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5kZWNvZGVEYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5hdG9iKGRhdGEpO1xuICAgIH07XG4gICAgcmV0dXJuIFB1c2hNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFB1c2hNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbnZhciBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTG9jYWxTdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgVmFsdWVUcmFuc2Zvcm1zXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmFsdWVUcmFuc2Zvcm1zXCIpKTtcbnZhciBPY2N1cnJlbmNlVHJhY2tlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPY2N1cnJlbmNlVHJhY2tlcigpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgICAgIHRoaXMudHJpZ2dlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlcyA9IHt9O1xuICAgIH1cbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUucmVjb3JkT2NjdXJyZW5jZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgc2Vzc2lvbk9jY3VycmVuY2VzID0gKHRoaXMuc2Vzc2lvbltpZF0gfHwgMCkgKyAxO1xuICAgICAgICB0aGlzLnNlc3Npb25baWRdID0gc2Vzc2lvbk9jY3VycmVuY2VzO1xuICAgICAgICB2YXIgb2NjdXJyZW5jZXMgPSAodGhpcy5vY2N1cnJlbmNlc1tpZF0gfHwgW10pO1xuICAgICAgICBvY2N1cnJlbmNlcy5wdXNoKERhdGUubm93KCkpO1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VzW2lkXSA9IG9jY3VycmVuY2VzO1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5yZWNvcmRUcmlnZ2VyT2NjdXJyZW5jZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgdHJpZ2dlck9jY3VycmVuY2VzID0gdGhpcy50cmlnZ2Vyc1tpZF0gfHwgW107XG4gICAgICAgIHRyaWdnZXJPY2N1cnJlbmNlcy5wdXNoKERhdGUubm93KCkpO1xuICAgICAgICB0aGlzLnRyaWdnZXJzW2lkXSA9IHRyaWdnZXJPY2N1cnJlbmNlcztcbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgIHJldHVybiB0cmlnZ2VyT2NjdXJyZW5jZXMubGVuZ3RoO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmdldFNlc3Npb25PY2N1cnJhbmNlQ291bnQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbltpZF0gfHwgMDtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5nZXRPY2N1cnJlbmNlcyA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vY2N1cnJlbmNlc1tpZF0gfHwgW107XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuY2xlYXJTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FjaGUgPSBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfT0NDVVJSRU5DRVMpO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShjYWNoZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBqc29uLnNlc3Npb247XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJzID0ganNvbi50cmlnZ2VycztcbiAgICAgICAgICAgIHRoaXMub2NjdXJyZW5jZXMgPSBqc29uLm9jY3VycmVuY2VzO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfT0NDVVJSRU5DRVM7XG4gICAgICAgIExvY2FsU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmVUb0xvY2FsU3RvcmFnZShrZXksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHNlc3Npb246IHRoaXMuc2Vzc2lvbixcbiAgICAgICAgICAgIHRyaWdnZXJzOiB0aGlzLnRyaWdnZXJzLFxuICAgICAgICAgICAgb2NjdXJyZW5jZXM6IHRoaXMub2NjdXJyZW5jZXMsXG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBPY2N1cnJlbmNlVHJhY2tlcjtcbn0oKSk7XG52YXIgdmVyYlRvSW50ZXJ2YWwgPSBmdW5jdGlvbiAodmVyYikge1xuICAgIHZhciBTRUNPTkQgPSAxMDAwO1xuICAgIHZhciBNSU5VVEUgPSA2MCAqIFNFQ09ORDtcbiAgICB2YXIgSE9VUiA9IDYwICogTUlOVVRFO1xuICAgIHZhciBEQVkgPSAyNCAqIEhPVVI7XG4gICAgc3dpdGNoICh2ZXJiKSB7XG4gICAgICAgIGNhc2UgJ2xpbWl0U2Vjb25kJzogcmV0dXJuIFNFQ09ORDtcbiAgICAgICAgY2FzZSAnbGltaXRNaW51dGUnOiByZXR1cm4gTUlOVVRFO1xuICAgICAgICBjYXNlICdsaW1pdEhvdXInOiByZXR1cm4gSE9VUjtcbiAgICAgICAgY2FzZSAnbGltaXREYXknOiByZXR1cm4gREFZO1xuICAgIH1cbn07XG52YXIgTWVzc2FnZXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVzc2FnZXMoZXZlbnRzLCBjcmVhdGVSZXF1ZXN0LCBnZXRGaWxlVXJsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLmdldEZpbGVVcmwgPSBnZXRGaWxlVXJsO1xuICAgICAgICB0aGlzLl9tZXNzYWdlQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlVHJhY2tlciA9IG5ldyBPY2N1cnJlbmNlVHJhY2tlcigpO1xuICAgICAgICB0aGlzLl9zaG93UmljaElBTSA9IGZhbHNlO1xuICAgICAgICBldmVudHMub24oJ3ByZXZpZXdSZXF1ZXN0JywgdGhpcy5vbk1lc3NhZ2VQcmV2aWV3LmJpbmQodGhpcykpO1xuICAgICAgICBldmVudHMub24oJ21lc3NhZ2VzUmVjZWl2ZWQnLCB0aGlzLm9uTWVzc2FnZXNSZWNlaXZlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgZXZlbnRzLm9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmxvYWQoKTtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmNsZWFyU2Vzc2lvbigpO1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3N0YXJ0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbigncmVzdW1lJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfQ0FDSEU7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKGtleSk7XG4gICAgICAgICAgICBfdGhpcy5fbWVzc2FnZUNhY2hlID0gY2FjaGUgPyBKU09OLnBhcnNlKGNhY2hlKSA6IF90aGlzLl9tZXNzYWdlQ2FjaGU7XG4gICAgICAgICAgICBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5sb2FkKCk7XG4gICAgICAgICAgICBfdGhpcy5vblRyaWdnZXIoeyB0cmlnZ2VyOiAncmVzdW1lJyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbigndHJhY2snLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnZXZlbnQnLFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogYXJncy5ldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBhcmdzLnBhcmFtcyB8fCB7fSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCdhZHZhbmNlU3RhdGUnLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uVHJpZ2dlcih7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogJ3N0YXRlJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogYXJncy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGFyZ3MucGFyYW1zIHx8IHt9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ3NldFVzZXJBdHRyaWJ1dGUnLCBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uVHJpZ2dlcih7IHRyaWdnZXI6ICd1c2VyQXR0cmlidXRlJywgYXR0cmlidXRlczogYXR0cmlidXRlcyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX3Nob3dSaWNoSUFNID0gZW5hYmxlZDtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5vblRyaWdnZXIgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLmdldE1lc3NhZ2VzKCk7XG4gICAgICAgIHZhciBtZXNzYWdlSWRzID0gT2JqZWN0LmtleXMobWVzc2FnZXMpO1xuICAgICAgICBtZXNzYWdlSWRzXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gX3RoaXMuc2hvdWxkU2hvd01lc3NhZ2UoaWQsIG1lc3NhZ2VzW2lkXSwgY29udGV4dCk7IH0pXG4gICAgICAgICAgICAuc2xpY2UoMCwgMSkgLy8gVE9ETzogY2hvb3NlIHJhbmRvbWx5XG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIF90aGlzLnNob3dNZXNzYWdlKGlkLCBtZXNzYWdlc1tpZF0pOyB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5vbk1lc3NhZ2VQcmV2aWV3ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIHZhcnMgPSBtZXNzYWdlLmFjdGlvbjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgICAgICB0cmFjazogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50SW5mbyA9IGV2ZW50ID8gXCJldmVudCAnXCIgKyBldmVudCArIFwiJ1wiIDogJ2ltcHJlc3Npb24nO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJhY2tpbmcgXCIgKyBldmVudEluZm8gKyBcIiBmb3IgXCIgKyBtZXNzYWdlLm1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuQWN0aW9uTmFtZWQ6IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFwiUnVubmluZyB1bnRyYWNrZWQgYWN0aW9uICdcIiArIGFjdGlvbk5hbWUgKyBcIidcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuVHJhY2tlZEFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIlJ1bm5pbmcgdHJhY2tlZCBhY3Rpb24gJ1wiICsgYWN0aW9uTmFtZSArIFwiJ1wiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZSh7XG4gICAgICAgICAgICBpc1ByZXZpZXc6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBfX2Fzc2lnbih7IG1lc3NhZ2VJZDogbWVzc2FnZS5tZXNzYWdlSWQgfSwgdmFycyksXG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5vbk1lc3NhZ2VzUmVjZWl2ZWQgPSBmdW5jdGlvbiAocmVjZWl2ZWRNZXNzYWdlcykge1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSByZWNlaXZlZE1lc3NhZ2VzIHx8IHt9O1xuICAgICAgICB0aGlzLl9tZXNzYWdlQ2FjaGUgPSBtZXNzYWdlcztcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KG1lc3NhZ2VzKSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuc2hvdWxkU2hvd01lc3NhZ2UgPSBmdW5jdGlvbiAoaWQsIG1lc3NhZ2UsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBtYXRjaGVzVHJpZ2dlciA9IHRoaXMubWF0Y2hlc1RyaWdnZXIobWVzc2FnZS53aGVuVHJpZ2dlcnMsIGNvbnRleHQpO1xuICAgICAgICB2YXIgbWF0Y2hlc1VubGVzcyA9IHRoaXMubWF0Y2hlc1RyaWdnZXIobWVzc2FnZS51bmxlc3NUcmlnZ2VycywgY29udGV4dCk7XG4gICAgICAgIGlmICghbWF0Y2hlc1RyaWdnZXIgfHwgbWF0Y2hlc1VubGVzcykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmlnZ2Vyc0NvdW50ID0gdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5yZWNvcmRUcmlnZ2VyT2NjdXJyZW5jZShpZCk7XG4gICAgICAgIGlmICghdGhpcy5tYXRjaGVzTGltaXRzKGlkLCBtZXNzYWdlLndoZW5MaW1pdHMsIHRyaWdnZXJzQ291bnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhcnRUaW1lICYmIG1lc3NhZ2UuZW5kVGltZSkge1xuICAgICAgICAgICAgdmFyIG91dHNpZGVBY3RpdmVQZXJpb2QgPSBub3cgPCBtZXNzYWdlLnN0YXJ0VGltZSB8fCBtZXNzYWdlLmVuZFRpbWUgPCBub3c7XG4gICAgICAgICAgICBpZiAob3V0c2lkZUFjdGl2ZVBlcmlvZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5zaG93TWVzc2FnZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdmFycyA9IHRoaXMuYWRkRGVmYXVsdHMoX19hc3NpZ24oe30sIG1lc3NhZ2UudmFycykpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgIHRyYWNrOiBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5yZWNvcmRPY2N1cnJlbmNlKGlkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmFja01lc3NhZ2UoaWQsIHsgZXZlbnQ6IGV2ZW50LCB2YWx1ZTogdmFsdWUsIGluZm86IGluZm8sIHBhcmFtczogcGFyYW1zIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bkFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkgeyByZXR1cm4gX3RoaXMub25BY3Rpb24odmFyc1thY3Rpb25OYW1lXSwgaWQpOyB9LFxuICAgICAgICAgICAgcnVuVHJhY2tlZEFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGFjdGlvbk5hbWUucmVwbGFjZSgvIGFjdGlvbiQvLCAnJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJhY2tNZXNzYWdlKGlkLCB7IGV2ZW50OiBldmVudCB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbih2YXJzW2FjdGlvbk5hbWVdLCBpZCk7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBtZXNzYWdlOiBfX2Fzc2lnbih7IG1lc3NhZ2VJZDogaWQgfSwgdmFycyksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnByb2Nlc3NNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBldmVudFVybCkge1xuICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJscC1tZXNzYWdlLVwiICsgbWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKCFpZnJhbWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNzYWdlIGNsb3NlZCwgc2tpcHBpbmcgZXZlbnQgcHJvY2Vzc2luZycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGV2ZW50VXJsLnJlcGxhY2UoL15odHRwOlxcL1xcL2xlYW5wbHVtXFwvLywgJycpLnNwbGl0KCc/JyksIGV2ZW50ID0gX2FbMF0sIF9iID0gX2FbMV0sIHF1ZXJ5ID0gX2IgPT09IHZvaWQgMCA/ICcnIDogX2I7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHZhciBwYXJhbXMgPSBxdWVyeS5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwYXJhbSkge1xuICAgICAgICAgICAgdmFyIF9hID0gcGFyYW0uc3BsaXQoJz0nKSwga2V5ID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHZhciBfYyA9IGlmcmFtZS5tZXRhZGF0YSwgbWVzc2FnZSA9IF9jLm1lc3NhZ2UsIGNvbnRleHQgPSBfYy5jb250ZXh0O1xuICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlICdsb2FkRmluaXNoZWQnOlxuICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlWydIVE1MIEhlaWdodCddID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBtZXNzYWdlWydIVE1MIFdpZHRoJ107XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSBtZXNzYWdlWydIVE1MIEhlaWdodCddICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmxlZnQgPSBcImNhbGMoKDEwMCUgLSBcIiArIHdpZHRoICsgXCIpIC8gMilcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvclByb3AgPSBtZXNzYWdlWydIVE1MIEFsaWduJ10udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsdFByb3AgPSBhbmNob3JQcm9wID09PSAndG9wJyA/ICdib3R0b20nIDogJ3RvcCc7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZVthbmNob3JQcm9wXSA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlW2FsdFByb3BdID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0cmFjayc6XG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFjayhwYXJhbXMuZXZlbnQsIHBhcnNlRmxvYXQocGFyYW1zLnZhbHVlKSwgcGFyYW1zLnBhcmFtZXRlcnMsIHBhcmFtcy5pbmZvKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3J1bkFjdGlvbic6XG4gICAgICAgICAgICBjYXNlICdydW5UcmFja2VkQWN0aW9uJzpcbiAgICAgICAgICAgICAgICBjb250ZXh0W2V2ZW50ICsgXCJOYW1lZFwiXShwYXJhbXMuYWN0aW9uKTtcbiAgICAgICAgICAgIC8vIGZhbGwgdGhyb3VnaCBhbmQgY2xvc2VcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgICAgICAgICBpZnJhbWUubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dSaWNoSUFNICYmIG9wdGlvbnMubWVzc2FnZS5fX25hbWVfXyA9PT0gJ0hUTUwnKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVGaWxlcyhvcHRpb25zLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlTmFtZSA9IG9wdGlvbnMubWVzc2FnZVsnVGVtcGxhdGUnXSB8fCAnJztcbiAgICAgICAgICAgIG5ldyBOZXR3b3JrXzEuZGVmYXVsdCgpLmFqYXgoJ2dldCcsIHRlbXBsYXRlTmFtZS5yZXBsYWNlKCctMTAuaHRtbCcsICctMTEuaHRtbCcpLCAnJywgZnVuY3Rpb24gKHRlbXBsYXRlKSB7IHJldHVybiBfdGhpcy5yZW5kZXJSaWNoSW5BcHBNZXNzYWdlKHRlbXBsYXRlLCBvcHRpb25zKTsgfSwgZnVuY3Rpb24gKCkgeyB9LCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdzaG93TWVzc2FnZScsIHRoaXMucmVzb2x2ZUZpZWxkcyhvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5yZW5kZXJSaWNoSW5BcHBNZXNzYWdlID0gZnVuY3Rpb24gKHRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBtZXNzYWdlSWQgPSBvcHRpb25zLm1lc3NhZ2UubWVzc2FnZUlkO1xuICAgICAgICB2YXIgdmFycyA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMubWVzc2FnZSk7XG4gICAgICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnaWQnLCBcImxwLW1lc3NhZ2UtXCIgKyBtZXNzYWdlSWQpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuY3NzVGV4dCA9IFtcbiAgICAgICAgICAgICdib3JkZXItd2lkdGg6IDAnLFxuICAgICAgICAgICAgJ3Bvc2l0aW9uOiBmaXhlZCcsXG4gICAgICAgICAgICAndG9wOiAtMTAwJScsXG4gICAgICAgICAgICAnbGVmdDogLTEwMCUnLFxuICAgICAgICAgICAgJ3dpZHRoOiAxMDAlJyxcbiAgICAgICAgICAgICdoZWlnaHQ6IDEwMCUnLFxuICAgICAgICAgICAgJ3Zpc2liaWxpdHk6IGhpZGRlbicsXG4gICAgICAgICAgICAnei1pbmRleDogMTAwMDAwJyxcbiAgICAgICAgXS5qb2luKCc7Jyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgLy8gcGFzcyBtZXNzYWdlIGluZm9cbiAgICAgICAgaWZyYW1lLm1ldGFkYXRhID0gb3B0aW9ucztcbiAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cubWVzc2FnZUlkID0gbWVzc2FnZUlkO1xuICAgICAgICB2YXIgY29udGVudCA9IHRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgnIyNWYXJzIyMnLCB2YXJzKVxuICAgICAgICAgICAgLnJlcGxhY2UoJzxib2R5PicsIFwiPGJvZHk+PHNjcmlwdD53aW5kb3cubWVzc2FnZUlkPSdcIiArIG1lc3NhZ2VJZCArIFwiJzwvc2NyaXB0PlwiKTtcbiAgICAgICAgaWYgKCdzcmNkb2MnIGluIGlmcmFtZSkge1xuICAgICAgICAgICAgaWZyYW1lLnNyY2RvYyA9IGNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZG9jID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgICAgICBkb2Mub3BlbigpO1xuICAgICAgICAgICAgZG9jLndyaXRlKGNvbnRlbnQpO1xuICAgICAgICAgICAgZG9jLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS50cmFja01lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCB0cmFja09wdGlvbnMsIHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0cmFja09wdGlvbnMgPT09IHZvaWQgMCkgeyB0cmFja09wdGlvbnMgPSB7IGV2ZW50OiBudWxsIH07IH1cbiAgICAgICAgaWYgKHJlc3BvbnNlID09PSB2b2lkIDApIHsgcmVzcG9uc2UgPSBmdW5jdGlvbiAoKSB7IH07IH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTUVTU0FHRV9JRCwgbWVzc2FnZUlkKTtcbiAgICAgICAgdmFyIGRlZmluZWQgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggIT09ICd1bmRlZmluZWQnOyB9O1xuICAgICAgICBpZiAodHJhY2tPcHRpb25zLmV2ZW50KSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5FVkVOVCwgdHJhY2tPcHRpb25zLmV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMudmFsdWUpKSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WQUxVRSwgdHJhY2tPcHRpb25zLnZhbHVlIHx8IDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmluZWQodHJhY2tPcHRpb25zLmluZm8pKSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkZPLCB0cmFja09wdGlvbnMuaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmluZWQodHJhY2tPcHRpb25zLnBhcmFtcykpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkodHJhY2tPcHRpb25zLnBhcmFtcykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm9uQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbiwgcGFyZW50TWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChwYXJlbnRNZXNzYWdlSWQgPT09IHZvaWQgMCkgeyBwYXJlbnRNZXNzYWdlSWQgPSAnJzsgfVxuICAgICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMuX21lc3NhZ2VDYWNoZTtcbiAgICAgICAgaWYgKGFjdGlvbi5fX25hbWVfXyA9PT0gJ0NoYWluIHRvIEV4aXN0aW5nIE1lc3NhZ2UnKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5lZE1lc3NhZ2VJZF8xID0gYWN0aW9uWydDaGFpbmVkIG1lc3NhZ2UnXTtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlXzEgPSBtZXNzYWdlc1tjaGFpbmVkTWVzc2FnZUlkXzFdO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2VfMS5hY3Rpb24gPT09ICdPcGVuIFVSTCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrTWVzc2FnZShjaGFpbmVkTWVzc2FnZUlkXzEsIHsgZXZlbnQ6ICdWaWV3JyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbihtZXNzYWdlXzEudmFycywgY2hhaW5lZE1lc3NhZ2VJZF8xKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZXNzYWdlXzEuYWN0aW9uID09PSAnUmVnaXN0ZXIgRm9yIFB1c2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVnaXN0ZXJGb3JQdXNoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKGNoYWluZWRNZXNzYWdlSWRfMSwgbWVzc2FnZV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgYXBwIGZ1bmN0aW9uXG4gICAgICAgIHZhciBwcm9jZXNzQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBhY3Rpb24uX19uYW1lX187XG4gICAgICAgICAgICBpZiAoYWN0aW9uLl9fbmFtZV9fID09PSAnT3BlbiBVUkwnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ25hdmlnYXRpb25DaGFuZ2UnLCBhY3Rpb24uVVJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFjdGlvbi5fX25hbWVfXyA9PT0gJ1JlZ2lzdGVyIEZvciBQdXNoJykge1xuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50cy5lbWl0KCdyZWdpc3RlckZvclB1c2gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBlbWJlZGRlZCBjaGFpbmVkIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TWVzc2FnZShwYXJlbnRNZXNzYWdlSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBwYXJlbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFyczogYWN0aW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgbWVzc2FnZUlkID0gdGhpcy5tZXNzYWdlSWRGcm9tQWN0aW9uKGFjdGlvbik7XG4gICAgICAgIGlmIChtZXNzYWdlSWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tNZXNzYWdlKG1lc3NhZ2VJZCwgeyBldmVudDogbnVsbCB9LCBwcm9jZXNzQWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2Nlc3NBY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmdldE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZUNhY2hlIHx8IHt9O1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmFkZERlZmF1bHRzID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICAgICAgdmFyIGtpbmRzID0gdGhpcy5nZXRNZXNzYWdlcygpLmFjdGlvbkRlZmluaXRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSBraW5kc1t2YXJzLl9fbmFtZV9fXTtcbiAgICAgICAgaWYgKCFkZWZhdWx0cykge1xuICAgICAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gdXNlRGVmYXVsdHMob2JqLCBkZWZhdWx0VmFsdWVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMoZGVmYXVsdFZhbHVlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBkZWZhdWx0VmFsdWVzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB1c2VEZWZhdWx0cyhvYmpba2V5XSB8fCB7fSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXNlRGVmYXVsdHMoX19hc3NpZ24oe30sIHZhcnMpLCBkZWZhdWx0cy52YWx1ZXMpO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnJlc29sdmVGaWxlcyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBmaWxlUHJlZml4ID0gL15fX2ZpbGVfXy87XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YXJzKSB7XG4gICAgICAgICAgICBpZiAoZmlsZVByZWZpeC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZV8xID0ga2V5LnJlcGxhY2UoZmlsZVByZWZpeCwgJycpO1xuICAgICAgICAgICAgICAgIHZhcnNbbmFtZV8xXSA9IHRoaXMuZ2V0RmlsZVVybCh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhcnNba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB2YXJzW2tleV0gPSB0aGlzLnJlc29sdmVGaWxlcyh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXJzO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnJlc29sdmVGaWVsZHMgPSBmdW5jdGlvbiAodmFycykge1xuICAgICAgICB2YXIgY29sb3JTdWZmaXggPSAvXFxiY29sb3IvaTtcbiAgICAgICAgdmFyIGZpbGVQcmVmaXggPSAvXl9fZmlsZV9fLztcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHZhcnMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlUHJlZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lXzIgPSBrZXkucmVwbGFjZShmaWxlUHJlZml4LCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyc1tuYW1lXzIgKyAnIFVSTCddID0gdGhpcy5nZXRGaWxlVXJsKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb2xvclN1ZmZpeC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXJzW2tleV0gPSBWYWx1ZVRyYW5zZm9ybXNfMS5kZWZhdWx0LmRlY29kZUNvbG9yKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFyc1trZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IHRoaXMucmVzb2x2ZUZpZWxkcyh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXJzO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm1lc3NhZ2VJZEZyb21BY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMuX21lc3NhZ2VDYWNoZTtcbiAgICAgICAgdmFyIHZhcnMgPSBfX2Fzc2lnbih7fSwgYWN0aW9uKTtcbiAgICAgICAgZGVsZXRlIHZhcnNbJ3BhcmVudENhbXBhaWduSWQnXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKG1lc3NhZ2VzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBpZCA9IF9hW19pXTtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbWVzc2FnZXNbaWRdO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGFyZW50Q2FtcGFpZ25JZCAhPT0gYWN0aW9uLnBhcmVudENhbXBhaWduSWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2Rhc2hfaXNlcXVhbF8xLmRlZmF1bHQobWVzc2FnZS52YXJzLCB2YXJzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm1hdGNoZXNUcmlnZ2VyID0gZnVuY3Rpb24gKHdoZW5UcmlnZ2VycywgY29udGV4dCkge1xuICAgICAgICBpZiAoIXdoZW5UcmlnZ2Vycykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZ25vcmVDYXNlRXF1YWxzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkubG9jYWxlQ29tcGFyZShiLnRvU3RyaW5nKCksIHVuZGVmaW5lZCwgeyBzZW5zaXRpdml0eTogJ2FjY2VudCcgfSkgPT09IDA7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtYXRjaGVzVHJpZ2dlcnMgPSBmdW5jdGlvbiAoY29udGV4dE5vdW4sIHBhcmFtcywgdHJpZ2dlcikge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXNOb3VuID0gY29udGV4dE5vdW4gPT09IHRyaWdnZXIubm91bjtcbiAgICAgICAgICAgIGlmICh0cmlnZ2VyLnZlcmIgPT09ICd0cmlnZ2VycycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc05vdW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0cmlnZ2VyLnZlcmIgPT09ICd0cmlnZ2Vyc1dpdGhQYXJhbWV0ZXInKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gdHJpZ2dlci5vYmplY3RzLCBwYXJhbWV0ZXIgPSBfYVswXSwgdmFsdWUgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbnNQYXJhbSA9IHBhcmFtZXRlciBpbiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXNQYXJhbSA9IGNvbnRhaW5zUGFyYW0gJiYgaWdub3JlQ2FzZUVxdWFscyh2YWx1ZSwgcGFyYW1zW3BhcmFtZXRlcl0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzTm91biAmJiBtYXRjaGVzUGFyYW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB3aGVuVHJpZ2dlcnMuY2hpbGRyZW4uc29tZShmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICAgICAgdmFyIHN1YmplY3QgPSB0cmlnZ2VyLnN1YmplY3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvbnRleHQudHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzogcmV0dXJuIHN1YmplY3QgPT09ICdzdGFydCcgfHwgc3ViamVjdCA9PT0gJ3Jlc3VtZSc7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVzdW1lJzogcmV0dXJuIHN1YmplY3QgPT09ICdyZXN1bWUnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmplY3QgIT09ICdldmVudCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1RyaWdnZXJzKGNvbnRleHQuZXZlbnROYW1lLCBjb250ZXh0LnBhcmFtcywgdHJpZ2dlcik7XG4gICAgICAgICAgICAgICAgY2FzZSAndXNlckF0dHJpYnV0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0ICE9PSAndXNlckF0dHJpYnV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbnNBdHRyaWJ1dGUgPSB0cmlnZ2VyLm5vdW4gaW4gY29udGV4dC5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci52ZXJiID09PSAnY2hhbmdlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluc0F0dHJpYnV0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0cmlnZ2VyLnZlcmIgPT09ICdjaGFuZ2VzVG8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHRWYWx1ZV8xID0gY29udGV4dC5hdHRyaWJ1dGVzW3RyaWdnZXIubm91bl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJpZ2dlci5vYmplY3RzLnNvbWUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsICYmIGNvbnRleHRWYWx1ZV8xID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgJiYgY29udGV4dFZhbHVlXzEgJiYgaWdub3JlQ2FzZUVxdWFscyh2YWx1ZSwgY29udGV4dFZhbHVlXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RhdGUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViamVjdCAhPT0gJ3N0YXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzVHJpZ2dlcnMoY29udGV4dC5zdGF0ZSwgY29udGV4dC5wYXJhbXMsIHRyaWdnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tYXRjaGVzTGltaXRzID0gZnVuY3Rpb24gKGlkLCB3aGVuTGltaXRzLCB0cmlnZ2VyT2NjdXJyZW5jZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF3aGVuTGltaXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2hlbkxpbWl0cy5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbiAobGltaXQpIHtcbiAgICAgICAgICAgIHZhciBzdWJqZWN0ID0gbGltaXQuc3ViamVjdCwgdmVyYiA9IGxpbWl0LnZlcmI7XG4gICAgICAgICAgICB2YXIgbm91biA9IHBhcnNlSW50KGxpbWl0Lm5vdW4udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAoc3ViamVjdCA9PT0gJ3RpbWVzJykge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJiID09PSAnbGltaXRTZXNzaW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2Vzc2lvbk9jY3VycmVuY2VzID0gX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudChpZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uT2NjdXJyZW5jZXMgKyAxID09PSBub3VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2ZXJiID09PSAnbGltaXRVc2VyJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2NjdXJyZW5jZXMgPSBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5nZXRPY2N1cnJlbmNlcyhpZCkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2NjdXJyZW5jZXMgKyAxIDw9IG5vdW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBYIGluIFkgKHNlY29uZHN8bWludXRlc3xkYXlzfGhvdXJzKVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGVySW50ZXJ2YWwgPSBwYXJzZUludChsaW1pdC5vYmplY3RzWzBdLnRvU3RyaW5nKCkpIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lU2xvdCA9IHZlcmJUb0ludGVydmFsKHZlcmIpICogcGVySW50ZXJ2YWw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvY2N1cnJlbmNlcyA9IF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmdldE9jY3VycmVuY2VzKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gb2NjdXJyZW5jZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPCBub3VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGljZSA9IG9jY3VycmVuY2VzLnNsaWNlKGNvdW50IC0gbm91biwgY291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhlIHRpbWUgb2YgdGhlIGZpcnN0IG9mIHRoZSBsYXN0IE4gb2NjdXJyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzbGljZVswXSA8IERhdGUubm93KCkgLSB0aW1lU2xvdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YmplY3QgPT09ICdvbk50aE9jY3VycmVuY2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJPY2N1cnJlbmNlcyA9PT0gbm91bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YmplY3QgPT09ICdldmVyeU50aE9jY3VycmVuY2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0cmlnZ2VyT2NjdXJyZW5jZXMgJSBub3VuKSA9PT0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVzc2FnZXM7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTWVzc2FnZXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgfVxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goeyBldmVudE5hbWU6IGV2ZW50TmFtZSwgY2FsbGJhY2s6IGNhbGxiYWNrIH0pO1xuICAgIH07XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gdGhpcy5oYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguZXZlbnROYW1lICE9PSBldmVudE5hbWUgfHwgeC5jYWxsYmFjayAhPT0gY2FsbGJhY2s7IH0pO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIuZXZlbnROYW1lID09PSBldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRFbWl0dGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQWN0aW9uUGFyYW1ldGVyVHlwZTtcbihmdW5jdGlvbiAoQWN0aW9uUGFyYW1ldGVyVHlwZSkge1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJJbnRcIl0gPSBcImludFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJJbnRlZ2VyXCJdID0gXCJpbnRlZ2VyXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkNvbG9yXCJdID0gXCJjb2xvclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJGbG9hdFwiXSA9IFwiZmxvYXRcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiRGVjaW1hbFwiXSA9IFwiZGVjaW1hbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJOdW1iZXJcIl0gPSBcIm51bWJlclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJCb29sZWFuXCJdID0gXCJib29sXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlN0cmluZ1wiXSA9IFwic3RyaW5nXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlRleHRcIl0gPSBcInRleHRcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiSFRNTFwiXSA9IFwiaHRtbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJGaWxlXCJdID0gXCJmaWxlXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkxpc3RcIl0gPSBcImxpc3RcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiR3JvdXBcIl0gPSBcImdyb3VwXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkFjdGlvblwiXSA9IFwiYWN0aW9uXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlVua25vd25cIl0gPSBcIlwiO1xufSkoQWN0aW9uUGFyYW1ldGVyVHlwZSA9IGV4cG9ydHMuQWN0aW9uUGFyYW1ldGVyVHlwZSB8fCAoZXhwb3J0cy5BY3Rpb25QYXJhbWV0ZXJUeXBlID0ge30pKTtcbjtcbnZhciBNZXNzYWdlS2luZDtcbihmdW5jdGlvbiAoTWVzc2FnZUtpbmQpIHtcbiAgICBNZXNzYWdlS2luZFtNZXNzYWdlS2luZFtcIkFjdGlvblwiXSA9IDJdID0gXCJBY3Rpb25cIjtcbiAgICBNZXNzYWdlS2luZFtNZXNzYWdlS2luZFtcIlRlbXBsYXRlXCJdID0gM10gPSBcIlRlbXBsYXRlXCI7XG59KShNZXNzYWdlS2luZCA9IGV4cG9ydHMuTWVzc2FnZUtpbmQgfHwgKGV4cG9ydHMuTWVzc2FnZUtpbmQgPSB7fSkpO1xuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIExvY2FsU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Mb2NhbFN0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBWYWx1ZVRyYW5zZm9ybXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WYWx1ZVRyYW5zZm9ybXNcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLy8gdHJhbnNmb3JtcyB0aGUgc2VydmVyIHJlc3BvbnNlIHRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgc2V0VmFyc1xuLy8gLSBsb3dlcmNhc2Uga2luZHNcbi8vIC0gYWN0aW9ucyBhcyBlbXB0eSBzdHJpbmdzXG5mdW5jdGlvbiB0b1NldFZhcnNGb3JtYXQobykge1xuICAgIGlmICghbylcbiAgICAgICAgcmV0dXJuIG87XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBhY3Rpb24pIHtcbiAgICAgICAgYWNjW2FjdGlvbl0gPSBfX2Fzc2lnbih7fSwgb1thY3Rpb25dKTtcbiAgICAgICAgdmFyIGtpbmRzID0gb1thY3Rpb25dLmtpbmRzO1xuICAgICAgICBpZiAoa2luZHMpIHtcbiAgICAgICAgICAgIGFjY1thY3Rpb25dLmtpbmRzID0gT2JqZWN0LmtleXMoa2luZHMpXG4gICAgICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoaywga3gpIHtcbiAgICAgICAgICAgICAgICB2YXIga2luZCA9IGtpbmRzW2t4XS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGtba3hdID0ga2luZDtcbiAgICAgICAgICAgICAgICBpZiAoa2luZCA9PT0gJ2FjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjW2FjdGlvbl0udmFsdWVzW2t4XSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbnZhciBWYXJDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYXJDYWNoZShjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5oYXNSZWNlaXZlZERpZmZzID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWVyZ2VkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLmRpZmZzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRva2VuID0gJyc7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSBbXTtcbiAgICB9XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmFwcGx5RGlmZnMgPSBmdW5jdGlvbiAoZGlmZnMsIHZhcmlhbnRzLCBhY3Rpb25EZWZpbml0aW9ucykge1xuICAgICAgICB0aGlzLmRpZmZzID0gZGlmZnM7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSB2YXJpYW50cztcbiAgICAgICAgdGhpcy5hY3Rpb25EZWZpbml0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLmFjdGlvbkRlZmluaXRpb25zKSwgdG9TZXRWYXJzRm9ybWF0KGFjdGlvbkRlZmluaXRpb25zKSk7XG4gICAgICAgIHRoaXMuaGFzUmVjZWl2ZWREaWZmcyA9IHRydWU7XG4gICAgICAgIHRoaXMubWVyZ2VkID0gbWVyZ2VIZWxwZXIodGhpcy52YXJpYWJsZXMsIGRpZmZzKTtcbiAgICAgICAgdGhpcy5zYXZlRGlmZnMoKTtcbiAgICAgICAgaWYgKHRoaXMub25VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmxvYWREaWZmcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEaWZmcyhKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBQkxFUykgfHwgbnVsbCksIEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVFMpIHx8IG51bGwpLCBKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkFDVElPTl9ERUZJTklUSU9OUykgfHwgbnVsbCkpO1xuICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlRPS0VOKTtcbiAgICAgICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRfREVCVUdfSU5GTyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGVhbnBsdW06IEludmFsaWQgZGlmZnM6IFwiICsgZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zYXZlRGlmZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBQkxFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5kaWZmcyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UUywgSlNPTi5zdHJpbmdpZnkodGhpcy52YXJpYW50cyB8fCBbXSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5BQ1RJT05fREVGSU5JVElPTlMsIEpTT04uc3RyaW5naWZ5KHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMgfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVF9ERUJVR19JTkZPLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhcmlhbnREZWJ1Z0luZm8gfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVE9LRU4sIHRoaXMudG9rZW4pO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5nZXRWYXJpYWJsZXMoKTtcbiAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2FyZ3NbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVyZ2VkICE9PSB1bmRlZmluZWQgPyB0aGlzLm1lcmdlZCA6IHRoaXMudmFyaWFibGVzO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSB2YXJpYWJsZXM7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5oYXNSZWNlaXZlZERpZmZzKSB7XG4gICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUudHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnNbaV0oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnREZWJ1Z0luZm87XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB2YWx1ZTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZW5kQWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMpLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0VmFycygoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTl9ERUZJTklUSU9OU10gPSB0aGlzLmFjdGlvbkRlZmluaXRpb25zLFxuICAgICAgICAgICAgX2EpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2VuZFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnNldFZhcnMoKF9hID0ge30sXG4gICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WQVJJQUJMRVNdID0gdGhpcy52YXJpYWJsZXMsXG4gICAgICAgICAgICBfYSkpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcnMgPSBmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5ib2R5KEpTT04uc3RyaW5naWZ5KGJvZHkpKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfVkFSUywgYXJncywge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaWZmcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhcmlhbnRzID0gW107XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLm1lcmdlZCA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5yZWdpc3RlckFjdGlvbkRlZmluaXRpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmFjdGlvbkRlZmluaXRpb25zW29wdGlvbnMubmFtZV0gPSBvcHRpb25zVG9EZWZpbml0aW9ucyhvcHRpb25zKTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5sb2FkTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBMb2NhbFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXRGcm9tTG9jYWxTdG9yYWdlKGtleSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2F2ZUxvY2FsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZVRvTG9jYWxTdG9yYWdlKGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFZhckNhY2hlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFZhckNhY2hlO1xuZnVuY3Rpb24gYXJndW1lbnRUcmVlKGFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkge1xuICAgICAgICBpZiAoeC52YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBhY2NbeC5uYW1lXSA9IGFyZ3VtZW50VHJlZSh4LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4LnR5cGUgPT09ICdhY3Rpb24nKSB7XG4gICAgICAgICAgICBhY2NbeC5uYW1lXSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHgudHlwZSA9PT0gJ2NvbG9yJykge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSBWYWx1ZVRyYW5zZm9ybXNfMS5kZWZhdWx0LmVuY29kZUNvbG9yKHgudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSB4LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gYXJndW1lbnRLaW5kcyhhcmdzLCBwcmVmaXgpIHtcbiAgICBpZiAocHJlZml4ID09PSB2b2lkIDApIHsgcHJlZml4ID0gJyc7IH1cbiAgICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IFwiXCIgKyBwcmVmaXggKyB4Lm5hbWU7XG4gICAgICAgIGlmICh4LnZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGFjYyA9IF9fYXNzaWduKChfYSA9IHt9LCBfYVtwcm9wTmFtZV0gPSAnZ3JvdXAnLCBfYSksIGFyZ3VtZW50S2luZHMoeC52YWx1ZSwgcHJvcE5hbWUgKyBcIi5cIikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWNjW3Byb3BOYW1lXSA9IHgudHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gb3B0aW9uc1RvRGVmaW5pdGlvbnMob3B0aW9ucykge1xuICAgIHZhciBkZWZpbml0aW9ucyA9IHtcbiAgICAgICAga2luZDogb3B0aW9ucy5raW5kIHx8IDMsXG4gICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgIHZhbHVlczogYXJndW1lbnRUcmVlKG9wdGlvbnMuYXJncyksXG4gICAgICAgIGtpbmRzOiBhcmd1bWVudEtpbmRzKG9wdGlvbnMuYXJncyksXG4gICAgfTtcbiAgICByZXR1cm4gZGVmaW5pdGlvbnM7XG59XG5mdW5jdGlvbiBtZXJnZUhlbHBlcih2YXJzLCBkaWZmKSB7XG4gICAgaWYgKHR5cGVvZiBkaWZmID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgZGlmZiA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBkaWZmID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICB9XG4gICAgaWYgKGRpZmYgPT09IG51bGwgfHwgZGlmZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB2YXJzO1xuICAgIH1cbiAgICB2YXIgb2JqSXRlcmF0b3IgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBpdGVyYXRlKGYpIHtcbiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGYob2JqW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHNlZW1zIHRvIGJlIGJlc3QgcHJhY3RpY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy83MDcxXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVmbGVjdFxuICAgICAgICAgICAgICAgICAgICBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmKGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgdmFyIHZhcnNJdGVyYXRvciA9IG9iakl0ZXJhdG9yKHZhcnMpO1xuICAgIHZhciBkaWZmSXRlcmF0b3IgPSBvYmpJdGVyYXRvcihkaWZmKTtcbiAgICAvLyBJbmZlciB0aGF0IHRoZSBkaWZmcyBpcyBhbiBhcnJheSBpZiB0aGUgdmFycyB2YWx1ZSBkb2Vzbid0IGV4aXN0IHRvIHRlbGwgdXMgdGhlIHR5cGUuXG4gICAgdmFyIGlzQXJyYXkgPSBmYWxzZTtcbiAgICBpZiAodmFycyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoIShkaWZmIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICBpc0FycmF5ID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAodmFyIGF0dHJpYnV0ZSBpbiBkaWZmKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkaWZmLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5sZW5ndGggPCAzIHx8IGF0dHJpYnV0ZS5jaGFyQXQoMCkgIT09ICdbJyB8fFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuY2hhckF0KGF0dHJpYnV0ZS5sZW5ndGggLSAxKSAhPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE1lcmdlIGFycmF5cy5cbiAgICBpZiAodmFycyBpbnN0YW5jZW9mIEFycmF5IHx8IGlzQXJyYXkpIHtcbiAgICAgICAgdmFyIG1lcmdlZF8xID0gW107XG4gICAgICAgIHZhcnNJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICAgICAgbWVyZ2VkXzEucHVzaChhdHRyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRpZmZJdGVyYXRvcihmdW5jdGlvbiAodmFyU3Vic2NyaXB0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0ID0gcGFyc2VJbnQodmFyU3Vic2NyaXB0LnN1YnN0cmluZygxLCB2YXJTdWJzY3JpcHQubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgdmFyIGRpZmZWYWx1ZSA9IGRpZmZbdmFyU3Vic2NyaXB0XTtcbiAgICAgICAgICAgIHdoaWxlIChzdWJzY3JpcHQgPj0gbWVyZ2VkXzEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkXzEucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lcmdlZF8xW3N1YnNjcmlwdF0gPSBtZXJnZUhlbHBlcihtZXJnZWRfMVtzdWJzY3JpcHRdLCBkaWZmVmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZF8xO1xuICAgIH1cbiAgICAvLyBNZXJnZSBkaWN0aW9uYXJpZXMuXG4gICAgdmFyIG1lcmdlZCA9IHt9O1xuICAgIHZhcnNJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBpZiAoZGlmZlthdHRyXSA9PT0gbnVsbCB8fCBkaWZmW2F0dHJdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1lcmdlZFthdHRyXSA9IHZhcnNbYXR0cl07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBkaWZmSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgbWVyZ2VkW2F0dHJdID0gbWVyZ2VIZWxwZXIodmFycyA9PT0gbnVsbCA/IG51bGwgOiB2YXJzW2F0dHJdIHx8IHt9LCBkaWZmW2F0dHJdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWVyZ2VkO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==