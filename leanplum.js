!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(self,(()=>(()=>{var e={739:function(e){e.exports=function(){"use strict";var e=0;function t(t){return"__private_"+e+++"_"+t}function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}const n="clevertap-prod.com",o="https:";var r=t("accountId"),s=t("region"),a=t("targetDomain"),l=t("dcSdkversion"),c=t("token");class d{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object.defineProperty(this,r,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:""}),Object.defineProperty(this,a,{writable:!0,value:n}),Object.defineProperty(this,l,{writable:!0,value:""}),Object.defineProperty(this,c,{writable:!0,value:""}),this.id=e,t&&(this.region=t),i&&(this.targetDomain=i),o&&(this.token=o)}get id(){return i(this,r)[r]}set id(e){i(this,r)[r]=e}get region(){return i(this,s)[s]}set region(e){i(this,s)[s]=e}get dcSDKVersion(){return i(this,l)[l]}set dcSDKVersion(e){i(this,l)[l]=e}get targetDomain(){return i(this,a)[a]}set targetDomain(e){i(this,a)[a]=e}get token(){return i(this,c)[c]}set token(e){i(this,c)[c]=e}get finalTargetDomain(){return this.region?"".concat(this.region,".").concat(this.targetDomain):this.targetDomain===n?"".concat("eu1",".").concat(this.targetDomain):this.targetDomain}get dataPostPEURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/defineVars")}get dataPostURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/a?t=96")}get recorderURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/r?r=1")}get emailURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/e?r=1")}}const u=new RegExp("^\\s+|\\.|:|\\$|'|\"|\\\\|\\s+$","g"),h=new RegExp("^\\s+|'|\"|\\\\|\\s+$","g"),p=new RegExp("'","g"),g="clear",f="Charged ID",v="WZRK_CHARGED_ID",b="WZRK_G",m="WZRK_K",y="WZRK_CAMP",w="WZRK_CAMP_G",S="WZRK_EV",_="WZRK_META",C="WZRK_PR",k="WZRK_ARP",E="WZRK_L",A="global",I="display",O="optOut",P="useIP",T="WZRK_X",x="isOUL",R="push",M=31536e3,D="cUsY",L="wzrk_",N="wzrk_id",U="Notification Viewed",j="Notification Clicked",F="WZRK_FPU",V="WZRK_PSD",q="$incr",B="$add",z="$remove",H="$delete",K="WZRK_INBOX_CONFIG",W="WZRK_INBOX",G=1e3,Y="wzrk_fetch",J=["Stayed","UTM Visited","App Launched","Notification Sent",U,j],$=e=>"string"==typeof e||e instanceof String,Z=e=>"[object Object]"===Object.prototype.toString.call(e),Q=e=>"object"==typeof e&&e instanceof Date,X=e=>{for(const t in e)if(e.hasOwnProperty(t))return!1;return!0},ee=e=>!isNaN(parseFloat(e))&&isFinite(e),te=e=>/^-?[\d.]+(?:e-?\d+)?$/.test(e)&&"number"==typeof e,ie=e=>null!=e&&"undefined"!==e,ne=(e,t)=>{if("object"!=typeof e){let i;return $(e)?(i=oe(e,h),i.length>1024&&(i=i.substring(0,1024),t.reportError(521,i+"... length exceeded 1024 chars. Trimmed."))):i=e,i}for(const i in e)if(e.hasOwnProperty(i)){const n=ne(e[i],t);let o;o=oe(i,u),o.length>1024&&(o=o.substring(0,1024),t.reportError(520,o+"... length exceeded 1024 chars. Trimmed.")),delete e[i],e[o]=n}return e},oe=(e,t)=>e.replace(t,""),re=()=>{const e=new Date;return e.getFullYear()+""+e.getMonth()+e.getDay()},se=()=>Math.floor((new Date).getTime()/1e3),ae=e=>"$D_"+Math.round(e.getTime()/1e3),le=e=>{if(ce(e))return"$D_"+e},ce=e=>{const t=/^(\d{4})(\d{2})(\d{2})$/.exec(e);if(null==t)return!1;const i=t[3],n=t[2]-1,o=t[1],r=new Date(o,n,i);return r.getDate()==i&&r.getMonth()==n&&r.getFullYear()==o};class de{static save(e,t){return!(!e||!t)&&(this._isLocalStorageSupported()?(localStorage.setItem(e,"string"==typeof t?t:JSON.stringify(t)),!0):void 0)}static read(e){if(!e)return!1;let t=null;if(this._isLocalStorageSupported()&&(t=localStorage.getItem(e)),null!=t)try{t=JSON.parse(t)}catch(e){}return t}static remove(e){return!!e&&(this._isLocalStorageSupported()?(localStorage.removeItem(e),!0):void 0)}static removeCookie(e,t){let i=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";t&&(i=i+" domain="+t+"; path=/"),document.cookie=i}static createCookie(e,t,i,n){let o="",r="";if(i){const e=new Date;e.setTime(e.getTime()+1e3*i),o="; expires="+e.toGMTString()}n&&(r="; domain="+n),t=encodeURIComponent(t),document.cookie=e+"="+t+o+r+"; path=/"}static readCookie(e){const t=e+"=",i=document.cookie.split(";");for(let e=0;e<i.length;e++){let n=i[e];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return null}static _isLocalStorageSupported(){return"localStorage"in window&&null!==window.localStorage&&"function"==typeof window.localStorage.setItem}static saveToLSorCookie(e,t){if(null!=t)try{this._isLocalStorageSupported()?this.save(e,encodeURIComponent(JSON.stringify(t))):e===b?this.createCookie(e,encodeURIComponent(t),0,window.location.hostname):this.createCookie(e,encodeURIComponent(JSON.stringify(t)),0,window.location.hostname),ue.globalCache[e]=t}catch(e){}}static readFromLSorCookie(e){let t;if(ue.globalCache.hasOwnProperty(e))return ue.globalCache[e];if(t=this._isLocalStorageSupported()?this.read(e):this.readCookie(e),null!=t&&("function"!=typeof t.trim||""!==t.trim())){let i;try{i=JSON.parse(decodeURIComponent(t))}catch(e){i=decodeURIComponent(t)}return ue.globalCache[e]=i,i}}static createBroadCookie(e,t,i,n){if(n){let r=ue.broadDomain;if(null==r){const s=n.split(".");let a="";for(let n=s.length-1;n>=0;n--){if(a=0===n?s[n]+a:"."+s[n]+a,this.readCookie(e)){var o="test_"+e+n;if(this.createCookie(o,t,10,a),!this.readCookie(o))continue;this.removeCookie(o,a)}if(this.createCookie(e,t,i,a),this.readCookie(e)==t){r=a,ue.broadDomain=r;break}}}else this.createCookie(e,t,i,r)}else this.createCookie(e,t,i,n)}static getMetaProp(e){const t=this.readFromLSorCookie(_);if(null!=t)return t[e]}static setMetaProp(e,t){if(this._isLocalStorageSupported()){let i=this.readFromLSorCookie(_);null==i&&(i={}),void 0===t?delete i[e]:i[e]=t,this.saveToLSorCookie(_,i)}}static getAndClearMetaProp(e){const t=this.getMetaProp(e);return this.setMetaProp(e,void 0),t}static setInstantDeleteFlagInK(){let e=this.readFromLSorCookie(m);null==e&&(e={}),e.flag=!0,this.saveToLSorCookie(m,e)}static backupEvent(e,t,i){let n=this.readFromLSorCookie(E);void 0===n&&(n={}),n[t]={q:e},this.saveToLSorCookie(E,n),i.debug("stored in ".concat(E," reqNo : ").concat(t," -> ").concat(e))}static removeBackup(e,t){const i=this.readFromLSorCookie(E);null!=i&&void 0!==i[e]&&(t.debug("del event: ".concat(e," data-> ").concat(i[e].q)),delete i[e],this.saveToLSorCookie(E,i))}}const ue={globalCache:{gcookie:null,REQ_N:0,RESP_N:0},LRU_CACHE:null,globalProfileMap:void 0,globalEventsMap:void 0,blockRequest:!1,isOptInRequest:!1,broadDomain:null,webPushEnabled:null,campaignDivMap:{},currentSessionId:null,wiz_counter:0,notifApi:{notifEnabledFromApi:!1},unsubGroups:[],updatedCategoryLong:null,inbox:null,isPrivacyArrPushed:!1,privacyArray:[],offline:!1,location:null,dismissSpamControl:!1,globalUnsubscribe:!0,flutterVersion:null,variableStore:{}};var he=t("keyOrder"),pe=t("deleteFromObject");class ge{constructor(e){Object.defineProperty(this,pe,{value:fe}),Object.defineProperty(this,he,{writable:!0,value:void 0}),this.max=e;let t=de.readFromLSorCookie(T);if(t){const e={};i(this,he)[he]=[],t=t.cache;for(const n in t)t.hasOwnProperty(n)&&(e[t[n][0]]=t[n][1],i(this,he)[he].push(t[n][0]));this.cache=e}else this.cache={},i(this,he)[he]=[]}get(e){const t=this.cache[e];return t&&(this.cache=i(this,pe)[pe](e,this.cache),this.cache[e]=t,i(this,he)[he].push(e)),this.saveCacheToLS(this.cache),t}set(e,t){const n=this.cache[e],o=i(this,he)[he];null!=n?this.cache=i(this,pe)[pe](e,this.cache):o.length===this.max&&(this.cache=i(this,pe)[pe](o[0],this.cache)),this.cache[e]=t,i(this,he)[he][i(this,he)[he]-1]!==e&&i(this,he)[he].push(e),this.saveCacheToLS(this.cache)}saveCacheToLS(e){const t=[],n=i(this,he)[he];for(const i in n)if(n.hasOwnProperty(i)){const o=[];o.push(n[i]),o.push(e[n[i]]),t.push(o)}de.saveToLSorCookie(T,{cache:t})}getKey(e){if(null===e)return null;const t=i(this,he)[he];for(const i in t)if(t.hasOwnProperty(i)&&this.cache[t[i]]===e)return t[i];return null}getSecondLastKey(){const e=i(this,he)[he];return null!=e&&e.length>1?e[e.length-2]:-1}getLastKey(){const e=i(this,he)[he].length;if(e)return i(this,he)[he][e-1]}}var fe=function(e,t){const n=JSON.parse(JSON.stringify(i(this,he)[he])),o={};let r;for(const i in n)n.hasOwnProperty(i)&&(n[i]!==e?o[n[i]]=t[n[i]]:r=i);return n.splice(r,1),i(this,he)[he]=JSON.parse(JSON.stringify(n)),o},ve=t("logger"),be=t("request"),me=t("device"),ye=t("session");class we{constructor(e){let{logger:t,request:n,device:o,session:r}=e;Object.defineProperty(this,ve,{writable:!0,value:void 0}),Object.defineProperty(this,be,{writable:!0,value:void 0}),Object.defineProperty(this,me,{writable:!0,value:void 0}),Object.defineProperty(this,ye,{writable:!0,value:void 0}),i(this,ve)[ve]=t,i(this,be)[be]=n,i(this,me)[me]=o,i(this,ye)[ye]=r}s(e,t,n,o,r){let s=!1,a=!1;if(window.isOULInProgress&&(n||"undefined"!==o&&o===window.oulReqN)&&(window.isOULInProgress=!1,s=!0),void 0===o&&(o=0),de.removeBackup(o,i(this,ve)[ve]),o>ue.globalCache.REQ_N)return;if(ie(i(this,me)[me].gcookie)||e&&(a=!0),!ie(i(this,me)[me].gcookie)||n||"boolean"==typeof r){const o=i(this,ye)[ye].getSessionCookieObject();if(window.isOULInProgress||o.s&&t<o.s)return;if(i(this,ve)[ve].debug("Cookie was ".concat(i(this,me)[me].gcookie," set to ").concat(e)),i(this,me)[me].gcookie=e,ie(i(this,me)[me].gcookie)||de.getAndClearMetaProp(P),e&&de._isLocalStorageSupported()){null==ue.LRU_CACHE&&(ue.LRU_CACHE=new ge(100));const t=de.readFromLSorCookie(m);let o;null!=t&&t.id&&(o=ue.LRU_CACHE.cache[t.id],n&&(o||(de.saveToLSorCookie(F,!0),ue.LRU_CACHE.set(t.id,e)))),de.saveToLSorCookie(b,e);const r=ue.LRU_CACHE.getSecondLastKey();if(de.readFromLSorCookie(F)&&-1!==r){const e=ue.LRU_CACHE.cache[r];i(this,be)[be].unregisterTokenForGuid(e)}}de.createBroadCookie(b,e,M,window.location.hostname),de.saveToLSorCookie(b,e)}de._isLocalStorageSupported()&&i(this,ye)[ye].manageSession(t);const l=i(this,ye)[ye].getSessionCookieObject();(void 0===l.s||l.s<=t)&&(l.s=t,l.t=se(),i(this,ye)[ye].setSessionCookieObject(l)),ie(i(this,me)[me].gcookie)&&(ue.blockRequest=!1),!s&&!a||i(this,be)[be].processingBackup||i(this,be)[be].processBackupEvents(),ue.globalCache.RESP_N=o}}var Se=t("logger");class _e{constructor(e){let{logger:t}=e;Object.defineProperty(this,Se,{writable:!0,value:void 0}),this.gcookie=void 0,i(this,Se)[Se]=t,this.gcookie=this.getGuid()}getGuid(){let e=null;if(ie(this.gcookie))return this.gcookie;if(de._isLocalStorageSupported()){const t=de.read(b);if(ie(t)){try{e=JSON.parse(decodeURIComponent(t))}catch(n){i(this,Se)[Se].debug("Cannot parse Gcookie from localstorage - must be encoded "+t),32===t.length?(e=t,de.saveToLSorCookie(b,t)):i(this,Se)[Se].error("Illegal guid "+t)}ie(e)&&de.createBroadCookie(b,e,M,window.location.hostname)}}return ie(e)||(e=de.readCookie(b),!ie(e)||0!==e.indexOf("%")&&0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=null),ie(e)&&de.saveToLSorCookie(b,e)),e}}const Ce="This property has been ignored.",ke="CleverTap error:",Ee="".concat(ke," Incorrect embed script."),Ae="".concat(ke," Event structure not valid. ").concat(Ce),Ie="".concat(ke," Gender value should be either M or F. ").concat(Ce),Oe="".concat(ke," Employed value should be either Y or N. ").concat(Ce),Pe="".concat(ke," Married value should be either Y or N. ").concat(Ce),Te="".concat(ke," Education value should be either School, College or Graduate. ").concat(Ce),xe="".concat(ke," Age value should be a number. ").concat(Ce),Re="".concat(ke," DOB value should be a Date Object"),Me="".concat(ke," setEnum(value). value should be a string or a number"),De="".concat(ke," Phone number should be formatted as +[country code][number]");let Le;const Ne=e=>{if(Z(e)){for(var t in e)if(e.hasOwnProperty(t)){if(Z(e[t])||Array.isArray(e[t]))return!1;Q(e[t])&&(e[t]=ae(e[t]))}return!0}return!1},Ue=(e,t)=>{if(Z(e)){for(var i in e)if(e.hasOwnProperty(i))if("Items"===i){if(!Array.isArray(e[i]))return!1;for(var n in e[i].length>50&&t.reportError(522,"Charged Items exceed 50 limit. Actual count: "+e[i].length),e[i])if(e[i].hasOwnProperty(n)&&(!Z(e[i][n])||!Ne(e[i][n])))return!1}else{if(Z(e[i])||Array.isArray(e[i]))return!1;Q(e[i])&&(e[i]=ae(e[i]))}if($(e[f])||te(e[f])){const i=e[f]+"";if(void 0===Le&&(Le=de.readFromLSorCookie(v)),void 0!==Le&&Le.trim()===i.trim())return t.error("Duplicate charged Id - Dropped"+e),!1;Le=i,de.saveToLSorCookie(v,i)}return!0}return!1};var je=t("logger"),Fe=t("oldValues"),Ve=t("request"),qe=t("isPersonalisationActive"),Be=t("processEventArray");class ze extends Array{constructor(e,t){let{logger:n,request:o,isPersonalisationActive:r}=e;super(),Object.defineProperty(this,Be,{value:He}),Object.defineProperty(this,je,{writable:!0,value:void 0}),Object.defineProperty(this,Fe,{writable:!0,value:void 0}),Object.defineProperty(this,Ve,{writable:!0,value:void 0}),Object.defineProperty(this,qe,{writable:!0,value:void 0}),i(this,je)[je]=n,i(this,Fe)[Fe]=t,i(this,Ve)[Ve]=o,i(this,qe)[qe]=r}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,Be)[Be](t),0}_processOldValues(){i(this,Fe)[Fe]&&i(this,Be)[Be](i(this,Fe)[Fe]),i(this,Fe)[Fe]=null}getDetails(e){if(!i(this,qe)[qe]())return;if(void 0===ue.globalEventsMap&&(ue.globalEventsMap=de.readFromLSorCookie(S)),void 0===ue.globalEventsMap)return;const t=ue.globalEventsMap[e],n={};return void 0!==t?(n.firstTime=new Date(1e3*t[1]),n.lastTime=new Date(1e3*t[2]),n.count=t[0],n):void 0}}var He=function(e){if(Array.isArray(e))for(;e.length>0;){var t=e.shift();if(!$(t)){i(this,je)[je].error(Ae);continue}if(t.length>1024&&(t=t.substring(0,1024),i(this,je)[je].reportError(510,t+"... length exceeded 1024 chars. Trimmed.")),J.includes(t)){i(this,je)[je].reportError(513,t+" is a restricted system event. It cannot be used as an event name.");continue}const n={type:"event"};if(n.evtName=oe(t,u),0!==e.length){const o=e.shift();if(Z(o)){if("Charged"===t){if(!Ue(o,i(this,je)[je])){i(this,je)[je].reportError(511,"Charged event structure invalid. Not sent.");continue}}else if(!Ne(o)){i(this,je)[je].reportError(512,t+" event structure invalid. Not sent.");continue}n.evtData=o}else e.unshift(o)}i(this,Ve)[Ve].processEvent(n)}};const Ke=e=>{const t={},i=e.indexOf("?");if(i>1){const n=e.substring(i+1);let o;const r=/\+/g,s=/([^&=]+)=?([^&]*)/g,a=function(e){let t=e.replace(r," ");try{t=decodeURIComponent(t)}catch(e){}return t};for(o=s.exec(n);o;)t[a(o[1])]=a(o[2]),o=s.exec(n)}return t},We=(e,t,i)=>e+"&"+t+"="+encodeURIComponent(i),Ge=()=>window.location.hostname,Ye=(e,t)=>(t&&"function"==typeof t.debug&&t.debug("dobj:"+e),$e(e)),Je=(()=>{let e="",t=0;for(t=0;t<=25;t++)e+=String.fromCharCode(t+65);for(t=0;t<=25;t++)e+=String.fromCharCode(t+97);for(t=0;t<10;t++)e+=t;return e+"+/="})(),$e=e=>{if(null==e)return"";var t,i,n,o,r,s,a,l="",c=0;for(e=(e=>{if(null==e)return"";let t,i,n,o={},r={},s="",a="",l="",c=2,d=3,u=2,h="",p=0,g=0,f=String.fromCharCode;for(n=0;n<e.length;n+=1)if(s=e.charAt(n),Object.prototype.hasOwnProperty.call(o,s)||(o[s]=d++,r[s]=!0),a=l+s,Object.prototype.hasOwnProperty.call(o,a))l=a;else{if(Object.prototype.hasOwnProperty.call(r,l)){if(l.charCodeAt(0)<256){for(t=0;t<u;t++)p<<=1,15==g?(g=0,h+=f(p),p=0):g++;for(i=l.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}else{for(i=1,t=0;t<u;t++)p=p<<1|i,15==g?(g=0,h+=f(p),p=0):g++,i=0;for(i=l.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}c--,0==c&&(c=Math.pow(2,u),u++),delete r[l]}else for(i=o[l],t=0;t<u;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1;c--,0==c&&(c=Math.pow(2,u),u++),o[a]=d++,l=String(s)}if(""!==l){if(Object.prototype.hasOwnProperty.call(r,l)){if(l.charCodeAt(0)<256){for(t=0;t<u;t++)p<<=1,15==g?(g=0,h+=f(p),p=0):g++;for(i=l.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}else{for(i=1,t=0;t<u;t++)p=p<<1|i,15==g?(g=0,h+=f(p),p=0):g++,i=0;for(i=l.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}c--,0==c&&(c=Math.pow(2,u),u++),delete r[l]}else for(i=o[l],t=0;t<u;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1;c--,0==c&&(c=Math.pow(2,u),u++)}for(i=2,t=0;t<u;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1;for(;;){if(p<<=1,15==g){h+=f(p);break}g++}return h})(e);c<2*e.length;)c%2==0?(t=e.charCodeAt(c/2)>>8,i=255&e.charCodeAt(c/2),n=c/2+1<e.length?e.charCodeAt(c/2+1)>>8:NaN):(t=255&e.charCodeAt((c-1)/2),(c+1)/2<e.length?(i=e.charCodeAt((c+1)/2)>>8,n=255&e.charCodeAt((c+1)/2)):i=n=NaN),c+=3,o=t>>2,r=(3&t)<<4|i>>4,s=(15&i)<<2|n>>6,a=63&n,isNaN(i)?s=a=64:isNaN(n)&&(a=64),l=l+Je.charAt(o)+Je.charAt(r)+Je.charAt(s)+Je.charAt(a);return l};var Ze=t("fireRequest"),Qe=t("dropRequestDueToOptOut"),Xe=t("addUseIPToRequest"),et=t("addARPToRequest");class tt{constructor(){this.networkRetryCount=0,this.minDelayFrequency=0}static fireRequest(e,t,n,o){i(this,Ze)[Ze](e,1,t,n,o)}getDelayFrequency(){if(this.logger.debug("Network retry #"+this.networkRetryCount),this.networkRetryCount<10)return this.logger.debug(this.account.id,"Failure count is "+this.networkRetryCount+". Setting delay frequency to 1s"),this.minDelayFrequency=G,this.minDelayFrequency;if(null==this.account.region)return this.logger.debug(this.account.id,"Setting delay frequency to 1s"),G;{const e=1e3*(Math.floor(10*Math.random())+1);return this.minDelayFrequency+=e,this.minDelayFrequency<6e5?(this.logger.debug(this.account.id,"Setting delay frequency to "+this.minDelayFrequency),this.minDelayFrequency):(this.minDelayFrequency=G,this.logger.debug(this.account.id,"Setting delay frequency to "+this.minDelayFrequency),this.minDelayFrequency)}}}tt.logger=void 0,tt.device=void 0,tt.account=void 0,Object.defineProperty(tt,Ze,{value:function(e,t,n,o,r){var s,a;if(i(this,Qe)[Qe]())return void this.logger.debug("req dropped due to optout cookie: "+this.device.gcookie);if(ie(this.device.gcookie)||(ue.blockRequest=!0),r&&r===Y)!ie(this.device.gcookie)&&ue.globalCache.RESP_N<ue.globalCache.REQ_N-1&&setTimeout((()=>{this.logger.debug("retrying fire request for url: ".concat(e,", tries: ").concat(this.networkRetryCount)),i(this,Ze)[Ze](e,void 0,n,o)}),this.getDelayFrequency());else if(!ie(this.device.gcookie)&&ue.globalCache.RESP_N<ue.globalCache.REQ_N-1&&t<200)return void setTimeout((()=>{this.logger.debug("retrying fire request for url: ".concat(e,", tries: ").concat(t)),i(this,Ze)[Ze](e,t+1,n,o)}),50);if(o?window.isOULInProgress=!0:(ie(this.device.gcookie)&&(e=We(e,"gc",this.device.gcookie)),e=i(this,et)[et](e,n)),e=We(e,"tries",t),e=i(this,Xe)[Xe](e),e=We(e,"r",(new Date).getTime()),(null===(s=window.clevertap)||void 0===s?void 0:s.hasOwnProperty("plugin"))||(null===(a=window.wizrocket)||void 0===a?void 0:a.hasOwnProperty("plugin"))){const t=window.clevertap.plugin||window.wizrocket.plugin;e=We(e,"ct_pl",t)}-1!==e.indexOf("chrome-extension:")&&(e=e.replace("chrome-extension:","https:"));for(var l=document.getElementsByClassName("ct-jp-cb");l[0]&&l[0].parentNode;)l[0].parentNode.removeChild(l[0]);const c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",e),c.setAttribute("class","ct-jp-cb"),c.setAttribute("rel","nofollow"),c.async=!0,document.getElementsByTagName("head")[0].appendChild(c),this.logger.debug("req snt -> url: "+e)}}),Object.defineProperty(tt,Qe,{value:function(){return!ue.isOptInRequest&&ie(this.device.gcookie)&&$(this.device.gcookie)?":OO"===this.device.gcookie.slice(-3):(ue.isOptInRequest=!1,!1)}}),Object.defineProperty(tt,Xe,{value:function(e){var t=de.getMetaProp(P);return"boolean"!=typeof t&&(t=!1),We(e,P,t?"true":"false")}}),Object.defineProperty(tt,et,{value:function(e,t){if(!0===t){const t={skipResARP:!0};return We(e,"arp",Ye(JSON.stringify(t),this.logger))}return de._isLocalStorageSupported()&&void 0!==localStorage.getItem(k)&&null!==localStorage.getItem(k)?We(e,"arp",Ye(JSON.stringify(de.readFromLSorCookie(k)),this.logger)):e}});const it=()=>{let e={};if(de._isLocalStorageSupported()){let t=de.read(y);null!=t?(t=JSON.parse(decodeURIComponent(t).replace(p,'"')),t.hasOwnProperty("global")?e.wp=t:e=t):e={}}return e},nt=e=>{if(de._isLocalStorageSupported()){const t={...it(),...e},i=JSON.stringify(t);de.save(y,encodeURIComponent(i)),ot()}},ot=()=>{if(de._isLocalStorageSupported()){let i=de.read(b);if(ie(i))try{i=JSON.parse(decodeURIComponent(de.read(b)));const n=de.read(w)?JSON.parse(decodeURIComponent(de.read(w))):{};if(i&&de._isLocalStorageSupported()){var e={},t=it();Object.keys(t).forEach((o=>{const r=i in n&&Object.keys(n[i]).length&&n[i][o]?n[i][o]:{},s=t[o].global,a=re(),l=t[o][a];if(void 0!==s){const e=Object.keys(s);for(const t in e){let i=[];if(e.hasOwnProperty(t)){let n=0,o=0;const a=e[t];if("tc"===a)continue;void 0!==l&&void 0!==l[a]&&(n=l[a]),void 0!==s&&void 0!==s[a]&&(o=s[a]),i=[a,n,o],r[a]=i}}}e={...e,[o]:r}})),n[i]=e,de.save(w,encodeURIComponent(JSON.stringify(n)))}}catch(e){console.error("Invalid clevertap Id "+e)}}},rt=()=>{const e=JSON.parse(decodeURIComponent(de.read(b)));let t={};if(de._isLocalStorageSupported()){let i={};t=it();const n=de.read(w),o=n?decodeURIComponent(n):null,r=o?JSON.parse(o):null,s=e&&null!=n&&r&&r[e]&&r[e].wp?Object.values(r[e].wp):[],a=e&&null!=n&&r&&r[e]&&r[e].wi?Object.values(r[e].wi):[],l=re();let c=0,d=0;return t.wp&&t.wp[l]&&"undefined"!==t.wp[l].tc&&(c=t.wp[l].tc),t.wi&&t.wi[l]&&"undefined"!==t.wi[l].tc&&(d=t.wi[l].tc),i={wmp:c,wimp:d,tlc:s,witlc:a},i}},st=(e,t)=>{let{logger:i}=t,n=!1;if(Z(e))for(const t in e)if(e.hasOwnProperty(t)){n=!0;let o=e[t];if(null==o){delete e[t];continue}"Gender"!==t||o.match(/^M$|^F$/)||(n=!1,i.error(Ie)),"Employed"!==t||o.match(/^Y$|^N$/)||(n=!1,i.error(Oe)),"Married"!==t||o.match(/^Y$|^N$/)||(n=!1,i.error(Pe)),"Education"!==t||o.match(/^School$|^College$|^Graduate$/)||(n=!1,i.error(Te)),"Age"===t&&null!=o&&(ee(o)?e.Age=+o:(n=!1,i.error(xe))),"DOB"===t?(/^\$D_/.test(o)&&11===(o+"").length||Q(o)||(n=!1,i.error(Re)),Q(o)&&(e[t]=ae(o))):Q(o)&&(e[t]=ae(o)),"Phone"!==t||X(o)||(o.length>8&&"+"===o.charAt(0)?(o=o.substring(1,o.length),ee(o)?e.Phone=+o:(n=!1,i.error(De+". Removed."))):(n=!1,i.error(De+". Removed."))),n||delete e[t]}return n},at=e=>{const t={};t.Name=e.name,null!=e.id&&(t.FBID=e.id+""),"male"===e.gender?t.Gender="M":"female"===e.gender?t.Gender="F":t.Gender="O";null!=e.relationship_status&&(t.Married="N","Married"===e.relationship_status&&(t.Married="Y"));const i=function(e){if(null!=e){let t="",i="";for(let n=0;n<e.length;n++){const o=e[n];if(null!=o.type){const e=o.type;if("Graduate School"===e)return"Graduate";"College"===e?t="1":"High School"===e&&(i="1")}}if("1"===t)return"College";if("1"===i)return"School"}}(e.education);null!=i&&(t.Education=i);const n=null!=e.work?e.work.length:0;if(t.Employed=n>0?"Y":"N",null!=e.email&&(t.Email=e.email),null!=e.birthday){const i=e.birthday.split("/");t.DOB=le(i[2]+i[0]+i[1])}return t},lt=(e,t)=>{let{logger:i}=t;const n={};if(null!=e.displayName&&(n.Name=e.displayName),null!=e.id&&(n.GPID=e.id+""),null!=e.gender&&("male"===e.gender?n.Gender="M":"female"===e.gender?n.Gender="F":"other"===e.gender&&(n.Gender="O")),null!=e.image&&!1===e.image.isDefault&&(n.Photo=e.image.url.split("?sz")[0]),null!=e.emails)for(let t=0;t<e.emails.length;t++){const i=e.emails[t];"account"===i.type&&(n.Email=i.value)}if(null!=e.organizations){n.Employed="N";for(let t=0;t<e.organizations.length;t++)"work"===e.organizations[t].type&&(n.Employed="Y")}if(null!=e.birthday){const t=e.birthday.split("-");n.DOB=le(t[0]+t[1]+t[2])}return null!=e.relationshipStatus&&(n.Married="N","married"===e.relationshipStatus&&(n.Married="Y")),i.debug("gplus usr profile "+JSON.stringify(n)),n},ct=(e,t)=>{if(de._isLocalStorageSupported()){if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C),null==ue.globalProfileMap&&(ue.globalProfileMap={})),null!=e._custom){const t=e._custom;for(const i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);delete e._custom}for(const i in e)if(e.hasOwnProperty(i)){if(ue.globalProfileMap.hasOwnProperty(i)&&!t)continue;ue.globalProfileMap[i]=e[i]}null!=ue.globalProfileMap._custom&&delete ue.globalProfileMap._custom,de.saveToLSorCookie(C,ue.globalProfileMap)}},dt=(e,t,i)=>{if(null!=e&&"-1"!==e&&de._isLocalStorageSupported()){const t=it();let n=t.wp[i];null==n&&(n={},t[i]=n),n[e]="dnd",nt(t)}if(null!=ue.campaignDivMap){const t=ue.campaignDivMap[e];null!=t&&(document.getElementById(t).style.display="none","intentPreview"===t&&null!=document.getElementById("intentOpacityDiv")&&(document.getElementById("intentOpacityDiv").style.display="none"))}};var ut=t("logger"),ht=t("request"),pt=t("account"),gt=t("oldValues"),ft=t("isPersonalisationActive"),vt=t("processProfileArray");class bt extends Array{constructor(e,t){let{logger:n,request:o,account:r,isPersonalisationActive:s}=e;super(),Object.defineProperty(this,vt,{value:mt}),Object.defineProperty(this,ut,{writable:!0,value:void 0}),Object.defineProperty(this,ht,{writable:!0,value:void 0}),Object.defineProperty(this,pt,{writable:!0,value:void 0}),Object.defineProperty(this,gt,{writable:!0,value:void 0}),Object.defineProperty(this,ft,{writable:!0,value:void 0}),i(this,ut)[ut]=n,i(this,ht)[ht]=o,i(this,pt)[pt]=r,i(this,gt)[gt]=t,i(this,ft)[ft]=s}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,vt)[vt](t),0}_processOldValues(){i(this,gt)[gt]&&i(this,vt)[vt](i(this,gt)[gt]),i(this,gt)[gt]=null}getAttribute(e){if(i(this,ft)[ft]())return null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),null!=ue.globalProfileMap?ue.globalProfileMap[e]:void 0}_handleIncrementDecrementValue(e,t,n){var o;if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),null!=ue.globalProfileMap||(null===(o=ue.globalProfileMap)||void 0===o?void 0:o.hasOwnProperty(e)))if(!t||"number"!=typeof t||t<=0)console.error("Value should be a number greater than 0");else{ue.globalProfileMap[e]=n===q?ue.globalProfileMap[e]+t:ue.globalProfileMap[e]-t,de.saveToLSorCookie(C,ue.globalProfileMap);let o={};const r={};o.type="profile",r[e]={[n]:t},null==r.tz&&(r.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),o.profile=r,o=i(this,ht)[ht].addSystemDataToObject(o,!0),i(this,ht)[ht].addFlags(o);const s=Ye(JSON.stringify(o),i(this,ut)[ut]);let a=i(this,pt)[pt].dataPostURL;a=We(a,"type",R),a=We(a,"d",s),i(this,ht)[ht].saveAndFireRequest(a,ue.blockRequest)}else console.error("Kindly create profile with required proprty to increment/decrement.")}_handleMultiValueSet(e,t,i){const n=[];for(let e=0;e<t.length;e++)"number"!=typeof t[e]||n.includes(t[e])?"string"!=typeof t[e]||n.includes(t[e].toLowerCase())?console.error("array supports only string or number type values"):n.push(t[e].toLowerCase()):n.push(t[e]);var o;null==ue.globalProfileMap&&(ue.globalProfileMap=null!==(o=de.readFromLSorCookie(C))&&void 0!==o?o:{}),ue.globalProfileMap[e]=n,de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,t,i)}_handleMultiValueAdd(e,t,i){var n=[];if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)||{}),"string"==typeof t||"number"==typeof t)ue.globalProfileMap.hasOwnProperty(e)?(n=ue.globalProfileMap[e]).push("number"==typeof t?t:t.toLowerCase()):ue.globalProfileMap[e]=t;else{ue.globalProfileMap.hasOwnProperty(e)&&(n=Array.isArray(ue.globalProfileMap[e])?ue.globalProfileMap[e]:[ue.globalProfileMap[e]]);for(var o=0;o<t.length;o++)"number"!=typeof t[o]||n.includes(t[o])?"string"!=typeof t[o]||n.includes(t[o].toLowerCase())?"number"==typeof t[o]&&n.includes(t[o])||"string"==typeof t[o]&&n.includes(t[o].toLowerCase())?console.error("Values already included"):console.error("Array supports only string or number type values"):n.push(t[o].toLowerCase()):n.push(t[o]);ue.globalProfileMap[e]=n}de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,t,i)}_handleMultiValueRemove(e,t,i){var n;if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),null==ue||null===(n=ue.globalProfileMap)||void 0===n?void 0:n.hasOwnProperty(e))if("string"==typeof t||"number"==typeof t){var o=ue.globalProfileMap[e].indexOf(t);-1!==o&&ue.globalProfileMap[e].splice(o,1)}else for(var r=0;r<t.length;r++){var s=ue.globalProfileMap[e].indexOf(t[r]);-1!==s&&ue.globalProfileMap[e].splice(s,1)}else console.error("The property ".concat(e," does not exist."));de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,t,i)}_handleMultiValueDelete(e,t){var i;null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),(null==ue||null===(i=ue.globalProfileMap)||void 0===i?void 0:i.hasOwnProperty(e))?delete ue.globalProfileMap[e]:console.error("The property ".concat(e," does not exist.")),de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,null,t)}sendMultiValueData(e,t,n){let o={};const r={};o.type="profile",r[e]={[n]:n===H||t},null==r.tz&&(r.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),o.profile=r,o=i(this,ht)[ht].addSystemDataToObject(o,!0),i(this,ht)[ht].addFlags(o);const s=Ye(JSON.stringify(o),i(this,ut)[ut]);let a=i(this,pt)[pt].dataPostURL;a=We(a,"type",R),a=We(a,"d",s),i(this,ht)[ht].saveAndFireRequest(a,ue.blockRequest)}}var mt=function(e){if(Array.isArray(e)&&e.length>0)for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];let o,r={};if(null!=n.Site){if(o=n.Site,X(o)||!st(o,{logger:i(this,ut)[ut]}))return}else if(null!=n.Facebook){const e=n.Facebook;X(e)||e.error||(o=at(e))}else if(null!=n["Google Plus"]){const e=n["Google Plus"];X(e)||e.error||(o=lt(e,{logger:i(this,ut)[ut]}))}if(null!=o&&!X(o)){r.type="profile",null==o.tz&&(o.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),r.profile=o,ct(o,!0),r=i(this,ht)[ht].addSystemDataToObject(r,void 0),i(this,ht)[ht].addFlags(r);const e=Ye(JSON.stringify(r),i(this,ut)[ut]);let t=i(this,pt)[pt].dataPostURL;t=We(t,"type",R),t=We(t,"d",e),i(this,ht)[ht].saveAndFireRequest(t,ue.blockRequest)}}},yt=t("request"),wt=t("logger"),St=t("account"),_t=t("session"),Ct=t("oldValues"),kt=t("device"),Et=t("processOUL"),At=t("handleCookieFromCache"),It=t("deleteUser"),Ot=t("processLoginArray");class Pt extends Array{constructor(e,t){let{request:n,account:o,session:r,logger:s,device:a}=e;super(),Object.defineProperty(this,Ot,{value:Mt}),Object.defineProperty(this,It,{value:Rt}),Object.defineProperty(this,At,{value:xt}),Object.defineProperty(this,Et,{value:Tt}),Object.defineProperty(this,yt,{writable:!0,value:void 0}),Object.defineProperty(this,wt,{writable:!0,value:void 0}),Object.defineProperty(this,St,{writable:!0,value:void 0}),Object.defineProperty(this,_t,{writable:!0,value:void 0}),Object.defineProperty(this,Ct,{writable:!0,value:void 0}),Object.defineProperty(this,kt,{writable:!0,value:void 0}),i(this,yt)[yt]=n,i(this,St)[St]=o,i(this,_t)[_t]=r,i(this,wt)[wt]=s,i(this,Ct)[Ct]=t,i(this,kt)[kt]=a}clear(){i(this,wt)[wt].debug("clear called. Reset flag has been set."),i(this,It)[It](),de.setMetaProp(g,!0)}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,Ot)[Ot](t),0}_processOldValues(){i(this,Ct)[Ct]&&i(this,Ot)[Ot](i(this,Ct)[Ct]),i(this,Ct)[Ct]=null}}var Tt=function(e){let t=!0;de.saveToLSorCookie(F,t);const n=e=>{let n=de.readFromLSorCookie(m);const o=de.readFromLSorCookie(b);let r;if(null==n)n={},r=e;else{r=n.id;let s=!1,a=!1;if(null==r&&(r=e[0],s=!0),null==ue.LRU_CACHE&&de._isLocalStorageSupported()&&(ue.LRU_CACHE=new ge(100)),s)null!=o&&(ue.LRU_CACHE.set(r,o),ue.blockRequest=!1);else for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];if(ue.LRU_CACHE.cache[i]){r=i,a=!0;break}}if(a){r!==ue.LRU_CACHE.getLastKey()?i(this,At)[At]():(t=!1,de.saveToLSorCookie(F,t));const e=ue.LRU_CACHE.get(r);ue.LRU_CACHE.set(r,e),de.saveToLSorCookie(b,e),i(this,kt)[kt].gcookie=e;const n=ue.LRU_CACHE.getSecondLastKey();if(de.readFromLSorCookie(F)&&-1!==n){const e=ue.LRU_CACHE.cache[n];i(this,yt)[yt].unregisterTokenForGuid(e)}}else s?null!=o&&(i(this,kt)[kt].gcookie=o,de.saveToLSorCookie(b,o),t=!1):this.clear(),de.saveToLSorCookie(F,!1),r=e[0]}n.id=r,de.saveToLSorCookie(m,n)};if(Array.isArray(e)&&e.length>0)for(const o in e)if(e.hasOwnProperty(o)){const r=e[o];let s,a={};if(null!=r.Site){if(s=r.Site,X(s)||!st(s,{logger:i(this,wt)[wt]}))return}else if(null!=r.Facebook){const e=r.Facebook;X(e)||e.error||(s=at(e))}else if(null!=r["Google Plus"]){const e=r["Google Plus"];X(e)&&!e.error&&(s=lt(e,{logger:i(this,wt)[wt]}))}if(null!=s&&!X(s)){a.type="profile",null==s.tz&&(s.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),a.profile=s;const e=[];de._isLocalStorageSupported()&&(s.Identity&&e.push(s.Identity),s.Email&&e.push(s.Email),s.GPID&&e.push("GP:"+s.GPID),s.FBID&&e.push("FB:"+s.FBID),e.length>0&&n(e)),ct(s,!0),a=i(this,yt)[yt].addSystemDataToObject(a,void 0),i(this,yt)[yt].addFlags(a),t&&(a[x]=!0);const o=Ye(JSON.stringify(a),i(this,wt)[wt]);let r=i(this,St)[St].dataPostURL;r=We(r,"type",R),r=We(r,"d",o),i(this,yt)[yt].saveAndFireRequest(r,ue.blockRequest,t)}}},xt=function(){ue.blockRequest=!1,console.debug("Block request is false"),de._isLocalStorageSupported()&&(delete localStorage[C],delete localStorage[S],delete localStorage[_],delete localStorage[k],delete localStorage[y],delete localStorage[v]),de.removeCookie(y,Ge()),de.removeCookie(i(this,_t)[_t].cookieName,ue.broadDomain),de.removeCookie(k,ue.broadDomain),i(this,_t)[_t].setSessionCookieObject("")},Rt=function(){ue.blockRequest=!0,i(this,wt)[wt].debug("Block request is true"),ue.globalCache={gcookie:null,REQ_N:0,RESP_N:0},de._isLocalStorageSupported()&&(delete localStorage[b],delete localStorage[m],delete localStorage[C],delete localStorage[S],delete localStorage[_],delete localStorage[k],delete localStorage[y],delete localStorage[v]),de.removeCookie(b,ue.broadDomain),de.removeCookie(y,Ge()),de.removeCookie(m,Ge()),de.removeCookie(i(this,_t)[_t].cookieName,ue.broadDomain),de.removeCookie(k,ue.broadDomain),i(this,kt)[kt].gcookie=null,i(this,_t)[_t].setSessionCookieObject("")},Mt=function(e){if(Array.isArray(e)&&e.length>0){const t=e.pop();if(null!=t&&Z(t)&&(null!=t.Site&&Object.keys(t.Site).length>0||null!=t.Facebook&&Object.keys(t.Facebook).length>0||null!=t["Google Plus"]&&Object.keys(t["Google Plus"]).length>0)){de.setInstantDeleteFlagInK();try{i(this,Et)[Et]([t])}catch(e){i(this,wt)[wt].debug(e)}}else i(this,wt)[wt].error("Profile object is in incorrect format")}};class Dt extends HTMLElement{constructor(){super(),this._details=null,this.shadow=null,this.shadow=this.attachShadow({mode:"open"})}get details(){return this._details||""}set details(e){null===this._details&&(this._details=e,this.renderBanner())}renderBanner(){this.shadow.innerHTML=this.getBannerContent(),!1!==this.trackClick&&this.addEventListener("click",(()=>{const e=this.details.onClick;e&&(this.details.window?window.open(e,"_blank"):window.parent.location.href=e),window.clevertap.renderNotificationClicked({msgId:this.msgId,pivotId:this.pivotId})})),window.clevertap.renderNotificationViewed({msgId:this.msgId,pivotId:this.pivotId})}getBannerContent(){return'\n      <style type="text/css">\n        .banner {\n          position: relative;\n          cursor: '.concat(this.details.onClick?"pointer":"","\n        }\n        img {\n          height: ").concat(this.divHeight?this.divHeight:"auto",";\n          width: 100%;\n        }\n        .wrapper:is(.left, .right, .center) {\n          display: flex;\n          justify-content: center;\n          flex-direction: column;\n          align-items: center;\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n          top: 0;\n        }\n        ").concat(this.details.css?this.details.css:"",'\n      </style>\n      <div class="banner">\n        <picture>\n          <source media="(min-width:480px)" srcset="').concat(this.details.desktopImageURL,'">\n          <source srcset="').concat(this.details.mobileImageURL,'">\n          <img src="').concat(this.details.desktopImageURL,'" alt="Please upload a picture" style="width:100%;" part="banner__img">\n        </picture>\n        ').concat(this.details.html?this.details.html:"","\n      </div>\n    ")}}class Lt extends HTMLElement{constructor(){super(),this._target=null,this._carousel=null,this.shadow=null,this.slides=0,this.previouslySelectedItem=-1,this.selectedItem=1,this.autoSlide=null,this.stopAutoSlideTimeout=null,this.shadow=this.attachShadow({mode:"open"}),void 0===customElements.get("ct-web-personalisation-banner")&&customElements.define("ct-web-personalisation-banner",Dt)}get target(){return this._target||""}set target(e){null===this._target&&(this._target=e,this.renderCarousel())}get details(){return this.target.display.details}get display(){return this.target.display}renderCarousel(){this.slides=this.details.length,this.shadow.innerHTML=this.getStyles();const e=this.getCarouselContent();this.display.showNavBtns&&e.insertAdjacentHTML("beforeend",this.display.navBtnsHtml),this.display.showNavArrows&&(e.insertAdjacentHTML("beforeend",this.display.leftNavArrowHtml),e.insertAdjacentHTML("beforeend",this.display.rightNavArrowHtml)),this._carousel=e,this.shadow.appendChild(e),this.setupClick(),this.updateSelectedItem(),this.startAutoSlide(),this.setupOnHover(),window.clevertap.renderNotificationViewed({msgId:this.target.wzrk_id,pivotId:this.target.wzrk_pivot})}setupClick(){this._carousel.addEventListener("click",(e=>{const t=e.target.id;if(t.startsWith("carousel__button")){const e=+t.split("-")[1];e!==this.selectedItem&&(this.previouslySelectedItem=this.selectedItem,this.selectedItem=e,this.updateSelectedItem(),this.startAutoSlide())}else if(t.startsWith("carousel__arrow"))t.endsWith("right")?this.goToNext():this.goToPrev(),this.startAutoSlide();else if(t.indexOf("-")>-1){const e=+t.split("-")[1],i=e-1;window.parent.clevertap&&window.clevertap.renderNotificationClicked({msgId:this.target.wzrk_id,pivotId:this.target.wzrk_pivot,wzrk_slideNo:e});const n=this.details[i].onClick;""!==n&&(this.details[i].window?window.open(n,"_blank"):window.location.href=n)}}))}setupOnHover(){this._carousel.addEventListener("mouseenter",(e=>{this.stopAutoSlideTimeout=setTimeout((()=>{this.autoSlide=clearInterval(this.autoSlide)}),500)})),this._carousel.addEventListener("mouseleave",(e=>{clearTimeout(this.stopAutoSlideTimeout),void 0===this.autoSlide&&this.startAutoSlide()}))}getCarouselContent(){const e=document.createElement("div");return e.setAttribute("class","carousel"),this.details.forEach(((t,i)=>{const n=document.createElement("ct-web-personalisation-banner");n.classList.add("carousel__item"),n.trackClick=!1,n.setAttribute("id","carousel__item-".concat(i+1)),n.details=t,e.appendChild(n)})),e}getStyles(){var e,t;return"\n      <style>\n      .carousel {\n        position: relative;\n      }\n\n      .carousel__item {\n        display: none;\n        background-repeat: no-repeat;\n        background-size: cover;\n      }\n\n      ct-web-personalisation-banner::part(banner__img) {\n        height: ".concat((null==this||null===(e=this.target)||void 0===e||null===(t=e.display)||void 0===t?void 0:t.divHeight)?this.target.display.divHeight:"auto",";\n        width: 100%;\n        transition: 2s;\n      }\n\n      .carousel__item--selected {\n        display: block;\n      }\n      ").concat(this.display.navBtnsCss,"\n      ").concat(this.display.navArrowsCss,"\n      </style>\n  ")}updateSelectedItem(){if(-1!==this.previouslySelectedItem){const e=this.shadow.getElementById("carousel__item-".concat(this.previouslySelectedItem)),t=this.shadow.getElementById("carousel__button-".concat(this.previouslySelectedItem));e.classList.remove("carousel__item--selected"),t&&t.classList.remove("carousel__button--selected")}const e=this.shadow.getElementById("carousel__item-".concat(this.selectedItem)),t=this.shadow.getElementById("carousel__button-".concat(this.selectedItem));e.classList.add("carousel__item--selected"),t&&t.classList.add("carousel__button--selected")}startAutoSlide(){clearInterval(this.autoSlide),this.autoSlide=setInterval((()=>{this.goToNext()}),this.display.sliderTime?1e3*this.display.sliderTime:3e3)}goToNext(){this.goTo(this.selectedItem,(this.selectedItem+1)%this.slides)}goToPrev(){this.goTo(this.selectedItem,this.selectedItem-1)}goTo(e,t){this.previouslySelectedItem=e,this.selectedItem=t,0===t&&(this.selectedItem=this.slides),this.updateSelectedItem()}}class Nt extends HTMLElement{constructor(){super(),this._target=null,this._session=null,this.shadow=null,this.popup=null,this.container=null,this.resizeObserver=null,this.shadow=this.attachShadow({mode:"open"})}get target(){return this._target||""}set target(e){null===this._target&&(this._target=e,this.renderImageOnlyPopup())}get session(){return this._session||""}set session(e){this._session=e}get msgId(){return this.target.wzrk_id}get pivotId(){return this.target.wzrk_pivot}get onClickUrl(){return this.target.display.onClickUrl}renderImageOnlyPopup(){const e=this.target.wzrk_id.split("_")[0],t=this.session.sessionId;this.shadow.innerHTML=this.getImageOnlyPopupContent(),this.popup=this.shadowRoot.getElementById("imageOnlyPopup"),this.container=this.shadowRoot.getElementById("container"),this.closeIcon=this.shadowRoot.getElementById("close"),this.popup.addEventListener("load",this.updateImageAndContainerWidth()),this.resizeObserver=new ResizeObserver((()=>this.handleResize(this.popup,this.container))),this.resizeObserver.observe(this.popup),this.closeIcon.addEventListener("click",(()=>{if(this.resizeObserver.unobserve(this.popup),document.getElementById("wzrkImageOnlyDiv").style.display="none",this.remove(),null!=e&&"-1"!==e&&de._isLocalStorageSupported()){const i=it();let n=i.wp[t];null==n&&(n={},i[t]=n),n[e]="dnd",nt(i)}})),window.clevertap.renderNotificationViewed({msgId:this.msgId,pivotId:this.pivotId}),this.onClickUrl&&this.popup.addEventListener("click",(()=>{this.target.display.window?window.open(this.onClickUrl,"_blank"):window.parent.location.href=this.onClickUrl,window.clevertap.renderNotificationClicked({msgId:this.msgId,pivotId:this.pivotId})}))}handleResize(e,t){const i=this.getRenderedImageWidth(e);t.style.setProperty("width","".concat(i,"px"))}getImageOnlyPopupContent(){return"\n        ".concat(this.target.msgContent.css,"\n        ").concat(this.target.msgContent.html,"\n      ")}updateImageAndContainerWidth(){return()=>{const e=this.getRenderedImageWidth(this.popup);this.popup.style.setProperty("width","".concat(e,"px")),this.container.style.setProperty("width","".concat(e,"px")),this.container.style.setProperty("height","auto"),this.container.style.setProperty("position","fixed"),this.popup.style.setProperty("visibility","visible"),this.closeIcon.style.setProperty("visibility","visible"),document.getElementById("wzrkImageOnlyDiv").style.visibility="visible"}}getRenderedImageWidth(e){const t=e.naturalWidth/e.naturalHeight;return e.height*t}}class Ut extends HTMLElement{constructor(e,t){super(),this.wrapper=null,this.snackBar=null,this.shadow=this.attachShadow({mode:"open"}),this.config=e,this.message=t,this.renderMessage(t)}get pivotId(){return this.message.wzrk_pivot}get campaignId(){return this.message.wzrk_id}createEl(e,t,i){const n=document.createElement(e);return n.setAttribute("id",t),n.setAttribute("part",i||t),n}renderMessage(e){switch(this.wrapper=this.createEl("div","messageWrapper"),e.templateType){case"text-only":case"text-with-icon":case"text-with-icon-and-image":{const t=this.prepareBasicMessage(e.msg[0]);this.wrapper.appendChild(t)}}const t=this.createEl("div","timeStamp");if(t.innerHTML="<span>".concat(Gt(e.id.split("_")[1]),"<span>"),!e.viewed){const e=this.createEl("span","unreadMarker");t.appendChild(e)}this.wrapper.appendChild(t),this.shadow.appendChild(this.wrapper)}prepareBasicMessage(e){const t=this.createEl("div","message");if(e.imageUrl){const i=this.addImage(e.imageUrl,"mainImg");t.appendChild(i)}const i=this.createEl("div","iconTitleDescWrapper");if(e.iconUrl){const t=this.addImage(e.iconUrl,"iconImg");i.appendChild(t)}const n=this.createEl("div","titleDescWrapper");if(e.title){const t=this.createEl("div","title");t.innerText=e.title,n.appendChild(t)}if(e.description){const t=this.createEl("div","description");t.innerText=e.description,n.appendChild(t)}if((e.title||e.description)&&i.appendChild(n),(e.iconUrl||e.title||e.description)&&t.appendChild(i),e.buttons&&e.buttons.length){const i=this.addButtons(e.buttons);t.appendChild(i)}return t}addButtons(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.createEl("div","buttonsContainer");let i=!1;return e.forEach(((e,n)=>{const o=this.createEl("button","button-".concat(n),"button");o.innerText=e.text,n>0&&(o.style.cssText+="margin-left: 2px;"),"copy"===e.action&&(i=!0),t.appendChild(o)})),i&&this.addSnackbar(t),t}addSnackbar(e){this.snackBar=this.createEl("div","snackbar-".concat(this.campaignId),"snackbar"),this.snackBar.innerHTML=$t;const t=this.createEl("span","snackbar-msg-".concat(this.campaignId),"snackbar-msg");t.innerText="Copied to clipboard",this.snackBar.appendChild(t),e.appendChild(this.snackBar)}addImage(e,t){const i=this.createEl("div","".concat(t,"Container")),n=this.createEl("img",t);return n.setAttribute("src",e),n.setAttribute("loading","lazy"),i.appendChild(n),i}raiseClickedEvent(e,t){switch(this.message.templateType){case"text-only":case"text-with-icon":case"text-with-icon-and-image":this.raiseClickedForBasicTemplates(e,t)}}raiseClickedForBasicTemplates(e,t){const i=this.message.msg[0],n={msgId:this.campaignId,pivotId:this.pivotId};if("BUTTON"===e.tagName){const t=e.id.split("-")[1],o=i.buttons[t];n.kv={wzrk_c2a:o.text},"url"===o.action?o.openUrlInNewTab?window.open(o.url,"_blank"):window.location=o.url:"copy"===o.action&&(window.focus(),navigator.clipboard.writeText(o.clipboardText),this.snackBar.style.setProperty("display","flex","important"),setTimeout((()=>{this.snackBar.style.setProperty("display","none","important")}),2e3))}else"CT-INBOX-MESSAGE"===e.tagName&&i.onClickUrl&&(i.openUrlInNewTab?window.open(i.onClickUrl,"_blank"):window.location=i.onClickUrl);t?console.log("Notifiction clicked event will be raised at run time with payload ::",n):window.clevertap.renderNotificationClicked(n)}}class jt extends HTMLElement{constructor(e){super(),this.isInboxOpen=!1,this.isInboxFromFlutter=!1,this.selectedCategory=null,this.unviewedMessages={},this.unviewedCounter=0,this.isPreview=!1,this.inboxConfigForPreview={},this.inboxSelector=null,this.inbox=null,this.emptyInboxMsg=null,this.inboxCard=null,this.unviewedBadge=null,this.observer=null,this.selectedCategoryRef=null,this.addClickListenerOnDocument=(()=>e=>{if(e.composedPath().includes(this.inbox)){const t=e.path||e.composedPath&&e.composedPath();if(t.length){const e=t[0].id;if("closeInbox"===e)this.toggleInbox();else if(e.startsWith("category-"))this.prevCategoryRef=this.selectedCategoryRef,this.selectedCategoryRef=t[0],this.updateActiveCategory(t[0].innerText);else{const e=t.filter((e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.startsWith("button-"))||"CT-INBOX-MESSAGE"===e.tagName}));e.length&&e[e.length-1].raiseClickedEvent(e[0],this.isPreview)}}}else(this.inboxSelector.contains(e.target)||this.isInboxOpen)&&(this.isInboxFromFlutter?this.isInboxFromFlutter=!1:this.toggleInbox(e))})(),this.setBadgeStyle=e=>{null!==this.unviewedBadge&&(this.unviewedBadge.innerText=e>9?"9+":e,this.unviewedBadge.style.display=e>0?"flex":"none")},this.logger=e,this.shadow=this.attachShadow({mode:"open"})}get incomingMessages(){return[]}set incomingMessages(e){void 0===e&&(e=[]),e.length>0&&this.inbox&&this.updateInboxMessages(e)}get incomingMessagesForPreview(){return[]}set incomingMessagesForPreview(e){void 0===e&&(e=[]);const t={};e.length>0&&this.inbox&&(this.isPreview=!0,this.unviewedCounter=0,e.forEach((e=>{const i="".concat(e.wzrk_id.split("_")[0],"_").concat(Date.now());e.id=i,t[i]=e,this.unviewedMessages[i]=e,this.unviewedCounter++})),this.buildUIForMessages(t),this.updateUnviewedBadgeCounter())}connectedCallback(){this.init()}init(){this.config=this.isPreview?this.inboxConfigForPreview:de.readFromLSorCookie(K)||{},0!==Object.keys(this.config).length&&(this.inboxSelector=document.getElementById(this.config.inboxSelector),null!==this.inboxSelector&&(this.config.styles.notificationsBadge?this.addUnviewedBadge():this.unviewedBadge&&this.unviewedBadge.remove(),this.createinbox(),document.removeEventListener("click",this.addClickListenerOnDocument),document.addEventListener("click",this.addClickListenerOnDocument),this.config.categories.length&&this.updateActiveCategory(this.selectedCategoryRef.innerText),this.shadow.innerHTML=this.getInboxStyles(),this.shadow.appendChild(this.inbox)))}addMsgsToInboxFromLS(){const e=this.deleteExpiredAndGetUnexpiredMsgs(!1),t=e?Object.keys(e):[];0!==t.length&&(t.forEach((t=>{e[t].viewed||(this.unviewedMessages[t]=e[t],this.unviewedCounter++)})),this.buildUIForMessages(e),this.updateUnviewedBadgeCounter())}deleteExpiredAndGetUnexpiredMsgs(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Bt();const i=Math.floor(Date.now()/1e3);for(const n in t)if(t[n].wzrk_ttl&&t[n].wzrk_ttl>0&&t[n].wzrk_ttl<i){if(e){const e=this.shadowRoot.getElementById(t[n].id);e&&e.remove(),t[n].viewed||(this.unviewedCounter--,this.updateUnviewedBadgeCounter())}delete t[n]}return t&&t.length>0&&(t=Object.values(t).sort(((e,t)=>t.date-e.date)).reduce(((e,t)=>(e[t.id]=t,e)),{})),zt(t),t}updateInboxMessages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.deleteExpiredAndGetUnexpiredMsgs(),i=Date.now(),n={};e.forEach(((e,o)=>{const r="".concat(e.wzrk_id.split("_")[0],"_").concat(Date.now());e.id=r,e.date=i-o,e.viewed=0,t[r]=e,n[r]=e,this.unviewedMessages[r]=e,this.unviewedCounter++})),zt(t),this.buildUIForMessages(n),this.updateUnviewedBadgeCounter()}createEl(e,t,i){const n=document.createElement(e);return n.setAttribute("id",t),n.setAttribute("part",i||t),n}addUnviewedBadge(){this.unviewedBadge||(this.unviewedBadge=this.createEl("div","unviewedBadge"),this.unviewedBadge.style.cssText="display: none; position: absolute; height: 16px; width: 26px; border-radius: 8px; background-color: ".concat(this.config.styles.notificationsBadge.backgroundColor,"; font-size: 12px; color: ").concat(this.config.styles.notificationsBadge.textColor,"; font-weight: bold; align-items: center; justify-content: center;"),document.body.appendChild(this.unviewedBadge)),this.updateUnviewedBadgePosition(),window.addEventListener("resize",(()=>{this.updateUnviewedBadgePosition()}))}updateUnviewedBadgePosition(){const{top:e,right:t}=this.inboxSelector.getBoundingClientRect();this.unviewedBadge.style.top="".concat(e-8,"px"),this.unviewedBadge.style.left="".concat(t-8,"px")}createinbox(){this.inbox=this.createEl("div","inbox");const e=this.createEl("div","header"),t=this.createEl("div","headerTitle");t.innerText=this.config.title;const i=this.createEl("div","closeInbox");if(i.innerHTML="&times",e.appendChild(t),e.appendChild(i),this.inbox.appendChild(e),this.config.categories.length){const e=this.createCategories();this.inbox.appendChild(e)}this.inboxCard=this.createEl("div","inboxCard"),this.inbox.appendChild(this.inboxCard),this.emptyInboxMsg=this.createEl("div","emptyInboxMsg"),this.emptyInboxMsg.innerText="All messages will be displayed here.",this.inboxCard.appendChild(this.emptyInboxMsg);const n={root:this.inboxCard,rootMargin:"0px",threshold:.5};this.observer=new IntersectionObserver(((e,t)=>{this.handleMessageViewed(e)}),n),this.addMsgsToInboxFromLS()}createCategories(){const e=this.createEl("div","categoriesContainer"),t=this.createEl("div","leftArrow");t.innerHTML=Jt,t.children[0].style="transform: rotate(180deg)",t.addEventListener("click",(()=>{this.shadowRoot.getElementById("categoriesWrapper").scrollBy(-70,0)})),e.appendChild(t);const i=this.createEl("div","categoriesWrapper");["All",...this.config.categories].forEach(((e,t)=>{const n=this.createEl("div","category-".concat(t),"category");n.innerText=e,0===t&&(this.selectedCategoryRef=n),i.appendChild(n)})),e.appendChild(i);const n=this.createEl("div","rightArrow");n.innerHTML=Jt,n.addEventListener("click",(()=>{this.shadowRoot.getElementById("categoriesWrapper").scrollBy(70,0)})),e.appendChild(n);const o={root:e,threshold:.9},r=i.children[0],s=i.children[this.config.categories.length];return new IntersectionObserver((e=>{this.categoryObserverCb(t,e[0].intersectionRatio>=.9)}),o).observe(r),new IntersectionObserver((e=>{this.categoryObserverCb(n,e[0].intersectionRatio>=.9)}),o).observe(s),e}categoryObserverCb(e,t){e&&(e.style.display=t?"none":"flex")}updateActiveCategory(e){this.selectedCategory=e,this.inboxCard.scrollTop=0;let t=0;this.prevCategoryRef&&this.prevCategoryRef.setAttribute("selected","false"),this.selectedCategoryRef.setAttribute("selected","true"),this.inboxCard.childNodes.forEach((e=>{"emptyInboxMsg"!==e.getAttribute("id")&&(e.style.display="All"===this.selectedCategory||e.getAttribute("category")===this.selectedCategory?"block":"none","block"===e.style.display&&t++)})),0===t?(this.emptyInboxMsg.innerText="".concat(e," messages will be displayed here."),this.emptyInboxMsg.style.display="block"):this.emptyInboxMsg.style.display="none"}buildUIForMessages(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!this.isPreview&&this.updateTSForRenderedMsgs(),this.inboxCard.scrollTop=0;const i=null!==(e=this.config.maxMsgsInInbox)&&void 0!==e?e:15,n=this.inboxCard.firstChild,o=Object.values(t).sort(((e,t)=>t.date-e.date)).map((e=>e.id));for(const e of o){const i=new Ut(this.config,t[e]);i.setAttribute("id",t[e].id),i.setAttribute("pivot",t[e].wzrk_pivot),i.setAttribute("part","ct-inbox-message"),this.config.categories.length>0?(i.setAttribute("category",t[e].tags[0]||""),i.style.display="All"===this.selectedCategory||t[e].category===this.selectedCategory?"block":"none"):i.style.display="block",this.inboxCard.insertBefore(i,n),this.observer.observe(i)}let r=this.inboxCard.querySelectorAll("ct-inbox-message").length;for(;r>i;){const e=this.inboxCard.querySelectorAll("ct-inbox-message");e.length>0&&e[e.length-1].remove(),r--}const s=this.inboxCard.querySelectorAll('ct-inbox-message[style*="display: block"]').length;this.emptyInboxMsg.style.display=s?"none":"block"}handleMessageViewed(e){const t=!this.isPreview;this.isInboxOpen&&e.forEach((e=>{e.isIntersecting&&this.unviewedMessages.hasOwnProperty(e.target.id)&&0===e.target.message.viewed&&(e.target.message.viewed=1,t?(window.clevertap.renderNotificationViewed({msgId:e.target.campaignId,pivotId:e.target.pivotId}),this.updateMessageInLS(e.target.id,{...e.target.message,viewed:1}),setTimeout((()=>{e.target.shadowRoot.getElementById("unreadMarker").style.display="none"}),1e3)):console.log("Notifiction viewed event will be raised at run time with payload ::",{msgId:e.target.campaignId,pivotId:e.target.pivotId}),this.unviewedCounter--,this.updateUnviewedBadgeCounter(),delete this.unviewedMessages[e.target.id])}))}updateMessageInLS(e,t){if(!this.isPreview){const i=Bt();i[e]=t,zt(i)}}toggleInbox(e){this.isInboxOpen=!this.isInboxOpen,this.isInboxFromFlutter=!!(null==e?void 0:e.rect),this.isInboxOpen?(this.inboxCard.scrollTop=0,!this.isPreview&&this.deleteExpiredAndGetUnexpiredMsgs(),this.inbox.style.display="block",this.inbox.style.zIndex="2147483647",this.config.categories.length&&(this.selectedCategoryRef.setAttribute("selected","false"),this.selectedCategoryRef=this.shadowRoot.getElementById("category-0"),this.updateActiveCategory(this.selectedCategoryRef.innerText),this.shadowRoot.getElementById("categoriesWrapper").scrollLeft-=this.shadowRoot.getElementById("categoriesWrapper").scrollWidth),this.setInboxPosition(e)):this.inbox.style.display="none"}setInboxPosition(e){const t=window.outerWidth,i=getComputedStyle(ue.inbox),n=i.getPropertyValue("--inbox-top"),o=i.getPropertyValue("--inbox-bottom"),r=i.getPropertyValue("--inbox-left"),s=i.getPropertyValue("--inbox-right");if(t>481&&!(n||o||r||s)){const t=Wt(e,this.inbox.clientHeight,this.inbox.clientWidth),i=t.xPos,n=t.yPos;this.inbox.style.top=n+"px",this.inbox.style.left=i+"px"}}updateUnviewedBadgeCounter(){if(this.isPreview)return void this.setBadgeStyle(this.unviewedCounter);let e=0;this.inboxCard.querySelectorAll("ct-inbox-message").forEach((t=>{const i=Bt();i[t.id]&&0===i[t.id].viewed&&e++})),this.setBadgeStyle(e)}updateTSForRenderedMsgs(){this.inboxCard.querySelectorAll("ct-inbox-message").forEach((e=>{const t=e.id.split("_")[1];e.shadow.getElementById("timeStamp").firstChild.innerText=Gt(t)}))}getInboxStyles(){const e=this.config.categories.length?64:16,t={panelBackgroundColor:this.config.styles.panelBackgroundColor,panelBorderColor:this.config.styles.panelBorderColor,headerBackgroundColor:this.config.styles.header.backgroundColor,headerTitleColor:this.config.styles.header.titleColor,closeIconColor:this.config.styles.closeIconColor,categoriesTabColor:this.config.styles.categories.tabColor,categoriesTitleColor:this.config.styles.categories.titleColor,selectedCategoryTabColor:this.config.styles.categories.selectedTab.tabColor,selectedCategoryTitleColor:this.config.styles.categories.selectedTab.titleColor,headerCategoryHeight:36+e};this.config.styles.categories.borderColor&&(t.categoriesBorderColor=this.config.styles.categories.borderColor),this.config.styles.categories.selectedTab.borderColor&&(t.selectedCategoryBorderColor=this.config.styles.categories.selectedTab.borderColor);const i=(e=>{let{panelBackgroundColor:t,panelBorderColor:i,headerBackgroundColor:n,headerTitleColor:o,closeIconColor:r,categoriesTabColor:s,categoriesTitleColor:a,categoriesBorderColor:l,selectedCategoryTabColor:c,selectedCategoryTitleColor:d,selectedCategoryBorderColor:u,headerCategoryHeight:h}=e;return'\n      <style id="webInboxStyles">\n        #inbox {\n          width: 100%;\n          position: fixed;\n          background-color: #fff; \n          display: none; \n          box-shadow: 0px 2px 10px 0px #d7d7d791;\n          background-color: '.concat(t,"; \n          border: 1px solid ").concat(i,";\n          top: 0;\n          left: 0;\n          height: 100%;\n          overflow: auto;\n          z-index: 1;\n          box-sizing: content-box;\n          border-radius: 4px;\n        }\n  \n        #emptyInboxMsg {\n          display: block;\n          padding: 10px;\n          text-align: center;\n          color: black;\n        }\n  \n        #header {\n          height: 36px; \n          width: 100%; \n          display: flex; \n          justify-content: center; \n          align-items: center; \n          background-color: ").concat(n,"; \n          background-color: var(--card-bg, ").concat(n,");\n          color: ").concat(o,"\n        }\n  \n        #closeInbox {\n          font-size: 20px; \n          margin-right: 12px; \n          color: ").concat(r,"; \n          cursor: pointer;\n        }\n  \n        #headerTitle {\n          font-size: 14px; \n          line-height: 20px; \n          flex-grow: 1; \n          font-weight: 700; \n          text-align: center;\n          flex-grow: 1;\n          text-align: center;\n        }\n  \n        #categoriesContainer {\n          padding: 16px 16px 0 16px; \n          height: 32px; \n          display: flex;\n          scroll-behavior: smooth;\n          position: relative;\n        }\n\n        #categoriesWrapper {\n          height: 32px; \n          overflow-x: scroll;\n          display: flex;\n          white-space: nowrap;\n          scrollbar-width: none;\n        }\n\n        #categoriesWrapper::-webkit-scrollbar {\n          display: none;\n        }\n  \n        #leftArrow, #rightArrow {\n          height: 32px;\n          align-items: center;\n          font-weight: 700;\n          position: absolute;\n          z-index: 2;\n          pointer-events: auto;\n          cursor: pointer;\n          display: none;\n        }\n\n        #leftArrow {\n          left: 0;\n          padding-left: 4px;\n          padding-right: 16px;\n          background: linear-gradient(90deg, ").concat(t," 0%, ").concat(t,"99 80%, ").concat(t,"0d 100%);\n        }\n\n        #rightArrow {\n          right: 0;\n          padding-right: 4px;\n          padding-left: 16px;\n          background: linear-gradient(-90deg, ").concat(t," 0%, ").concat(t,"99 80%, ").concat(t,'0d 100%);\n        }\n\n        [id^="category-"] {\n          display: flex; \n          flex: 1 1 0; \n          justify-content: center; \n          align-items: center; \n          font-size: 14px; \n          line-height: 20px; \n          background-color: ').concat(s,"; \n          color: ").concat(a,"; \n          cursor: pointer;\n          padding: 6px 24px;\n          margin: 0 3px;\n          border-radius: 16px;\n          border: ").concat(l?"1px solid "+l:"none",';\n        }\n\n        [id^="category-"][selected="true"] {\n          background-color: ').concat(c,"; \n          color: ").concat(d,"; \n          border: ").concat(u?"1px solid "+u:"none","\n        }\n  \n        #inboxCard {\n          padding: 0 16px 0 16px;\n          overflow-y: auto;\n          box-sizing: border-box;\n          margin-top: 16px;\n        }\n\n        @media only screen and (min-width: 480px) {\n          #inbox {\n            width: var(--inbox-width, 392px);\n            height: var(--inbox-height, 546px);\n            position: var(--inbox-position, fixed);\n            right: var(--inbox-right, unset);\n            bottom: var(--inbox-bottom, unset);\n            top: var(--inbox-top, unset);\n            left: var(--inbox-left, unset);\n          }\n  \n          #inboxCard {\n            height: calc(var(--inbox-height, 546px) - ").concat(h,"px); \n          }\n  \n        }\n      </style>\n      ")})(t),n=this.config.styles.cards;return i+(e=>{let{backgroundColor:t,borderColor:i,titleColor:n,descriptionColor:o,buttonColor:r,buttonTextColor:s,unreadMarkerColor:a}=e;return'\n    <style id="messageStyles">\n      ct-inbox-message::part(messageWrapper) {\n        margin-bottom: 16px; \n      }\n      ct-inbox-message::part(message) {\n        background-color: '.concat(t,"; \n        border: 1px solid ").concat(i,";\n        border-radius: 4px; \n        overflow: hidden;\n        min-height: 40px;\n      }\n      ct-inbox-message::part(message):hover {\n        box-shadow: 0px 4px 8px rgb(0 0 0 / 10%);\n        cursor: pointer;\n      }\n      ct-inbox-message::part(iconTitleDescWrapper) {\n        display: flex; \n        padding: 16px;\n      }\n      ct-inbox-message::part(titleDescWrapper) {\n        display: flex; \n        flex-direction: column;\n      }\n      ct-inbox-message::part(iconImgContainer) {\n        display: flex; \n        margin-right: 16px;\n      }\n      ct-inbox-message::part(mainImgContainer) {\n        line-height: 0;\n      }\n      ct-inbox-message::part(mainImg) {\n        width: 100%; \n        background: #b2b1ae;\n      }\n      ct-inbox-message::part(iconImg) {\n        height: 40px; \n        width: 40px;\n      }\n      ct-inbox-message::part(title) {\n        font-size: 14px !important; \n        line-height: 20px; \n        font-weight: 600; \n        color: ").concat(n,"\n      }\n      ct-inbox-message::part(description) {\n        font-size: 14px !important; \n        line-height: 20px; \n        font-weight: 400; \n        color: ").concat(o,"\n      }\n      ct-inbox-message::part(button) {\n        background-color: ").concat(r,"; \n        color: ").concat(s,"; \n        padding: 8px 16px; \n        font-size: 12px; \n        line-height: 16px; \n        font-weight: 600; \n        flex: 1; \n        border-radius: 0px; \n        text-transform: capitalize; \n        cursor: pointer; \n        border: none;\n      }\n      ct-inbox-message::part(buttonsContainer) {\n        display: flex;\n        position: relative;\n      }\n      ct-inbox-message::part(snackbar) {\n        position: absolute;\n        top: calc(-100% - 12px);\n        left: 50%;\n        transform: translate(-50%, 0px);\n        font-size: 14px;\n        font-weight: 400;\n        background: #FFFFFF;\n        border: 1px solid #ECEDF2;\n        box-shadow: 0px 4px 8px rgb(0 0 0 / 6%), 0px 0px 2px rgb(0 0 0 / 4%);\n        border-radius: 4px;\n        z-index: 2;\n        display: none;\n        width: max-content;\n        align-items: center;\n        padding: 8px 16px;\n        justify-content: center;\n      }\n\n      ct-inbox-message::part(snackbar-msg) {\n        color: black;\n        margin-left: 8px;\n      }\n\n      ct-inbox-message::part(timeStamp) {\n        display: flex; \n        justify-content: end; \n        align-items: center; \n        margin-top: 4px; \n        font-size: 12px !important; \n        line-height: 16px; \n        color: black;\n      }\n      ct-inbox-message::part(unreadMarker) {\n        height: 8px; \n        width: 8px; \n        border-radius: 50%; \n        background-color: ").concat(a,"; \n        margin-left: 8px;\n      }\n      @media only screen and (min-width: 420px) {\n        ct-inbox-message::part(mainImg) {\n          height: 180px;\n        }\n      }\n    </style>\n  ")})({backgroundColor:n.backgroundColor,borderColor:n.borderColor,titleColor:n.titleColor,descriptionColor:n.descriptionColor,buttonColor:n.buttonColor,buttonTextColor:n.buttonTextColor,unreadMarkerColor:n.unreadMarkerColor})}}const Ft=e=>{e.inbox_preview?ue.inbox.incomingMessagesForPreview=e.inbox_notifs:ue.inbox.incomingMessages=e},Vt=e=>{Kt(),ue.inbox=new jt({logger:e}),document.body.appendChild(ue.inbox)},qt=e=>{const t=de.readFromLSorCookie(W)||{};if(Object.keys(t).length>0&&Object.keys(t)[0].includes("_")){const i={};return i[e]=t,de.saveToLSorCookie(W,i),i}return t},Bt=()=>{const e=JSON.parse(decodeURIComponent(de.read(b)));if(!ie(e))return{};const t=qt(e);return t.hasOwnProperty(e)?t[e]:{}},zt=e=>{const t=JSON.parse(decodeURIComponent(de.read(b)));if(!ie(t))return;const i={...qt(t),[t]:e};de.saveToLSorCookie(W,i)},Ht=e=>new Promise(((t,i)=>{if("complete"===document.readyState)Vt(e),t();else{const i=de.readFromLSorCookie(K)||{},n=()=>{null===ue.inbox&&Vt(e),t()};window.addEventListener("load",(()=>{if(document.getElementById(i.inboxSelector))n();else{let o=0;if(o<20){const r=setInterval((()=>{document.getElementById(i.inboxSelector)?(n(),clearInterval(r),t()):o>=20&&(clearInterval(r),e.debug("Failed to add inbox")),o++}),500)}}}))}})),Kt=()=>{void 0===customElements.get("ct-web-inbox")&&(customElements.define("ct-web-inbox",jt),customElements.define("ct-inbox-message",Ut))},Wt=(e,t,i)=>{const n=document.scrollingElement.scrollLeft,o=document.scrollingElement.scrollTop,r=window.innerWidth+n,s=window.innerHeight+o,a=e.rect||e.target.getBoundingClientRect(),l=a.x+n,c=a.y+o,d=a.left+n,u=a.right+n,h=a.top+o,p=a.bottom,g=a.height,f=l+a.width/2;let v,b,m=!1;const y=16;if(p+t<=s){const e=s-(p+t);b=e>=y?p+y:p+e}else if(h-t>=o){const e=h-t;b=e>=y?h-t-y:h-t-e}else m=!0,b=c+g/2-t/2,b<o?b=o:b+t>s&&(b=s-t);if(m){const e=u+i;if(e<=r)v=u+(e+y<=r?y:r-e);else{const e=d-i;v=e-(e-y>=n?y:e-n)}}else v=f-i/2,v<n?v=d+i<=r?d:n:v+i>r&&(v=u-i>=n?u-i:r-i);return{xPos:v,yPos:b}},Gt=e=>{const t=Date.now();let i=Math.floor((t-e)/6e4);return i<5?"Just now":i<60?"".concat(i," minute").concat(i>1?"s":""," ago"):(i=Math.floor(i/60),i<24?"".concat(i," hour").concat(i>1?"s":""," ago"):(i=Math.floor(i/24),"".concat(i," day").concat(i>1?"s":""," ago")))},Yt=()=>Object.keys(de.readFromLSorCookie(K)||{}).length>0,Jt='<svg width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0.258435 9.74751C-0.0478584 9.44825 -0.081891 8.98373 0.156337 8.64775L0.258435 8.52836L3.87106 5L0.258435 1.47164C-0.0478588 1.17239 -0.0818914 0.707867 0.156337 0.371887L0.258435 0.252494C0.564728 -0.0467585 1.04018 -0.0800085 1.38407 0.152743L1.50627 0.252494L5.74156 4.39042C6.04786 4.68968 6.08189 5.1542 5.84366 5.49018L5.74156 5.60957L1.50627 9.74751C1.16169 10.0842 0.603015 10.0842 0.258435 9.74751Z" fill="#63698F"/>\n</svg>\n',$t='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8ZM9.6839 5.93602C9.97083 5.55698 10.503 5.48833 10.8725 5.78269C11.2135 6.0544 11.2968 6.54044 11.0819 6.91173L11.0219 7.00198L8.09831 10.864C7.80581 11.2504 7.26654 11.3086 6.90323 11.0122L6.82822 10.9433L5.04597 9.10191C4.71635 8.76136 4.71826 8.21117 5.05023 7.87303C5.35666 7.5609 5.83722 7.53855 6.16859 7.80482L6.24814 7.87739L7.35133 9.01717L9.6839 5.93602Z" fill="#03A387"/>\n</svg>\n',Zt="https://web-native-display-campaign.clevertap.com/production/lib-overlay/style.css",Qt=e=>{if(e.data&&function(e){try{const t=new URL(e);return Boolean(t)}catch(e){return!1}}(e.data.originUrl)){{const t=new URL(e.data.originUrl).origin;if(e.origin!==t)return}var t,i;"Dashboard"===e.data.message?Xt(e.data.url,null!==(t=e.data.variant)&&void 0!==t?t:null,null!==(i=e.data.details)&&void 0!==i?i:{}):"Overlay"===e.data.message&&ni(e.data,!0)}},Xt=(e,t,i)=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>ii(e,t,i))):ii(e,t,i)};let ei,ti=!1;function ii(e,t,i){var n;ti||(document.body.innerHTML="",ei=document.createElement("div"),ei.id="overlayDiv",ei.style.position="relative",ei.style.display="flex",document.body.appendChild(ei),function(e,t,i,n){return new Promise(((o,r)=>{var s=document.createElement("script");s.type="module",s.src=e,s.onload=function(){"function"==typeof window.Overlay?(window.Overlay({id:"#overlayDiv",url:t,variant:i,details:n}),o()):r(new Error("ContentLayout not found in overlay.js"))},s.onerror=function(e){r(e)},document.head.appendChild(s)}))}("https://web-native-display-campaign.clevertap.com/production/lib-overlay/overlay.js",e,t,i).then((()=>{console.log("Overlay script loaded successfully."),ti=!0})).catch((e=>{console.error("Error loading overlay script:",e)})),(n=document.createElement("link")).rel="stylesheet",n.type="text/css",n.href=Zt,document.head.appendChild(n),function(){const e={kitId:"eqj6nom",scriptTimeout:3e3,async:!0},t=document.documentElement,i=setTimeout((function(){t.className=t.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"}),e.scriptTimeout),n=document.createElement("script");let o=!1;const r=document.getElementsByTagName("script")[0];let s;t.className+=" wf-loading",n.src="https://use.typekit.net/"+e.kitId+".js",n.async=!0,n.onload=n.onreadystatechange=function(){if(s=this.readyState,!(o||s&&"complete"!==s&&"loaded"!==s)){o=!0,clearTimeout(i);try{Typekit.load(e)}catch(e){}}},r.parentNode.insertBefore(n,r)}())}const ni=(e,t)=>{const i=t?e.details[0]:e.display.details[0],n=Object.keys(i)[0],o=i[n];let r=!1;if(n!==window.location.href.split("?")[0])return;const s=(t,i)=>{o[i].html?t.outerHTML=o[i].html:o[i].json?function(e,t){const i={};i.msgId=e.wzrk_id,e.wzrk_pivot&&(i.pivotId=e.wzrk_pivot),null!=t.json&&(i.json=t.json);const n=new CustomEvent("CT_web_native_display_buider",{detail:i});document.dispatchEvent(n)}(e,o[i]):((e,t)=>{if(void 0!==t.style&&Object.keys(t.style).forEach((i=>{e.style.setProperty(i,t.style[i])})),void 0!==t.underline){const i=e.style.textDecoration;t.underline?e.style.textDecoration="".concat(i," underline").trim():e.style.textDecoration=i.replace("underline","").trim()}if(void 0!==t.text&&(e.innerText=t.text),void 0!==t.clickDetails){const i=t.clickDetails.clickUrl;e.onclick=t.clickDetails.newTab?()=>window.open(i,"_blank").focus():()=>{window.location.href=i}}if(void 0!==t.imgURL&&"img"===e.tagName.toLowerCase()&&(e.src=t.imgURL),void 0!==t.elementCss){const e=document.createElement("style");e.innerHTML=t.elementCss,document.head.appendChild(e)}})(t,o[i].form)};Object.keys(o).forEach((e=>{const t=document.querySelector(e);t?(s(t,e),r=!0):(e=>{let t=0;const i=setInterval((()=>{const n=document.querySelector(e);n?(s(n,e),clearInterval(i)):++t>=20&&(console.log("No element present on DOM with selector '".concat(e,"'.")),clearInterval(i))}),500)})(e)})),r&&!t&&window.clevertap.renderNotificationViewed({msgId:e.wzrk_id,pivotId:e.wzrk_pivot})};const oi=(e,t)=>{let{device:i,session:n,request:o,logger:r}=t;const s=i,a=n,l=o,c=r;let d=0;const u=t=>{const i=t.wzrk_id.split("_")[0],n=re(),o=(e,t,i)=>{let n=0,o=0;null!=e[t]&&(n=e[t]),n++,null!=e.tc&&(o=e.tc),i<0&&o++,e.tc=o,e[t]=n};if(de._isLocalStorageSupported()){delete sessionStorage[y];var r={};const e=it();r=3===t.display.wtarget_type&&e.hasOwnProperty("wi")?e.wi:0!==t.display.wtarget_type&&1!==t.display.wtarget_type||!e.hasOwnProperty("wp")?{}:e.wp,e.hasOwnProperty("global")&&(r.wp=e),null==t[I].wmc&&(t[I].wmc=1),null==t[I].wimc&&(t[I].wimc=1);var d=-1;let o=-1,s=-1,l=-1,c=-1,g=-1,f=-1;null!=t[I].efc&&(d=parseInt(t[I].efc,10)),null!=t[I].mdc&&(o=parseInt(t[I].mdc,10)),null!=t[I].tdc&&(s=parseInt(t[I].tdc,10)),null!=t[I].tlc&&(l=parseInt(t[I].tlc,10)),null!=t[I].wmp&&(c=parseInt(t[I].wmp,10)),null!=t[I].wmc&&(g=parseInt(t[I].wmc,10)),null!=t[I].wimc&&(f=parseInt(t[I].wimc,10));var u=r[a.sessionId];if(u){const e=u[i],n=u.tc;if("dnd"===e&&!ue.dismissSpamControl)return!1;if(3===t[I].wtarget_type){if(f>0&&n>=f&&d<0)return!1}else if(g>0&&n>=g&&d<0)return!1;if(o>0&&e>=o)return!1}else u={},r[a.sessionId]=u;var h=r[n];if(null!=h){const e=h[i],t=h.tc;if(c>0&&t>=c&&d<0)return!1;if(s>0&&e>=s)return!1}else h={},r[n]=h;var p=r[A];if(null!=p){const e=p[i];if(l>0&&e>=l)return!1}else p={},r[A]=p}if(null!=t[I].delay&&t[I].delay>0){const i=t[I].delay;return t[I].delay=0,setTimeout(oi,1e3*i,e,{device:s,session:a,request:l,logger:c}),!1}o(u,i,d),o(h,i,d),o(p,i,d);let g="wp";3===t[I].wtarget_type&&(g="wi");const f={};f[a.sessionId]=u,f[n]=h,f[A]=p,nt({[g]:f})},h=()=>{const e=s.getGuid(),t=a.getSessionCookieObject();return"&t=wc&d="+encodeURIComponent($e(e+"|"+t.p+"|"+t.s))},p=(e,t)=>{const i=window.parent[e];"function"==typeof i&&(null!=t.display.kv?i(t.display.kv):i())},g=(e,t,i,n,o)=>{f(t),((e,t,i,n,o)=>{if(""!==e&&null!=e){let n,r;o?n=i:null!==i&&(r=i.getElementsByClassName("jsCT_CTA"),null!=r&&1===r.length&&(n=r[0]));const s=t.display.jsFunc,l=t.display.preview;null==l&&(e+=h()),null!=n&&(n.onclick=()=>{if(null!=s)return null==l&&tt.fireRequest(e),p(s,t),void dt("-1",0,a.sessionId);1===t.display.window?window.open(e,"_blank"):window.location=e})}})(e,t,i,0,o)},f=e=>{const t={type:"event"};t.evtName=U,t.evtData={[N]:e.wzrk_id},e.wzrk_pivot&&(t.evtData={...t.evtData,wzrk_pivot:e.wzrk_pivot}),l.processEvent(t)},v=e=>{var t;void 0===customElements.get("ct-web-personalisation-banner")&&customElements.define("ct-web-personalisation-banner",Dt);const i=null!==(t=e.display.divId)&&void 0!==t?t:e.display.divSelector,n=document.createElement("ct-web-personalisation-banner");n.msgId=e.wzrk_id,n.pivotId=e.wzrk_pivot,n.divHeight=e.display.divHeight,n.details=e.display.details[0];const o=e.display.divId?document.getElementById(i):document.querySelector(i);o.innerHTML="",o.appendChild(n)},m=e=>{var t;void 0===customElements.get("ct-web-personalisation-carousel")&&customElements.define("ct-web-personalisation-carousel",Lt);const i=null!==(t=e.display.divId)&&void 0!==t?t:e.display.divSelector,n=document.createElement("ct-web-personalisation-carousel");n.target=e;const o=e.display.divId?document.getElementById(i):document.querySelector(i);o.innerHTML="",o.appendChild(n)},_=e=>{const t=e.wzrk_id.split("_")[0],i=e.display;if(2===i.wtarget_type&&1===e.msgContent.type){const t={};t.msgId=e.wzrk_id,e.wzrk_pivot&&(t.pivotId=e.wzrk_pivot),null!=e.msgContent.kv&&(t.kv=e.msgContent.kv);const i=new CustomEvent("CT_web_native_display",{detail:t});return void document.dispatchEvent(i)}if(1===i.layout)return T(void 0,e);if(3===i.layout){const t="wzrkImageOnlyDiv";if(!1===u(e))return;if(ue.dismissSpamControl&&null!=document.getElementById(t)&&document.getElementById(t).remove(),null!=document.getElementById(t)||null!=document.getElementById("intentPreview"))return;const i=document.createElement("div");return i.id=t,document.body.appendChild(i),void 0===customElements.get("ct-web-popup-imageonly")&&customElements.define("ct-web-popup-imageonly",Nt),(e=>{const t=document.createElement("ct-web-popup-imageonly");t.session=a,t.target=e;const i=document.getElementById("wzrkImageOnlyDiv");i.innerHTML="",i.style.visibility="hidden",i.appendChild(t)})(e)}if(!1===u(e))return;const n="wizParDiv"+i.layout;if(ue.dismissSpamControl&&null!=document.getElementById(n)&&document.getElementById(n).remove(),null!=document.getElementById(n))return;ue.campaignDivMap[t]=n;const o=2===i.layout,r=document.createElement("div");r.id=n;const s=window.innerHeight,l=window.innerWidth;let c=!1;if(o)r.setAttribute("style",i.iFrameStyle);else{var d=10;let e=5*l/100,t=d+5*s/100,n=30*l/100+20,o="width:30%;";(/mobile/i.test(navigator.userAgent)||/mini/i.test(navigator.userAgent))&&!1===/iPad/i.test(navigator.userAgent)?(n=85*l/100+20,e=5*l/100,t=5*s/100,o="width:80%;"):("ontouchstart"in window||/tablet/i.test(navigator.userAgent))&&(n=50*l/100+20,e=5*l/100,t=5*s/100,o="width:50%;"),null==i.proto?(c=!0,r.setAttribute("style","display:block;overflow:hidden; bottom:"+t+"px !important;width:"+n+"px !important;right:"+e+"px !important;position:fixed;z-index:2147483647;")):r.setAttribute("style",o+i.iFrameStyle)}document.body.appendChild(r);const h=document.createElement("iframe"),p=!1===i.br?"0":"8";h.frameborder="0px",h.marginheight="0px",h.marginwidth="0px",h.scrolling="no",h.id="wiz-iframe";const f=e.display.onClick;let v,b="";if(""!==f&&null!=f&&(b="cursor:pointer;"),i.preview&&i["custom-editor"]&&(h.sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox"),1===e.msgContent.type)v=e.msgContent.html,v=v.replace(/##campaignId##/g,t),v=v.replace(/##campaignId_batchId##/g,e.wzrk_id);else{const i='<style type="text/css">body{margin:0;padding:0;}#contentDiv.wzrk{overflow:hidden;padding:0;text-align:center;'+b+"}#contentDiv.wzrk td{padding:15px 10px;}.wzrkPPtitle{font-weight: bold;font-size: 16px;font-family:arial;padding-bottom:10px;word-break: break-word;}.wzrkPPdscr{font-size: 14px;font-family:arial;line-height:16px;word-break: break-word;display:inline-block;}.PL15{padding-left:15px;}.wzrkPPwarp{margin:20px 20px 0 5px;padding:0px;border-radius: "+p+"px;box-shadow: 1px 1px 5px #888888;}a.wzrkClose{cursor:pointer;position: absolute;top: 11px;right: 11px;z-index: 2147483647;font-size:19px;font-family:arial;font-weight:bold;text-decoration: none;width: 25px;/*height: 25px;*/text-align: center; -webkit-appearance: none; line-height: 25px;background: #353535;border: #fff 2px solid;border-radius: 100%;box-shadow: #777 2px 2px 2px;color:#fff;}a:hover.wzrkClose{background-color:#d1914a !important;color:#fff !important; -webkit-appearance: none;}td{vertical-align:top;}td.imgTd{border-top-left-radius:8px;border-bottom-left-radius:8px;}</style>";let o,r,s,a,l;"dark"===e.display.theme?(o="#2d2d2e",r="#eaeaea",s="#353535",a="#353535",l="#ffffff"):(o="#ffffff",r="#000000",a="#f4f4f4",s="#a5a6a6",l="#ffffff");const c=e.msgContent.title,d=e.msgContent.description;let u="";null!=e.msgContent.imageUrl&&""!==e.msgContent.imageUrl&&(u="<td class='imgTd' style='background-color:"+a+"'><img src='"+e.msgContent.imageUrl+"' height='60' width='60'></td>"),v=i+"<div class='wzrkPPwarp' style='color:"+r+";background-color:"+o+";'><a href='javascript:void(0);' onclick=parent.$WZRK_WR.closeIframe("+t+",'"+n+"'); class='wzrkClose' style='background-color:"+s+";color:"+l+"'>&times;</a><div id='contentDiv' class='wzrk'><table cellpadding='0' cellspacing='0' border='0'><tr>"+u+"<td style='vertical-align:top;'><div class='wzrkPPtitle' style='color:"+r+"'>"+c+"</div><div class='wzrkPPdscr' style='color:"+r+"'>"+d+"<div></td></tr></table></div>"}h.setAttribute("style","z-index: 2147483647; display:block; width: 100% !important; border:0px !important; border-color:none !important;"),r.appendChild(h);const m=new Event("CT_campaign_rendered");document.dispatchEvent(m),i["custom-editor"]&&(v=C(e,v)),h.srcdoc=v;const y=()=>{d=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv").scrollHeight,!0===i["custom-editor"]||o||(d+=25),document.getElementById("wiz-iframe").contentDocument.body.style.margin="0px",document.getElementById("wiz-iframe").style.height=d+"px"},w=navigator.userAgent.toLowerCase();if(-1!==w.indexOf("safari"))if(w.indexOf("chrome")>-1)h.onload=()=>{y();const t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");g(f,e,t,0,c)};else{let t=h.contentDocument||h.contentWindow;t.document&&(t=t.document);const i=setInterval((()=>{if("complete"===t.readyState){clearInterval(i),y();const t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");g(f,e,t,0,c)}}),300)}else h.onload=()=>{y();const t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");g(f,e,t,0,c)}},C=(e,t)=>{const i="<script>\n      const ct__camapignId = '".concat(e.wzrk_id,"';\n      const ct__formatVal = (v) => {\n          return v && v.trim().substring(0, 20);\n      }\n      const ct__parentOrigin =  window.parent.origin;\n      document.body.addEventListener('click', (event) => {\n        const elem = event.target.closest?.('a[wzrk_c2a], button[wzrk_c2a]');\n        if (elem) {\n            const {innerText, id, name, value, href} = elem;\n            const clickAttr = elem.getAttribute('onclick') || elem.getAttribute('click');\n            const onclickURL = clickAttr?.match(/(window.open)[(](\"|')(.*)(\"|',)/)?.[3] || clickAttr?.match(/(location.href *= *)(\"|')(.*)(\"|')/)?.[3];\n            const props = {innerText, id, name, value};\n            let msgCTkv = Object.keys(props).reduce((acc, c) => {\n                const formattedVal = ct__formatVal(props[c]);\n                formattedVal && (acc['wzrk_click_' + c] = formattedVal);\n                return acc;\n            }, {});\n            if(onclickURL) { msgCTkv['wzrk_click_' + 'url'] = onclickURL; }\n            if(href) { msgCTkv['wzrk_click_' + 'c2a'] = href; }\n            const notifData = { msgId: ct__camapignId, msgCTkv, pivotId: '").concat(e.wzrk_pivot,"' };\n            window.parent.clevertap.renderNotificationClicked(notifData);\n        }\n      });\n      <\/script>\n    ");return t.replace(/(<\s*\/\s*body)/,"".concat(i,"\n$1"))};let E=!1;const O=e=>{let t=e.display.onClick;if(window.clevertap.hasOwnProperty("notificationCallback")&&void 0!==window.clevertap.notificationCallback&&"function"==typeof window.clevertap.notificationCallback){const i=window.clevertap.notificationCallback;if(!E){const n={};n.msgContent=e.msgContent,n.msgId=e.wzrk_id,e.wzrk_pivot&&(n.pivotId=e.wzrk_pivot),null!=e.display.kv&&(n.kv=e.display.kv),window.clevertap.raiseNotificationClicked=()=>{if(""!==t&&null!=t){const i=e.display.jsFunc;if(t+=h(),null!=i)return tt.fireRequest(t),void p(i,e);1===e.display.window?window.open(t,"_blank"):window.location=t}},window.clevertap.raiseNotificationViewed=()=>{f(e)},i(n),E=!0}}else if(window.clevertap.popupCurrentWzrkId=e.wzrk_id,_(e),window.clevertap.hasOwnProperty("popupCallbacks")&&void 0!==window.clevertap.popupCallbacks&&"function"==typeof window.clevertap.popupCallbacks[e.wzrk_id]){const t=window.clevertap.popupCallbacks[e.wzrk_id],o={};o.msgContent=e.msgContent,o.msgId=e.wzrk_id,e.wzrk_pivot&&(o.pivotId=e.wzrk_pivot);var i=[];for(var n in e)if(n.startsWith(L)&&n!==N){const t={[n]:e[n]};i.push(t)}i.length>0&&(o.msgCTkv=i),null!=e.display.kv&&(o.kv=e.display.kv),window.clevertap.raisePopupNotificationClicked=t=>{if(!t||!t.msgId)return;const i={type:"event"};if(i.evtName=j,i.evtData={[N]:t.msgId},e.wzrk_pivot&&(i.evtData={...i.evtData,wzrk_pivot:t.pivotId}),t.msgCTkv)for(var n of t.msgCTkv)i.evtData={...i.evtData,...n};l.processEvent(i)},t(o)}};let P;const T=(e,t)=>{let i;if(null!=e&&e.clientY>0)return;if(i=null==t?P:t,ue.dismissSpamControl&&0===i.display.wtarget_type&&null!=document.getElementById("intentPreview")&&null!=document.getElementById("intentOpacityDiv")&&(document.getElementById("intentPreview").remove(),document.getElementById("intentOpacityDiv").remove()),null!=document.getElementById("intentPreview")||null!=document.getElementById("wzrkImageOnlyDiv"))return;if(null==i.display.layout&&(/mobile/i.test(navigator.userAgent)||/mini/i.test(navigator.userAgent)||/iPad/i.test(navigator.userAgent)||"ontouchstart"in window||/tablet/i.test(navigator.userAgent)))return;if(!1===u(i))return;const n=i.wzrk_id.split("_")[0];ue.campaignDivMap[n]="intentPreview";let o=!1;const r=document.createElement("div");r.id="intentOpacityDiv";const s=i.display.opacity||.7,a="rgba(0,0,0,".concat(s,")");r.setAttribute("style","position: fixed;top: 0;bottom: 0;left: 0;width: 100%;height: 100%;z-index: 2147483646;background: ".concat(a,";")),document.body.appendChild(r);const l=document.createElement("div");l.id="intentPreview",null==i.display.proto?(o=!0,l.setAttribute("style","display:block;overflow:hidden;top:55% !important;left:50% !important;position:fixed;z-index:2147483647;width:600px !important;height:600px !important;margin:-300px 0 0 -300px !important;")):l.setAttribute("style",i.display.iFrameStyle),document.body.appendChild(l);const c=document.createElement("iframe"),d=!1===i.display.br?"0":"8";c.frameborder="0px",c.marginheight="0px",c.marginwidth="0px",c.scrolling="no",c.id="wiz-iframe-intent";const h=i.display.onClick;let p,f="";if(""!==h&&null!=h&&(f="cursor:pointer;"),i.display.preview&&i.display["custom-editor"]&&(c.sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox"),1===i.msgContent.type)p=i.msgContent.html,p=p.replace(/##campaignId##/g,n),p=p.replace(/##campaignId_batchId##/g,i.wzrk_id);else{const e='<style type="text/css">body{margin:0;padding:0;}#contentDiv.wzrk{overflow:hidden;padding:0 0 20px 0;text-align:center;'+f+"}#contentDiv.wzrk td{padding:15px 10px;}.wzrkPPtitle{font-weight: bold;font-size: 24px;font-family:arial;word-break: break-word;padding-top:20px;}.wzrkPPdscr{font-size: 14px;font-family:arial;line-height:16px;word-break: break-word;display:inline-block;padding:20px 20px 0 20px;line-height:20px;}.PL15{padding-left:15px;}.wzrkPPwarp{margin:20px 20px 0 5px;padding:0px;border-radius: "+d+"px;box-shadow: 1px 1px 5px #888888;}a.wzrkClose{cursor:pointer;position: absolute;top: 11px;right: 11px;z-index: 2147483647;font-size:19px;font-family:arial;font-weight:bold;text-decoration: none;width: 25px;/*height: 25px;*/text-align: center; -webkit-appearance: none; line-height: 25px;background: #353535;border: #fff 2px solid;border-radius: 100%;box-shadow: #777 2px 2px 2px;color:#fff;}a:hover.wzrkClose{background-color:#d1914a !important;color:#fff !important; -webkit-appearance: none;}#contentDiv .button{padding-top:20px;}#contentDiv .button a{font-size: 14px;font-weight:bold;font-family:arial;text-align:center;display:inline-block;text-decoration:none;padding:0 30px;height:40px;line-height:40px;background:#ea693b;color:#fff;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;}</style>";let t,o,r,s;"dark"===i.display.theme?(t="#2d2d2e",o="#eaeaea",r="#353535",s="#ffffff"):(t="#ffffff",o="#000000",r="#a5a6a6",s="#ffffff");const a=i.msgContent.title,l=i.msgContent.description;let c="";null!=i.msgContent.ctaText&&""!==i.msgContent.ctaText&&(c="<div class='button'><a href='#'>"+i.msgContent.ctaText+"</a></div>");let u="";null!=i.msgContent.imageUrl&&""!==i.msgContent.imageUrl&&(u="<div style='padding-top:20px;'><img src='"+i.msgContent.imageUrl+"' width='500' alt="+a+" /></div>"),p=e+"<div class='wzrkPPwarp' style='color:"+o+";background-color:"+t+";'><a href='javascript:void(0);' onclick=parent.$WZRK_WR.closeIframe("+n+",'intentPreview'); class='wzrkClose' style='background-color:"+r+";color:"+s+"'>&times;</a><div id='contentDiv' class='wzrk'><div class='wzrkPPtitle' style='color:"+o+"'>"+a+"</div><div class='wzrkPPdscr' style='color:"+o+"'>"+l+"</div>"+u+c+"</div></div>"}c.setAttribute("style","z-index: 2147483647; display:block; height: 100% !important; width: 100% !important;min-height:80px !important;border:0px !important; border-color:none !important;"),l.appendChild(c);const v=new Event("CT_campaign_rendered");document.dispatchEvent(v),i.display["custom-editor"]&&(p=C(i,p)),c.srcdoc=p,c.onload=()=>{const e=document.getElementById("wiz-iframe-intent").contentDocument.getElementById("contentDiv");g(h,i,e,0,o)}};if(!document.body)return void(d<6&&(d++,setTimeout(oi,1e3,e,{device:s,session:a,request:l,logger:c})));const R=e=>{Object.keys(e).map((t=>{var i,n;e[t].display.divId?(i=e[t].display.divId,n=document.getElementById(i)):(i=e[t].display.divSelector,n=document.querySelector(i)),null!==n&&(2===e[t].msgContent.type?v(e[t]):m(e[t]),delete e[t])}))};if(null!=e.inapp_notifs){const t={};for(let i=0;i<e.inapp_notifs.length;i++){const n=e.inapp_notifs[i];null==n.display.wtarget_type||0===n.display.wtarget_type?O(n):1===n.display.wtarget_type?(P=n,window.document.body.onmouseleave=T):2===n.display.wtarget_type&&(2===n.msgContent.type||3===n.msgContent.type?null!==(n.display.divId?document.getElementById(n.display.divId):document.querySelector(n.display.divSelector))?2===n.msgContent.type?v(n):m(n):t[n.wzrk_id.split("_")[0]]=n:4===n.msgContent.type?ni(n,!1):O(n))}Object.keys(t).length&&("complete"===document.readyState?R(t):(e=>{window.addEventListener("load",(()=>{let t=0;if(t<20){const i=setInterval((()=>{R(e),0!==Object.keys(e).length&&20!==t||(clearInterval(i),e={}),t++}),500)}}))})(t))}const M=()=>{if(e.inbox_preview)Ft(e);else if(e.inbox_notifs){const t=[];for(let i=0;i<e.inbox_notifs.length;i++)!1!==u(e.inbox_notifs[i])&&t.push(e.inbox_notifs[i]);Ft(t)}};if((e.webInboxSetting||null!=e.inbox_notifs)&&(Yt()&&Kt(),null===ue.inbox?(e.webInboxSetting&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=de.readFromLSorCookie(K)||{};t?(ue.inbox.inboxConfigForPreview=e,ue.inbox.isPreview=!0,ue.inbox&&ue.inbox.init()):JSON.stringify(i)!==JSON.stringify(e)&&(de.saveToLSorCookie(K,e),ue.inbox&&ue.inbox.init())}(e.webInboxSetting),Ht(c).then((()=>{M()})).catch((e=>{}))):M()),e.vars)return void ue.variableStore.mergeVariables(e.vars);const D=(e,t)=>{const i=it(),n=i[t].global;if(null!=n&&t)for(const i in e)if(e.hasOwnProperty(i)&&(delete n[e[i]],de.read(w))){const n=JSON.parse(decodeURIComponent(de.read(w))),o=JSON.parse(decodeURIComponent(de.read(b)));n[o]&&n[o][t]&&n[o][t][e[i]]&&(delete n[o][t][e[i]],de.save(w,encodeURIComponent(JSON.stringify(n))))}nt(i)};if(de._isLocalStorageSupported())try{if(null!=e.evpr){const t=e.evpr.events,i=e.evpr.profile,n=e.evpr.expires_in,o=se();de.setMetaProp("lsTime",o),de.setMetaProp("exTs",n),(e=>{if(null!=ue.globalEventsMap||(ue.globalEventsMap=de.readFromLSorCookie(S),null!=ue.globalEventsMap)){for(const t in e)if(e.hasOwnProperty(t)){const i=ue.globalEventsMap[t],n=e[t];null!=ue.globalEventsMap[t]?null!=n[0]&&n[0]>i[0]&&(ue.globalEventsMap[t]=n):ue.globalEventsMap[t]=n}}else ue.globalEventsMap=e})(t),de.saveToLSorCookie(S,ue.globalEventsMap),null==ue.globalProfileMap?ct(i,!0):ct(i,!1)}null!=e.arp&&(e=>{if(null!=e.skipResARP&&e.skipResARP)return console.debug("Update ARP Request rejected",e),null;const t=!0===e[x];if(de._isLocalStorageSupported())try{let i=de.readFromLSorCookie(k);if(null==i||t){i={};for(const t in e)e.hasOwnProperty(t)&&(-1===e[t]?delete i[t]:i[t]=e[t]);de.saveToLSorCookie(k,i)}}catch(e){console.error("Unable to parse ARP JSON: "+e)}})(e.arp),null!=e.inapp_stale&&e.inapp_stale.length>0&&D(e.inapp_stale,"wp"),null!=e.inbox_stale&&e.inbox_stale.length>0&&D(e.inbox_stale,"wi")}catch(e){c.error("Unable to persist evrp/arp: "+e)}};var ri=t("isPersonalisationActive");class si{constructor(e){let{isPersonalisationActive:t}=e;Object.defineProperty(this,ri,{writable:!0,value:void 0}),i(this,ri)[ri]=t}getTotalVisits(){if(!i(this,ri)[ri]())return;let e=de.getMetaProp("sc");return null==e&&(e=1),e}getLastVisit(){if(!i(this,ri)[ri]())return;const e=de.getMetaProp("ps");return null!=e?new Date(1e3*e):void 0}}const ai=1,li=2,ci=3,di=4;var ui=t("logLevel"),hi=t("log"),pi=t("isLegacyDebug");class gi{constructor(e){Object.defineProperty(this,pi,{get:vi,set:void 0}),Object.defineProperty(this,hi,{value:fi}),Object.defineProperty(this,ui,{writable:!0,value:void 0}),this.wzrkError={},i(this,ui)[ui]=null==e?e:li,this.wzrkError={}}get logLevel(){return i(this,ui)[ui]}set logLevel(e){i(this,ui)[ui]=e}error(e){i(this,ui)[ui]>=ai&&i(this,hi)[hi]("error",e)}info(e){i(this,ui)[ui]>=li&&i(this,hi)[hi]("log",e)}debug(e){(i(this,ui)[ui]>=ci||i(this,pi)[pi])&&i(this,hi)[hi]("debug",e)}debugPE(e){i(this,ui)[ui]>=di&&i(this,hi)[hi]("debug_pe",e)}reportError(e,t){this.wzrkError.c=e,this.wzrkError.d=t,this.error("".concat(ke," ").concat(e,": ").concat(t))}}var fi=function(e,t){if(window.console)try{const i=(new Date).getTime();console[e]("CleverTap [".concat(i,"]: ").concat(t))}catch(e){}},vi=function(){return"undefined"!=typeof sessionStorage&&""===sessionStorage.WZRK_D},bi=t("logger"),mi=t("sessionId"),yi=t("isPersonalisationActive");class wi{constructor(e){let{logger:t,isPersonalisationActive:n}=e;Object.defineProperty(this,bi,{writable:!0,value:void 0}),Object.defineProperty(this,mi,{writable:!0,value:void 0}),Object.defineProperty(this,yi,{writable:!0,value:void 0}),this.cookieName=void 0,this.scookieObj=void 0,this.sessionId=de.getMetaProp("cs"),i(this,bi)[bi]=t,i(this,yi)[yi]=n}get sessionId(){return i(this,mi)[mi]}set sessionId(e){i(this,mi)[mi]=e}getSessionCookieObject(){let e=de.readCookie(this.cookieName),t={};if(null!=e)if(e=e.replace(p,'"'),t=JSON.parse(e),Z(t)){if(void 0!==t.t){const e=t.t;se()-e>1260&&(t={})}}else t={};return this.scookieObj=t,t}setSessionCookieObject(e){const t=JSON.stringify(e);de.createBroadCookie(this.cookieName,t,1200,Ge())}manageSession(e){if(void 0===this.sessionId||this.sessionId!==e){const t=de.getMetaProp("cs");if(void 0===t)de.setMetaProp("ps",e),de.setMetaProp("cs",e),de.setMetaProp("sc",1);else if(t!==e){de.setMetaProp("ps",t),de.setMetaProp("cs",e);let i=de.getMetaProp("sc");void 0===i&&(i=0),de.setMetaProp("sc",i+1)}this.sessionId=e}}getTimeElapsed(){if(!i(this,yi)[yi]())return;null!=this.scookieObj&&(this.scookieObj=this.getSessionCookieObject());const e=this.scookieObj.s;if(null!=e){const t=se();return Math.floor(t-e)}}getPageCount(){if(i(this,yi)[yi]())return null!=this.scookieObj&&(this.scookieObj=this.getSessionCookieObject()),this.scookieObj.p}}let Si=0,_i=0;var Ci=t("logger"),ki=t("account"),Ei=t("device"),Ai=t("session"),Ii=t("isPersonalisationActive"),Oi=t("clearCookie"),Pi=t("addToLocalEventMap");class Ti{constructor(e){let{logger:t,account:n,device:o,session:r,isPersonalisationActive:s}=e;Object.defineProperty(this,Pi,{value:xi}),Object.defineProperty(this,Ci,{writable:!0,value:void 0}),Object.defineProperty(this,ki,{writable:!0,value:void 0}),Object.defineProperty(this,Ei,{writable:!0,value:void 0}),Object.defineProperty(this,Ai,{writable:!0,value:void 0}),Object.defineProperty(this,Ii,{writable:!0,value:void 0}),Object.defineProperty(this,Oi,{writable:!0,value:!1}),this.processingBackup=!1,i(this,Ci)[Ci]=t,i(this,ki)[ki]=n,i(this,Ei)[Ei]=o,i(this,Ai)[Ai]=r,i(this,Ii)[Ii]=s,tt.logger=t,tt.device=o,tt.account=n}processBackupEvents(){const e=de.readFromLSorCookie(E);if(null!=e){this.processingBackup=!0;for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];void 0===n.fired&&(i(this,Ci)[Ci].debug("Processing backup event : "+n.q),void 0!==n.q&&tt.fireRequest(n.q),n.fired=!0)}de.saveToLSorCookie(E,e),this.processingBackup=!1}}addSystemDataToObject(e,t){void 0===t&&(e=ne(e,i(this,Ci)[Ci])),X(i(this,Ci)[Ci].wzrkError)||(e.wzrk_error=i(this,Ci)[Ci].wzrkError,i(this,Ci)[Ci].wzrkError={}),e.id=i(this,ki)[ki].id,ie(i(this,Ei)[Ei].gcookie)&&(e.g=i(this,Ei)[Ei].gcookie);const n=i(this,Ai)[Ai].getSessionCookieObject();e.s=n.s,e.pg=void 0===n.p?1:n.p;let o=document.location.protocol;return o=o.replace(":",""),e.af={...e.af,lib:"web-sdk-v1.9.2",protocol:o,...ue.flutterVersion},sessionStorage.hasOwnProperty("WZRK_D")&&(e.debug=!0),e}addFlags(e){if(i(this,Oi)[Oi]=de.getAndClearMetaProp(g),void 0!==i(this,Oi)[Oi]&&i(this,Oi)[Oi]&&(e.rc=!0,i(this,Ci)[Ci].debug("reset cookie sent in request and cleared from meta for future requests.")),i(this,Ii)[Ii]()){const t=de.getMetaProp("lsTime"),i=de.getMetaProp("exTs");if(void 0===t||void 0===i)return void(e.dsync=!0);t+i<se()&&(e.dsync=!0)}}saveAndFireRequest(e,t,n,o){const r=se(),s=(e=We(e,"rn",++ue.globalCache.REQ_N))+"&i="+r+"&sn="+Si;de.backupEvent(s,ue.globalCache.REQ_N,i(this,Ci)[Ci]),ue.offline||(t&&(void 0===i(this,Oi)[Oi]||!i(this,Oi)[Oi])||window.isOULInProgress?i(this,Ci)[Ci].debug("Not fired due to override - ".concat(ue.blockRequest," or clearCookie - ").concat(i(this,Oi)[Oi]," or OUL request in progress - ").concat(window.isOULInProgress)):(r===_i?Si++:(_i=r,Si=0),window.oulReqN=ue.globalCache.REQ_N,tt.fireRequest(s,!1,n,o)))}unregisterTokenForGuid(e){const t=de.readFromLSorCookie(V);if(t){const t={type:"data"};ie(e)&&(t.g=e),t.action="unregister",t.id=i(this,ki)[ki].id;const n=i(this,Ai)[Ai].getSessionCookieObject();t.s=n.s;const o=Ye(JSON.stringify(t),i(this,Ci)[Ci]);let r=i(this,ki)[ki].dataPostURL;r=We(r,"type","data"),r=We(r,"d",o),tt.fireRequest(r,!0),de.saveToLSorCookie(F,!1)}this.registerToken(t)}registerToken(e){if(!e)return;e=this.addSystemDataToObject(e,!0),e=JSON.stringify(e);let t=i(this,ki)[ki].dataPostURL;t=We(t,"type","data"),t=We(t,"d",Ye(e,i(this,Ci)[Ci])),tt.fireRequest(t),de.save("WZRK_WPR","ok")}processEvent(e){i(this,Pi)[Pi](e.evtName),e=this.addSystemDataToObject(e,void 0),this.addFlags(e),e[y]=rt();const t=Ye(JSON.stringify(e),i(this,Ci)[Ci]);let n=i(this,ki)[ki].dataPostURL;n=We(n,"type",R),n=We(n,"d",t),this.saveAndFireRequest(n,ue.blockRequest,!1,e.evtName)}post(e,t){return fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:t}).then((e=>{if(e.ok)return e.json();throw e})).then((e=>(i(this,Ci)[Ci].debug("Sync data successful",e),e))).catch((e=>{throw i(this,Ci)[Ci].debug("Error in syncing variables",e),e}))}}var xi=function(e){if(de._isLocalStorageSupported()){void 0===ue.globalEventsMap&&(ue.globalEventsMap=de.readFromLSorCookie(S),void 0===ue.globalEventsMap&&(ue.globalEventsMap={}));const t=se();let i=ue.globalEventsMap[e];void 0!==i?(i[2]=t,i[0]++):(i=[],i.push(1),i.push(t),i.push(t)),ue.globalEventsMap[e]=i,de.saveToLSorCookie(S,ue.globalEventsMap)}},Ri=t("request"),Mi=t("account"),Di=t("oldValues"),Li=t("logger"),Ni=t("processPrivacyArray");class Ui extends Array{constructor(e,t){let{request:n,account:o,logger:r}=e;super(),Object.defineProperty(this,Ni,{value:ji}),Object.defineProperty(this,Ri,{writable:!0,value:void 0}),Object.defineProperty(this,Mi,{writable:!0,value:void 0}),Object.defineProperty(this,Di,{writable:!0,value:void 0}),Object.defineProperty(this,Li,{writable:!0,value:void 0}),i(this,Li)[Li]=r,i(this,Ri)[Ri]=n,i(this,Mi)[Mi]=o,i(this,Di)[Di]=t}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ue.isPrivacyArrPushed?i(this,Ni)[Ni](ue.privacyArray.length>0?ue.privacyArray:t):ue.privacyArray.push(...t),0}_processOldValues(){i(this,Di)[Di]&&i(this,Ni)[Ni](i(this,Di)[Di]),i(this,Di)[Di]=null}}var ji=function(e){if(Array.isArray(e)&&e.length>0){const n=e.reduce(((e,t)=>({...e,...t})),{});let o={};const r={};var t=!1;if(n.hasOwnProperty(O)&&"boolean"==typeof(t=n[O])&&(r.ct_optout=t,ue.isOptInRequest=!t),n.hasOwnProperty(P)){const e=n[P],t="boolean"==typeof e&&e;de.setMetaProp(P,t)}if(!X(r)){o.type="profile",o.profile=r,o=i(this,Ri)[Ri].addSystemDataToObject(o,void 0);const n=Ye(JSON.stringify(o),i(this,Li)[Li]);let s=i(this,Mi)[Mi].dataPostURL;s=We(s,"type",R),s=We(s,"d",n),s=We(s,O,t?"true":"false"),i(this,Ri)[Ri].saveAndFireRequest(s,ue.blockRequest),e.splice(0,e.length)}}},Fi=t("oldValues"),Vi=t("logger"),qi=t("request"),Bi=t("account"),zi=t("wizAlertJSPath"),Hi=t("fcmPublicKey"),Ki=t("setUpWebPush"),Wi=t("setUpWebPushNotifications"),Gi=t("setApplicationServerKey"),Yi=t("setUpSafariNotifications"),Ji=t("setUpChromeFirefoxNotifications"),$i=t("addWizAlertJS"),Zi=t("removeWizAlertJS"),Qi=t("handleNotificationRegistration");class Xi extends Array{constructor(e,t){let{logger:n,session:o,request:r,account:s}=e;super(),Object.defineProperty(this,Qi,{value:ln}),Object.defineProperty(this,Zi,{value:an}),Object.defineProperty(this,$i,{value:sn}),Object.defineProperty(this,Ji,{value:rn}),Object.defineProperty(this,Yi,{value:on}),Object.defineProperty(this,Gi,{value:nn}),Object.defineProperty(this,Wi,{value:tn}),Object.defineProperty(this,Ki,{value:en}),Object.defineProperty(this,Fi,{writable:!0,value:void 0}),Object.defineProperty(this,Vi,{writable:!0,value:void 0}),Object.defineProperty(this,qi,{writable:!0,value:void 0}),Object.defineProperty(this,Bi,{writable:!0,value:void 0}),Object.defineProperty(this,zi,{writable:!0,value:void 0}),Object.defineProperty(this,Hi,{writable:!0,value:void 0}),i(this,zi)[zi]="https://d2r1yp2w7bby2u.cloudfront.net/js/wzrk_dialog.min.js",i(this,Hi)[Hi]=null,i(this,Fi)[Fi]=t,i(this,Vi)[Vi]=n,i(this,qi)[qi]=r,i(this,Bi)[Bi]=s}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,Ki)[Ki](t),0}_processOldValues(){i(this,Fi)[Fi]&&i(this,Ki)[Ki](i(this,Fi)[Fi]),i(this,Fi)[Fi]=null}_enableWebPush(e,t){ue.webPushEnabled=e,null!=t&&i(this,Gi)[Gi](t),ue.webPushEnabled&&ue.notifApi.notifEnabledFromApi?i(this,Qi)[Qi](ue.notifApi.displayArgs):!ue.webPushEnabled&&ue.notifApi.notifEnabledFromApi&&i(this,Vi)[Vi].error("Ensure that web push notifications are fully enabled and integrated before requesting them")}}var en=function(e){ue.webPushEnabled&&e.length>0?i(this,Qi)[Qi](e):null==ue.webPushEnabled&&e.length>0?(ue.notifApi.notifEnabledFromApi=!0,ue.notifApi.displayArgs=e.slice()):!1===ue.webPushEnabled&&e.length>0&&i(this,Vi)[Vi].error("Make sure push notifications are fully enabled and integrated")},tn=function(e,t,n,o){-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Firefox")?i(this,Ji)[Ji](e,t):-1!==navigator.userAgent.indexOf("Safari")&&i(this,Yi)[Yi](e,n,o)},nn=function(e){i(this,Hi)[Hi]=e},on=function(e,t,n){void 0===t&&i(this,Vi)[Vi].error("Ensure that APNS Web Push ID is supplied"),void 0===n&&i(this,Vi)[Vi].error("Ensure that APNS Web Push service path is supplied"),"safari"in window&&"pushNotification"in window.safari&&window.safari.pushNotification.requestPermission(n,t,{},(e=>{if("granted"===e.permission){const t=JSON.parse(JSON.stringify(e));t.endpoint=e.deviceToken,t.browser="Safari",de.saveToLSorCookie(V,t),i(this,qi)[qi].registerToken(t),i(this,Vi)[Vi].info("Safari Web Push registered. Device Token: "+e.deviceToken)}else"denied"===e.permission&&i(this,Vi)[Vi].info("Error subscribing to Safari web push")}))},rn=function(e,t){let n="";"serviceWorker"in navigator&&navigator.serviceWorker.register(t).then((e=>"undefined"!=typeof __wzrk_account_id?new Promise((t=>setTimeout((()=>t(e)),5e3))):(n=e.scope,/^(\.?)(\/?)([^/]*).js$/.test(t)?navigator.serviceWorker.ready:-1!==navigator.userAgent.indexOf("Chrome")?new Promise((t=>setTimeout((()=>t(e)),5e3))):navigator.serviceWorker.getRegistrations()))).then((t=>{-1!==navigator.userAgent.indexOf("Firefox")&&Array.isArray(t)&&(t=t.filter((e=>e.scope===n))[0]);const o={userVisibleOnly:!0};null!=i(this,Hi)[Hi]&&(o.applicationServerKey=(e=>{let t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(t),n=[];for(let e=0;e<i.length;e++)n.push(i.charCodeAt(e));return new Uint8Array(n)})(i(this,Hi)[Hi])),t.pushManager.subscribe(o).then((t=>{i(this,Vi)[Vi].info("Service Worker registered. Endpoint: "+t.endpoint);const n=JSON.parse(JSON.stringify(t));-1!==navigator.userAgent.indexOf("Chrome")?(n.endpoint=n.endpoint.split("/").pop(),n.browser="Chrome"):-1!==navigator.userAgent.indexOf("Firefox")&&(n.endpoint=n.endpoint.split("/").pop(),n.browser="Firefox"),de.saveToLSorCookie(V,n),i(this,qi)[qi].registerToken(n),void 0!==e&&"function"==typeof e&&e()})).catch((e=>{i(this,Vi)[Vi].error("Error subscribing: "+e),t.pushManager.getSubscription().then((e=>{null!==e&&e.unsubscribe().then((e=>{i(this,Vi)[Vi].info("Unsubscription successful")})).catch((e=>{i(this,Vi)[Vi].error("Error unsubscribing: "+e)}))}))}))})).catch((e=>{i(this,Vi)[Vi].error("error registering service worker: "+e)}))},sn=function(){const e=document.createElement("script");return e.setAttribute("type","text/javascript"),e.setAttribute("id","wzrk-alert-js"),e.setAttribute("src",i(this,zi)[zi]),document.getElementsByTagName("body")[0].appendChild(e),e},an=function(){const e=document.getElementById("wzrk-alert-js");e.parentNode.removeChild(e)},ln=function(e){let t,n,o,r,s,a,l,c,d,u,h,p,g,f,v;if(1===e.length){if(Z(e[0])){const i=e[0];t=i.titleText,n=i.bodyText,o=i.okButtonText,r=i.rejectButtonText,s=i.okButtonColor,a=i.skipDialog,l=i.askAgainTimeInSeconds,c=i.okCallback,d=i.rejectCallback,u=i.subscriptionCallback,h=i.serviceWorkerPath,p=i.httpsPopupPath,g=i.httpsIframePath,f=i.apnsWebPushId,v=i.apnsWebPushServiceUrl}}else t=e[0],n=e[1],o=e[2],r=e[3],s=e[4],a=e[5],l=e[6];if(null==a&&(a=!1),null==h&&(h="/clevertap_sw.js"),void 0===navigator.serviceWorker)return;const b=null!=p&&null!=g;if("https:"!==window.location.protocol&&"localhost"!==document.location.hostname&&!b)return void i(this,Vi)[Vi].error("Make sure you are https or localhost to register for notifications");if(-1!==navigator.userAgent.indexOf("Chrome")){const e=navigator.userAgent.match(/Chrome\/(\d+)/);if(null==e||parseInt(e[1],10)<50)return}else if(-1!==navigator.userAgent.indexOf("Firefox")){const e=navigator.userAgent.match(/Firefox\/(\d+)/);if(null==e||parseInt(e[1],10)<50)return}else{if(-1===navigator.userAgent.indexOf("Safari"))return;{const e=navigator.userAgent.match(/Safari\/(\d+)/);if(null==e||parseInt(e[1],10)<50)return}}if(!b){if(null==Notification)return;if("granted"===Notification.permission)return void i(this,Wi)[Wi](u,h,f,v);if("denied"===Notification.permission)return;if(a)return void i(this,Wi)[Wi](u,h,f,v)}if(!(t&&n&&o&&r))return void i(this,Vi)[Vi].error("Missing input parameters; please specify title, body, ok button and cancel button text");null!=s&&s.match(/^#[a-f\d]{6}$/i)||(s="#f28046");const m=(new Date).getTime()/1e3;if(null==de.getMetaProp("notif_last_time"))de.setMetaProp("notif_last_time",m);else{if(null==l&&(l=604800),m-de.getMetaProp("notif_last_time")<l)return;de.setMetaProp("notif_last_time",m)}if(b){const e=document.createElement("iframe");e.setAttribute("style","display:none;"),e.setAttribute("src",g),document.body.appendChild(e),window.addEventListener("message",(e=>{if(null!=e.data){let a={};try{a=JSON.parse(e.data)}catch(e){return}null!=a.state&&"ct"===a.from&&"not"===a.state&&(i(this,$i)[$i]().onload=()=>{window.wzrkPermissionPopup.wizAlert({title:t,body:n,confirmButtonText:o,confirmButtonColor:s,rejectButtonText:r},(e=>{e?("function"==typeof c&&c(),window.open(p)):"function"==typeof d&&d(),i(this,Zi)[Zi]()}))})}}),!1)}else i(this,$i)[$i]().onload=()=>{window.wzrkPermissionPopup.wizAlert({title:t,body:n,confirmButtonText:o,confirmButtonColor:s,rejectButtonText:r},(e=>{e?("function"==typeof c&&c(),i(this,Wi)[Wi](u,h,f,v)):"function"==typeof d&&d(),i(this,Zi)[Zi]()}))}},cn=t("variableStore");class dn{constructor(e){let{variableStore:t}=e;Object.defineProperty(this,cn,{writable:!0,value:void 0}),this.name=null,this.defaultValue=null,this.value=null,this.type=null,this.hadStarted=!1,this.valueChangedCallbacks=[],i(this,cn)[cn]=t}getValue(){return this.value}getdefaultValue(){return this.defaultValue}static define(e,t,i){if(!e||"string"!=typeof e)return console.error("Empty or invalid name parameter provided."),null;if(e.startsWith(".")||e.endsWith("."))return console.error("Variable name starts or ends with a `.` which is not allowed: "+e),null;const n=typeof t;if("string"!==n&&"number"!==n&&"boolean"!==n)return console.error("Only primitive types (string, number, boolean) are accepted as value"),null;const o=i.getVariable(e);if(o)return o;const r=new dn({variableStore:i});try{r.name=e,r.defaultValue=t,r.value=t,r.type=n,i.registerVariable(r),r.update(t)}catch(e){console.error(e)}return r}update(e){const t=this.value;this.value=e,null===e&&null===t||null!==e&&e===t&&this.hadStarted||i(this,cn)[cn].hasVarsRequestCompleted()&&(this.hadStarted=!0,this.triggerValueChanged())}triggerValueChanged(){this.valueChangedCallbacks.forEach((e=>{e(this)}))}addValueChangedCallback(e){e?(this.valueChangedCallbacks.push(e),i(this,cn)[cn].hasVarsRequestCompleted()&&e(this)):console.log("Invalid callback parameter provided.")}removeValueChangedCallback(e){const t=this.valueChangedCallbacks.indexOf(e);-1!==t&&this.valueChangedCallbacks.splice(t,1)}clearStartFlag(){this.hadStarted=!1}}var un=t("logger"),hn=t("account"),pn=t("request"),gn=t("event"),fn=t("variables"),vn=t("remoteVariables"),bn=t("fetchCallback"),mn=t("variablesChangedCallbacks"),yn=t("oneTimeVariablesChangedCallbacks"),wn=t("hasVarsRequestCompleted"),Sn=t("runVariablesChangedCallback");class _n{constructor(e){let{logger:t,request:n,account:o,event:r}=e;Object.defineProperty(this,Sn,{value:Cn}),Object.defineProperty(this,un,{writable:!0,value:void 0}),Object.defineProperty(this,hn,{writable:!0,value:void 0}),Object.defineProperty(this,pn,{writable:!0,value:void 0}),Object.defineProperty(this,gn,{writable:!0,value:void 0}),Object.defineProperty(this,fn,{writable:!0,value:void 0}),Object.defineProperty(this,vn,{writable:!0,value:void 0}),Object.defineProperty(this,bn,{writable:!0,value:void 0}),Object.defineProperty(this,mn,{writable:!0,value:void 0}),Object.defineProperty(this,yn,{writable:!0,value:void 0}),Object.defineProperty(this,wn,{writable:!0,value:!1}),i(this,un)[un]=t,i(this,hn)[hn]=o,i(this,pn)[pn]=n,i(this,gn)[gn]=r,i(this,fn)[fn]={},i(this,vn)[vn]={},i(this,mn)[mn]=[],i(this,yn)[yn]=[],ue.variableStore=this}registerVariable(e){const{name:t}=e;i(this,fn)[fn][t]=e,console.log("registerVariable",i(this,fn)[fn])}getVariable(e){return i(this,fn)[fn][e]}hasVarsRequestCompleted(){return i(this,wn)[wn]}syncVariables(e,t){if(!i(this,hn)[hn].token){const e="Account token is missing.";return i(this,un)[un].error(e),Promise.reject(new Error(e))}const n={type:"varsPayload",vars:{}};for(const e in i(this,fn)[fn])n.vars[e]={defaultValue:i(this,fn)[fn][e].defaultValue,type:i(this,fn)[fn][e].type};if(0===Object.keys(n.vars).length){const e="No variables are defined.";return i(this,un)[un].error(e),Promise.reject(new Error(e))}let o={};o=i(this,pn)[pn].addSystemDataToObject(o,void 0),o.tk=i(this,hn)[hn].token,o.type="meta";const r=JSON.stringify([o,n]),s=i(this,hn)[hn].dataPostPEURL;return i(this,pn)[pn].post(s,r).then((t=>(e&&"function"==typeof e&&e(t),t))).catch((e=>{throw t&&"function"==typeof t&&t(e),400===e.status?i(this,un)[un].error("Invalid sync payload or clear the existing draft"):401===e.status?i(this,un)[un].error("This is not a test profile"):i(this,un)[un].error("Sync variable failed"),e}))}fetchVariables(e){i(this,gn)[gn].push(Y,{t:4}),e&&"function"==typeof e&&(i(this,bn)[bn]=e)}mergeVariables(e){console.log("msg vars is ",e),i(this,wn)[wn]=!0,de.saveToLSorCookie("WZRK_PE",e),i(this,vn)[vn]=e;for(const t in i(this,fn)[fn])e.hasOwnProperty(t)&&i(this,fn)[fn][t].update(e[t]);i(this,bn)[bn]&&i(this,bn)[bn](),i(this,Sn)[Sn]()}addVariablesChangedCallback(e){e&&"function"==typeof e?(i(this,mn)[mn].push(e),this.hasVarsRequestCompleted()&&e()):i(this,un)[un].error("callback is not a function")}addOneTimeVariablesChangedCallback(e){e&&"function"==typeof e&&(this.hasVarsRequestCompleted()?e():i(this,yn)[yn].push(e))}removeVariablesChangedCallback(e){const t=i(this,mn)[mn].indexOf(e);-1!==t&&i(this,mn)[mn].splice(t,1)}removeOneTimeVariablesChangedCallback(e){const t=i(this,yn)[yn].indexOf(e);-1!==t&&i(this,yn)[yn].splice(t,1)}}var Cn=function(){for(var e of i(this,mn)[mn])e();for(var t of i(this,yn)[yn])t();i(this,yn)[yn].length=0},kn=t("logger"),En=t("api"),An=t("onloadcalled"),In=t("device"),On=t("session"),Pn=t("account"),Tn=t("request"),xn=t("variableStore"),Rn=t("isSpa"),Mn=t("previousUrl"),Dn=t("boundCheckPageChanged"),Ln=t("dismissSpamControl"),Nn=t("processOldValues"),Un=t("debounce"),jn=t("checkPageChanged"),Fn=t("pingRequest"),Vn=t("isPingContinuous"),qn=t("overrideDSyncFlag"),Bn=t("sendLocationData");var zn=function(){this.onUserLogin._processOldValues(),this.privacy._processOldValues(),this.event._processOldValues(),this.profile._processOldValues(),this.notifications._processOldValues()},Hn=function(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){clearTimeout(t),t=setTimeout(e,i)}},Kn=function(){i(this,Un)[Un]((()=>{i(this,Mn)[Mn]!==location.href&&this.pageChanged()}))()},Wn=function(){let e=i(this,Pn)[Pn].dataPostURL,t={};t=i(this,Tn)[Tn].addSystemDataToObject(t,void 0),e=We(e,"type","ping"),e=We(e,"d",Ye(JSON.stringify(t),i(this,kn)[kn])),i(this,Tn)[Tn].saveAndFireRequest(e,ue.blockRequest)},Gn=function(){return void 0!==window.wzrk_d&&"continuous"===window.wzrk_d.ping},Yn=function(e){this._isPersonalisationActive()&&(e.dsync=!0)},Jn=function(e){let t={af:{}};const n={};t.type="profile",null==n.tz&&(n.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),t.profile=n,e&&Object.keys(e).forEach((i=>{t.af[i]=e[i]})),ue.location&&(t.af={...t.af,...ue.location}),t=i(this,Tn)[Tn].addSystemDataToObject(t,!0),i(this,Tn)[Tn].addFlags(t);const o=Ye(JSON.stringify(t),i(this,kn)[kn]);let r=i(this,Pn)[Pn].dataPostURL;r=We(r,"type",R),r=We(r,"d",o),i(this,Tn)[Tn].saveAndFireRequest(r,ue.blockRequest)};const $n=new class{get spa(){return i(this,Rn)[Rn]}set spa(e){const t=!0===e;i(this,Rn)[Rn]!==t&&1===i(this,An)[An]&&(t?document.addEventListener("click",i(this,Dn)[Dn]):document.removeEventListener("click",i(this,Dn)[Dn])),i(this,Rn)[Rn]=t}get dismissSpamControl(){return i(this,Ln)[Ln]}set dismissSpamControl(e){const t=!0===e;i(this,Ln)[Ln]=t,ue.dismissSpamControl=t}constructor(){var e,t,n,o,r;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.defineProperty(this,Bn,{value:Jn}),Object.defineProperty(this,qn,{value:Yn}),Object.defineProperty(this,Vn,{value:Gn}),Object.defineProperty(this,Fn,{value:Wn}),Object.defineProperty(this,jn,{value:Kn}),Object.defineProperty(this,Un,{value:Hn}),Object.defineProperty(this,Nn,{value:zn}),Object.defineProperty(this,kn,{writable:!0,value:void 0}),Object.defineProperty(this,En,{writable:!0,value:void 0}),Object.defineProperty(this,An,{writable:!0,value:void 0}),Object.defineProperty(this,In,{writable:!0,value:void 0}),Object.defineProperty(this,On,{writable:!0,value:void 0}),Object.defineProperty(this,Pn,{writable:!0,value:void 0}),Object.defineProperty(this,Tn,{writable:!0,value:void 0}),Object.defineProperty(this,xn,{writable:!0,value:void 0}),Object.defineProperty(this,Rn,{writable:!0,value:void 0}),Object.defineProperty(this,Mn,{writable:!0,value:void 0}),Object.defineProperty(this,Dn,{writable:!0,value:i(this,jn)[jn].bind(this)}),Object.defineProperty(this,Ln,{writable:!0,value:void 0}),this.enablePersonalization=void 0,this.popupCallbacks={},this.popupCurrentWzrkId="",i(this,An)[An]=0,this._isPersonalisationActive=this._isPersonalisationActive.bind(this),this.raiseNotificationClicked=()=>{},i(this,kn)[kn]=new gi(li),i(this,Pn)[Pn]=new d(null===(e=s.account)||void 0===e?void 0:e[0],s.region||(null===(t=s.account)||void 0===t?void 0:t[1]),s.targetDomain||(null===(n=s.account)||void 0===n?void 0:n[2]),s.token||(null===(o=s.account)||void 0===o?void 0:o[3])),i(this,In)[In]=new _e({logger:i(this,kn)[kn]}),i(this,Ln)[Ln]=s.dismissSpamControl||!1,this.shpfyProxyPath=s.shpfyProxyPath||"",i(this,On)[On]=new wi({logger:i(this,kn)[kn],isPersonalisationActive:this._isPersonalisationActive}),i(this,Tn)[Tn]=new Ti({logger:i(this,kn)[kn],account:i(this,Pn)[Pn],device:i(this,In)[In],session:i(this,On)[On],isPersonalisationActive:this._isPersonalisationActive}),this.enablePersonalization=s.enablePersonalization||!1,this.event=new ze({logger:i(this,kn)[kn],request:i(this,Tn)[Tn],isPersonalisationActive:this._isPersonalisationActive},s.event),this.profile=new bt({logger:i(this,kn)[kn],request:i(this,Tn)[Tn],account:i(this,Pn)[Pn],isPersonalisationActive:this._isPersonalisationActive},s.profile),this.onUserLogin=new Pt({request:i(this,Tn)[Tn],account:i(this,Pn)[Pn],session:i(this,On)[On],logger:i(this,kn)[kn],device:i(this,In)[In]},s.onUserLogin),this.privacy=new Ui({request:i(this,Tn)[Tn],account:i(this,Pn)[Pn],logger:i(this,kn)[kn]},s.privacy),this.notifications=new Xi({logger:i(this,kn)[kn],request:i(this,Tn)[Tn],account:i(this,Pn)[Pn]},s.notifications),i(this,xn)[xn]=new _n({logger:i(this,kn)[kn],request:i(this,Tn)[Tn],account:i(this,Pn)[Pn],event:this.event}),i(this,En)[En]=new we({logger:i(this,kn)[kn],request:i(this,Tn)[Tn],device:i(this,In)[In],session:i(this,On)[On]}),this.spa=s.spa,this.dismissSpamControl=s.dismissSpamControl,this.user=new si({isPersonalisationActive:this._isPersonalisationActive}),this.session={getTimeElapsed:()=>i(this,On)[On].getTimeElapsed(),getPageCount:()=>i(this,On)[On].getPageCount()},this.logout=()=>{i(this,kn)[kn].debug("logout called"),de.setInstantDeleteFlagInK()},this.clear=()=>{this.onUserLogin.clear()},this.getCleverTapID=()=>i(this,In)[In].getGuid(),this.getAccountID=()=>i(this,Pn)[Pn].id,this.getSCDomain=()=>i(this,Pn)[Pn].finalTargetDomain,this.setLibrary=(e,t)=>{ue.flutterVersion={[e]:t}},this.setSCSDKVersion=e=>{i(this,Pn)[Pn].scSDKVersion=e;const t={};t.af={scv:"sc-sdk-v"+i(this,Pn)[Pn].scSDKVersion};let n=i(this,Pn)[Pn].dataPostURL;n=We(n,"type","page"),n=We(n,"d",Ye(JSON.stringify(t),i(this,kn)[kn])),i(this,Tn)[Tn].saveAndFireRequest(n,ue.blockRequest)},Yt()&&(Kt(),Ht(i(this,kn)[kn])),this.getInboxMessageCount=()=>{const e=Bt();return Object.keys(e).length},this.getInboxMessageUnreadCount=()=>{if(ue.inbox)return ue.inbox.unviewedCounter;i(this,kn)[kn].debug("No unread messages")},this.getAllInboxMessages=()=>Bt(),this.getUnreadInboxMessages=()=>{if(ue.inbox)return ue.inbox.unviewedMessages;i(this,kn)[kn].debug("No unread messages")},this.getInboxMessageForId=e=>{const t=Bt();if((null!==e||""!==e)&&t.hasOwnProperty(e))return t[e];i(this,kn)[kn].error("No message available for message Id "+e)},this.deleteInboxMessage=e=>{const t=Bt();if(null===e&&""===e||!t.hasOwnProperty(e))i(this,kn)[kn].error("No message available for message Id "+e);else{const i=document.querySelector("ct-web-inbox").shadowRoot.getElementById(e);0===t[e].viewed&&(ue.inbox.unviewedCounter--,delete ue.inbox.unviewedMessages[e],document.getElementById("unviewedBadge").innerText=ue.inbox.unviewedCounter,document.getElementById("unviewedBadge").style.display=ue.inbox.unviewedCounter>0?"flex":"none"),i&&i.remove(),delete t[e],zt(t)}},this.markReadInboxMessage=e=>{const t=ue.inbox.unviewedMessages,n=Bt();if(null===e&&""===e||!t.hasOwnProperty(e))i(this,kn)[kn].error("No message available for message Id "+e);else{const t=document.querySelector("ct-web-inbox").shadowRoot.getElementById(e);if(null!==t&&(t.shadowRoot.getElementById("unreadMarker").style.display="none"),n[e].viewed=1,document.getElementById("unviewedBadge")){var o=parseInt(document.getElementById("unviewedBadge").innerText)-1;document.getElementById("unviewedBadge").innerText=o,document.getElementById("unviewedBadge").style.display=o>0?"flex":"none"}window.clevertap.renderNotificationViewed({msgId:n[e].wzrk_id,pivotId:n[e].pivotId}),ue.inbox.unviewedCounter--,delete ue.inbox.unviewedMessages[e],zt(n)}},this.markReadInboxMessagesForIds=e=>{if(Array.isArray(e))for(var t=0;t<e.length;t++)this.markReadInboxMessage(e[t])},this.markReadAllInboxMessage=()=>{const e=ue.inbox.unviewedMessages,t=Bt();Object.keys(e).length>0?(Object.keys(e).forEach((e=>{const i=document.querySelector("ct-web-inbox").shadowRoot.getElementById(e);null!==i&&(i.shadowRoot.getElementById("unreadMarker").style.display="none"),t[e].viewed=1,window.clevertap.renderNotificationViewed({msgId:t[e].wzrk_id,pivotId:t[e].wzrk_pivot})})),document.getElementById("unviewedBadge").innerText=0,document.getElementById("unviewedBadge").style.display="none",zt(t),ue.inbox.unviewedCounter=0,ue.inbox.unviewedMessages={}):i(this,kn)[kn].debug("All messages are already read")},this.toggleInbox=e=>{var t;return null===(t=ue.inbox)||void 0===t?void 0:t.toggleInbox(e)},this.renderNotificationViewed=e=>{a(U,e)},this.renderNotificationClicked=e=>{a(j,e)};const a=(e,t)=>{if(!t||!t.msgId)return;const n={type:"event"};if(n.evtName=e,n.evtData={[N]:t.msgId},t.pivotId&&(n.evtData={...n.evtData,wzrk_pivot:t.pivotId}),t.wzrk_slideNo&&(n.evtData={...n.evtData,wzrk_slideNo:t.wzrk_slideNo}),t.kv&&null!==t.kv&&void 0!==t.kv)for(const e in t.kv)e.startsWith(L)&&(n.evtData={...n.evtData,[e]:t.kv[e]});if(t.msgCTkv&&null!==t.msgCTkv&&void 0!==t.msgCTkv)for(const e in t.msgCTkv)e.startsWith(L)&&(n.evtData={...n.evtData,[e]:t.msgCTkv[e]});i(this,Tn)[Tn].processEvent(n)};this.setLogLevel=e=>{i(this,kn)[kn].logLevel=Number(e),3===e?sessionStorage.WZRK_D="":delete sessionStorage.WZRK_D},this.handleIncrementValue=(e,t)=>{this.profile._handleIncrementDecrementValue(e,t,q)},this.handleDecrementValue=(e,t)=>{this.profile._handleIncrementDecrementValue(e,t,"$decr")},this.setMultiValuesForKey=(e,t)=>{Array.isArray(t)?this.profile._handleMultiValueSet(e,t,"$set"):console.error("setMultiValuesForKey should be called with a value of type array")},this.addMultiValueForKey=(e,t)=>{"string"==typeof t||"number"==typeof t?this.profile._handleMultiValueAdd(e,t,B):console.error("addMultiValueForKey should be called with a value of type string or number.")},this.addMultiValuesForKey=(e,t)=>{Array.isArray(t)?this.profile._handleMultiValueAdd(e,t,B):console.error("addMultiValuesForKey should be called with a value of type array.")},this.removeMultiValueForKey=(e,t)=>{"string"==typeof t||"number"==typeof t?this.profile._handleMultiValueRemove(e,t,z):console.error("removeMultiValueForKey should be called with a value of type string or number.")},this.removeMultiValuesForKey=(e,t)=>{Array.isArray(t)?this.profile._handleMultiValueRemove(e,t,z):console.error("removeMultiValuesForKey should be called with a value of type array.")},this.removeValueForKey=e=>{this.profile._handleMultiValueDelete(e,H)};const l=(e,t,n)=>{((e,t,i,n,o)=>{const r=Ke(location.href),s=r.e,a=r.p,l=r.page_type;if(void 0!==s){const r={};r.id=n.id,r.unsubGroups=ue.unsubGroups,ue.updatedCategoryLong&&(r[D]=ue.updatedCategoryLong);let c=n.emailURL;i&&(c=We(c,"fetchGroups",i)),t&&(c=We(c,"encoded",t)),c=We(c,"e",s),c=We(c,"d",Ye(JSON.stringify(r),o)),a&&(c=We(c,"p",a)),"-1"!==e&&(c=We(c,"sub",e)),l&&(ue.globalUnsubscribe=l===A,c=We(c,"page_type",l)),tt.fireRequest(c)}})(e,t,n,i(this,Pn)[Pn],i(this,kn)[kn])};function c(e){var t=e.coords.latitude,n=e.coords.longitude;ue.location={Latitude:t,Longitude:n},i(this,Bn)[Bn]({Latitude:t,Longitude:n})}function u(e){switch(e.code){case e.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case e.TIMEOUT:console.log("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:console.log("An unknown error occurred.")}}this.getLocation=function(e,t){if(e&&"number"!=typeof e||t&&"number"!=typeof t)console.log("Latitude and Longitude must be of number type");else if(e&&t){if(e<=-90||e>90)return void console.log("A vaid latitude must range between -90 and 90");if(t<=-180||t>180)return void console.log("A valid longitude must range between -180 and 180");ue.location={Latitude:e,Longitude:t},i(this,Bn)[Bn]({Latitude:e,Longitude:t})}else navigator.geolocation?navigator.geolocation.getCurrentPosition(c.bind(this),u):console.log("Geolocation is not supported by this browser.")};const h=i(this,En)[En];h.logout=this.logout,h.clear=this.clear,h.closeIframe=(e,t)=>{dt(e,0,i(this,On)[On].sessionId)},h.enableWebPush=(e,t)=>{this.notifications._enableWebPush(e,t)},h.tr=e=>{oi(e,{device:i(this,In)[In],session:i(this,On)[On],request:i(this,Tn)[Tn],logger:i(this,kn)[kn]})},h.setEnum=e=>{((e,t)=>{if($(e)||te(e))return"$E_"+e;t.error(Me)})(e,i(this,kn)[kn])},h.is_onloadcalled=()=>1===i(this,An)[An],h.subEmail=e=>{l("1",e)},h.getEmail=(e,t)=>{l("-1",e,t)},h.unSubEmail=e=>{l("0",e)},h.unsubEmailGroups=e=>{ue.unsubGroups=[];const t=document.getElementsByClassName("ct-unsub-group-input-item");for(let e=0;e<t.length;e++){const i=t[e];if(i.name){const e={name:i.name,isUnsubscribed:i.checked};ue.unsubGroups.push(e)}}l("2",e)},h.setSubscriptionGroups=e=>{ue.unsubGroups=e},h.getSubscriptionGroups=()=>ue.unsubGroups,h.changeSubscriptionGroups=(e,t)=>{h.setSubscriptionGroups(t),l("2",e)},h.isGlobalUnsubscribe=()=>ue.globalUnsubscribe,h.setIsGlobalUnsubscribe=e=>{ue.globalUnsubscribe=e},h.setUpdatedCategoryLong=e=>{e[D]&&(ue.updatedCategoryLong=e[D])},window.$CLTP_WR=window.$WZRK_WR=h,(null===(r=s.account)||void 0===r?void 0:r[0].id)&&this.init()}init(e,t,n,o){if(1===i(this,An)[An])return;if(((e,t)=>{const i=window.location.search,n=window.opener;if("?ctBuilder"===i)return e.debug("open in visual builder mode"),window.addEventListener("message",Qt,!1),void(n&&n.postMessage({message:"builder",originUrl:window.location.href},"*"));"?ctBuilderPreview"===i&&(window.addEventListener("message",Qt,!1),n&&n.postMessage({message:"preview",originUrl:window.location.href},"*")),"?ctBuilderSDKCheck"===i&&n&&n.postMessage({message:"SDKVersion",accountId:t,originUrl:window.location.href,sdkVersion:"1.9.2"},"*")})(i(this,kn)[kn],e),de.removeCookie("WZRK_P",window.location.hostname),!i(this,Pn)[Pn].id){if(!e)return void i(this,kn)[kn].error(Ee);i(this,Pn)[Pn].id=e}i(this,On)[On].cookieName="WZRK_S_"+i(this,Pn)[Pn].id,t&&(i(this,Pn)[Pn].region=t),n&&(i(this,Pn)[Pn].targetDomain=n),o&&(i(this,Pn)[Pn].token=o);const r=location.href,s=Ke(r.toLowerCase());if(void 0!==s.e&&"0"==s.wzrk_ex)return;ue.isPrivacyArrPushed=!0,ue.privacyArray.length>0&&this.privacy.push(ue.privacyArray),i(this,Nn)[Nn](),this.pageChanged();const a=setInterval((()=>{i(this,In)[In].gcookie&&(clearInterval(a),i(this,Tn)[Tn].processBackupEvents())}),3e3);i(this,Rn)[Rn]?document.addEventListener("click",i(this,Dn)[Dn]):document.removeEventListener("click",i(this,Dn)[Dn]),i(this,An)[An]=1}pageChanged(){const e=window.location.href,t=Ke(e.toLowerCase()),n=i(this,On)[On].getSessionCookieObject();let o=void 0===n.p?0:n.p;n.p=++o,i(this,On)[On].setSessionCookieObject(n);let r={},s=(e=>{if(""===e)return"";var t=document.createElement("a");return t.href=e,t.hostname})(document.referrer);if(window.location.hostname!==s){const e=120;""!==s&&(s=s.length>e?s.substring(0,e):s,r.referrer=s);let i=t.utm_source||t.wzrk_source;void 0!==i&&(i=i.length>e?i.substring(0,e):i,r.us=i);let n=t.utm_medium||t.wzrk_medium;void 0!==n&&(n=n.length>e?n.substring(0,e):n,r.um=n);let o=t.utm_campaign||t.wzrk_campaign;if(void 0!==o&&(o=o.length>e?o.substring(0,e):o,r.uc=o),void 0!==t.wzrk_medium){const e=t.wzrk_medium;e.match(/^email$|^social$|^search$/)&&(r.wm=e)}}r=i(this,Tn)[Tn].addSystemDataToObject(r,void 0),r.cpg=e,r[y]=rt();let a=i(this,Pn)[Pn].dataPostURL;i(this,Tn)[Tn].addFlags(r),1===parseInt(r.pg)&&i(this,qn)[qn](r),a=We(a,"type","page"),a=We(a,"d",Ye(JSON.stringify(r),i(this,kn)[kn])),i(this,Tn)[Tn].saveAndFireRequest(a,ue.blockRequest),1===parseInt(r.pg)&&this.event.push(Y,{t:4}),i(this,Mn)[Mn]=e,setTimeout((()=>{o<=3&&i(this,Fn)[Fn](),i(this,Vn)[Vn]()&&setInterval((()=>{i(this,Fn)[Fn]()}),3e5)}),12e4)}_isPersonalisationActive(){return de._isLocalStorageSupported()&&this.enablePersonalization}set popupCallback(e){this.popupCallbacks[this.popupCurrentWzrkId]=e}setOffline(e){"boolean"==typeof e?(ue.offline=e,e||i(this,Tn)[Tn].processBackupEvents()):console.error("setOffline should be called with a value of type boolean")}getSDKVersion(){return"web-sdk-v1.9.2"}defineVariable(e,t){return dn.define(e,t,i(this,xn)[xn])}syncVariables(e,t){if(4===i(this,kn)[kn].logLevel)return i(this,xn)[xn].syncVariables(e,t);{const e="App log level is not set to 4";return i(this,kn)[kn].error(e),Promise.reject(new Error(e))}}fetchVariables(e){i(this,xn)[xn].fetchVariables(e)}addVariablesChangedCallback(e){i(this,xn)[xn].addVariablesChangedCallback(e)}addOneTimeVariablesChangedCallback(e){i(this,xn)[xn].addOneTimeVariablesChangedCallback(e)}}(window.clevertap);return window.clevertap=window.wizrocket=$n,$n}()},307:(e,t,i)=>{e=i.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,r="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",g="[object Promise]",f="[object RegExp]",v="[object Set]",b="[object String]",m="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",S=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[r]=C[s]=C[y]=C[a]=C[w]=C[l]=C[c]=C[d]=C[u]=C[h]=C[p]=C[f]=C[v]=C[b]=C[m]=!1;var k="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,E="object"==typeof self&&self&&self.Object===Object&&self,A=k||E||Function("return this")(),I=t&&!t.nodeType&&t,O=I&&e&&!e.nodeType&&e,P=O&&O.exports===I,T=P&&k.process,x=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),R=x&&x.isTypedArray;function M(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function D(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function L(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var N,U,j,F=Array.prototype,V=Function.prototype,q=Object.prototype,B=A["__core-js_shared__"],z=V.toString,H=q.hasOwnProperty,K=(N=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",W=q.toString,G=RegExp("^"+z.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=P?A.Buffer:void 0,J=A.Symbol,$=A.Uint8Array,Z=q.propertyIsEnumerable,Q=F.splice,X=J?J.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Y?Y.isBuffer:void 0,ie=(U=Object.keys,j=Object,function(e){return U(j(e))}),ne=Oe(A,"DataView"),oe=Oe(A,"Map"),re=Oe(A,"Promise"),se=Oe(A,"Set"),ae=Oe(A,"WeakMap"),le=Oe(Object,"create"),ce=Re(ne),de=Re(oe),ue=Re(re),he=Re(se),pe=Re(ae),ge=J?J.prototype:void 0,fe=ge?ge.valueOf:void 0;function ve(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function be(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function me(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ye(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new me;++t<i;)this.add(e[t])}function we(e){var t=this.__data__=new be(e);this.size=t.size}function Se(e,t){for(var i=e.length;i--;)if(Me(e[i][0],t))return i;return-1}function _e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=H.call(e,X),i=e[X];try{e[X]=void 0;var n=!0}catch(e){}var o=W.call(e);return n&&(t?e[X]=i:delete e[X]),o}(e):function(e){return W.call(e)}(e)}function Ce(e){return Ve(e)&&_e(e)==r}function ke(e,t,i,n,o){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,i,n,o,d){var g=Le(e),m=Le(t),S=g?s:Te(e),_=m?s:Te(t),C=(S=S==r?p:S)==p,k=(_=_==r?p:_)==p,E=S==_;if(E&&Ne(e)){if(!Ne(t))return!1;g=!0,C=!1}if(E&&!C)return d||(d=new we),g||qe(e)?Ee(e,t,i,n,o,d):function(e,t,i,n,o,r,s){switch(i){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!r(new $(e),new $(t)));case a:case l:case h:return Me(+e,+t);case c:return e.name==t.name&&e.message==t.message;case f:case b:return e==t+"";case u:var d=D;case v:var p=1&n;if(d||(d=L),e.size!=t.size&&!p)return!1;var g=s.get(e);if(g)return g==t;n|=2,s.set(e,t);var m=Ee(d(e),d(t),n,o,r,s);return s.delete(e),m;case"[object Symbol]":if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,S,i,n,o,d);if(!(1&i)){var A=C&&H.call(e,"__wrapped__"),I=k&&H.call(t,"__wrapped__");if(A||I){var O=A?e.value():e,P=I?t.value():t;return d||(d=new we),o(O,P,i,n,d)}}return!!E&&(d||(d=new we),function(e,t,i,n,o,r){var s=1&i,a=Ae(e),l=a.length;if(l!=Ae(t).length&&!s)return!1;for(var c=l;c--;){var d=a[c];if(!(s?d in t:H.call(t,d)))return!1}var u=r.get(e);if(u&&r.get(t))return u==t;var h=!0;r.set(e,t),r.set(t,e);for(var p=s;++c<l;){var g=e[d=a[c]],f=t[d];if(n)var v=s?n(f,g,d,t,e,r):n(g,f,d,e,t,r);if(!(void 0===v?g===f||o(g,f,i,n,r):v)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,i,n,o,d))}(e,t,i,n,ke,o))}function Ee(e,t,i,n,o,r){var s=1&i,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(e);if(c&&r.get(t))return c==t;var d=-1,u=!0,h=2&i?new ye:void 0;for(r.set(e,t),r.set(t,e);++d<a;){var p=e[d],g=t[d];if(n)var f=s?n(g,p,d,t,e,r):n(p,g,d,e,t,r);if(void 0!==f){if(f)continue;u=!1;break}if(h){if(!M(t,(function(e,t){if(s=t,!h.has(s)&&(p===e||o(p,e,i,n,r)))return h.push(t);var s}))){u=!1;break}}else if(p!==g&&!o(p,g,i,n,r)){u=!1;break}}return r.delete(e),r.delete(t),u}function Ae(e){return function(e,t,i){var n=t(e);return Le(e)?n:function(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}(n,i(e))}(e,Be,Pe)}function Ie(e,t){var i,n,o=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof t?"string":"hash"]:o.map}function Oe(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Fe(e)||function(e){return!!K&&K in e}(e))&&(Ue(e)?G:S).test(Re(e))}(i)?i:void 0}ve.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve.prototype.get=function(e){var t=this.__data__;if(le){var i=t[e];return i===n?void 0:i}return H.call(t,e)?t[e]:void 0},ve.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:H.call(t,e)},ve.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=le&&void 0===t?n:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,i=Se(t,e);return!(i<0||(i==t.length-1?t.pop():Q.call(t,i,1),--this.size,0))},be.prototype.get=function(e){var t=this.__data__,i=Se(t,e);return i<0?void 0:t[i][1]},be.prototype.has=function(e){return Se(this.__data__,e)>-1},be.prototype.set=function(e,t){var i=this.__data__,n=Se(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},me.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(oe||be),string:new ve}},me.prototype.delete=function(e){var t=Ie(this,e).delete(e);return this.size-=t?1:0,t},me.prototype.get=function(e){return Ie(this,e).get(e)},me.prototype.has=function(e){return Ie(this,e).has(e)},me.prototype.set=function(e,t){var i=Ie(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},ye.prototype.add=ye.prototype.push=function(e){return this.__data__.set(e,n),this},ye.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new be,this.size=0},we.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var i=this.__data__;if(i instanceof be){var n=i.__data__;if(!oe||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new me(n)}return i.set(e,t),this.size=i.size,this};var Pe=ee?function(e){return null==e?[]:(e=Object(e),function(t,i){for(var n=-1,o=null==t?0:t.length,r=0,s=[];++n<o;){var a=t[n];l=a,Z.call(e,l)&&(s[r++]=a)}var l;return s}(ee(e)))}:function(){return[]},Te=_e;function xe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function Re(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Me(e,t){return e===t||e!=e&&t!=t}(ne&&Te(new ne(new ArrayBuffer(1)))!=w||oe&&Te(new oe)!=u||re&&Te(re.resolve())!=g||se&&Te(new se)!=v||ae&&Te(new ae)!=m)&&(Te=function(e){var t=_e(e),i=t==p?e.constructor:void 0,n=i?Re(i):"";if(n)switch(n){case ce:return w;case de:return u;case ue:return g;case he:return v;case pe:return m}return t});var De=Ce(function(){return arguments}())?Ce:function(e){return Ve(e)&&H.call(e,"callee")&&!Z.call(e,"callee")},Le=Array.isArray,Ne=te||function(){return!1};function Ue(e){if(!Fe(e))return!1;var t=_e(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Fe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var qe=R?function(e){return function(t){return e(t)}}(R):function(e){return Ve(e)&&je(e.length)&&!!C[_e(e)]};function Be(e){return null!=(t=e)&&je(t.length)&&!Ue(t)?function(e,t){var i=Le(e),n=!i&&De(e),o=!i&&!n&&Ne(e),r=!i&&!n&&!o&&qe(e),s=i||n||o||r,a=s?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var c in e)!t&&!H.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xe(c,l))||a.push(c);return a}(e):function(e){if(i=(t=e)&&t.constructor,t!==("function"==typeof i&&i.prototype||q))return ie(e);var t,i,n=[];for(var o in Object(e))H.call(e,o)&&"constructor"!=o&&n.push(o);return n}(e);var t}e.exports=function(e,t){return ke(e,t)}},600:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(749)),r=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var i;return i=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+="".concat(e,"=").concat(i),this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(o.default.PARAMS.APP_ID,e).add(o.default.PARAMS.CLIENT,o.default.CLIENT).add(o.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=r},266:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var i=e[t].string,n=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!==i.indexOf(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.userAgent,subString:"CriOS",identity:"Chrome",versionSearch:"CriOS"},{string:e.navigator.userAgent,subString:"FxiOS",identity:"Firefox",versionSearch:"FxiOS"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.platform,subString:"iPad",identity:"iOS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=i},749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.13.0",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CT:"ct",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",ACTION_DEFINITIONS:"actionDefinitions",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_DEFINITIONS:"actionDefinitions",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_DEFINITIONS:"__leanplum_action_definitions",HOST_CONFIG:"__leanplum_hosts",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",MESSAGE_OCCURRENCES:"__leanplum_message_occurrences",MESSAGE_CACHE:"__leanplum_message_cache",MIGRATION_STATE:"__leanplum_migration_state",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.handlers=[]}return e.prototype.on=function(e,t){this.handlers.push({eventName:e,callback:t})},e.prototype.off=function(e,t){this.handlers=this.handlers.filter((function(i){return i.eventName!==e||i.callback!==t}))},e.prototype.emit=function(e,t){this.handlers.forEach((function(i){i.eventName===e&&i.callback(t)}))},e}();t.default=i},157:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=i},876:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(749)),r=n(i(642)),s=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(){},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,i){e._lp.setAppIdForDevelopmentMode(t,i)},e.setAppIdForProductionMode=function(t,i){e._lp.setAppIdForProductionMode(t,i)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setLocale=function(t){e._lp.setLocale(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,i){e._lp.setRequestBatching(t,i)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.enableRichInAppMessages=function(t){e._lp.enableRichInAppMessages(t)},e.processMessageEvent=function(t,i){e._lp.processMessageEvent(t,i)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return(t=e._lp).getVariable.apply(t,i)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,i,n){e._lp.start(t,i,n)},e.startFromCache=function(t,i,n){e._lp.startFromCache(t,i,n)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,i){e._lp.setUserAttributes(t,i)},e.track=function(t,i,n,o){e._lp.track(t,i,n,o)},e.trackPurchase=function(t,i,n,o){void 0===o&&(o="Purchase"),e._lp.trackPurchase(t,i,n,o)},e.advanceTo=function(t,i,n){e._lp.advanceTo(t,i,n)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.defineAction=function(t){e._lp.defineAction(t)},e.applyQueue=function(t){e._lp.applyQueue(t)},e.on=function(t,i){e._lp.on(t,i)},e.off=function(t,i){e._lp.off(t,i)},e.getFileUrl=function(t){return e._lp.getFileUrl(t)},e.__destroy=function(){this._lp=new r.default(window)},e._lp=new r.default(window),e.VERSION=o.default.SDK_VERSION,e}();t.default=s},234:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeanplumInboxMessage=void 0;var r=o(i(600)),s=o(i(749)),a=o(i(88)),l=function(e){return Object.keys(e).map((function(t){return e[t]}))},c=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var i=null==t?void 0:t.response[0];i&&i.newsfeedMessages&&(e.messageMap=i.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var i=new r.default;i.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",i,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),i=e.split("##")[0],n=(null==t?void 0:t.openAction())||null;this.onAction(i,n)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new r.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){var t=this;return this.changeHandlers.push(e),function(){return t.changeHandlers=t.changeHandlers.filter((function(t){return t!==e}))}},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){a.default.save(s.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap),"session")},e.prototype.load=function(){var e=a.default.get(s.default.DEFAULT_KEYS.INBOX_MESSAGES,"session");try{this.messageMap=JSON.parse(e)||{}}catch(e){this.messageMap={}}},e.prototype.count=function(){return l(this.messageMap).length},e.prototype.unreadCount=function(){return l(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var i in this.messageMap){var n=this.messageMap[i];e(n)&&t.push(d.create(i,n))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?d.create(e,t):null},e}();t.default=c;var d=function(){function e(e,t,i,n,o,r,s,a){this._id=e,this._title=t,this._subtitle=i,this._data=n,this._timestamp=o,this._isRead=r,this._imageUrl=s,this._openAction=a}return e.create=function(t,i){var o,r,a,l,c,d,u,h,p,g,f,v=null===(o=i.messageData)||void 0===o?void 0:o.parentCampaignId,b=n(n({},null===(a=null===(r=i.messageData)||void 0===r?void 0:r.vars)||void 0===a?void 0:a[s.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:v});return new e(t,null===(c=null===(l=i.messageData)||void 0===l?void 0:l.vars)||void 0===c?void 0:c.Title,null===(u=null===(d=i.messageData)||void 0===d?void 0:d.vars)||void 0===u?void 0:u.Subtitle,null===(p=null===(h=i.messageData)||void 0===h?void 0:h.vars)||void 0===p?void 0:p.Data,i.deliveryTimestamp,i.isRead,null===(f=null===(g=i.messageData)||void 0===g?void 0:g.vars)||void 0===f?void 0:f.Image,b)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.data=function(){return this._data},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=d},642:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(i(600)),s=o(i(266)),a=o(i(749)),l=o(i(157)),c=o(i(234)),d=o(i(343)),u=o(i(34)),h=o(i(88)),p=o(i(95)),g=o(i(14)),f=o(i(565)),v=o(i(316)),b=i(772),m=i(205),y=o(i(816)),w=a.default.DEFAULT_KEYS.SESSION,S=function(){function e(e){var t=this;this.wnd=e,this._migration=new v.default(this.createRequest.bind(this)),this._events=new f.default,this._internalState=new l.default,this._lpInbox=new c.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new d.default(this._events),this._varCache=new y.default(this.createRequest.bind(this)),this._lpSocket=new u.default(this._varCache,this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest),this._events),this._pushManager=new p.default(this.createRequest.bind(this)),this._messages=new g.default(this._events,this.createRequest.bind(this),this.getFileUrl.bind(this)),this._browserDetector=new s.default(e),this._events.on("navigationChange",(function(e){var i=!1;t._events.emit("openUrl",{preventDefault:function(){return i=!0},url:e}),i||t.wnd.location.assign(e)})),this._events.on("registerForPush",(function(){return t.registerForWebPush()})),this._events.on("updateDevServerHost",(function(e){return t.setSocketHost(e)})),this._events.on("migrateStateReceived",(function(e){return t._migration.verifyState(e)}))}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setLocale=function(e){this._locale=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.enableRichInAppMessages=function(e){this._messages.enableRichInAppMessages(e)},e.prototype.processMessageEvent=function(e,t){this._messages.processMessageEvent(e,t)},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype.onInboxAction=function(e,t){var i=this;this._messages.trackMessage(e,{event:"Open"},(function(){return t&&i._messages.onAction(t)}))},e.prototype.defineAction=function(e){this._varCache.registerActionDefinition(n({kind:b.MessageKind.Template},e))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.getFileUrl=function(e){return this._lpRequest.getFileUrl(e)},e.prototype.forceContentUpdate=function(e){var t=this,i=(new r.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.GET_VARS,i,{queued:!1,sendNow:!0,response:function(i){var n=t._lpRequest.getLastResponse(i),o=t._lpRequest.isResponseSuccess(n);o&&(t._varCache.applyDiffs(n[a.default.KEYS.VARS],n[a.default.KEYS.VARIANTS],n[a.default.KEYS.ACTION_DEFINITIONS]),t._varCache.setVariantDebugInfo(n[a.default.KEYS.VARIANT_DEBUG_INFO]),t._events.emit("messagesReceived",n[a.default.KEYS.MESSAGES])),e&&e(o)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,i){var n=this;if("function"==typeof e?(i=e,t={},e=null):"object"==typeof e&&null!=e?(i=t,t=e,e=null):"function"==typeof t&&(i=t,t={}),this.hasActiveSession()&&!this._internalState.devMode)return this.startFromCache(e,t,i);this._migration.getState((function(o){o===m.MigrationState.DUPLICATE?n._ct=n._migration.initCleverTap():o===m.MigrationState.CLEVERTAP&&(n._ct=n._migration.initCleverTap(),n.migratePushToken(),Object.values(a.default.DEFAULT_KEYS).filter((function(e){return![a.default.DEFAULT_KEYS.USER_ID,a.default.DEFAULT_KEYS.DEVICE_ID,a.default.DEFAULT_KEYS.TOKEN,a.default.DEFAULT_KEYS.MIGRATION_STATE].includes(e)})).forEach((function(e){return h.default.remove(e)})),n._messages.cleanup()),n._lpRequest.userId=e,e&&n._migration.identity.setUserId(e),i&&n.addStartResponseHandler(i),n._varCache.onUpdate=function(){n._varCache.triggerVariablesChangedHandlers()};var s=(new r.default).add(a.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(a.default.PARAMS.COUNTRY,a.default.VALUES.DETECT).add(a.default.PARAMS.REGION,a.default.VALUES.DETECT).add(a.default.PARAMS.CITY,a.default.VALUES.DETECT).add(a.default.PARAMS.LOCATION,a.default.VALUES.DETECT).add(a.default.PARAMS.SYSTEM_NAME,n._systemName||n._browserDetector.OS).add(a.default.PARAMS.SYSTEM_VERSION,(n._systemVersion||"").toString()).add(a.default.PARAMS.BROWSER_NAME,n._browserDetector.browser).add(a.default.PARAMS.BROWSER_VERSION,n._browserDetector.version.toString()).add(a.default.PARAMS.LOCALE,n._locale||a.default.VALUES.DETECT).add(a.default.PARAMS.DEVICE_NAME,n._deviceName||"".concat(n._browserDetector.browser," ").concat(n._browserDetector.version)).add(a.default.PARAMS.DEVICE_MODEL,n._deviceModel||"Web Browser").add(a.default.PARAMS.NEWSFEED_MESSAGES,n._lpInbox.messageIds()).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,n._internalState.variantDebugInfoEnabled);n.createRequest(a.default.METHODS.START,s,{queued:!0,sendNow:!0,response:function(e){n._internalState.hasStarted=!0;var t=n._lpRequest.getLastResponse(e),i=n._lpRequest.isResponseSuccess(t);if(n._internalState.startSuccessful=i,i){n.updateSession();var o=t[a.default.KEYS.MESSAGES];if(t.actionDefinitions&&(o.actionDefinitions=t.actionDefinitions),n._events.emit("messagesReceived",o),t[a.default.KEYS.SYNC_INBOX]&&n._lpInbox.downloadMessages(),n._internalState.devMode){var r=t[a.default.KEYS.LATEST_VERSION];r&&console.log("A newer version of the Leanplum SDK, ".concat(r,', is available.\n  Use "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.')),n.connectSocket()}n._varCache.applyDiffs(t[a.default.KEYS.VARS],t[a.default.KEYS.VARIANTS],t[a.default.KEYS.ACTION_DEFINITIONS]),n._varCache.setVariantDebugInfo(t[a.default.KEYS.VARIANT_DEBUG_INFO]),n._varCache.token=t[a.default.KEYS.TOKEN]}else n._varCache.loadDiffs();n._events.emit("start",{success:i}),n._internalState.triggerStartHandlers()}})}))},e.prototype.startFromCache=function(e,t,i){var n=this;"function"==typeof e?(i=e,t={},e=null):"object"==typeof e&&null!=e?(i=t,t=e,e=null):"function"==typeof t&&(i=t,t={}),this.updateSession(),this._lpRequest.userId=e,i&&this.addStartResponseHandler(i),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._migration.getState((function(e){e!==m.MigrationState.DUPLICATE&&e!==m.MigrationState.CLEVERTAP||(n._ct=n._migration.initCleverTap())})),this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._events.emit("resume"),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(a.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){h.default.remove(w)}})},e.prototype.pauseSession=function(){this.createRequest(a.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this._events.emit("resume"),this.createRequest(a.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(a.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(a.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var i=(new r.default).add(a.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(a.default.PARAMS.NEW_USER_ID,e);this._events.emit("setUserAttribute",t),this.createRequest(a.default.METHODS.SET_USER_ATTRIBUTES,i,{queued:!0}),e&&(this._lpRequest.userId=e,h.default.save(a.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,i,n){var o=this;"object"==typeof t&&null!=t?(n=t,i=void 0,t=void 0):"string"==typeof t?(n=i,i=t,t=void 0):"object"==typeof i&&null!=i&&(n=i,i=void 0);var s=(new r.default).add(a.default.PARAMS.EVENT,e).add(a.default.PARAMS.VALUE,t||0).add(a.default.PARAMS.INFO,i).add(a.default.PARAMS.PARAMS,JSON.stringify(n));this._events.emit("track",{eventName:e,params:n}),this.createRequest(a.default.METHODS.TRACK,s,{queued:!0,response:function(){return o.updateSession()}})},e.prototype.trackPurchase=function(e,t,i,n){void 0===n&&(n="Purchase");var o=(new r.default).add(a.default.PARAMS.EVENT,n).add(a.default.PARAMS.VALUE,e||0).add(a.default.PARAMS.PARAMS,JSON.stringify(i));t&&o.add(a.default.PARAMS.CURRENCY_CODE,t),this._events.emit("track",{eventName:n}),this.createRequest(a.default.METHODS.TRACK,o,{queued:!0,isPurchase:!0})},e.prototype.advanceTo=function(e,t,i){"object"==typeof t&&null!=t&&(i=t,t=void 0);var n=(new r.default).add(a.default.PARAMS.STATE,e).add(a.default.PARAMS.INFO,t).add(a.default.PARAMS.PARAMS,JSON.stringify(i));this._events.emit("advanceState",{state:e,params:i}),this.createRequest(a.default.METHODS.ADVANCE,n,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.isWebPushSubscribed(t)},e.prototype.setWebPushOptions=function(e){this._webPushOptions=n({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var i=this._webPushOptions||{},n=e||i.serviceWorkerUrl,o=i&&i.scope?{scope:i.scope}:null;return this._pushManager.register(n,o,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.unsubscribeUser(t)},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,i){void 0===i&&(i={}),this._migration.duplicateRequest(e,t,i)||this._lpRequest.request(e,t,n({devMode:this._internalState.devMode},i))},e.prototype.connectSocket=function(){this._lpSocket.connect({appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId})},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(h.default.get(w));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){h.default.save(w,String(Date.now()))},e.prototype.migratePushToken=function(){var e=this;h.default.get(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)&&this.isWebPushSubscribed().then((function(t){var i;if(t){e._pushManager.unsubscribeUser();var o=null===(i=e._webPushOptions)||void 0===i?void 0:i.serviceWorkerUrl,r=o?{serviceWorkerPath:o}:{};e._ct&&e._ct.notifications.push(n({titleText:"",bodyText:"",okButtonText:"",rejectButtonText:""},r))}}))},e}();t.default=S},343:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(600)),r=n(i(749)),s=n(i(88)),a=n(i(967)),l=function(){function e(e,t){void 0===t&&(t=new a.default),this.events=e,this.network=t,this.cooldownTimeout=null,this.lastRequestTime=void 0,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0,this.loadHostConfig()}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(r.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!1,configurable:!0}),e.prototype.request=function(e,t,i){var n=this;if(void 0===i&&(i={}),i=i||{},t=t||new o.default,this.deviceId||(this.deviceId=this.loadLocal(r.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var s="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=0;l<16;l++)s+=a.charAt(Math.floor(Math.random()*a.length));this.deviceId=s,this.saveLocal(r.default.DEFAULT_KEYS.DEVICE_ID,s)}this.saveLocal(r.default.DEFAULT_KEYS.USER_ID,this.userId);var c=t.attachApiKeys(this.appId,this.clientKey).add(r.default.PARAMS.SDK_VERSION,r.default.SDK_VERSION).add(r.default.PARAMS.DEVICE_ID,this.deviceId).add(r.default.PARAMS.USER_ID,this.userId).add(r.default.PARAMS.ACTION,e).add(r.default.PARAMS.VERSION_NAME,this.versionName).add(r.default.PARAMS.DEV_MODE,i.devMode).add(r.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),d=i.success||i.response,u=i.error||i.response;if(!this.appId||!this.clientKey){var h="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(h),void(u&&u(h))}if(t.body())this.sendRequest("?".concat(c.build()),t.body(),d,u,i.queued);else{var p=i.devMode||i.sendNow||!this.batchEnabled,g=function(){var e=n.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),s=(new o.default).attachApiKeys(n.appId,n.clientKey).add(r.default.PARAMS.SDK_VERSION,r.default.SDK_VERSION).add(r.default.PARAMS.ACTION,r.default.METHODS.MULTI).add(r.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();n.sendRequest("?".concat(s),t,d,u,i.queued)}};if(!p&&this.batchCooldown){var f=(new Date).getTime()/1e3;!this.lastRequestTime||f-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=f):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){n.cooldownTimeout=null,n.lastRequestTime=(new Date).getTime()/1e3,g()}),1e3*(this.batchCooldown-(f-this.lastRequestTime))))}this.saveRequestForLater(c.buildDict()),p&&g()}},e.prototype.getFileUrl=function(e){if(!e)return"";if(/^https?:/.test(e))return e;var t=(new o.default).attachApiKeys(this.appId,this.clientKey).add(r.default.PARAMS.SDK_VERSION,r.default.SDK_VERSION).add(r.default.PARAMS.ACTION,"downloadFile").add("filename",e);return"".concat(this.apiPath,"?").concat(t.build())},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,i,n,o=null!==(i=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==i?i:0;return o>0?null===(n=null==e?void 0:e.response)||void 0===n?void 0:n[o-1]:null},e.prototype.getFirstResponse=function(e){var t,i,n;return(null!==(i=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0?null===(n=null==e?void 0:e.response)||void 0===n?void 0:n[0]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(r.default.DEFAULT_KEYS.COUNT)||0,i=r.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(i,JSON.stringify(e)),t++,this.saveLocal(r.default.DEFAULT_KEYS.COUNT,t)},e.prototype.sendRequest=function(e,t,i,n,o){var s=this;this.network.ajax("POST","".concat(this.apiPath).concat(e),t,(function(a){var l,c=s.getFirstResponse(a),d=(null===(l=a.migrateState)||void 0===l?void 0:l.sha256)||c.sha256;if(/\bgetMigrateState\b/.test(t)||s.events.emit("migrateStateReceived",d),!c.success&&c.apiHost){var u=c.apiHost,h=c.apiPath,p=c.devServerHost;s.saveLocal(r.default.DEFAULT_KEYS.HOST_CONFIG,JSON.stringify({apiHost:u,apiPath:h,devServerHost:p})),s.apiPath="https://".concat(u,"/").concat(h),s.sendRequest(e,t,i,n,o),s.events.emit("updateDevServerHost",p)}else i&&i(a)}),n,o)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(r.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(r.default.DEFAULT_KEYS.COUNT);for(var i=0;i<t;i++){var n=r.default.DEFAULT_KEYS.ITEM+i;try{e.push(JSON.parse(this.loadLocal(n)))}catch(e){}this.removeLocal(n)}return e},e.prototype.loadHostConfig=function(){var e=JSON.parse(this.loadLocal(r.default.DEFAULT_KEYS.HOST_CONFIG)||"null");if(e){var t=e.apiHost,i=e.apiPath,n=e.devServerHost;this.apiPath="https://".concat(t,"/").concat(i),this.events.emit("updateDevServerHost",n)}},e.prototype.loadLocal=function(e){return s.default.get(e)},e.prototype.saveLocal=function(e,t){s.default.save(e,t)},e.prototype.removeLocal=function(e){s.default.remove(e)},e}();t.default=l},34:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(307)),r=n(i(600)),s=n(i(749)),a=n(i(897)),l=function(){function e(e,t,i,n){this.cache=e,this.createRequest=t,this.getLastResponse=i,this.events=n,this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com",this.auth=null}return e.prototype.connect=function(e){var t=this;if(WebSocket){this.auth=e;var i=!1;this.socketClient=new a.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var n;i||(console.log("Leanplum: Connected to development server."),t.socketClient.send("auth",((n={})[s.default.PARAMS.APP_ID]=e.appId,n[s.default.PARAMS.DEVICE_ID]=e.deviceId,n)),i=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=this.onMessageReceived.bind(this),this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),i=!1},this.socketClient.connect(this.socketHost),setInterval((function(){t.socketClient.connected||t.socketClient.connecting||t.socketClient.connect(t.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e,this.socketClient.connected&&(this.socketClient.disconnect(),this.connect(this.auth))},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e.prototype.onMessageReceived=function(e,t){var i=this;if("updateVars"===e){var n=(new r.default).add(s.default.PARAMS.INCLUDE_DEFAULTS,!1);this.createRequest(s.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(e){var t=i.getLastResponse(e),n=t[s.default.KEYS.VARS],r=t[s.default.KEYS.VARIANTS],a=t[s.default.KEYS.ACTION_DEFINITIONS];(0,o.default)(n,i.cache.diffs)||i.cache.applyDiffs(n,r,a)}})}else if("getVariables"===e)this.cache.sendVariables(),this.socketClient.send("getContentResponse",{updated:!0});else if("getActions"===e){var a=this.cache.sendActions();this.socketClient.send("getContentResponse",{updated:a})}else if("registerDevice"===e){var l=t[0];alert("Your device has been registered to ".concat(l.email,"."))}else"trigger"===e&&(l=t[0],this.events.emit("previewRequest",l))},e}();t.default=l},14:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(i(749)),s=o(i(600)),a=o(i(967)),l=o(i(307)),c=o(i(88)),d=o(i(375)),u=function(){function e(){this.session={},this.triggers={},this.occurrences={}}return e.prototype.recordOccurrence=function(e){var t=(this.session[e]||0)+1;this.session[e]=t;var i=this.occurrences[e]||[];i.push(Date.now()),this.occurrences[e]=i,this.save()},e.prototype.recordTriggerOccurrence=function(e){var t=this.triggers[e]||[];return t.push(Date.now()),this.triggers[e]=t,this.save(),t.length},e.prototype.getSessionOccurranceCount=function(e){return this.session[e]||0},e.prototype.getOccurrences=function(e){return this.occurrences[e]||[]},e.prototype.clearSession=function(){this.session={}},e.prototype.load=function(){var e=c.default.get(r.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES);if(e){var t=h(e);t&&(this.session=t.session,this.triggers=t.triggers,this.occurrences=t.occurrences)}},e.prototype.save=function(){var e=r.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES;c.default.save(e,JSON.stringify({session:this.session,triggers:this.triggers,occurrences:this.occurrences}))},e}(),h=function(e){try{return JSON.parse(e)}catch(e){return}},p=function(){function e(e,t,i){var n=this;this.events=e,this.createRequest=t,this.getFileUrl=i,this._messageCache={},this.occurrenceTracker=new u,this._showRichIAM=!1,e.on("previewRequest",this.onMessagePreview.bind(this)),e.on("messagesReceived",this.onMessagesReceived.bind(this)),e.on("start",(function(){n.occurrenceTracker.load(),n.occurrenceTracker.clearSession(),n.onTrigger({trigger:"start"})})),e.on("resume",(function(){var e=r.default.DEFAULT_KEYS.MESSAGE_CACHE,t=h(c.default.get(e));n._messageCache=t||n._messageCache,n.occurrenceTracker.load(),n.onTrigger({trigger:"resume"})})),e.on("track",(function(e){n.onTrigger({trigger:"event",eventName:e.eventName,params:e.params||{}})})),e.on("advanceState",(function(e){return n.onTrigger({trigger:"state",state:e.state,params:e.params||{}})})),e.on("setUserAttribute",(function(e){return n.onTrigger({trigger:"userAttribute",attributes:e})}))}return e.prototype.cleanup=function(){c.default.remove(r.default.DEFAULT_KEYS.MESSAGE_CACHE),this._messageCache={},this.onTrigger=function(){}},e.prototype.enableRichInAppMessages=function(e){this._showRichIAM=e},e.prototype.onTrigger=function(e){var t=this,i=this.getMessages();Object.keys(i).filter((function(n){return t.shouldShowMessage(n,i[n],e)})).slice(0,1).forEach((function(e){return t.showMessage(e,i[e])}))},e.prototype.onMessagePreview=function(e){var t=e.action,i={track:function(t){var i=t?"event '".concat(t,"'"):"impression";console.log("Tracking ".concat(i," for ").concat(e.messageId))},runActionNamed:function(e){return console.log("Running untracked action '".concat(e,"'"))},runTrackedActionNamed:function(e){return console.log("Running tracked action '".concat(e,"'"))}};this.handleMessage({isPreview:!0,message:this.addDefaults(n({messageId:e.messageId},t)),context:i})},e.prototype.onMessagesReceived=function(e){var t=e||{};this._messageCache=t,c.default.save(r.default.DEFAULT_KEYS.MESSAGE_CACHE,JSON.stringify(t))},e.prototype.shouldShowMessage=function(e,t,i){var n=Date.now(),o=this.matchesTrigger(t.whenTriggers,i),r=this.matchesTrigger(t.unlessTriggers,i);if(!o||r)return!1;var s=this.occurrenceTracker.recordTriggerOccurrence(e);return!!this.matchesLimits(e,t.whenLimits,s)&&!(t.startTime&&t.endTime&&(n<t.startTime||t.endTime<n))},e.prototype.showMessage=function(e,t){var i=this,o=this.addDefaults(n({},t.vars)),r={track:function(t,n,o,r){i.occurrenceTracker.recordOccurrence(e),i.trackMessage(e,{event:t,value:n,info:o,params:r})},runActionNamed:function(t){return i.onAction(o[t],e)},runTrackedActionNamed:function(t){var n=t.replace(/ action$/,"");i.trackMessage(e,{event:n},(function(){return i.onAction(o[t],e)}))}};this.handleMessage({context:r,message:n({messageId:e},o)})},e.prototype.processMessageEvent=function(e,t){var i=document.getElementById("lp-message-".concat(e));if(i){var n=t.replace(/^http:\/\/leanplum\//,"").split("?"),o=n[0],r=n[1],s=(void 0===r?"":r).split("&").reduce((function(e,t){var i=t.split("="),n=i[0],o=i[1];return e[n]=decodeURIComponent(o),e}),{}),a=i.metadata,l=a.message,c=a.context;switch(o){case"loadFinished":if(i.style.visibility="visible",i.style.left="0",l["HTML Height"]>0){var d=l["HTML Width"];i.style.height="".concat(l["HTML Height"],"px"),i.style.width=d,i.style.left="calc((100% - ".concat(d,") / 2)");var u=l["HTML Align"].toLowerCase(),p="top"===u?"bottom":"top";i.style[u]="0",i.style[p]=""}else i.style.top="0";i.contentWindow.focus(),c.track();break;case"track":c.track(s.event,parseFloat(s.value),s.info,h(s.parameters));break;case"runAction":case"runTrackedAction":c["".concat(o,"Named")](s.action);case"close":i.metadata=null,i.parentNode.removeChild(i)}}else console.log("message closed, skipping event processing")},e.prototype.handleMessage=function(e){var t=this;if(this._showRichIAM&&"HTML"===e.message.__name__){this.resolveFiles(e.message);var i=e.message.Template||"";(new a.default).ajax("get",i.replace("-10.html","-11.html"),"",(function(i){return t.renderRichInAppMessage(i,e)}),(function(){}),!1,!0)}else this.events.emit("showMessage",this.resolveFields(e))},e.prototype.renderRichInAppMessage=function(e,t){var i=t.message.messageId,n=JSON.stringify(t.message),o=document.createElement("iframe");o.setAttribute("id","lp-message-".concat(i)),o.setAttribute("title","Popup"),o.setAttribute("aria-modal","true"),o.style.cssText=["border-width: 0","position: fixed","top: -100%","left: -100%","width: 100%","height: 100%","visibility: hidden","z-index: 100000"].join(";"),document.body.insertBefore(o,document.body.firstChild),o.metadata=t,o.contentWindow.messageId=i;var r=e.replace("##Vars##",n).replace("<body>","<body><script>window.messageId='".concat(i,"'<\/script>"));if("srcdoc"in o)o.srcdoc=r;else{var s=o.contentWindow.document;s.open(),s.write(r),s.close()}},e.prototype.trackMessage=function(e,t,i){void 0===t&&(t={event:null}),void 0===i&&(i=function(){});var n=(new s.default).add(r.default.PARAMS.MESSAGE_ID,e),o=function(e){return void 0!==e};t.event&&n.add(r.default.PARAMS.EVENT,t.event),o(t.value)&&n.add(r.default.PARAMS.VALUE,t.value||0),o(t.info)&&n.add(r.default.PARAMS.INFO,t.info),o(t.params)&&n.add(r.default.PARAMS.PARAMS,JSON.stringify(t.params)),this.createRequest(r.default.METHODS.TRACK,n,{queued:!0,sendNow:!0,response:i})},e.prototype.onAction=function(e,t){var i=this;if(void 0===t&&(t=""),e){var n=this._messageCache;if("Chain to Existing Message"!==e.__name__){var o=function(){var n=e.__name__;"Open URL"===e.__name__?i.events.emit("navigationChange",e.URL):"Register For Push"===e.__name__?i.events.emit("registerForPush"):n&&i.showMessage(t,{messageId:t,action:n,vars:e})},r=this.messageIdFromAction(e);r?this.trackMessage(r,{event:null},o):o()}else{var s=e["Chained message"],a=n[s];"Open URL"===a.action?this.trackMessage(s,{event:"View"},(function(){return i.onAction(a.vars,s)})):"Register For Push"===a.action?this.events.emit("registerForPush"):this.showMessage(s,a)}}},e.prototype.getMessages=function(){return this._messageCache||{}},e.prototype.addDefaults=function(e){var t=this,i=(this.getMessages().actionDefinitions||{})[e.__name__],o=null==i?void 0:i.kinds;if(!i)return e;var r=function(e,i,n){void 0===n&&(n="");for(var s=0,a=Object.keys(i);s<a.length;s++){var l=a[s],c=i[l];"object"==typeof c?e[l]=r(e[l]||{},c,"".concat(n).concat(l,".")):void 0===e[l]&&(e[l]=c),"FILE"===o["".concat(n).concat(l)]&&(e[l]=t.getFileUrl(e[l]))}return e};return r(n({},e),i.values)},e.prototype.resolveFiles=function(e){var t=/^__file__/;for(var i in e)t.test(i)?e[i.replace(t,"")]=this.getFileUrl(e[i]):"object"==typeof e[i]&&(e[i]=this.resolveFiles(e[i]));return e},e.prototype.resolveFields=function(e){var t=/\bcolor/i,i=/^__file__/;for(var n in e)i.test(n)?e[n.replace(i,"")+" URL"]=this.getFileUrl(e[n]):t.test(n)?e[n]=d.default.decodeColor(e[n]):"object"==typeof e[n]&&(e[n]=this.resolveFields(e[n]));return e},e.prototype.messageIdFromAction=function(e){var t=this._messageCache,i=n({},e);delete i.parentCampaignId;for(var o=0,r=Object.keys(t);o<r.length;o++){var s=r[o],a=t[s];if(a.parentCampaignId===e.parentCampaignId&&(0,l.default)(a.vars,i))return s}},e.prototype.matchesTrigger=function(e,t){if(!e)return!1;var i=function(e,t){return void 0===t&&(t=""),0===e.toString().localeCompare(t.toString(),void 0,{sensitivity:"accent"})},n=function(e,t,n){var o=e===n.noun;if("triggers"===n.verb)return o;if("triggersWithParameter"===n.verb){var r=n.objects,s=r[0],a=r[1],l=s in t&&i(a,t[s]);return o&&l}};return e.children.some((function(e){var o=e.subject;switch(t.trigger){case"start":return"start"===o||"resume"===o;case"resume":return"resume"===o;case"event":return"event"===o&&n(t.eventName,t.params,e);case"userAttribute":if("userAttribute"!==o)return!1;var r=e.noun in t.attributes;if("changes"===e.verb)return r;if("changesTo"===e.verb){if(!r)return!1;var s=t.attributes[e.noun];return e.objects.some((function(e){return null===e&&null===s||e&&s&&i(e,s)}))}break;case"state":return"state"===o&&n(t.state,t.params,e)}return!1}))},e.prototype.matchesLimits=function(e,t,i){var n=this;return!t||t.children.every((function(t){var o=t.subject,r=t.verb,s=parseInt(t.noun.toString());if("times"===o){if("limitSession"===r)return n.occurrenceTracker.getSessionOccurranceCount(e)+1===s;if("limitUser"===r)return(a=n.occurrenceTracker.getOccurrences(e).length)+1<=s;var a,l=parseInt(t.objects[0].toString())||1,c=function(e){switch(e){case"limitSecond":return 1e3;case"limitMinute":return 6e4;case"limitHour":return 36e5;case"limitDay":return 864e5}}(r)*l,d=(a=n.occurrenceTracker.getOccurrences(e)).length;return d<s||a.slice(d-s,d)[0]<Date.now()-c}return"onNthOccurrence"===o?i===s:"everyNthOccurrence"===o&&i%s==0}))},e}();t.default=p},316:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityManager=t.IdentityState=void 0;var o,r=n(i(739)),s=i(205),a=n(i(88)),l=n(i(749)),c=n(i(600)),d=function(){},u=function(e){switch(null==e?void 0:e.sdk){case"lp":return s.MigrationState.LEANPLUM;case"lp+ct":return s.MigrationState.DUPLICATE;case"ct":return s.MigrationState.CLEVERTAP;default:return s.MigrationState.UNKNOWN}},h=function(){function e(e){var t;this.createRequest=e,this.response=null,this._fetching=null;var i=a.default.get(l.default.DEFAULT_KEYS.MIGRATION_STATE),n=a.default.get(l.default.DEFAULT_KEYS.DEVICE_ID),o=null!==(t=a.default.get(l.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:n;this.identity=new p(o,n),i&&(this.response=JSON.parse(i))}return e.prototype.getState=function(e){void 0===e&&(e=d);var t=this.response,i=u(this.response);t&&i!==s.MigrationState.UNKNOWN?e(i):this.getMigrationState(e)},e.prototype.verifyState=function(e){var t,i=this;e&&(null===(t=this.response)||void 0===t?void 0:t.sha256)!==e&&this.getMigrationState((function(e){e!==s.MigrationState.DUPLICATE&&e!==s.MigrationState.CLEVERTAP||(i.initCleverTap(),i.identity.isAnonymous||r.default.onUserLogin.push({Site:i.identity.profile}))}))},e.prototype.initCleverTap=function(){var e,t=null===(e=this.response)||void 0===e?void 0:e.ct;if(t)return r.default.init(t.accountId,t.regionCode,"",t.token),r.default},e.prototype.duplicateRequest=function(e,t,i){var n=u(this.response);if(n===s.MigrationState.LEANPLUM)return!1;t||(t=new c.default),n===s.MigrationState.DUPLICATE&&t.add(l.default.PARAMS.CT,!0);var o=(null==t?void 0:t.buildDict())||{},a=o[l.default.PARAMS.USER_ID];switch(a&&this.identity.setUserId(a),e){case l.default.METHODS.START:this.identity.isAnonymous||r.default.onUserLogin.push({Site:this.identity.profile});break;case l.default.METHODS.TRACK:this.eventPush(o,i);break;case l.default.METHODS.ADVANCE:o.event="state_".concat(o.state),this.eventPush(o,i);break;case l.default.METHODS.SET_USER_ATTRIBUTES:this.profilePush(o)}return n===s.MigrationState.CLEVERTAP},e.prototype.profilePush=function(e){var t=e[l.default.PARAMS.NEW_USER_ID],i=this.mapAttributes(this.convertArrays(JSON.parse(e.userAttributes||"{}")));t?(this.identity.setUserId(t),Object.assign(i,this.identity.profile),r.default.onUserLogin.push({Site:i})):r.default.profile.push({Site:i})},e.prototype.eventPush=function(e,t){var i=e[l.default.PARAMS.MESSAGE_ID],n=t.isPurchase?"Charged":e.event;if(n&&!i){var o={};if(e.params){var s=this.convertArrays(JSON.parse(e.params));Object.assign(o,s)}e.value&&Object.assign(o,{value:e.value}),e.info&&Object.assign(o,{info:e.info}),t.isPurchase&&e.currencyCode&&Object.assign(o,{currencyCode:e.currencyCode}),r.default.event.push(n,o)}},e.prototype.convertArrays=function(e){return Object.keys(e).reduce((function(t,i){if(Array.isArray(e[i])){var n=e[i];t[i]="[".concat(n.join(","),"]")}else t[i]=e[i];return t}),{})},e.prototype.mapAttributes=function(e){var t,i,n=null===(i=null===(t=this.response)||void 0===t?void 0:t.ct)||void 0===i?void 0:i.attributeMappings;return n?Object.keys(e).reduce((function(t,i){return n[i]?t[n[i]]=e[i]:t[i]=e[i],t}),{}):e},e.prototype.getMigrationState=function(e){var t=this;null===this._fetching&&(this._fetching=new Promise((function(e){return t.createRequest("getMigrateState",new c.default,{sendNow:!0,response:function(i){var n,o=null===(n=null==i?void 0:i.response)||void 0===n?void 0:n[0],r=u(o);r&&r!==s.MigrationState.UNKNOWN&&(a.default.save(l.default.DEFAULT_KEYS.MIGRATION_STATE,JSON.stringify(o)),t.response=o),e(r)}})}))),this._fetching.then(e).then((function(){return t._fetching=null}))},e}();t.default=h,function(e){e.ANONYMOUS="anonymous",e.IDENTIFIED="identified"}(o=t.IdentityState||(t.IdentityState={}));var p=function(){function e(e,t){this.userId=e,this.deviceId=t,this.state=o.ANONYMOUS,this.identify()}return e.prototype.setUserId=function(e){this.state===o.ANONYMOUS&&(this.state=o.IDENTIFIED),this.userId=e},e.prototype.identify=function(){this.isAnonymous?this.state=o.ANONYMOUS:this.identifyNonAnonymous()},e.prototype.identifyNonAnonymous=function(){this.state=o.IDENTIFIED},Object.defineProperty(e.prototype,"profile",{get:function(){return{Identity:this.userId}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAnonymous",{get:function(){return this.userId===this.deviceId},enumerable:!1,configurable:!0}),e}();t.IdentityManager=p},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,i,n,o,r,s){var a=this;if(r){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:".concat(t.substring(6))),this.ajaxIE8(e,t,i,n,o,r,s);var l=!1,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(l)return;var e;l=!0;var t=!1;if(s)e=c.responseText;else try{e=JSON.parse(c.responseText)}catch(e){setTimeout((function(){o&&o(null,c)}),0),t=!0}t||(c.status>=200&&c.status<300?setTimeout((function(){n&&n(e,c)}),0):setTimeout((function(){o&&o(e,c)}),0)),r&&(a.runningRequest=!1,a.dequeueRequest())}};var d=!1;c.onerror=c.ontimeout=function(){0===c.status&&(d=!0,a.requestQueue.splice(0,a.requestQueue.length))},d||(c.open(e,t,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(i),setTimeout((function(){l||c.abort()}),1e3*this.networkTimeoutSeconds))},e.prototype.ajaxIE8=function(e,t,i,n,o,r,s){var a=this,l=new XDomainRequest;l.onload=function(){var e,t=!1;if(s)e=l.responseText;else try{e=JSON.parse(l.responseText)}catch(e){setTimeout((function(){o&&o(null,l)}),0),t=!0}t||setTimeout((function(){n&&n(e,l)}),0),r&&(a.runningRequest=!1,a.dequeueRequest())},l.onerror=l.ontimeout=function(){setTimeout((function(){o&&o(null,l)}),0),r&&(a.runningRequest=!1,a.dequeueRequest())},l.onprogress=function(){},l.open(e,t),l.timeout=1e3*this.networkTimeoutSeconds,l.send(i)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=i},95:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(i(600)),a=r(i(749)),l=r(i(88)),c=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!1,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(e){return void 0===e&&(e=""),n(this,void 0,Promise,(function(){var t,i,n;return o(this,(function(o){switch(o.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration(e)]:[2,!1];case 1:return(t=o.sent())?[4,t.pushManager.getSubscription()]:[2,!1];case 2:return i=o.sent(),(n=null!==i)&&this.updateNewSubscriptionOnServer(i),[2,n]}}))}))},e.prototype.register=function(e,t,i){return n(this,void 0,Promise,(function(){var n,r,s,a;return o(this,(function(o){switch(o.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,i(!1)];o.label=1;case 1:return o.trys.push([1,4,,5]),n=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return n.serviceWorkerRegistration=o.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return r=o.sent(),(s=null!==r)&&this.updateNewSubscriptionOnServer(r),[2,i(s)];case 4:return a=o.sent(),console.log("Leanplum: Service Worker Error: ",a),[2,i(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return n(this,void 0,Promise,(function(){var e,t,i;return o(this,(function(n){switch(n.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=n.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw i=n.sent(),new Error("Leanplum: Failed to subscribe the user: ".concat(i));case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(e){return void 0===e&&(e=""),n(this,void 0,Promise,(function(){var t,i;return o(this,(function(n){switch(n.label){case 0:return[4,this.isWebPushSubscribed(e)];case 1:if(!n.sent())return[3,6];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(t=n.sent()))throw new Error;return[4,t.unsubscribe()];case 4:return n.sent(),[3,6];case 5:throw i=n.sent(),new Error("Leanplum: Error unsubscribing: ".concat(i));case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(e){return void 0===e&&(e=""),n(this,void 0,Promise,(function(){var t;return o(this,(function(i){switch(i.label){case 0:return this.serviceWorkerRegistration?[3,2]:(t=this,[4,this.serviceWorker.getRegistration(e)]);case 1:t.serviceWorkerRegistration=i.sent(),i.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),i=this.decodeData(t),n=new Uint8Array(i.length),o=0;o<i.length;++o)n[o]=i.charCodeAt(o);return n},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),i=JSON.stringify(t);l.default.get(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==i&&(l.default.save(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,i),this.setSubscription(i))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],i="getKey"in e?e.getKey("auth"):[],n=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),o=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(i)));return{endpoint:e.endpoint,key:n,auth:o}},e.prototype.setSubscription=function(e){if(e){var t=(new s.default).add(a.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(a.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=c},897:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(967)),r=function(){function e(){this.network=new o.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://".concat(e,"/socket.io/1"),"",(function(i){var n=i.split(":"),o=n[0],r=parseInt(n[1])/2*1e3;t.socket=new WebSocket("wss://".concat(e,"/socket.io/1/websocket/").concat(o));var s=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),s=setInterval((function(){t.socket.send("2:::")}),r)},t.socket.onclose=function(){t.connected=!1,clearInterval(s),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var i=e.data.split(":"),n=parseInt(i[0]);if(2===n)t.socket.send("2::");else if(5===n){var o=i[1],r=JSON.parse(i.slice(3).join(":")),s=r.name,a=r.args;o&&t.socket.send("6:::".concat(o)),t.onmessage&&t.onmessage(s,a)}else 7===n&&console.log("Socket error: ".concat(e.data))},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.disconnect=function(){this.socket.close(),this.connected=!1,this.connecting=!1},e.prototype.send=function(e,t){if(this.connected){var i=JSON.stringify({name:e,args:t});this.socket.send("5:::".concat(i))}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=r},88:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={local:!0,session:!0},n={local:{},session:{}},o=function(){function e(){}return e.get=function(e,t){if(void 0===t&&(t="local"),!i[t])return n[t][e];try{return"local"===t?localStorage[e]:sessionStorage.getItem(e)}catch(o){return i[t]=!1,n[t][e]}},e.save=function(e,t,o){if(void 0===o&&(o="local"),i[o])try{"local"===o?localStorage[e]=t:sessionStorage.setItem(e,t)}catch(r){i[o]=!1,n[o][e]=t}else n[o][e]=t},e.remove=function(e,t){if(void 0===t&&(t="local"),i[t])try{"local"===t?localStorage.removeItem(e):sessionStorage.removeItem(e)}catch(o){i[t]=!1,delete n[t][e]}else delete n[t][e]},e}();t.default=o},375:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.decodeColor=function(e){var t=255&e,i=255&(e>>=8),n=255&(e>>=8),o=(255&(e>>=8))/255;return"rgba(".concat(n,",").concat(i,",").concat(t,",").concat(o,")")},e.encodeColor=function(e){if("number"==typeof e)return e;var t=/^rgba\((\d+),(\d+),(\d+),(\d+(\.\d+)?)\)$/.exec(e);if(t)return(255*parseInt(t[4],10)<<24)+((255&parseInt(t[1],10))<<16)+((255&parseInt(t[2],10))<<8)+(255&parseInt(t[3],10));var i=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(i)return(255<<24)+((255&parseInt(i[1],16))<<16)+((255&parseInt(i[2],16))<<8)+(255&parseInt(i[3],16));throw new Error('Could not parse color "'.concat(e,'"'))},e}();t.default=i},816:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(i(600)),s=o(i(749)),a=o(i(88)),l=o(i(375)),c=function(){function e(e){this.createRequest=e,this.actionDefinitions={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,i){var o;this.diffs=e,this.variants=t,this.actionDefinitions=n(n({},this.actionDefinitions),(o=i)?Object.keys(o).reduce((function(e,t){e[t]=n({},o[t]);var i=o[t].kinds;return i&&(e[t].kinds=Object.keys(i).reduce((function(n,o){var r=i[o].toLowerCase();return n[o]=r,"action"===r&&(e[t].values[o]=""),n}),{})),e}),{}):o),this.hasReceivedDiffs=!0,this.merged=h(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.ACTION_DEFINITIONS)||null)),this.token=this.loadLocal(s.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(s.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: ".concat(e))}},e.prototype.saveDiffs=function(){this.saveLocal(s.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(s.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(s.default.DEFAULT_KEYS.ACTION_DEFINITIONS,JSON.stringify(this.actionDefinitions||{})),this.saveLocal(s.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(s.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.getVariables();if(i)for(var n=0;n<e.length;n++)i=i[e[n]];return i},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendActions=function(){var e;return!!Object.keys(this.actionDefinitions).length&&(this.setVars(((e={})[s.default.PARAMS.ACTION_DEFINITIONS]=this.actionDefinitions,e)),!0)},e.prototype.sendVariables=function(){var e;this.setVars(((e={})[s.default.PARAMS.VARIABLES]=this.variables,e))},e.prototype.setVars=function(e){var t=(new r.default).body(JSON.stringify(e));this.createRequest(s.default.METHODS.SET_VARS,t,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.registerActionDefinition=function(e){this.actionDefinitions[e.name]=function(e){return{kind:e.kind||3,options:null,values:d(e.args),kinds:u(e.args)}}(e)},e.prototype.loadLocal=function(e){return a.default.get(e)},e.prototype.saveLocal=function(e,t){a.default.save(e,t)},e}();function d(e){return e.reduce((function(e,t){return t.value instanceof Array?e[t.name]=d(t.value):"action"===t.type?e[t.name]="":"color"===t.type?e[t.name]=l.default.encodeColor(t.value):e[t.name]=t.value,e}),{})}function u(e,t){return void 0===t&&(t=""),e.reduce((function(e,i){var o,r="".concat(t).concat(i.name);return i.value instanceof Array?e=n(((o={})[r]="group",o),u(i.value,"".concat(r,"."))):e[r]=i.type.toLowerCase(),e}),{})}function h(e,t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return t;if(null==t)return e;var i=function(e){return function(t){if(e instanceof Array)for(var i=0;i<e.length;i++)t(e[i]);else for(var n in e)({}).hasOwnProperty.call(e,n)&&t(n)}},n=i(e),o=i(t),r=!1;if(null===e&&!(t instanceof Array))for(var s in r=null,t)if(t.hasOwnProperty(s)){if(null===r&&(r=!0),"string"!=typeof s){r=!1;break}if(s.length<3||"["!==s.charAt(0)||"]"!==s.charAt(s.length-1)){r=!1;break}}if(e instanceof Array||r){var a=[];return n((function(e){a.push(e)})),o((function(e){for(var i=parseInt(e.substring(1,e.length-1)),n=t[e];i>=a.length;)a.push(null);a[i]=h(a[i],n)})),a}var l={};return n((function(i){null!==t[i]&&void 0!==t[i]||(l[i]=e[i])})),o((function(i){l[i]=h(null===e?null:e[i]||{},t[i])})),l}t.default=c},804:(e,t,i)=>{var n=i(876);e.exports=n.default},205:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.MigrationState=void 0,(i=t.MigrationState||(t.MigrationState={})).UNKNOWN="unknown",i.LEANPLUM="lp",i.DUPLICATE="lp+ct",i.CLEVERTAP="ct"},772:(e,t)=>{"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageKind=t.ActionParameterType=void 0,(n=t.ActionParameterType||(t.ActionParameterType={})).Integer="integer",n.Color="color",n.Float="float",n.Decimal="decimal",n.Number="number",n.Boolean="bool",n.String="string",n.Text="text",n.HTML="html",n.File="file",n.List="list",n.Group="group",n.Action="action",n.Unknown="",(i=t.MessageKind||(t.MessageKind={}))[i.Action=2]="Action",i[i.Template=3]="Template"}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i(804)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQzVDLFFBQXFCM3RFLElBQWpCNHRFLEVBQ0gsT0FBT0EsRUFBYXZ2RSxRQUdyQixJQUFJQyxFQUFTbXZFLEVBQXlCRSxHQUFZLENBQ2pEanZFLEdBQUlpdkUsRUFDSkUsUUFBUSxFQUNSeHZFLFFBQVMsQ0FBQyxHQVVYLE9BTkF5dkUsRUFBb0JILEdBQVV4dUUsS0FBS2IsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU3F2RSxHQUczRXB2RSxFQUFPdXZFLFFBQVMsRUFHVHZ2RSxFQUFPRCxPQUNmLEMsT0N6QkFxdkUsRUFBb0J4c0QsRUFBSSxXQUN2QixHQUEwQixpQkFBZjZzRCxXQUF5QixPQUFPQSxXQUMzQyxJQUNDLE9BQU8xdEUsTUFBUSxJQUFJKzlDLFNBQVMsY0FBYixFQUdoQixDQUZFLE1BQU83MkMsR0FDUixHQUFzQixpQkFBWG9CLE9BQXFCLE9BQU9BLE1BQ3hDLENBQ0EsQ0FQdUIsR0NBeEIra0UsRUFBb0JNLElBQU8xdkUsSUFDMUJBLEVBQU8ydkUsTUFBUSxHQUNWM3ZFLEVBQU84eEIsV0FBVTl4QixFQUFPOHhCLFNBQVcsSUFDakM5eEIsR0NBa0JvdkUsRUFBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL0xlYW5wbHVtL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9jbGV2ZXJ0YXAtd2ViLXNkay9jbGV2ZXJ0YXAuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoLmlzZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQXJnc0J1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQnJvd3NlckRldGVjdG9yLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9FdmVudEVtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvSW50ZXJuYWxTdGF0ZS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bUluYm94LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtSW50ZXJuYWwudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1SZXF1ZXN0LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtU29ja2V0LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL01lc3NhZ2VzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL01pZ3JhdGlvbk1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTmV0d29yay50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9QdXNoTWFuYWdlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Tb2NrZXRJb0NsaWVudC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9TdG9yYWdlTWFuYWdlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9WYWx1ZVRyYW5zZm9ybXMudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvVmFyQ2FjaGUudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvYnVuZGxlcy9sZWFucGx1bS5mdWxsLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL3R5cGVzL2ludGVybmFsLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL3R5cGVzL3B1YmxpYy50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL0xlYW5wbHVtL3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkxlYW5wbHVtXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkxlYW5wbHVtXCJdID0gZmFjdG9yeSgpO1xufSkoc2VsZiwgKCkgPT4ge1xucmV0dXJuICIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLmNsZXZlcnRhcCA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICB2YXIgaWQgPSAwO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KG5hbWUpIHtcbiAgICByZXR1cm4gXCJfX3ByaXZhdGVfXCIgKyBpZCsrICsgXCJfXCIgKyBuYW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVjZWl2ZXI7XG4gIH1cblxuICBjb25zdCBUQVJHRVRfRE9NQUlOID0gJ2NsZXZlcnRhcC1wcm9kLmNvbSc7XG4gIGNvbnN0IFRBUkdFVF9QUk9UT0NPTCA9ICdodHRwczonO1xuICBjb25zdCBERUZBVUxUX1JFR0lPTiA9ICdldTEnO1xuXG4gIHZhciBfYWNjb3VudElkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY2NvdW50SWRcIik7XG5cbiAgdmFyIF9yZWdpb24gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlZ2lvblwiKTtcblxuICB2YXIgX3RhcmdldERvbWFpbiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidGFyZ2V0RG9tYWluXCIpO1xuXG4gIHZhciBfZGNTZGt2ZXJzaW9uID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkY1Nka3ZlcnNpb25cIik7XG5cbiAgdmFyIF90b2tlbiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidG9rZW5cIik7XG5cbiAgY2xhc3MgQWNjb3VudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBsZXQge1xuICAgICAgICBpZFxuICAgICAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICBsZXQgcmVnaW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcbiAgICAgIGxldCB0YXJnZXREb21haW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFRBUkdFVF9ET01BSU47XG4gICAgICBsZXQgdG9rZW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICcnO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hY2NvdW50SWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZWdpb24sIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAnJ1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3RhcmdldERvbWFpbiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IFRBUkdFVF9ET01BSU5cbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kY1Nka3ZlcnNpb24sIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAnJ1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Rva2VuLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogJydcbiAgICAgIH0pO1xuICAgICAgdGhpcy5pZCA9IGlkO1xuXG4gICAgICBpZiAocmVnaW9uKSB7XG4gICAgICAgIHRoaXMucmVnaW9uID0gcmVnaW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0RG9tYWluKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0RG9tYWluID0gdGFyZ2V0RG9tYWluO1xuICAgICAgfVxuXG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldCBpZCgpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnRJZClbX2FjY291bnRJZF07XG4gICAgfVxuXG4gICAgc2V0IGlkKGFjY291bnRJZCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50SWQpW19hY2NvdW50SWRdID0gYWNjb3VudElkO1xuICAgIH1cblxuICAgIGdldCByZWdpb24oKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZWdpb24pW19yZWdpb25dO1xuICAgIH1cblxuICAgIHNldCByZWdpb24ocmVnaW9uKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlZ2lvbilbX3JlZ2lvbl0gPSByZWdpb247XG4gICAgfVxuXG4gICAgZ2V0IGRjU0RLVmVyc2lvbigpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RjU2RrdmVyc2lvbilbX2RjU2RrdmVyc2lvbl07XG4gICAgfVxuXG4gICAgc2V0IGRjU0RLVmVyc2lvbihkY1NES1ZlcnNpb24pIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGNTZGt2ZXJzaW9uKVtfZGNTZGt2ZXJzaW9uXSA9IGRjU0RLVmVyc2lvbjtcbiAgICB9XG5cbiAgICBnZXQgdGFyZ2V0RG9tYWluKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdGFyZ2V0RG9tYWluKVtfdGFyZ2V0RG9tYWluXTtcbiAgICB9XG5cbiAgICBzZXQgdGFyZ2V0RG9tYWluKHRhcmdldERvbWFpbikge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF90YXJnZXREb21haW4pW190YXJnZXREb21haW5dID0gdGFyZ2V0RG9tYWluO1xuICAgIH1cblxuICAgIGdldCB0b2tlbigpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Rva2VuKVtfdG9rZW5dO1xuICAgIH1cblxuICAgIHNldCB0b2tlbih0b2tlbikge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF90b2tlbilbX3Rva2VuXSA9IHRva2VuO1xuICAgIH1cblxuICAgIGdldCBmaW5hbFRhcmdldERvbWFpbigpIHtcbiAgICAgIGlmICh0aGlzLnJlZ2lvbikge1xuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQodGhpcy5yZWdpb24sIFwiLlwiKS5jb25jYXQodGhpcy50YXJnZXREb21haW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0RG9tYWluID09PSBUQVJHRVRfRE9NQUlOKSB7XG4gICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KERFRkFVTFRfUkVHSU9OLCBcIi5cIikuY29uY2F0KHRoaXMudGFyZ2V0RG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldERvbWFpbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgZGF0YVBvc3RQRVVSTCgpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChUQVJHRVRfUFJPVE9DT0wsIFwiLy9cIikuY29uY2F0KHRoaXMuZmluYWxUYXJnZXREb21haW4sIFwiL2RlZmluZVZhcnNcIik7XG4gICAgfVxuXG4gICAgZ2V0IGRhdGFQb3N0VVJMKCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KFRBUkdFVF9QUk9UT0NPTCwgXCIvL1wiKS5jb25jYXQodGhpcy5maW5hbFRhcmdldERvbWFpbiwgXCIvYT90PTk2XCIpO1xuICAgIH1cblxuICAgIGdldCByZWNvcmRlclVSTCgpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChUQVJHRVRfUFJPVE9DT0wsIFwiLy9cIikuY29uY2F0KHRoaXMuZmluYWxUYXJnZXREb21haW4sIFwiL3I/cj0xXCIpO1xuICAgIH1cblxuICAgIGdldCBlbWFpbFVSTCgpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChUQVJHRVRfUFJPVE9DT0wsIFwiLy9cIikuY29uY2F0KHRoaXMuZmluYWxUYXJnZXREb21haW4sIFwiL2U/cj0xXCIpO1xuICAgIH1cblxuICB9XG5cbiAgY29uc3QgdW5zdXBwb3J0ZWRLZXlDaGFyUmVnZXggPSBuZXcgUmVnRXhwKCdeXFxcXHMrfFxcXFxcXC58XFw6fFxcXFxcXCR8XFwnfFxcXCJ8XFxcXFxcXFx8XFxcXHMrJCcsICdnJyk7XG4gIGNvbnN0IHVuc3VwcG9ydGVkVmFsdWVDaGFyUmVnZXggPSBuZXcgUmVnRXhwKFwiXlxcXFxzK3xcXCd8XFxcInxcXFxcXFxcXHxcXFxccyskXCIsICdnJyk7XG4gIGNvbnN0IHNpbmdsZVF1b3RlUmVnZXggPSBuZXcgUmVnRXhwKCdcXCcnLCAnZycpO1xuICBjb25zdCBDTEVBUiA9ICdjbGVhcic7XG4gIGNvbnN0IENIQVJHRURfSUQgPSAnQ2hhcmdlZCBJRCc7XG4gIGNvbnN0IENIQVJHRURJRF9DT09LSUVfTkFNRSA9ICdXWlJLX0NIQVJHRURfSUQnO1xuICBjb25zdCBHQ09PS0lFX05BTUUgPSAnV1pSS19HJztcbiAgY29uc3QgS0NPT0tJRV9OQU1FID0gJ1daUktfSyc7XG4gIGNvbnN0IENBTVBfQ09PS0lFX05BTUUgPSAnV1pSS19DQU1QJztcbiAgY29uc3QgQ0FNUF9DT09LSUVfRyA9ICdXWlJLX0NBTVBfRyc7IC8vIGNvb2tpZSBmb3Igc3RvcmluZyBjYW1wYWlnbiBkZXRhaWxzIGFnYWluc3QgZ3VpZFxuXG4gIGNvbnN0IFNDT09LSUVfUFJFRklYID0gJ1daUktfUyc7XG4gIGNvbnN0IFNDT09LSUVfRVhQX1RJTUVfSU5fU0VDUyA9IDYwICogMjA7IC8vIDIwIG1pbnNcblxuICBjb25zdCBFVl9DT09LSUUgPSAnV1pSS19FVic7XG4gIGNvbnN0IE1FVEFfQ09PS0lFID0gJ1daUktfTUVUQSc7XG4gIGNvbnN0IFBSX0NPT0tJRSA9ICdXWlJLX1BSJztcbiAgY29uc3QgQVJQX0NPT0tJRSA9ICdXWlJLX0FSUCc7XG4gIGNvbnN0IExDT09LSUVfTkFNRSA9ICdXWlJLX0wnO1xuICBjb25zdCBHTE9CQUwgPSAnZ2xvYmFsJzsgLy8gdXNlZCBmb3IgZW1haWwgdW5zdWJzY3JpYmUgYWxzb1xuICBjb25zdCBESVNQTEFZID0gJ2Rpc3BsYXknO1xuICBjb25zdCBXRUJQVVNIX0xTX0tFWSA9ICdXWlJLX1dQUic7XG4gIGNvbnN0IE9QVE9VVF9LRVkgPSAnb3B0T3V0JztcbiAgY29uc3QgQ1RfT1BUT1VUX0tFWSA9ICdjdF9vcHRvdXQnO1xuICBjb25zdCBPUFRPVVRfQ09PS0lFX0VORFNXSVRIID0gJzpPTyc7XG4gIGNvbnN0IFVTRUlQX0tFWSA9ICd1c2VJUCc7XG4gIGNvbnN0IExSVV9DQUNIRSA9ICdXWlJLX1gnO1xuICBjb25zdCBMUlVfQ0FDSEVfU0laRSA9IDEwMDtcbiAgY29uc3QgSVNfT1VMID0gJ2lzT1VMJztcbiAgY29uc3QgRVZUX1BVU0ggPSAncHVzaCc7XG4gIGNvbnN0IEVWVF9QSU5HID0gJ3BpbmcnO1xuICBjb25zdCBDT09LSUVfRVhQSVJZID0gODY0MDAgKiAzNjU7IC8vIDEgWWVhciBpbiBzZWNvbmRzXG5cbiAgY29uc3QgTUFYX1RSSUVTID0gMjAwOyAvLyBBUEkgdHJpZXNcblxuICBjb25zdCBGSVJTVF9QSU5HX0ZSRVFfSU5fTUlMTElTID0gMiAqIDYwICogMTAwMDsgLy8gMiBtaW5zXG5cbiAgY29uc3QgQ09OVElOVU9VU19QSU5HX0ZSRVFfSU5fTUlMTElTID0gNSAqIDYwICogMTAwMDsgLy8gNSBtaW5zXG5cbiAgY29uc3QgR1JPVVBfU1VCU0NSSVBUSU9OX1JFUVVFU1RfSUQgPSAnMic7XG4gIGNvbnN0IGNhdGVnb3J5TG9uZ0tleSA9ICdjVXNZJztcbiAgY29uc3QgV1pSS19QUkVGSVggPSAnd3pya18nO1xuICBjb25zdCBXWlJLX0lEID0gJ3d6cmtfaWQnO1xuICBjb25zdCBOT1RJRklDQVRJT05fVklFV0VEID0gJ05vdGlmaWNhdGlvbiBWaWV3ZWQnO1xuICBjb25zdCBOT1RJRklDQVRJT05fQ0xJQ0tFRCA9ICdOb3RpZmljYXRpb24gQ2xpY2tlZCc7XG4gIGNvbnN0IEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQgPSAnV1pSS19GUFUnO1xuICBjb25zdCBQVVNIX1NVQlNDUklQVElPTl9EQVRBID0gJ1daUktfUFNEJzsgLy8gUFVTSCBTVUJTQ1JJUFRJT04gREFUQSBGT1IgUkVHSVNURVIvVU5SRUdJU1RFUiBUT0tFTlxuXG4gIGNvbnN0IENPTU1BTkRfSU5DUkVNRU5UID0gJyRpbmNyJztcbiAgY29uc3QgQ09NTUFORF9ERUNSRU1FTlQgPSAnJGRlY3InO1xuICBjb25zdCBDT01NQU5EX1NFVCA9ICckc2V0JztcbiAgY29uc3QgQ09NTUFORF9BREQgPSAnJGFkZCc7XG4gIGNvbnN0IENPTU1BTkRfUkVNT1ZFID0gJyRyZW1vdmUnO1xuICBjb25zdCBDT01NQU5EX0RFTEVURSA9ICckZGVsZXRlJztcbiAgY29uc3QgV0VCSU5CT1hfQ09ORklHID0gJ1daUktfSU5CT1hfQ09ORklHJztcbiAgY29uc3QgV0VCSU5CT1ggPSAnV1pSS19JTkJPWCc7XG4gIGNvbnN0IE1BWF9JTkJPWF9NU0cgPSAxNTtcbiAgY29uc3QgVkFSSUFCTEVTID0gJ1daUktfUEUnO1xuICBjb25zdCBQVVNIX0RFTEFZX01TID0gMTAwMDtcbiAgY29uc3QgTUFYX0RFTEFZX0ZSRVFVRU5DWSA9IDEwMDAgKiA2MCAqIDEwO1xuICBjb25zdCBXWlJLX0ZFVENIID0gJ3d6cmtfZmV0Y2gnO1xuICBjb25zdCBTWVNURU1fRVZFTlRTID0gWydTdGF5ZWQnLCAnVVRNIFZpc2l0ZWQnLCAnQXBwIExhdW5jaGVkJywgJ05vdGlmaWNhdGlvbiBTZW50JywgTk9USUZJQ0FUSU9OX1ZJRVdFRCwgTk9USUZJQ0FUSU9OX0NMSUNLRURdO1xuXG4gIGNvbnN0IGlzU3RyaW5nID0gaW5wdXQgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IGlucHV0IGluc3RhbmNlb2YgU3RyaW5nO1xuICB9O1xuICBjb25zdCBpc09iamVjdCA9IGlucHV0ID0+IHtcbiAgICAvLyBUT0RPOiByZWZpbmVcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIH07XG4gIGNvbnN0IGlzRGF0ZU9iamVjdCA9IGlucHV0ID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJiBpbnB1dCBpbnN0YW5jZW9mIERhdGU7XG4gIH07XG4gIGNvbnN0IGlzT2JqZWN0RW1wdHkgPSBvYmogPT4ge1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBvYmopIHtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBjb25zdCBpc0NvbnZlcnRpYmxlVG9OdW1iZXIgPSBuID0+IHtcbiAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xuICB9O1xuICBjb25zdCBpc051bWJlciA9IG4gPT4ge1xuICAgIHJldHVybiAvXi0/W1xcZC5dKyg/OmUtP1xcZCspPyQvLnRlc3QobikgJiYgdHlwZW9mIG4gPT09ICdudW1iZXInO1xuICB9O1xuICBjb25zdCBpc1ZhbHVlVmFsaWQgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIGNvbnN0IHJlbW92ZVVuc3VwcG9ydGVkQ2hhcnMgPSAobywgbG9nZ2VyKSA9PiB7XG4gICAgLy8ga2V5cyBjYW4ndCBiZSBncmVhdGVyIHRoYW4gMTAyNCBjaGFycywgdmFsdWVzIGNhbid0IGJlIGdyZWF0ZXIgdGhhbiAxMDI0IGNoYXJzXG4gICAgaWYgKHR5cGVvZiBvID09PSAnb2JqZWN0Jykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbykge1xuICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgY29uc3Qgc2FuaXRpemVkVmFsID0gcmVtb3ZlVW5zdXBwb3J0ZWRDaGFycyhvW2tleV0sIGxvZ2dlcik7XG4gICAgICAgICAgbGV0IHNhbml0aXplZEtleTtcbiAgICAgICAgICBzYW5pdGl6ZWRLZXkgPSBzYW5pdGl6ZShrZXksIHVuc3VwcG9ydGVkS2V5Q2hhclJlZ2V4KTtcblxuICAgICAgICAgIGlmIChzYW5pdGl6ZWRLZXkubGVuZ3RoID4gMTAyNCkge1xuICAgICAgICAgICAgc2FuaXRpemVkS2V5ID0gc2FuaXRpemVkS2V5LnN1YnN0cmluZygwLCAxMDI0KTtcbiAgICAgICAgICAgIGxvZ2dlci5yZXBvcnRFcnJvcig1MjAsIHNhbml0aXplZEtleSArICcuLi4gbGVuZ3RoIGV4Y2VlZGVkIDEwMjQgY2hhcnMuIFRyaW1tZWQuJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVsZXRlIG9ba2V5XTtcbiAgICAgICAgICBvW3Nhbml0aXplZEtleV0gPSBzYW5pdGl6ZWRWYWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHZhbDtcblxuICAgICAgaWYgKGlzU3RyaW5nKG8pKSB7XG4gICAgICAgIHZhbCA9IHNhbml0aXplKG8sIHVuc3VwcG9ydGVkVmFsdWVDaGFyUmVnZXgpO1xuXG4gICAgICAgIGlmICh2YWwubGVuZ3RoID4gMTAyNCkge1xuICAgICAgICAgIHZhbCA9IHZhbC5zdWJzdHJpbmcoMCwgMTAyNCk7XG4gICAgICAgICAgbG9nZ2VyLnJlcG9ydEVycm9yKDUyMSwgdmFsICsgJy4uLiBsZW5ndGggZXhjZWVkZWQgMTAyNCBjaGFycy4gVHJpbW1lZC4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gbztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbztcbiAgfTtcbiAgY29uc3Qgc2FuaXRpemUgPSAoaW5wdXQsIHJlZ2V4KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UocmVnZXgsICcnKTtcbiAgfTtcblxuICBjb25zdCBnZXRUb2RheSA9ICgpID0+IHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgcmV0dXJuIHRvZGF5LmdldEZ1bGxZZWFyKCkgKyAnJyArIHRvZGF5LmdldE1vbnRoKCkgKyAnJyArIHRvZGF5LmdldERheSgpO1xuICB9O1xuICBjb25zdCBnZXROb3cgPSAoKSA9PiB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgfTtcbiAgY29uc3QgY29udmVydFRvV1pSS0RhdGUgPSBkYXRlT2JqID0+IHtcbiAgICByZXR1cm4gJyREXycgKyBNYXRoLnJvdW5kKGRhdGVPYmouZ2V0VGltZSgpIC8gMTAwMCk7XG4gIH07XG4gIGNvbnN0IHNldERhdGUgPSBkdCA9PiB7XG4gICAgLy8gZXhwZWN0aW5nICB5eXl5bW1kZCBmb3JtYXQgZWl0aGVyIGFzIGEgbnVtYmVyIG9yIGEgc3RyaW5nXG4gICAgaWYgKGlzRGF0ZVZhbGlkKGR0KSkge1xuICAgICAgcmV0dXJuICckRF8nICsgZHQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBpc0RhdGVWYWxpZCA9IGRhdGUgPT4ge1xuICAgIGNvbnN0IG1hdGNoZXMgPSAvXihcXGR7NH0pKFxcZHsyfSkoXFxkezJ9KSQvLmV4ZWMoZGF0ZSk7XG4gICAgaWYgKG1hdGNoZXMgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGQgPSBtYXRjaGVzWzNdO1xuICAgIGNvbnN0IG0gPSBtYXRjaGVzWzJdIC0gMTtcbiAgICBjb25zdCB5ID0gbWF0Y2hlc1sxXTtcbiAgICBjb25zdCBjb21wb3NlZERhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXG4gICAgcmV0dXJuIGNvbXBvc2VkRGF0ZS5nZXREYXRlKCkgPT0gZCAmJiBjb21wb3NlZERhdGUuZ2V0TW9udGgoKSA9PSBtICYmIGNvbXBvc2VkRGF0ZS5nZXRGdWxsWWVhcigpID09IHk7XG4gIH07XG5cbiAgY2xhc3MgU3RvcmFnZU1hbmFnZXIge1xuICAgIHN0YXRpYyBzYXZlKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgha2V5IHx8ICF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlYWQoa2V5KSB7XG4gICAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGxldCBkYXRhID0gbnVsbDtcblxuICAgICAgaWYgKHRoaXMuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlbW92ZShrZXkpIHtcbiAgICAgIGlmICgha2V5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlbW92ZUNvb2tpZShuYW1lLCBkb21haW4pIHtcbiAgICAgIGxldCBjb29raWVTdHIgPSBuYW1lICsgJz07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQ7JztcblxuICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICBjb29raWVTdHIgPSBjb29raWVTdHIgKyAnIGRvbWFpbj0nICsgZG9tYWluICsgJzsgcGF0aD0vJztcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llU3RyO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVDb29raWUobmFtZSwgdmFsdWUsIHNlY29uZHMsIGRvbWFpbikge1xuICAgICAgbGV0IGV4cGlyZXMgPSAnJztcbiAgICAgIGxldCBkb21haW5TdHIgPSAnJztcblxuICAgICAgaWYgKHNlY29uZHMpIHtcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIHNlY29uZHMgKiAxMDAwKTtcbiAgICAgICAgZXhwaXJlcyA9ICc7IGV4cGlyZXM9JyArIGRhdGUudG9HTVRTdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICBkb21haW5TdHIgPSAnOyBkb21haW49JyArIGRvbWFpbjtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArICc9JyArIHZhbHVlICsgZXhwaXJlcyArIGRvbWFpblN0ciArICc7IHBhdGg9Lyc7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlYWRDb29raWUobmFtZSkge1xuICAgICAgY29uc3QgbmFtZUVRID0gbmFtZSArICc9JztcbiAgICAgIGNvbnN0IGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG5cbiAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNhLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgbGV0IGMgPSBjYVtpZHhdO1xuXG4gICAgICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PT0gJyAnKSB7XG4gICAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEsIGMubGVuZ3RoKTtcbiAgICAgICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cblxuICAgICAgICBpZiAoYy5pbmRleE9mKG5hbWVFUSkgPT0gMCkge1xuICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCwgYy5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkge1xuICAgICAgcmV0dXJuICdsb2NhbFN0b3JhZ2UnIGluIHdpbmRvdyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSBudWxsICYmIHR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0gPT09ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgc3RhdGljIHNhdmVUb0xTb3JDb29raWUocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgdGhpcy5zYXZlKHByb3BlcnR5LCBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5ID09PSBHQ09PS0lFX05BTUUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ29va2llKHByb3BlcnR5LCBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLCAwLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvb2tpZShwcm9wZXJ0eSwgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbHVlKSksIDAsIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJGN0Lmdsb2JhbENhY2hlW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVhZEZyb21MU29yQ29va2llKHByb3BlcnR5KSB7XG4gICAgICBsZXQgZGF0YTtcblxuICAgICAgaWYgKCRjdC5nbG9iYWxDYWNoZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgcmV0dXJuICRjdC5nbG9iYWxDYWNoZVtwcm9wZXJ0eV07XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIGRhdGEgPSB0aGlzLnJlYWQocHJvcGVydHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YSA9IHRoaXMucmVhZENvb2tpZShwcm9wZXJ0eSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhICE9PSBudWxsICYmIGRhdGEgIT09IHVuZGVmaW5lZCAmJiAhKHR5cGVvZiBkYXRhLnRyaW0gPT09ICdmdW5jdGlvbicgJiYgZGF0YS50cmltKCkgPT09ICcnKSkge1xuICAgICAgICBsZXQgdmFsdWU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAkY3QuZ2xvYmFsQ2FjaGVbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlQnJvYWRDb29raWUobmFtZSwgdmFsdWUsIHNlY29uZHMsIGRvbWFpbikge1xuICAgICAgLy8gc2V0cyBjb29raWUgb24gdGhlIGJhc2UgZG9tYWluLiBlLmcuIGlmIGRvbWFpbiBpcyBiYXouZm9vLmJhci5jb20sIHNldCBjb29raWUgb24gXCIuYmFyLmNvbVwiXG4gICAgICAvLyBUbyB1cGRhdGUgYW4gZXhpc3RpbmcgXCJicm9hZCBkb21haW5cIiBjb29raWUsIHdlIG5lZWQgdG8ga25vdyB3aGF0IGRvbWFpbiBpdCB3YXMgYWN0dWFsbHkgc2V0IG9uLlxuICAgICAgLy8gc2luY2UgYSByZXRyaWV2ZWQgY29va2llIG5ldmVyIHRlbGxzIHdoaWNoIGRvbWFpbiBpdCB3YXMgc2V0IG9uLCB3ZSBuZWVkIHRvIHNldCBhbm90aGVyIHRlc3QgY29va2llXG4gICAgICAvLyB0byBmaW5kIG91dCB3aGljaCBcImJyb2FkZXN0XCIgZG9tYWluIHRoZSBjb29raWUgd2FzIHNldCBvbi4gVGhlbiBkZWxldGUgdGhlIHRlc3QgY29va2llLCBhbmQgdXNlIHRoYXQgZG9tYWluXG4gICAgICAvLyBmb3IgdXBkYXRpbmcgdGhlIGFjdHVhbCBjb29raWUuXG4gICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgIGxldCBicm9hZERvbWFpbiA9ICRjdC5icm9hZERvbWFpbjtcblxuICAgICAgICBpZiAoYnJvYWREb21haW4gPT0gbnVsbCkge1xuICAgICAgICAgIC8vIGlmIHdlIGRvbid0IGtub3cgdGhlIGJyb2FkRG9tYWluIHlldCwgdGhlbiBmaW5kIG91dFxuICAgICAgICAgIGNvbnN0IGRvbWFpblBhcnRzID0gZG9tYWluLnNwbGl0KCcuJyk7XG4gICAgICAgICAgbGV0IHRlc3RCcm9hZERvbWFpbiA9ICcnO1xuXG4gICAgICAgICAgZm9yIChsZXQgaWR4ID0gZG9tYWluUGFydHMubGVuZ3RoIC0gMTsgaWR4ID49IDA7IGlkeC0tKSB7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgICAgICAgIHRlc3RCcm9hZERvbWFpbiA9IGRvbWFpblBhcnRzW2lkeF0gKyB0ZXN0QnJvYWREb21haW47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZXN0QnJvYWREb21haW4gPSAnLicgKyBkb21haW5QYXJ0c1tpZHhdICsgdGVzdEJyb2FkRG9tYWluO1xuICAgICAgICAgICAgfSAvLyBvbmx5IG5lZWRlZCBpZiB0aGUgY29va2llIGFscmVhZHkgZXhpc3RzIGFuZCBuZWVkcyB0byBiZSB1cGRhdGVkLiBTZWUgbm90ZSBhYm92ZS5cblxuXG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkQ29va2llKG5hbWUpKSB7XG4gICAgICAgICAgICAgIC8vIG5vIGd1YXJhbnRlZSB0aGF0IGJyb3dzZXIgd2lsbCBkZWxldGUgY29va2llLCBoZW5jZSBjcmVhdGUgc2hvcnQgbGl2ZWQgY29va2llc1xuICAgICAgICAgICAgICB2YXIgdGVzdENvb2tpZU5hbWUgPSAndGVzdF8nICsgbmFtZSArIGlkeDtcbiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDb29raWUodGVzdENvb2tpZU5hbWUsIHZhbHVlLCAxMCwgdGVzdEJyb2FkRG9tYWluKTsgLy8gc2VsZi1kZXN0cnVjdCBhZnRlciAxMCBzZWNvbmRzXG5cbiAgICAgICAgICAgICAgaWYgKCF0aGlzLnJlYWRDb29raWUodGVzdENvb2tpZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGVzdCBjb29raWUgbm90IHNldCwgdGhlbiB0aGUgYWN0dWFsIGNvb2tpZSB3b3VsZG4ndCBoYXZlIGJlZW4gc2V0IG9uIHRoaXMgZG9tYWluIGVpdGhlci5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlbHNlIGlmIGNvb2tpZSBzZXQsIHRoZW4gZGVsZXRlIHRoZSB0ZXN0IGFuZCB0aGUgb3JpZ2luYWwgY29va2llXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDb29raWUodGVzdENvb2tpZU5hbWUsIHRlc3RCcm9hZERvbWFpbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb29raWUobmFtZSwgdmFsdWUsIHNlY29uZHMsIHRlc3RCcm9hZERvbWFpbik7XG4gICAgICAgICAgICBjb25zdCB0ZW1wQ29va2llID0gdGhpcy5yZWFkQ29va2llKG5hbWUpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cbiAgICAgICAgICAgIGlmICh0ZW1wQ29va2llID09IHZhbHVlKSB7XG4gICAgICAgICAgICAgIGJyb2FkRG9tYWluID0gdGVzdEJyb2FkRG9tYWluO1xuICAgICAgICAgICAgICAkY3QuYnJvYWREb21haW4gPSBicm9hZERvbWFpbjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY3JlYXRlQ29va2llKG5hbWUsIHZhbHVlLCBzZWNvbmRzLCBicm9hZERvbWFpbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY3JlYXRlQ29va2llKG5hbWUsIHZhbHVlLCBzZWNvbmRzLCBkb21haW4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRNZXRhUHJvcChwcm9wZXJ0eSkge1xuICAgICAgY29uc3QgbWV0YU9iaiA9IHRoaXMucmVhZEZyb21MU29yQ29va2llKE1FVEFfQ09PS0lFKTtcblxuICAgICAgaWYgKG1ldGFPYmogIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbWV0YU9ialtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNldE1ldGFQcm9wKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgbGV0IHd6cmtNZXRhT2JqID0gdGhpcy5yZWFkRnJvbUxTb3JDb29raWUoTUVUQV9DT09LSUUpO1xuXG4gICAgICAgIGlmICh3enJrTWV0YU9iaiA9PSBudWxsKSB7XG4gICAgICAgICAgd3pya01ldGFPYmogPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZGVsZXRlIHd6cmtNZXRhT2JqW3Byb3BlcnR5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3enJrTWV0YU9ialtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2F2ZVRvTFNvckNvb2tpZShNRVRBX0NPT0tJRSwgd3pya01ldGFPYmopO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRBbmRDbGVhck1ldGFQcm9wKHByb3BlcnR5KSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0TWV0YVByb3AocHJvcGVydHkpO1xuICAgICAgdGhpcy5zZXRNZXRhUHJvcChwcm9wZXJ0eSwgdW5kZWZpbmVkKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0SW5zdGFudERlbGV0ZUZsYWdJbksoKSB7XG4gICAgICBsZXQgayA9IHRoaXMucmVhZEZyb21MU29yQ29va2llKEtDT09LSUVfTkFNRSk7XG5cbiAgICAgIGlmIChrID09IG51bGwpIHtcbiAgICAgICAgayA9IHt9O1xuICAgICAgfVxuXG4gICAgICBrLmZsYWcgPSB0cnVlO1xuICAgICAgdGhpcy5zYXZlVG9MU29yQ29va2llKEtDT09LSUVfTkFNRSwgayk7XG4gICAgfVxuXG4gICAgc3RhdGljIGJhY2t1cEV2ZW50KGRhdGEsIHJlcU5vLCBsb2dnZXIpIHtcbiAgICAgIGxldCBiYWNrdXBBcnIgPSB0aGlzLnJlYWRGcm9tTFNvckNvb2tpZShMQ09PS0lFX05BTUUpO1xuXG4gICAgICBpZiAodHlwZW9mIGJhY2t1cEFyciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgYmFja3VwQXJyID0ge307XG4gICAgICB9XG5cbiAgICAgIGJhY2t1cEFycltyZXFOb10gPSB7XG4gICAgICAgIHE6IGRhdGFcbiAgICAgIH07XG4gICAgICB0aGlzLnNhdmVUb0xTb3JDb29raWUoTENPT0tJRV9OQU1FLCBiYWNrdXBBcnIpO1xuICAgICAgbG9nZ2VyLmRlYnVnKFwic3RvcmVkIGluIFwiLmNvbmNhdChMQ09PS0lFX05BTUUsIFwiIHJlcU5vIDogXCIpLmNvbmNhdChyZXFObywgXCIgLT4gXCIpLmNvbmNhdChkYXRhKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlbW92ZUJhY2t1cChyZXNwTm8sIGxvZ2dlcikge1xuICAgICAgY29uc3QgYmFja3VwTWFwID0gdGhpcy5yZWFkRnJvbUxTb3JDb29raWUoTENPT0tJRV9OQU1FKTtcblxuICAgICAgaWYgKHR5cGVvZiBiYWNrdXBNYXAgIT09ICd1bmRlZmluZWQnICYmIGJhY2t1cE1hcCAhPT0gbnVsbCAmJiB0eXBlb2YgYmFja3VwTWFwW3Jlc3BOb10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcImRlbCBldmVudDogXCIuY29uY2F0KHJlc3BObywgXCIgZGF0YS0+IFwiKS5jb25jYXQoYmFja3VwTWFwW3Jlc3BOb10ucSkpO1xuICAgICAgICBkZWxldGUgYmFja3VwTWFwW3Jlc3BOb107XG4gICAgICAgIHRoaXMuc2F2ZVRvTFNvckNvb2tpZShMQ09PS0lFX05BTUUsIGJhY2t1cE1hcCk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cbiAgY29uc3QgJGN0ID0ge1xuICAgIGdsb2JhbENhY2hlOiB7XG4gICAgICBnY29va2llOiBudWxsLFxuICAgICAgUkVRX046IDAsXG4gICAgICBSRVNQX046IDBcbiAgICB9LFxuICAgIExSVV9DQUNIRTogbnVsbCxcbiAgICBnbG9iYWxQcm9maWxlTWFwOiB1bmRlZmluZWQsXG4gICAgZ2xvYmFsRXZlbnRzTWFwOiB1bmRlZmluZWQsXG4gICAgYmxvY2tSZXF1ZXN0OiBmYWxzZSxcbiAgICBpc09wdEluUmVxdWVzdDogZmFsc2UsXG4gICAgYnJvYWREb21haW46IG51bGwsXG4gICAgd2ViUHVzaEVuYWJsZWQ6IG51bGwsXG4gICAgY2FtcGFpZ25EaXZNYXA6IHt9LFxuICAgIGN1cnJlbnRTZXNzaW9uSWQ6IG51bGwsXG4gICAgd2l6X2NvdW50ZXI6IDAsXG4gICAgLy8gdG8ga2VlcCB0cmFjayBvZiBudW1iZXIgb2YgdGltZXMgd2UgbG9hZCB0aGUgYm9keVxuICAgIG5vdGlmQXBpOiB7XG4gICAgICBub3RpZkVuYWJsZWRGcm9tQXBpOiBmYWxzZVxuICAgIH0sXG4gICAgLy8gaGVscGVyIHZhcmlhYmxlIHRvIGhhbmRsZSByYWNlIGNvbmRpdGlvbiBhbmQgY2hlY2sgd2hlbiBub3RpZmljYXRpb25zIHdlcmUgY2FsbGVkXG4gICAgdW5zdWJHcm91cHM6IFtdLFxuICAgIHVwZGF0ZWRDYXRlZ29yeUxvbmc6IG51bGwsXG4gICAgaW5ib3g6IG51bGwsXG4gICAgaXNQcml2YWN5QXJyUHVzaGVkOiBmYWxzZSxcbiAgICBwcml2YWN5QXJyYXk6IFtdLFxuICAgIG9mZmxpbmU6IGZhbHNlLFxuICAgIGxvY2F0aW9uOiBudWxsLFxuICAgIGRpc21pc3NTcGFtQ29udHJvbDogZmFsc2UsXG4gICAgZ2xvYmFsVW5zdWJzY3JpYmU6IHRydWUsXG4gICAgZmx1dHRlclZlcnNpb246IG51bGwsXG4gICAgdmFyaWFibGVTdG9yZToge30gLy8gZG9tYWluOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsIHVybCAtPiBnZXRIb3N0TmFtZSgpXG4gICAgLy8gZ2Nvb2tpZTogLT4gZGV2aWNlXG5cbiAgfTtcblxuICB2YXIgX2tleU9yZGVyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJrZXlPcmRlclwiKTtcblxuICB2YXIgX2RlbGV0ZUZyb21PYmplY3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRlbGV0ZUZyb21PYmplY3RcIik7XG5cbiAgY2xhc3MgTFJVQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKG1heCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZWxldGVGcm9tT2JqZWN0LCB7XG4gICAgICAgIHZhbHVlOiBfZGVsZXRlRnJvbU9iamVjdDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9rZXlPcmRlciwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICB0aGlzLm1heCA9IG1heDtcbiAgICAgIGxldCBscnVDYWNoZSA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShMUlVfQ0FDSEUpO1xuXG4gICAgICBpZiAobHJ1Q2FjaGUpIHtcbiAgICAgICAgY29uc3QgdGVtcExydUNhY2hlID0ge307XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0gPSBbXTtcbiAgICAgICAgbHJ1Q2FjaGUgPSBscnVDYWNoZS5jYWNoZTtcblxuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IGluIGxydUNhY2hlKSB7XG4gICAgICAgICAgaWYgKGxydUNhY2hlLmhhc093blByb3BlcnR5KGVudHJ5KSkge1xuICAgICAgICAgICAgdGVtcExydUNhY2hlW2xydUNhY2hlW2VudHJ5XVswXV0gPSBscnVDYWNoZVtlbnRyeV1bMV07XG5cbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0ucHVzaChscnVDYWNoZVtlbnRyeV1bMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FjaGUgPSB0ZW1wTHJ1Q2FjaGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNhY2hlID0ge307XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0gPSBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQoa2V5KSB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5jYWNoZVtrZXldO1xuXG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICB0aGlzLmNhY2hlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZWxldGVGcm9tT2JqZWN0KVtfZGVsZXRlRnJvbU9iamVjdF0oa2V5LCB0aGlzLmNhY2hlKTtcbiAgICAgICAgdGhpcy5jYWNoZVtrZXldID0gaXRlbTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdLnB1c2goa2V5KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zYXZlQ2FjaGVUb0xTKHRoaXMuY2FjaGUpO1xuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmNhY2hlW2tleV07XG5cbiAgICAgIGNvbnN0IGFsbEtleXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdO1xuXG4gICAgICBpZiAoaXRlbSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RlbGV0ZUZyb21PYmplY3QpW19kZWxldGVGcm9tT2JqZWN0XShrZXksIHRoaXMuY2FjaGUpO1xuICAgICAgfSBlbHNlIGlmIChhbGxLZXlzLmxlbmd0aCA9PT0gdGhpcy5tYXgpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGVsZXRlRnJvbU9iamVjdClbX2RlbGV0ZUZyb21PYmplY3RdKGFsbEtleXNbMF0sIHRoaXMuY2FjaGUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhY2hlW2tleV0gPSB2YWx1ZTtcblxuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl1bX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXSAtIDFdICE9PSBrZXkpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXS5wdXNoKGtleSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2F2ZUNhY2hlVG9MUyh0aGlzLmNhY2hlKTtcbiAgICB9XG5cbiAgICBzYXZlQ2FjaGVUb0xTKGNhY2hlKSB7XG4gICAgICBjb25zdCBvYmpUb0FycmF5ID0gW107XG5cbiAgICAgIGNvbnN0IGFsbEtleXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdO1xuXG4gICAgICBmb3IgKGNvbnN0IGluZGV4IGluIGFsbEtleXMpIHtcbiAgICAgICAgaWYgKGFsbEtleXMuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgICAgY29uc3QgdGVtcCA9IFtdO1xuICAgICAgICAgIHRlbXAucHVzaChhbGxLZXlzW2luZGV4XSk7XG4gICAgICAgICAgdGVtcC5wdXNoKGNhY2hlW2FsbEtleXNbaW5kZXhdXSk7XG4gICAgICAgICAgb2JqVG9BcnJheS5wdXNoKHRlbXApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoTFJVX0NBQ0hFLCB7XG4gICAgICAgIGNhY2hlOiBvYmpUb0FycmF5XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRLZXkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWxsS2V5cyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl07XG5cbiAgICAgIGZvciAoY29uc3QgaW5kZXggaW4gYWxsS2V5cykge1xuICAgICAgICBpZiAoYWxsS2V5cy5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgICBpZiAodGhpcy5jYWNoZVthbGxLZXlzW2luZGV4XV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxsS2V5c1tpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGdldFNlY29uZExhc3RLZXkoKSB7XG4gICAgICBjb25zdCBrZXlzQXJyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXTtcblxuICAgICAgaWYgKGtleXNBcnIgIT0gbnVsbCAmJiBrZXlzQXJyLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmV0dXJuIGtleXNBcnJba2V5c0Fyci5sZW5ndGggLSAyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGdldExhc3RLZXkoKSB7XG4gICAgICBjb25zdCBrZXlzTGVuZ3RoID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXS5sZW5ndGg7XG5cbiAgICAgIGlmIChrZXlzTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdW2tleXNMZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfZGVsZXRlRnJvbU9iamVjdDIgPSBmdW5jdGlvbiBfZGVsZXRlRnJvbU9iamVjdDIoa2V5LCBvYmopIHtcbiAgICBjb25zdCBhbGxLZXlzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdKSk7XG4gICAgY29uc3QgbmV3Q2FjaGUgPSB7fTtcbiAgICBsZXQgaW5kZXhUb0RlbGV0ZTtcblxuICAgIGZvciAoY29uc3QgaW5kZXggaW4gYWxsS2V5cykge1xuICAgICAgaWYgKGFsbEtleXMuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgIGlmIChhbGxLZXlzW2luZGV4XSAhPT0ga2V5KSB7XG4gICAgICAgICAgbmV3Q2FjaGVbYWxsS2V5c1tpbmRleF1dID0gb2JqW2FsbEtleXNbaW5kZXhdXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbmRleFRvRGVsZXRlID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhbGxLZXlzLnNwbGljZShpbmRleFRvRGVsZXRlLCAxKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhbGxLZXlzKSk7XG4gICAgcmV0dXJuIG5ld0NhY2hlO1xuICB9O1xuXG4gIHZhciBfbG9nZ2VyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9yZXF1ZXN0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfZGV2aWNlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkZXZpY2VcIik7XG5cbiAgdmFyIF9zZXNzaW9uID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXNzaW9uXCIpO1xuXG4gIGNsYXNzIENsZXZlclRhcEFQSSB7XG4gICAgY29uc3RydWN0b3IoX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBkZXZpY2UsXG4gICAgICAgIHNlc3Npb25cbiAgICAgIH0gPSBfcmVmO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXF1ZXN0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGV2aWNlLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2Vzc2lvbiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlcilbX2xvZ2dlcl0gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QpW19yZXF1ZXN0XSA9IHJlcXVlc3Q7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0gPSBkZXZpY2U7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24pW19zZXNzaW9uXSA9IHNlc3Npb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGdsb2JhbCBnY29va2llXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlc3Npb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3VtZSBzZW50IHRydWUgaW4gY2FzZSBvZiBhbiBPVUwgcmVxdWVzdCBmcm9tIGNsaWVudCBzaWRlLCB3aGljaCBpcyByZXR1cm5lZCBhcyBpdCBpcyBieSBzZXJ2ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzcE51bWJlciB0aGUgaW5kZXggb2YgdGhlIHJlcXVlc3QgaW4gYmFja3VwbWFuYWdlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0T3V0UmVzcG9uc2VcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuXG5cbiAgICBzKGdsb2JhbCwgc2Vzc2lvbiwgcmVzdW1lLCByZXNwTnVtYmVyLCBvcHRPdXRSZXNwb25zZSkge1xuICAgICAgbGV0IG91bFJlcSA9IGZhbHNlO1xuICAgICAgbGV0IG5ld0d1aWQgPSBmYWxzZTsgLy8gZm9yIGEgc2NlbmFyaW8gd2hlbiBPVUwgcmVxdWVzdCBpcyB0cnVlIGZyb20gY2xpZW50IHNpZGVcbiAgICAgIC8vIGJ1dCByZXN1bWUgaXMgcmV0dXJuZWQgYXMgZmFsc2UgZnJvbSBzZXJ2ZXIgZW5kXG4gICAgICAvLyB3ZSBtYWludGFuIGEgT3VsUmVxTiB2YXIgaW4gdGhlIHdpbmRvdyBvYmplY3RcbiAgICAgIC8vIGFuZCBjb21wYXJlIHdpdGggcmVzcE51bWJlciB0byBkZXRlcm1pbmUgdGhlIHJlc3BvbnNlIG9mIGFuIE9VTCByZXF1ZXN0XG5cbiAgICAgIGlmICh3aW5kb3cuaXNPVUxJblByb2dyZXNzKSB7XG4gICAgICAgIGlmIChyZXN1bWUgfHwgcmVzcE51bWJlciAhPT0gJ3VuZGVmaW5lZCcgJiYgcmVzcE51bWJlciA9PT0gd2luZG93Lm91bFJlcU4pIHtcbiAgICAgICAgICB3aW5kb3cuaXNPVUxJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgICAgb3VsUmVxID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBjYWxsIGJhY2sgZnVuY3Rpb24gdXNlZCB0byBzdG9yZSBnbG9iYWwgYW5kIHNlc3Npb24gaWRzIGZvciB0aGUgdXNlclxuXG5cbiAgICAgIGlmICh0eXBlb2YgcmVzcE51bWJlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmVzcE51bWJlciA9IDA7XG4gICAgICB9XG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUJhY2t1cChyZXNwTnVtYmVyLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlcilbX2xvZ2dlcl0pO1xuXG4gICAgICBpZiAocmVzcE51bWJlciA+ICRjdC5nbG9iYWxDYWNoZS5SRVFfTikge1xuICAgICAgICAvLyByZXF1ZXN0IGZvciBzb21lIG90aGVyIHVzZXIgc28gaWdub3JlXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1ZhbHVlVmFsaWQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UpW19kZXZpY2VdLmdjb29raWUpKSB7XG4gICAgICAgIGlmIChnbG9iYWwpIHtcbiAgICAgICAgICBuZXdHdWlkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWlzVmFsdWVWYWxpZChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0uZ2Nvb2tpZSkgfHwgcmVzdW1lIHx8IHR5cGVvZiBvcHRPdXRSZXNwb25zZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25PYmogPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24pW19zZXNzaW9uXS5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7XG4gICAgICAgIC8qICBJZiB0aGUgcmVjZWl2ZWQgc2Vzc2lvbiBpcyBsZXNzIHRoYW4gdGhlIHNlc3Npb24gaW4gdGhlIGNvb2tpZSxcbiAgICAgICAgICAgIHRoZW4gZG9uJ3QgdXBkYXRlIGd1aWQgYXMgaXQgd2lsbCBiZSByZXNwb25zZSBmb3Igb2xkIHJlcXVlc3RcbiAgICAgICAgKi9cblxuXG4gICAgICAgIGlmICh3aW5kb3cuaXNPVUxJblByb2dyZXNzIHx8IHNlc3Npb25PYmoucyAmJiBzZXNzaW9uIDwgc2Vzc2lvbk9iai5zKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIpW19sb2dnZXJdLmRlYnVnKFwiQ29va2llIHdhcyBcIi5jb25jYXQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UpW19kZXZpY2VdLmdjb29raWUsIFwiIHNldCB0byBcIikuY29uY2F0KGdsb2JhbCkpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXS5nY29va2llID0gZ2xvYmFsO1xuXG4gICAgICAgIGlmICghaXNWYWx1ZVZhbGlkKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXS5nY29va2llKSkge1xuICAgICAgICAgIC8vIGNsZWFyIHVzZUlQIG1ldGEgcHJvcFxuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLmdldEFuZENsZWFyTWV0YVByb3AoVVNFSVBfS0VZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnbG9iYWwgJiYgU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICBpZiAoJGN0LkxSVV9DQUNIRSA9PSBudWxsKSB7XG4gICAgICAgICAgICAkY3QuTFJVX0NBQ0hFID0gbmV3IExSVUNhY2hlKExSVV9DQUNIRV9TSVpFKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBrSWRGcm9tTFMgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoS0NPT0tJRV9OQU1FKTtcbiAgICAgICAgICBsZXQgZ3VpZEZyb21MUlVDYWNoZTtcblxuICAgICAgICAgIGlmIChrSWRGcm9tTFMgIT0gbnVsbCAmJiBrSWRGcm9tTFMuaWQpIHtcbiAgICAgICAgICAgIGd1aWRGcm9tTFJVQ2FjaGUgPSAkY3QuTFJVX0NBQ0hFLmNhY2hlW2tJZEZyb21MUy5pZF07XG5cbiAgICAgICAgICAgIGlmIChyZXN1bWUpIHtcbiAgICAgICAgICAgICAgaWYgKCFndWlkRnJvbUxSVUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShGSVJFX1BVU0hfVU5SRUdJU1RFUkVELCB0cnVlKTsgLy8gcmVwbGFjZSBsb2dpbiBpZGVudGl0eSBpbiBPVUwgcmVxdWVzdFxuICAgICAgICAgICAgICAgIC8vIHdpdGggdGhlIGdjb29raWUgcmV0dXJuZWQgaW4gZXhjaGFuZ2VcblxuICAgICAgICAgICAgICAgICRjdC5MUlVfQ0FDSEUuc2V0KGtJZEZyb21MUy5pZCwgZ2xvYmFsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoR0NPT0tJRV9OQU1FLCBnbG9iYWwpOyAvLyBsYXN0ayBwcm92aWRlcyB0aGUgZ3VpZFxuXG4gICAgICAgICAgY29uc3QgbGFzdEsgPSAkY3QuTFJVX0NBQ0hFLmdldFNlY29uZExhc3RLZXkoKTtcblxuICAgICAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoRklSRV9QVVNIX1VOUkVHSVNURVJFRCkgJiYgbGFzdEsgIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0R1VJRCA9ICRjdC5MUlVfQ0FDSEUuY2FjaGVbbGFzdEtdOyAvLyBmaXJlIHRoZSByZXF1ZXN0IGRpcmVjdGx5IHZpYSBmaXJlUmVxdWVzdCB0byB1bnJlZ2lzdGVyIHRoZSB0b2tlblxuICAgICAgICAgICAgLy8gdGhlbiBvdGhlciByZXF1ZXN0cyB3aXRoIHRoZSB1cGRhdGVkIGd1aWQgc2hvdWxkIGZvbGxvd1xuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QpW19yZXF1ZXN0XS51bnJlZ2lzdGVyVG9rZW5Gb3JHdWlkKGxhc3RHVUlEKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBTdG9yYWdlTWFuYWdlci5jcmVhdGVCcm9hZENvb2tpZShHQ09PS0lFX05BTUUsIGdsb2JhbCwgQ09PS0lFX0VYUElSWSwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShHQ09PS0lFX05BTUUsIGdsb2JhbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24pW19zZXNzaW9uXS5tYW5hZ2VTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgfSAvLyBzZXNzaW9uIGNvb2tpZVxuXG5cbiAgICAgIGNvbnN0IG9iaiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbilbX3Nlc3Npb25dLmdldFNlc3Npb25Db29raWVPYmplY3QoKTsgLy8gZm9yIHRoZSByYWNlLWNvbmRpdGlvbiB3aGVyZSB0d28gcmVzcG9uc2VzIGNvbWUgYmFjayB3aXRoIGRpZmZlcmVudCBzZXNzaW9uIGlkcy4gZG9uJ3Qgd3JpdGUgdGhlIG9sZGVyIHNlc3Npb24gaWQuXG5cblxuICAgICAgaWYgKHR5cGVvZiBvYmoucyA9PT0gJ3VuZGVmaW5lZCcgfHwgb2JqLnMgPD0gc2Vzc2lvbikge1xuICAgICAgICBvYmoucyA9IHNlc3Npb247XG4gICAgICAgIG9iai50ID0gZ2V0Tm93KCk7IC8vIHRpbWUgb2YgbGFzdCByZXNwb25zZSBmcm9tIHNlcnZlclxuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbilbX3Nlc3Npb25dLnNldFNlc3Npb25Db29raWVPYmplY3Qob2JqKTtcbiAgICAgIH0gLy8gc2V0IGJsb2NrUmVxdWVzdCB0byBmYWxzZSBvbmx5IGlmIHRoZSBkZXZpY2UgaGFzIGEgdmFsaWQgZ2Nvb2tpZVxuXG5cbiAgICAgIGlmIChpc1ZhbHVlVmFsaWQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UpW19kZXZpY2VdLmdjb29raWUpKSB7XG4gICAgICAgICRjdC5ibG9ja1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgIH0gLy8gb25seSBwcm9jZXNzIHRoZSBiYWNrdXAgZXZlbnRzIGFmdGVyIGFuIE9VTCByZXF1ZXN0IG9yIGEgbmV3IGd1aWQgaXMgcmVjaWV2ZWRcblxuXG4gICAgICBpZiAoKG91bFJlcSB8fCBuZXdHdWlkKSAmJiAhX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0KVtfcmVxdWVzdF0ucHJvY2Vzc2luZ0JhY2t1cCkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QpW19yZXF1ZXN0XS5wcm9jZXNzQmFja3VwRXZlbnRzKCk7XG4gICAgICB9XG5cbiAgICAgICRjdC5nbG9iYWxDYWNoZS5SRVNQX04gPSByZXNwTnVtYmVyO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIF9sb2dnZXIkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIGNsYXNzIERldmljZU1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGxvZ2dlclxuICAgICAgfSA9IF9yZWY7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQxLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZ2Nvb2tpZSA9IHZvaWQgMDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDEpW19sb2dnZXIkMV0gPSBsb2dnZXI7XG4gICAgICB0aGlzLmdjb29raWUgPSB0aGlzLmdldEd1aWQoKTtcbiAgICB9XG5cbiAgICBnZXRHdWlkKCkge1xuICAgICAgbGV0IGd1aWQgPSBudWxsO1xuXG4gICAgICBpZiAoaXNWYWx1ZVZhbGlkKHRoaXMuZ2Nvb2tpZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2Nvb2tpZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gU3RvcmFnZU1hbmFnZXIucmVhZChHQ09PS0lFX05BTUUpO1xuXG4gICAgICAgIGlmIChpc1ZhbHVlVmFsaWQodmFsdWUpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGd1aWQgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDEpW19sb2dnZXIkMV0uZGVidWcoJ0Nhbm5vdCBwYXJzZSBHY29va2llIGZyb20gbG9jYWxzdG9yYWdlIC0gbXVzdCBiZSBlbmNvZGVkICcgKyB2YWx1ZSk7IC8vIGFzc3VtbWluZyBndWlkcyBhcmUgb2Ygc2l6ZSAzMi4gc3VwcG9ydGluZyBib3RoIGZvcm1hdHMuXG4gICAgICAgICAgICAvLyBndWlkIGNhbiBoYXZlIGVuY29kZWRVUklDb21wb25lbnQgb3IgYmUgd2l0aG91dCBpdC5cbiAgICAgICAgICAgIC8vIDEuNTZlNDA3OGVkMTU3NDk5MjhjMDQyNDc5ZWMyYjRkNDcgLSBicmVha3Mgb24gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoKSlcbiAgICAgICAgICAgIC8vIDIuJTIyNTZlNDA3OGVkMTU3NDk5MjhjMDQyNDc5ZWMyYjRkNDclMjJcblxuXG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzMikge1xuICAgICAgICAgICAgICBndWlkID0gdmFsdWU7XG4gICAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoR0NPT0tJRV9OQU1FLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQxKVtfbG9nZ2VyJDFdLmVycm9yKCdJbGxlZ2FsIGd1aWQgJyArIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIFBlcnNpc3QgdG8gY29va2llIHN0b3JhZ2UgaWYgbm90IHByZXNlbnQgdGhlcmUuXG5cblxuICAgICAgICAgIGlmIChpc1ZhbHVlVmFsaWQoZ3VpZCkpIHtcbiAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLmNyZWF0ZUJyb2FkQ29va2llKEdDT09LSUVfTkFNRSwgZ3VpZCwgQ09PS0lFX0VYUElSWSwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1ZhbHVlVmFsaWQoZ3VpZCkpIHtcbiAgICAgICAgZ3VpZCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRDb29raWUoR0NPT0tJRV9OQU1FKTtcblxuICAgICAgICBpZiAoaXNWYWx1ZVZhbGlkKGd1aWQpICYmIChndWlkLmluZGV4T2YoJyUnKSA9PT0gMCB8fCBndWlkLmluZGV4T2YoJ1xcJycpID09PSAwIHx8IGd1aWQuaW5kZXhPZignXCInKSA9PT0gMCkpIHtcbiAgICAgICAgICBndWlkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1ZhbHVlVmFsaWQoZ3VpZCkpIHtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgZ3VpZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGd1aWQ7XG4gICAgfVxuXG4gIH1cblxuICBjb25zdCBEQVRBX05PVF9TRU5UX1RFWFQgPSAnVGhpcyBwcm9wZXJ0eSBoYXMgYmVlbiBpZ25vcmVkLic7XG4gIGNvbnN0IENMRVZFUlRBUF9FUlJPUl9QUkVGSVggPSAnQ2xldmVyVGFwIGVycm9yOic7IC8vIEZvcm1lcmx5IHd6cmtfZXJyb3JfdHh0XG5cbiAgY29uc3QgRU1CRURfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBJbmNvcnJlY3QgZW1iZWQgc2NyaXB0LlwiKTtcbiAgY29uc3QgRVZFTlRfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBFdmVudCBzdHJ1Y3R1cmUgbm90IHZhbGlkLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIGNvbnN0IEdFTkRFUl9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIEdlbmRlciB2YWx1ZSBzaG91bGQgYmUgZWl0aGVyIE0gb3IgRi4gXCIpLmNvbmNhdChEQVRBX05PVF9TRU5UX1RFWFQpO1xuICBjb25zdCBFTVBMT1lFRF9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIEVtcGxveWVkIHZhbHVlIHNob3VsZCBiZSBlaXRoZXIgWSBvciBOLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIGNvbnN0IE1BUlJJRURfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBNYXJyaWVkIHZhbHVlIHNob3VsZCBiZSBlaXRoZXIgWSBvciBOLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIGNvbnN0IEVEVUNBVElPTl9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIEVkdWNhdGlvbiB2YWx1ZSBzaG91bGQgYmUgZWl0aGVyIFNjaG9vbCwgQ29sbGVnZSBvciBHcmFkdWF0ZS4gXCIpLmNvbmNhdChEQVRBX05PVF9TRU5UX1RFWFQpO1xuICBjb25zdCBBR0VfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBBZ2UgdmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIGNvbnN0IERPQl9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIERPQiB2YWx1ZSBzaG91bGQgYmUgYSBEYXRlIE9iamVjdFwiKTtcbiAgY29uc3QgRU5VTV9GT1JNQVRfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBzZXRFbnVtKHZhbHVlKS4gdmFsdWUgc2hvdWxkIGJlIGEgc3RyaW5nIG9yIGEgbnVtYmVyXCIpO1xuICBjb25zdCBQSE9ORV9GT1JNQVRfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBQaG9uZSBudW1iZXIgc2hvdWxkIGJlIGZvcm1hdHRlZCBhcyArW2NvdW50cnkgY29kZV1bbnVtYmVyXVwiKTtcblxuICBsZXQgX2dsb2JhbENoYXJnZWRJZDtcblxuICBjb25zdCBpc0V2ZW50U3RydWN0dXJlRmxhdCA9IGV2ZW50T2JqID0+IHtcbiAgICAvLyBFdmVudHMgY2Fubm90IGhhdmUgbmVzdGVkIHN0cnVjdHVyZSBvciBBcnJheXNcbiAgICBpZiAoaXNPYmplY3QoZXZlbnRPYmopKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gZXZlbnRPYmopIHtcbiAgICAgICAgaWYgKGV2ZW50T2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBpZiAoaXNPYmplY3QoZXZlbnRPYmpba2V5XSkgfHwgQXJyYXkuaXNBcnJheShldmVudE9ialtrZXldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlT2JqZWN0KGV2ZW50T2JqW2tleV0pKSB7XG4gICAgICAgICAgICBldmVudE9ialtrZXldID0gY29udmVydFRvV1pSS0RhdGUoZXZlbnRPYmpba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgY29uc3QgaXNDaGFyZ2VkRXZlbnRTdHJ1Y3R1cmVWYWxpZCA9IChjaGFyZ2VkT2JqLCBsb2dnZXIpID0+IHtcbiAgICBpZiAoaXNPYmplY3QoY2hhcmdlZE9iaikpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBjaGFyZ2VkT2JqKSB7XG4gICAgICAgIGlmIChjaGFyZ2VkT2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBpZiAoa2V5ID09PSAnSXRlbXMnKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2hhcmdlZE9ialtrZXldKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGFyZ2VkT2JqW2tleV0ubGVuZ3RoID4gNTApIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLnJlcG9ydEVycm9yKDUyMiwgJ0NoYXJnZWQgSXRlbXMgZXhjZWVkIDUwIGxpbWl0LiBBY3R1YWwgY291bnQ6ICcgKyBjaGFyZ2VkT2JqW2tleV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBjaGFyZ2VkT2JqW2tleV0pIHtcbiAgICAgICAgICAgICAgaWYgKGNoYXJnZWRPYmpba2V5XS5oYXNPd25Qcm9wZXJ0eShpdGVtS2V5KSkge1xuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGRlZmF1bHQgYXJyYXkgaW1wbGVtZW50YXRpb24gY291bGQgYmUgb3ZlcnJpZGRlbiAtIGUuZy4gVGVhYm94IHNpdGVcbiAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KGNoYXJnZWRPYmpba2V5XVtpdGVtS2V5XSkgfHwgIWlzRXZlbnRTdHJ1Y3R1cmVGbGF0KGNoYXJnZWRPYmpba2V5XVtpdGVtS2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGNoYXJnZWRPYmpba2V5XSkgfHwgQXJyYXkuaXNBcnJheShjaGFyZ2VkT2JqW2tleV0pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlT2JqZWN0KGNoYXJnZWRPYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgY2hhcmdlZE9ialtrZXldID0gY29udmVydFRvV1pSS0RhdGUoY2hhcmdlZE9ialtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3RyaW5nKGNoYXJnZWRPYmpbQ0hBUkdFRF9JRF0pIHx8IGlzTnVtYmVyKGNoYXJnZWRPYmpbQ0hBUkdFRF9JRF0pKSB7XG4gICAgICAgIC8vIHNhdmUgY2hhcmdlZCBJZFxuICAgICAgICBjb25zdCBjaGFyZ2VkSWQgPSBjaGFyZ2VkT2JqW0NIQVJHRURfSURdICsgJyc7IC8vIGNhc3RpbmcgY2hhcmdlZElkIHRvIHN0cmluZ1xuXG4gICAgICAgIGlmICh0eXBlb2YgX2dsb2JhbENoYXJnZWRJZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBfZ2xvYmFsQ2hhcmdlZElkID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKENIQVJHRURJRF9DT09LSUVfTkFNRSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIF9nbG9iYWxDaGFyZ2VkSWQgIT09ICd1bmRlZmluZWQnICYmIF9nbG9iYWxDaGFyZ2VkSWQudHJpbSgpID09PSBjaGFyZ2VkSWQudHJpbSgpKSB7XG4gICAgICAgICAgLy8gZHJvcCBldmVudC0gZHVwbGljYXRlIGNoYXJnZWQgaWRcbiAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0R1cGxpY2F0ZSBjaGFyZ2VkIElkIC0gRHJvcHBlZCcgKyBjaGFyZ2VkT2JqKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBfZ2xvYmFsQ2hhcmdlZElkID0gY2hhcmdlZElkO1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKENIQVJHRURJRF9DT09LSUVfTkFNRSwgY2hhcmdlZElkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBpZiBvYmplY3QgKGNoYXJnZWRPYmplY3QpXG5cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB2YXIgX2xvZ2dlciQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9vbGRWYWx1ZXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9sZFZhbHVlc1wiKTtcblxuICB2YXIgX3JlcXVlc3QkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVwiKTtcblxuICB2YXIgX3Byb2Nlc3NFdmVudEFycmF5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzRXZlbnRBcnJheVwiKTtcblxuICBjbGFzcyBFdmVudEhhbmRsZXIgZXh0ZW5kcyBBcnJheSB7XG4gICAgY29uc3RydWN0b3IoX3JlZiwgdmFsdWVzKSB7XG4gICAgICBsZXQge1xuICAgICAgICBsb2dnZXIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIHN1cGVyKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Byb2Nlc3NFdmVudEFycmF5LCB7XG4gICAgICAgIHZhbHVlOiBfcHJvY2Vzc0V2ZW50QXJyYXkyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vbGRWYWx1ZXMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXF1ZXN0JDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMpW19vbGRWYWx1ZXNdID0gdmFsdWVzO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDEpW19yZXF1ZXN0JDFdID0gcmVxdWVzdDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZV0gPSBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTtcbiAgICB9XG5cbiAgICBwdXNoKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGV2ZW50c0FyciA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgZXZlbnRzQXJyW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NFdmVudEFycmF5KVtfcHJvY2Vzc0V2ZW50QXJyYXldKGV2ZW50c0Fycik7XG5cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIF9wcm9jZXNzT2xkVmFsdWVzKCkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzKVtfb2xkVmFsdWVzXSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NFdmVudEFycmF5KVtfcHJvY2Vzc0V2ZW50QXJyYXldKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzKVtfb2xkVmFsdWVzXSk7XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzKVtfb2xkVmFsdWVzXSA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0RGV0YWlscyhldnROYW1lKSB7XG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZV0oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgJGN0Lmdsb2JhbEV2ZW50c01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShFVl9DT09LSUUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mICRjdC5nbG9iYWxFdmVudHNNYXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXZ0T2JqID0gJGN0Lmdsb2JhbEV2ZW50c01hcFtldnROYW1lXTtcbiAgICAgIGNvbnN0IHJlc3BPYmogPSB7fTtcblxuICAgICAgaWYgKHR5cGVvZiBldnRPYmogIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJlc3BPYmouZmlyc3RUaW1lID0gbmV3IERhdGUoZXZ0T2JqWzFdICogMTAwMCk7XG4gICAgICAgIHJlc3BPYmoubGFzdFRpbWUgPSBuZXcgRGF0ZShldnRPYmpbMl0gKiAxMDAwKTtcbiAgICAgICAgcmVzcE9iai5jb3VudCA9IGV2dE9ialswXTtcbiAgICAgICAgcmV0dXJuIHJlc3BPYmo7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX3Byb2Nlc3NFdmVudEFycmF5MiA9IGZ1bmN0aW9uIF9wcm9jZXNzRXZlbnRBcnJheTIoZXZlbnRzQXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnRzQXJyKSkge1xuICAgICAgd2hpbGUgKGV2ZW50c0Fyci5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBldmVudE5hbWUgPSBldmVudHNBcnIuc2hpZnQoKTtcblxuICAgICAgICBpZiAoIWlzU3RyaW5nKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdLmVycm9yKEVWRU5UX0VSUk9SKTtcblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50TmFtZS5sZW5ndGggPiAxMDI0KSB7XG4gICAgICAgICAgZXZlbnROYW1lID0gZXZlbnROYW1lLnN1YnN0cmluZygwLCAxMDI0KTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0ucmVwb3J0RXJyb3IoNTEwLCBldmVudE5hbWUgKyAnLi4uIGxlbmd0aCBleGNlZWRlZCAxMDI0IGNoYXJzLiBUcmltbWVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFNZU1RFTV9FVkVOVFMuaW5jbHVkZXMoZXZlbnROYW1lKSkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0ucmVwb3J0RXJyb3IoNTEzLCBldmVudE5hbWUgKyAnIGlzIGEgcmVzdHJpY3RlZCBzeXN0ZW0gZXZlbnQuIEl0IGNhbm5vdCBiZSB1c2VkIGFzIGFuIGV2ZW50IG5hbWUuJyk7XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YS50eXBlID0gJ2V2ZW50JztcbiAgICAgICAgZGF0YS5ldnROYW1lID0gc2FuaXRpemUoZXZlbnROYW1lLCB1bnN1cHBvcnRlZEtleUNoYXJSZWdleCk7XG5cbiAgICAgICAgaWYgKGV2ZW50c0Fyci5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICBjb25zdCBldmVudE9iaiA9IGV2ZW50c0Fyci5zaGlmdCgpO1xuXG4gICAgICAgICAgaWYgKCFpc09iamVjdChldmVudE9iaikpIHtcbiAgICAgICAgICAgIC8vIHB1dCBpdCBiYWNrIGlmIGl0IGlzIG5vdCBhbiBvYmplY3RcbiAgICAgICAgICAgIGV2ZW50c0Fyci51bnNoaWZ0KGV2ZW50T2JqKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY2hlY2sgQ2hhcmdlZCBFdmVudCB2cy4gb3RoZXIgZXZlbnRzLlxuICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gJ0NoYXJnZWQnKSB7XG4gICAgICAgICAgICAgIGlmICghaXNDaGFyZ2VkRXZlbnRTdHJ1Y3R1cmVWYWxpZChldmVudE9iaiwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMilbX2xvZ2dlciQyXSkpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdLnJlcG9ydEVycm9yKDUxMSwgJ0NoYXJnZWQgZXZlbnQgc3RydWN0dXJlIGludmFsaWQuIE5vdCBzZW50LicpO1xuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghaXNFdmVudFN0cnVjdHVyZUZsYXQoZXZlbnRPYmopKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMilbX2xvZ2dlciQyXS5yZXBvcnRFcnJvcig1MTIsIGV2ZW50TmFtZSArICcgZXZlbnQgc3RydWN0dXJlIGludmFsaWQuIE5vdCBzZW50LicpO1xuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5ldnREYXRhID0gZXZlbnRPYmo7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDEpW19yZXF1ZXN0JDFdLnByb2Nlc3NFdmVudChkYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0VVJMUGFyYW1zID0gdXJsID0+IHtcbiAgICBjb25zdCB1cmxQYXJhbXMgPSB7fTtcbiAgICBjb25zdCBpZHggPSB1cmwuaW5kZXhPZignPycpO1xuXG4gICAgaWYgKGlkeCA+IDEpIHtcbiAgICAgIGNvbnN0IHVyaSA9IHVybC5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gICAgICBsZXQgbWF0Y2g7XG4gICAgICBjb25zdCBwbCA9IC9cXCsvZzsgLy8gUmVnZXggZm9yIHJlcGxhY2luZyBhZGRpdGlvbiBzeW1ib2wgd2l0aCBhIHNwYWNlXG5cbiAgICAgIGNvbnN0IHNlYXJjaCA9IC8oW14mPV0rKT0/KFteJl0qKS9nO1xuXG4gICAgICBjb25zdCBkZWNvZGUgPSBmdW5jdGlvbiAocykge1xuICAgICAgICBsZXQgcmVwbGFjZW1lbnQgPSBzLnJlcGxhY2UocGwsICcgJyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXBsYWNlbWVudCA9IGRlY29kZVVSSUNvbXBvbmVudChyZXBsYWNlbWVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBlYXRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXBsYWNlbWVudDtcbiAgICAgIH07XG5cbiAgICAgIG1hdGNoID0gc2VhcmNoLmV4ZWModXJpKTtcblxuICAgICAgd2hpbGUgKG1hdGNoKSB7XG4gICAgICAgIHVybFBhcmFtc1tkZWNvZGUobWF0Y2hbMV0pXSA9IGRlY29kZShtYXRjaFsyXSk7XG4gICAgICAgIG1hdGNoID0gc2VhcmNoLmV4ZWModXJpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdXJsUGFyYW1zO1xuICB9O1xuICBjb25zdCBnZXREb21haW4gPSB1cmwgPT4ge1xuICAgIGlmICh1cmwgPT09ICcnKSByZXR1cm4gJyc7XG4gICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYS5ocmVmID0gdXJsO1xuICAgIHJldHVybiBhLmhvc3RuYW1lO1xuICB9O1xuICBjb25zdCBhZGRUb1VSTCA9ICh1cmwsIGssIHYpID0+IHtcbiAgICByZXR1cm4gdXJsICsgJyYnICsgayArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2KTtcbiAgfTtcbiAgY29uc3QgZ2V0SG9zdE5hbWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgfTtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICBjb25zdCB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkgPSBiYXNlNjRTdHJpbmcgPT4ge1xuICAgIGxldCBwYWRkaW5nID0gJz0nLnJlcGVhdCgoNCAtIGJhc2U2NFN0cmluZy5sZW5ndGggJSA0KSAlIDQpO1xuICAgIGxldCBiYXNlNjQgPSAoYmFzZTY0U3RyaW5nICsgcGFkZGluZykucmVwbGFjZSgvXFwtL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgIGxldCByYXdEYXRhID0gd2luZG93LmF0b2IoYmFzZTY0KTtcbiAgICBsZXQgcHJvY2Vzc2VkRGF0YSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXdEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwcm9jZXNzZWREYXRhLnB1c2gocmF3RGF0YS5jaGFyQ29kZUF0KGkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkocHJvY2Vzc2VkRGF0YSk7XG4gIH07XG4gIGNvbnN0IGNvbXByZXNzRGF0YSA9IChkYXRhT2JqZWN0LCBsb2dnZXIpID0+IHtcbiAgICBsb2dnZXIgJiYgdHlwZW9mIGxvZ2dlci5kZWJ1ZyA9PT0gJ2Z1bmN0aW9uJyAmJiBsb2dnZXIuZGVidWcoJ2RvYmo6JyArIGRhdGFPYmplY3QpO1xuICAgIHJldHVybiBjb21wcmVzc1RvQmFzZTY0KGRhdGFPYmplY3QpO1xuICB9O1xuICBjb25zdCBjb21wcmVzcyA9IHVuY29tcHJlc3NlZCA9PiB7XG4gICAgaWYgKHVuY29tcHJlc3NlZCA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgbGV0IGksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjb250ZXh0X2RpY3Rpb25hcnkgPSB7fSxcbiAgICAgICAgY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGUgPSB7fSxcbiAgICAgICAgY29udGV4dF9jID0gJycsXG4gICAgICAgIGNvbnRleHRfd2MgPSAnJyxcbiAgICAgICAgY29udGV4dF93ID0gJycsXG4gICAgICAgIGNvbnRleHRfZW5sYXJnZUluID0gMixcbiAgICAgICAgLy8gQ29tcGVuc2F0ZSBmb3IgdGhlIGZpcnN0IGVudHJ5IHdoaWNoIHNob3VsZCBub3QgY291bnRcbiAgICBjb250ZXh0X2RpY3RTaXplID0gMyxcbiAgICAgICAgY29udGV4dF9udW1CaXRzID0gMixcbiAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyA9ICcnLFxuICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMCxcbiAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMCxcbiAgICAgICAgaWksXG4gICAgICAgIGYgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXG4gICAgZm9yIChpaSA9IDA7IGlpIDwgdW5jb21wcmVzc2VkLmxlbmd0aDsgaWkgKz0gMSkge1xuICAgICAgY29udGV4dF9jID0gdW5jb21wcmVzc2VkLmNoYXJBdChpaSk7XG5cbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbnRleHRfZGljdGlvbmFyeSwgY29udGV4dF9jKSkge1xuICAgICAgICBjb250ZXh0X2RpY3Rpb25hcnlbY29udGV4dF9jXSA9IGNvbnRleHRfZGljdFNpemUrKztcbiAgICAgICAgY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGVbY29udGV4dF9jXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHRfd2MgPSBjb250ZXh0X3cgKyBjb250ZXh0X2M7XG5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dF9kaWN0aW9uYXJ5LCBjb250ZXh0X3djKSkge1xuICAgICAgICBjb250ZXh0X3cgPSBjb250ZXh0X3djO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZSwgY29udGV4dF93KSkge1xuICAgICAgICAgIGlmIChjb250ZXh0X3cuY2hhckNvZGVBdCgwKSA8IDI1Nikge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDE7XG5cbiAgICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gY29udGV4dF93LmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gMTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZTtcblxuICAgICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gY29udGV4dF93LmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZSAmIDE7XG5cbiAgICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG5cbiAgICAgICAgICBpZiAoY29udGV4dF9lbmxhcmdlSW4gPT0gMCkge1xuICAgICAgICAgICAgY29udGV4dF9lbmxhcmdlSW4gPSBNYXRoLnBvdygyLCBjb250ZXh0X251bUJpdHMpO1xuICAgICAgICAgICAgY29udGV4dF9udW1CaXRzKys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVsZXRlIGNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlW2NvbnRleHRfd107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBjb250ZXh0X2RpY3Rpb25hcnlbY29udGV4dF93XTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb250ZXh0X251bUJpdHM7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0X2VubGFyZ2VJbi0tO1xuXG4gICAgICAgIGlmIChjb250ZXh0X2VubGFyZ2VJbiA9PSAwKSB7XG4gICAgICAgICAgY29udGV4dF9lbmxhcmdlSW4gPSBNYXRoLnBvdygyLCBjb250ZXh0X251bUJpdHMpO1xuICAgICAgICAgIGNvbnRleHRfbnVtQml0cysrO1xuICAgICAgICB9IC8vIEFkZCB3YyB0byB0aGUgZGljdGlvbmFyeS5cblxuXG4gICAgICAgIGNvbnRleHRfZGljdGlvbmFyeVtjb250ZXh0X3djXSA9IGNvbnRleHRfZGljdFNpemUrKztcbiAgICAgICAgY29udGV4dF93ID0gU3RyaW5nKGNvbnRleHRfYyk7XG4gICAgICB9XG4gICAgfSAvLyBPdXRwdXQgdGhlIGNvZGUgZm9yIHcuXG5cblxuICAgIGlmIChjb250ZXh0X3cgIT09ICcnKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlLCBjb250ZXh0X3cpKSB7XG4gICAgICAgIGlmIChjb250ZXh0X3cuY2hhckNvZGVBdCgwKSA8IDI1Nikge1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb250ZXh0X251bUJpdHM7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMTtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZSAmIDE7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gMTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb250ZXh0X251bUJpdHM7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhbHVlID0gY29udGV4dF93LmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0X2VubGFyZ2VJbi0tO1xuXG4gICAgICAgIGlmIChjb250ZXh0X2VubGFyZ2VJbiA9PSAwKSB7XG4gICAgICAgICAgY29udGV4dF9lbmxhcmdlSW4gPSBNYXRoLnBvdygyLCBjb250ZXh0X251bUJpdHMpO1xuICAgICAgICAgIGNvbnRleHRfbnVtQml0cysrO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlW2NvbnRleHRfd107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGNvbnRleHRfZGljdGlvbmFyeVtjb250ZXh0X3ddO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb250ZXh0X251bUJpdHM7IGkrKykge1xuICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZSAmIDE7XG5cbiAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb250ZXh0X2VubGFyZ2VJbi0tO1xuXG4gICAgICBpZiAoY29udGV4dF9lbmxhcmdlSW4gPT0gMCkge1xuICAgICAgICBjb250ZXh0X2VubGFyZ2VJbiA9IE1hdGgucG93KDIsIGNvbnRleHRfbnVtQml0cyk7XG4gICAgICAgIGNvbnRleHRfbnVtQml0cysrO1xuICAgICAgfVxuICAgIH0gLy8gTWFyayB0aGUgZW5kIG9mIHRoZSBzdHJlYW1cblxuXG4gICAgdmFsdWUgPSAyO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgIH0gLy8gRmx1c2ggdGhlIGxhc3QgY2hhclxuXG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMTtcblxuICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0X2RhdGFfc3RyaW5nO1xuICB9O1xuICBjb25zdCBnZXRLZXlTdHIgPSAoKSA9PiB7XG4gICAgbGV0IGtleSA9ICcnO1xuICAgIGxldCBpID0gMDtcblxuICAgIGZvciAoaSA9IDA7IGkgPD0gMjU7IGkrKykge1xuICAgICAga2V5ID0ga2V5ICsgU3RyaW5nLmZyb21DaGFyQ29kZShpICsgNjUpO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPD0gMjU7IGkrKykge1xuICAgICAga2V5ID0ga2V5ICsgU3RyaW5nLmZyb21DaGFyQ29kZShpICsgOTcpO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXkgKyBpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXkgKyAnKy89JztcbiAgfTtcblxuICBjb25zdCBfa2V5U3RyID0gZ2V0S2V5U3RyKCk7XG4gIGNvbnN0IGNvbXByZXNzVG9CYXNlNjQgPSBpbnB1dCA9PiB7XG4gICAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiAnJztcbiAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgdmFyIGNocjEsIGNocjIsIGNocjMsIGVuYzEsIGVuYzIsIGVuYzMsIGVuYzQ7XG4gICAgdmFyIGkgPSAwO1xuICAgIGlucHV0ID0gY29tcHJlc3MoaW5wdXQpO1xuXG4gICAgd2hpbGUgKGkgPCBpbnB1dC5sZW5ndGggKiAyKSB7XG4gICAgICBpZiAoaSAlIDIgPT0gMCkge1xuICAgICAgICBjaHIxID0gaW5wdXQuY2hhckNvZGVBdChpIC8gMikgPj4gODtcbiAgICAgICAgY2hyMiA9IGlucHV0LmNoYXJDb2RlQXQoaSAvIDIpICYgMjU1O1xuICAgICAgICBpZiAoaSAvIDIgKyAxIDwgaW5wdXQubGVuZ3RoKSBjaHIzID0gaW5wdXQuY2hhckNvZGVBdChpIC8gMiArIDEpID4+IDg7ZWxzZSBjaHIzID0gTmFOO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hyMSA9IGlucHV0LmNoYXJDb2RlQXQoKGkgLSAxKSAvIDIpICYgMjU1O1xuXG4gICAgICAgIGlmICgoaSArIDEpIC8gMiA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgIGNocjIgPSBpbnB1dC5jaGFyQ29kZUF0KChpICsgMSkgLyAyKSA+PiA4O1xuICAgICAgICAgIGNocjMgPSBpbnB1dC5jaGFyQ29kZUF0KChpICsgMSkgLyAyKSAmIDI1NTtcbiAgICAgICAgfSBlbHNlIGNocjIgPSBjaHIzID0gTmFOO1xuICAgICAgfVxuXG4gICAgICBpICs9IDM7XG4gICAgICBlbmMxID0gY2hyMSA+PiAyO1xuICAgICAgZW5jMiA9IChjaHIxICYgMykgPDwgNCB8IGNocjIgPj4gNDtcbiAgICAgIGVuYzMgPSAoY2hyMiAmIDE1KSA8PCAyIHwgY2hyMyA+PiA2O1xuICAgICAgZW5jNCA9IGNocjMgJiA2MztcblxuICAgICAgaWYgKGlzTmFOKGNocjIpKSB7XG4gICAgICAgIGVuYzMgPSBlbmM0ID0gNjQ7XG4gICAgICB9IGVsc2UgaWYgKGlzTmFOKGNocjMpKSB7XG4gICAgICAgIGVuYzQgPSA2NDtcbiAgICAgIH1cblxuICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgX2tleVN0ci5jaGFyQXQoZW5jMSkgKyBfa2V5U3RyLmNoYXJBdChlbmMyKSArIF9rZXlTdHIuY2hhckF0KGVuYzMpICsgX2tleVN0ci5jaGFyQXQoZW5jNCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcblxuICB2YXIgX2ZpcmVSZXF1ZXN0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJmaXJlUmVxdWVzdFwiKTtcblxuICB2YXIgX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRyb3BSZXF1ZXN0RHVlVG9PcHRPdXRcIik7XG5cbiAgdmFyIF9hZGRVc2VJUFRvUmVxdWVzdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWRkVXNlSVBUb1JlcXVlc3RcIik7XG5cbiAgdmFyIF9hZGRBUlBUb1JlcXVlc3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFkZEFSUFRvUmVxdWVzdFwiKTtcblxuICBjbGFzcyBSZXF1ZXN0RGlzcGF0Y2hlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLm5ldHdvcmtSZXRyeUNvdW50ID0gMDtcbiAgICAgIHRoaXMubWluRGVsYXlGcmVxdWVuY3kgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgICAqIEBwYXJhbSB7Kn0gc2tpcEFSUFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2VuZE9VTEZsYWdcbiAgICAgKi9cbiAgICBzdGF0aWMgZmlyZVJlcXVlc3QodXJsLCBza2lwQVJQLCBzZW5kT1VMRmxhZywgZXZ0TmFtZSkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9maXJlUmVxdWVzdClbX2ZpcmVSZXF1ZXN0XSh1cmwsIDEsIHNraXBBUlAsIHNlbmRPVUxGbGFnLCBldnROYW1lKTtcbiAgICB9XG5cbiAgICBnZXREZWxheUZyZXF1ZW5jeSgpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdOZXR3b3JrIHJldHJ5ICMnICsgdGhpcy5uZXR3b3JrUmV0cnlDb3VudCk7IC8vIFJldHJ5IHdpdGggZGVsYXkgYXMgMXMgZm9yIGZpcnN0IDEwIHJldHJpZXNcblxuICAgICAgaWYgKHRoaXMubmV0d29ya1JldHJ5Q291bnQgPCAxMCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmFjY291bnQuaWQsICdGYWlsdXJlIGNvdW50IGlzICcgKyB0aGlzLm5ldHdvcmtSZXRyeUNvdW50ICsgJy4gU2V0dGluZyBkZWxheSBmcmVxdWVuY3kgdG8gMXMnKTtcbiAgICAgICAgdGhpcy5taW5EZWxheUZyZXF1ZW5jeSA9IFBVU0hfREVMQVlfTVM7IC8vIFJlc2V0IG1pbmltdW0gZGVsYXkgdG8gMXNcblxuICAgICAgICByZXR1cm4gdGhpcy5taW5EZWxheUZyZXF1ZW5jeTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYWNjb3VudC5yZWdpb24gPT0gbnVsbCkge1xuICAgICAgICAvLyBSZXRyeSB3aXRoIGRlbGF5IGFzIDFzIGlmIHJlZ2lvbiBpcyBudWxsIGluIGNhc2Ugb2YgZXUxXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMuYWNjb3VudC5pZCwgJ1NldHRpbmcgZGVsYXkgZnJlcXVlbmN5IHRvIDFzJyk7XG4gICAgICAgIHJldHVybiBQVVNIX0RFTEFZX01TO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0cnkgd2l0aCBkZWxheSBhcyBtaW5pbXVtIGRlbGF5IGZyZXF1ZW5jeSBhbmQgYWRkIHJhbmRvbSBudW1iZXIgb2Ygc2Vjb25kcyB0byBzY2F0dGVyIHRyYWZmaWNcbiAgICAgICAgY29uc3QgcmFuZG9tRGVsYXkgPSAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApICsgMSkgKiAxMDAwO1xuICAgICAgICB0aGlzLm1pbkRlbGF5RnJlcXVlbmN5ICs9IHJhbmRvbURlbGF5O1xuXG4gICAgICAgIGlmICh0aGlzLm1pbkRlbGF5RnJlcXVlbmN5IDwgTUFYX0RFTEFZX0ZSRVFVRU5DWSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMuYWNjb3VudC5pZCwgJ1NldHRpbmcgZGVsYXkgZnJlcXVlbmN5IHRvICcgKyB0aGlzLm1pbkRlbGF5RnJlcXVlbmN5KTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5taW5EZWxheUZyZXF1ZW5jeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm1pbkRlbGF5RnJlcXVlbmN5ID0gUFVTSF9ERUxBWV9NUztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMuYWNjb3VudC5pZCwgJ1NldHRpbmcgZGVsYXkgZnJlcXVlbmN5IHRvICcgKyB0aGlzLm1pbkRlbGF5RnJlcXVlbmN5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluRGVsYXlGcmVxdWVuY3k7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX2FkZEFSUFRvUmVxdWVzdDIgPSBmdW5jdGlvbiBfYWRkQVJQVG9SZXF1ZXN0Mih1cmwsIHNraXBSZXNBUlApIHtcbiAgICBpZiAoc2tpcFJlc0FSUCA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgX2FycCA9IHt9O1xuICAgICAgX2FycC5za2lwUmVzQVJQID0gdHJ1ZTtcbiAgICAgIHJldHVybiBhZGRUb1VSTCh1cmwsICdhcnAnLCBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoX2FycCksIHRoaXMubG9nZ2VyKSk7XG4gICAgfVxuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpICYmIHR5cGVvZiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShBUlBfQ09PS0lFKSAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oQVJQX0NPT0tJRSkgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBhZGRUb1VSTCh1cmwsICdhcnAnLCBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEFSUF9DT09LSUUpKSwgdGhpcy5sb2dnZXIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsO1xuICB9O1xuXG4gIHZhciBfYWRkVXNlSVBUb1JlcXVlc3QyID0gZnVuY3Rpb24gX2FkZFVzZUlQVG9SZXF1ZXN0MihwYWdlTG9hZFVybCkge1xuICAgIHZhciB1c2VJUCA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKFVTRUlQX0tFWSk7XG5cbiAgICBpZiAodHlwZW9mIHVzZUlQICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHVzZUlQID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCBVU0VJUF9LRVksIHVzZUlQID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gIH07XG5cbiAgdmFyIF9kcm9wUmVxdWVzdER1ZVRvT3B0T3V0MiA9IGZ1bmN0aW9uIF9kcm9wUmVxdWVzdER1ZVRvT3B0T3V0MigpIHtcbiAgICBpZiAoJGN0LmlzT3B0SW5SZXF1ZXN0IHx8ICFpc1ZhbHVlVmFsaWQodGhpcy5kZXZpY2UuZ2Nvb2tpZSkgfHwgIWlzU3RyaW5nKHRoaXMuZGV2aWNlLmdjb29raWUpKSB7XG4gICAgICAkY3QuaXNPcHRJblJlcXVlc3QgPSBmYWxzZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5kZXZpY2UuZ2Nvb2tpZS5zbGljZSgtMykgPT09IE9QVE9VVF9DT09LSUVfRU5EU1dJVEg7XG4gIH07XG5cbiAgdmFyIF9maXJlUmVxdWVzdDIgPSBmdW5jdGlvbiBfZmlyZVJlcXVlc3QyKHVybCwgdHJpZXMsIHNraXBBUlAsIHNlbmRPVUxGbGFnLCBldnROYW1lKSB7XG4gICAgdmFyIF93aW5kb3ckY2xldmVydGFwLCBfd2luZG93JHdpenJvY2tldDtcblxuICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXQpW19kcm9wUmVxdWVzdER1ZVRvT3B0T3V0XSgpKSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygncmVxIGRyb3BwZWQgZHVlIHRvIG9wdG91dCBjb29raWU6ICcgKyB0aGlzLmRldmljZS5nY29va2llKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHNldCBhIHJlcXVlc3QgaW4gcHJvZ3Jlc3NcbiAgICAvLyBzbyB0aGF0IGlmIGdjb29raWUgaXMgbm90IHByZXNlbnQsIG5vIG90aGVyIHJlcXVlc3QgY2FuIGJlIG1hZGUgYXN5bmNocm9udXNseVxuXG5cbiAgICBpZiAoIWlzVmFsdWVWYWxpZCh0aGlzLmRldmljZS5nY29va2llKSkge1xuICAgICAgJGN0LmJsb2NrUmVxdWVzdCA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGlmIHRoZSBnY29va2llIGlzIG51bGxcbiAgICAgKiBhbmQgdGhlIHJlcXVlc3QgaXMgbm90IHRoZSBmaXJzdCByZXF1ZXN0XG4gICAgICogYW5kIHRoZSB0cmllcyBhcmUgbGVzcyB0aGFuIG1heCB0cmllc1xuICAgICAqIGtlZXAgcmV0cnlpbmdcbiAgICAgKi9cblxuXG4gICAgaWYgKGV2dE5hbWUgJiYgZXZ0TmFtZSA9PT0gV1pSS19GRVRDSCkge1xuICAgICAgLy8gTmV3IHJldHJ5IG1lY2hhbmlzbVxuICAgICAgaWYgKCFpc1ZhbHVlVmFsaWQodGhpcy5kZXZpY2UuZ2Nvb2tpZSkgJiYgJGN0Lmdsb2JhbENhY2hlLlJFU1BfTiA8ICRjdC5nbG9iYWxDYWNoZS5SRVFfTiAtIDEpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJyZXRyeWluZyBmaXJlIHJlcXVlc3QgZm9yIHVybDogXCIuY29uY2F0KHVybCwgXCIsIHRyaWVzOiBcIikuY29uY2F0KHRoaXMubmV0d29ya1JldHJ5Q291bnQpKTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmlyZVJlcXVlc3QpW19maXJlUmVxdWVzdF0odXJsLCB1bmRlZmluZWQsIHNraXBBUlAsIHNlbmRPVUxGbGFnKTtcbiAgICAgICAgfSwgdGhpcy5nZXREZWxheUZyZXF1ZW5jeSgpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFpc1ZhbHVlVmFsaWQodGhpcy5kZXZpY2UuZ2Nvb2tpZSkgJiYgJGN0Lmdsb2JhbENhY2hlLlJFU1BfTiA8ICRjdC5nbG9iYWxDYWNoZS5SRVFfTiAtIDEgJiYgdHJpZXMgPCBNQVhfVFJJRVMpIHtcbiAgICAgICAgLy8gaWYgb25nb2luZyBGaXJzdCBSZXF1ZXN0IGlzIGluIHByb2dyZXNzLCBpbml0aWF0ZSByZXRyeVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcInJldHJ5aW5nIGZpcmUgcmVxdWVzdCBmb3IgdXJsOiBcIi5jb25jYXQodXJsLCBcIiwgdHJpZXM6IFwiKS5jb25jYXQodHJpZXMpKTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmlyZVJlcXVlc3QpW19maXJlUmVxdWVzdF0odXJsLCB0cmllcyArIDEsIHNraXBBUlAsIHNlbmRPVUxGbGFnKTtcbiAgICAgICAgfSwgNTApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBzZXQgaXNPVUxJblByb2dyZXNzIHRvIHRydWVcbiAgICAvLyB3aGVuIHNlbmRPVUxGbGFnIGlzIHNldCB0byB0cnVlXG5cblxuICAgIGlmICghc2VuZE9VTEZsYWcpIHtcbiAgICAgIGlmIChpc1ZhbHVlVmFsaWQodGhpcy5kZXZpY2UuZ2Nvb2tpZSkpIHtcbiAgICAgICAgLy8gYWRkIGdjb29raWUgdG8gdXJsXG4gICAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ2djJywgdGhpcy5kZXZpY2UuZ2Nvb2tpZSk7XG4gICAgICB9XG5cbiAgICAgIHVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWRkQVJQVG9SZXF1ZXN0KVtfYWRkQVJQVG9SZXF1ZXN0XSh1cmwsIHNraXBBUlApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuaXNPVUxJblByb2dyZXNzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICd0cmllcycsIHRyaWVzKTsgLy8gQWRkIHRyaWVzIHRvIFVSTFxuXG4gICAgdXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hZGRVc2VJUFRvUmVxdWVzdClbX2FkZFVzZUlQVG9SZXF1ZXN0XSh1cmwpO1xuICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ3InLCBuZXcgRGF0ZSgpLmdldFRpbWUoKSk7IC8vIGFkZCBlcG9jaCB0byBiZWF0IGNhY2hpbmcgb2YgdGhlIFVSTFxuICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgYSBiZXR0ZXIgd2F5IHRvIGhhbmRsZSBwbHVnaW4gY2hlY2tcblxuICAgIGlmICgoKF93aW5kb3ckY2xldmVydGFwID0gd2luZG93LmNsZXZlcnRhcCkgPT09IG51bGwgfHwgX3dpbmRvdyRjbGV2ZXJ0YXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93aW5kb3ckY2xldmVydGFwLmhhc093blByb3BlcnR5KCdwbHVnaW4nKSkgfHwgKChfd2luZG93JHdpenJvY2tldCA9IHdpbmRvdy53aXpyb2NrZXQpID09PSBudWxsIHx8IF93aW5kb3ckd2l6cm9ja2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2luZG93JHdpenJvY2tldC5oYXNPd25Qcm9wZXJ0eSgncGx1Z2luJykpKSB7XG4gICAgICAvLyB1c2VkIHRvIGFkZCBwbHVnaW4gbmFtZSBpbiByZXF1ZXN0IHBhcmFtZXRlclxuICAgICAgY29uc3QgcGx1Z2luID0gd2luZG93LmNsZXZlcnRhcC5wbHVnaW4gfHwgd2luZG93LndpenJvY2tldC5wbHVnaW47XG4gICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdjdF9wbCcsIHBsdWdpbik7XG4gICAgfVxuXG4gICAgaWYgKHVybC5pbmRleE9mKCdjaHJvbWUtZXh0ZW5zaW9uOicpICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ2Nocm9tZS1leHRlbnNpb246JywgJ2h0dHBzOicpO1xuICAgIH0gLy8gVE9ETzogVHJ5IHVzaW5nIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGluc3RlYWQgb2YgYXBwZW5kaW5nIHNjcmlwdC5cblxuXG4gICAgdmFyIGN0Q2JTY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3QtanAtY2InKTtcblxuICAgIHdoaWxlIChjdENiU2NyaXB0c1swXSAmJiBjdENiU2NyaXB0c1swXS5wYXJlbnROb2RlKSB7XG4gICAgICBjdENiU2NyaXB0c1swXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGN0Q2JTY3JpcHRzWzBdKTtcbiAgICB9XG5cbiAgICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgcy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9qYXZhc2NyaXB0Jyk7XG4gICAgcy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7XG4gICAgcy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2N0LWpwLWNiJyk7XG4gICAgcy5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdub2ZvbGxvdycpO1xuICAgIHMuYXN5bmMgPSB0cnVlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQocyk7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ3JlcSBzbnQgLT4gdXJsOiAnICsgdXJsKTtcbiAgfTtcblxuICBSZXF1ZXN0RGlzcGF0Y2hlci5sb2dnZXIgPSB2b2lkIDA7XG4gIFJlcXVlc3REaXNwYXRjaGVyLmRldmljZSA9IHZvaWQgMDtcbiAgUmVxdWVzdERpc3BhdGNoZXIuYWNjb3VudCA9IHZvaWQgMDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlcXVlc3REaXNwYXRjaGVyLCBfZmlyZVJlcXVlc3QsIHtcbiAgICB2YWx1ZTogX2ZpcmVSZXF1ZXN0MlxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlcXVlc3REaXNwYXRjaGVyLCBfZHJvcFJlcXVlc3REdWVUb09wdE91dCwge1xuICAgIHZhbHVlOiBfZHJvcFJlcXVlc3REdWVUb09wdE91dDJcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXF1ZXN0RGlzcGF0Y2hlciwgX2FkZFVzZUlQVG9SZXF1ZXN0LCB7XG4gICAgdmFsdWU6IF9hZGRVc2VJUFRvUmVxdWVzdDJcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXF1ZXN0RGlzcGF0Y2hlciwgX2FkZEFSUFRvUmVxdWVzdCwge1xuICAgIHZhbHVlOiBfYWRkQVJQVG9SZXF1ZXN0MlxuICB9KTtcblxuICAvLyBDbGV2ZXJUYXAgc3BlY2lmaWMgdXRpbGl0aWVzXG4gIGNvbnN0IGdldENhbXBhaWduT2JqZWN0ID0gKCkgPT4ge1xuICAgIGxldCBmaW5hbGNhbXBPYmogPSB7fTtcblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgbGV0IGNhbXBPYmogPSBTdG9yYWdlTWFuYWdlci5yZWFkKENBTVBfQ09PS0lFX05BTUUpO1xuXG4gICAgICBpZiAoY2FtcE9iaiAhPSBudWxsKSB7XG4gICAgICAgIGNhbXBPYmogPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChjYW1wT2JqKS5yZXBsYWNlKHNpbmdsZVF1b3RlUmVnZXgsICdcXFwiJykpO1xuXG4gICAgICAgIGlmIChjYW1wT2JqLmhhc093blByb3BlcnR5KCdnbG9iYWwnKSkge1xuICAgICAgICAgIGZpbmFsY2FtcE9iai53cCA9IGNhbXBPYmo7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmluYWxjYW1wT2JqID0gY2FtcE9iajtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWxjYW1wT2JqID0ge307XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbmFsY2FtcE9iajtcbiAgfTtcbiAgY29uc3Qgc2F2ZUNhbXBhaWduT2JqZWN0ID0gY2FtcGFpZ25PYmogPT4ge1xuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgY29uc3QgbmV3T2JqID0geyAuLi5nZXRDYW1wYWlnbk9iamVjdCgpLFxuICAgICAgICAuLi5jYW1wYWlnbk9ialxuICAgICAgfTtcbiAgICAgIGNvbnN0IGNhbXBPYmogPSBKU09OLnN0cmluZ2lmeShuZXdPYmopO1xuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZShDQU1QX0NPT0tJRV9OQU1FLCBlbmNvZGVVUklDb21wb25lbnQoY2FtcE9iaikpOyAvLyBVcGRhdGUgdGhlIENBTVBfQ09PS0lFX0cgdG8gYmUgaW4gc3luYyB3aXRoIENBTVBfQ09PS0lFX05BTUVcblxuICAgICAgc2V0Q2FtcGFpZ25PYmplY3RGb3JHdWlkKCk7XG4gICAgfVxuICB9OyAvLyBzZXQgQ2FtcGFpZ24gT2JqZWN0IGFnYWluc3QgdGhlIGd1aWQsIHdpdGggZGFpbHkgY291bnQgYW5kIHRvdGFsIGNvdW50IGRldGFpbHNcblxuICBjb25zdCBzZXRDYW1wYWlnbk9iamVjdEZvckd1aWQgPSAoKSA9PiB7XG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICBsZXQgZ3VpZCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWQoR0NPT0tJRV9OQU1FKTtcblxuICAgICAgaWYgKGlzVmFsdWVWYWxpZChndWlkKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGd1aWQgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChTdG9yYWdlTWFuYWdlci5yZWFkKEdDT09LSUVfTkFNRSkpKTtcbiAgICAgICAgICBjb25zdCBndWlkQ2FtcE9iaiA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWQoQ0FNUF9DT09LSUVfRykgPyBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChTdG9yYWdlTWFuYWdlci5yZWFkKENBTVBfQ09PS0lFX0cpKSkgOiB7fTtcblxuICAgICAgICAgIGlmIChndWlkICYmIFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB2YXIgZmluYWxDYW1wT2JqID0ge307XG4gICAgICAgICAgICB2YXIgY2FtcE9iaiA9IGdldENhbXBhaWduT2JqZWN0KCk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjYW1wT2JqKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGNhbXBLZXlPYmogPSBndWlkIGluIGd1aWRDYW1wT2JqICYmIE9iamVjdC5rZXlzKGd1aWRDYW1wT2JqW2d1aWRdKS5sZW5ndGggJiYgZ3VpZENhbXBPYmpbZ3VpZF1ba2V5XSA/IGd1aWRDYW1wT2JqW2d1aWRdW2tleV0gOiB7fTtcbiAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsT2JqID0gY2FtcE9ialtrZXldLmdsb2JhbDtcbiAgICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBnZXRUb2RheSgpO1xuICAgICAgICAgICAgICBjb25zdCBkYWlseU9iaiA9IGNhbXBPYmpba2V5XVt0b2RheV07XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWxPYmogIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FtcGFpZ25JZEFycmF5ID0gT2JqZWN0LmtleXMoZ2xvYmFsT2JqKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggaW4gY2FtcGFpZ25JZEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0T2JqID0gW107XG5cbiAgICAgICAgICAgICAgICAgIGlmIChjYW1wYWlnbklkQXJyYXkuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYWlseUMgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxDID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FtcGFpZ25JZCA9IGNhbXBhaWduSWRBcnJheVtpbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbXBhaWduSWQgPT09ICd0YycpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGFpbHlPYmogIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkYWlseU9ialtjYW1wYWlnbklkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkYWlseUMgPSBkYWlseU9ialtjYW1wYWlnbklkXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsT2JqICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZ2xvYmFsT2JqW2NhbXBhaWduSWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQyA9IGdsb2JhbE9ialtjYW1wYWlnbklkXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdE9iaiA9IFtjYW1wYWlnbklkLCBkYWlseUMsIHRvdGFsQ107XG4gICAgICAgICAgICAgICAgICAgIGNhbXBLZXlPYmpbY2FtcGFpZ25JZF0gPSByZXN1bHRPYmo7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZmluYWxDYW1wT2JqID0geyAuLi5maW5hbENhbXBPYmosXG4gICAgICAgICAgICAgICAgW2tleV06IGNhbXBLZXlPYmpcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ3VpZENhbXBPYmpbZ3VpZF0gPSBmaW5hbENhbXBPYmo7XG4gICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlKENBTVBfQ09PS0lFX0csIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShndWlkQ2FtcE9iaikpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGNsZXZlcnRhcCBJZCAnICsgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldENhbXBhaWduT2JqRm9yTGMgPSAoKSA9PiB7XG4gICAgLy8gYmVmb3JlIHByZXBhcmluZyBkYXRhIHRvIHNlbmQgdG8gTEMgLCBjaGVjayBpZiB0aGUgZW50cnkgZm9yIHRoZSBndWlkIGlzIGFscmVhZHkgdGhlcmUgaW4gQ0FNUF9DT09LSUVfR1xuICAgIGNvbnN0IGd1aWQgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChTdG9yYWdlTWFuYWdlci5yZWFkKEdDT09LSUVfTkFNRSkpKTtcbiAgICBsZXQgY2FtcE9iaiA9IHt9O1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICBsZXQgcmVzdWx0T2JqID0ge307XG4gICAgICBjYW1wT2JqID0gZ2V0Q2FtcGFpZ25PYmplY3QoKTtcbiAgICAgIGNvbnN0IHN0b3JhZ2VWYWx1ZSA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWQoQ0FNUF9DT09LSUVfRyk7XG4gICAgICBjb25zdCBkZWNvZGVkVmFsdWUgPSBzdG9yYWdlVmFsdWUgPyBkZWNvZGVVUklDb21wb25lbnQoc3RvcmFnZVZhbHVlKSA6IG51bGw7XG4gICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IGRlY29kZWRWYWx1ZSA/IEpTT04ucGFyc2UoZGVjb2RlZFZhbHVlKSA6IG51bGw7XG4gICAgICBjb25zdCByZXN1bHRPYmpXUCA9ICEhZ3VpZCAmJiBzdG9yYWdlVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBzdG9yYWdlVmFsdWUgIT09IG51bGwgJiYgcGFyc2VkVmFsdWUgJiYgcGFyc2VkVmFsdWVbZ3VpZF0gJiYgcGFyc2VkVmFsdWVbZ3VpZF0ud3AgPyBPYmplY3QudmFsdWVzKHBhcnNlZFZhbHVlW2d1aWRdLndwKSA6IFtdO1xuICAgICAgY29uc3QgcmVzdWx0T2JqV0kgPSAhIWd1aWQgJiYgc3RvcmFnZVZhbHVlICE9PSB1bmRlZmluZWQgJiYgc3RvcmFnZVZhbHVlICE9PSBudWxsICYmIHBhcnNlZFZhbHVlICYmIHBhcnNlZFZhbHVlW2d1aWRdICYmIHBhcnNlZFZhbHVlW2d1aWRdLndpID8gT2JqZWN0LnZhbHVlcyhwYXJzZWRWYWx1ZVtndWlkXS53aSkgOiBbXTtcbiAgICAgIGNvbnN0IHRvZGF5ID0gZ2V0VG9kYXkoKTtcbiAgICAgIGxldCB0b2RheUN3cCA9IDA7XG4gICAgICBsZXQgdG9kYXlDd2kgPSAwO1xuXG4gICAgICBpZiAoY2FtcE9iai53cCAmJiBjYW1wT2JqLndwW3RvZGF5XSAmJiBjYW1wT2JqLndwW3RvZGF5XS50YyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdG9kYXlDd3AgPSBjYW1wT2JqLndwW3RvZGF5XS50YztcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbXBPYmoud2kgJiYgY2FtcE9iai53aVt0b2RheV0gJiYgY2FtcE9iai53aVt0b2RheV0udGMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRvZGF5Q3dpID0gY2FtcE9iai53aVt0b2RheV0udGM7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdE9iaiA9IHtcbiAgICAgICAgd21wOiB0b2RheUN3cCxcbiAgICAgICAgd2ltcDogdG9kYXlDd2ksXG4gICAgICAgIHRsYzogcmVzdWx0T2JqV1AsXG4gICAgICAgIHdpdGxjOiByZXN1bHRPYmpXSVxuICAgICAgfTtcbiAgICAgIHJldHVybiByZXN1bHRPYmo7XG4gICAgfVxuICB9O1xuICBjb25zdCBpc1Byb2ZpbGVWYWxpZCA9IChwcm9maWxlT2JqLCBfcmVmKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGxvZ2dlclxuICAgIH0gPSBfcmVmO1xuICAgIGxldCB2YWxpZCA9IGZhbHNlO1xuXG4gICAgaWYgKGlzT2JqZWN0KHByb2ZpbGVPYmopKSB7XG4gICAgICBmb3IgKGNvbnN0IHByb2ZpbGVLZXkgaW4gcHJvZmlsZU9iaikge1xuICAgICAgICBpZiAocHJvZmlsZU9iai5oYXNPd25Qcm9wZXJ0eShwcm9maWxlS2V5KSkge1xuICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgcHJvZmlsZVZhbCA9IHByb2ZpbGVPYmpbcHJvZmlsZUtleV07XG5cbiAgICAgICAgICBpZiAocHJvZmlsZVZhbCA9PSBudWxsKSB7XG4gICAgICAgICAgICBkZWxldGUgcHJvZmlsZU9ialtwcm9maWxlS2V5XTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnR2VuZGVyJyAmJiAhcHJvZmlsZVZhbC5tYXRjaCgvXk0kfF5GJC8pKSB7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKEdFTkRFUl9FUlJPUik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVLZXkgPT09ICdFbXBsb3llZCcgJiYgIXByb2ZpbGVWYWwubWF0Y2goL15ZJHxeTiQvKSkge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihFTVBMT1lFRF9FUlJPUik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVLZXkgPT09ICdNYXJyaWVkJyAmJiAhcHJvZmlsZVZhbC5tYXRjaCgvXlkkfF5OJC8pKSB7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKE1BUlJJRURfRVJST1IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnRWR1Y2F0aW9uJyAmJiAhcHJvZmlsZVZhbC5tYXRjaCgvXlNjaG9vbCR8XkNvbGxlZ2UkfF5HcmFkdWF0ZSQvKSkge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihFRFVDQVRJT05fRVJST1IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnQWdlJyAmJiBwcm9maWxlVmFsICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChpc0NvbnZlcnRpYmxlVG9OdW1iZXIocHJvZmlsZVZhbCkpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZU9iai5BZ2UgPSArcHJvZmlsZVZhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihBR0VfRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gZG9iIHdpbGwgY29tZSBpbiBsaWtlIHRoaXMgLSAkZHRfMTk0NzA4MTUgb3IgZGF0ZU9iamVjdFxuXG5cbiAgICAgICAgICBpZiAocHJvZmlsZUtleSA9PT0gJ0RPQicpIHtcbiAgICAgICAgICAgIGlmICgoIS9eXFwkRF8vLnRlc3QocHJvZmlsZVZhbCkgfHwgKHByb2ZpbGVWYWwgKyAnJykubGVuZ3RoICE9PSAxMSkgJiYgIWlzRGF0ZU9iamVjdChwcm9maWxlVmFsKSkge1xuICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoRE9CX0VSUk9SKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRGF0ZU9iamVjdChwcm9maWxlVmFsKSkge1xuICAgICAgICAgICAgICBwcm9maWxlT2JqW3Byb2ZpbGVLZXldID0gY29udmVydFRvV1pSS0RhdGUocHJvZmlsZVZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0RhdGVPYmplY3QocHJvZmlsZVZhbCkpIHtcbiAgICAgICAgICAgIHByb2ZpbGVPYmpbcHJvZmlsZUtleV0gPSBjb252ZXJ0VG9XWlJLRGF0ZShwcm9maWxlVmFsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZUtleSA9PT0gJ1Bob25lJyAmJiAhaXNPYmplY3RFbXB0eShwcm9maWxlVmFsKSkge1xuICAgICAgICAgICAgaWYgKHByb2ZpbGVWYWwubGVuZ3RoID4gOCAmJiBwcm9maWxlVmFsLmNoYXJBdCgwKSA9PT0gJysnKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkIHBob25lIG51bWJlclxuICAgICAgICAgICAgICBwcm9maWxlVmFsID0gcHJvZmlsZVZhbC5zdWJzdHJpbmcoMSwgcHJvZmlsZVZhbC5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgIGlmIChpc0NvbnZlcnRpYmxlVG9OdW1iZXIocHJvZmlsZVZhbCkpIHtcbiAgICAgICAgICAgICAgICBwcm9maWxlT2JqLlBob25lID0gK3Byb2ZpbGVWYWw7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoUEhPTkVfRk9STUFUX0VSUk9SICsgJy4gUmVtb3ZlZC4nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFBIT05FX0ZPUk1BVF9FUlJPUiArICcuIFJlbW92ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgICAgZGVsZXRlIHByb2ZpbGVPYmpbcHJvZmlsZUtleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkO1xuICB9O1xuICBjb25zdCBwcm9jZXNzRkJVc2VyT2JqID0gdXNlciA9PiB7XG4gICAgY29uc3QgcHJvZmlsZURhdGEgPSB7fTtcbiAgICBwcm9maWxlRGF0YS5OYW1lID0gdXNlci5uYW1lO1xuXG4gICAgaWYgKHVzZXIuaWQgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuRkJJRCA9IHVzZXIuaWQgKyAnJztcbiAgICB9IC8vIEZlYiAyMDE0IC0gRkIgYW5ub3VuY2VkIG92ZXIgNTggZ2VuZGVyIG9wdGlvbnMsIGhlbmNlIHdlIHNwZWNpZmljYWxseSBsb29rIGZvciBtYWxlIG9yIGZlbWFsZS4gUmVzdCB3ZSBkb24ndCBjYXJlLlxuXG5cbiAgICBpZiAodXNlci5nZW5kZXIgPT09ICdtYWxlJykge1xuICAgICAgcHJvZmlsZURhdGEuR2VuZGVyID0gJ00nO1xuICAgIH0gZWxzZSBpZiAodXNlci5nZW5kZXIgPT09ICdmZW1hbGUnKSB7XG4gICAgICBwcm9maWxlRGF0YS5HZW5kZXIgPSAnRic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2ZpbGVEYXRhLkdlbmRlciA9ICdPJztcbiAgICB9XG5cbiAgICBjb25zdCBnZXRIaWdoZXN0RWR1Y2F0aW9uID0gZnVuY3Rpb24gKGVkdUFycikge1xuICAgICAgaWYgKGVkdUFyciAhPSBudWxsKSB7XG4gICAgICAgIGxldCBjb2xsZWdlID0gJyc7XG4gICAgICAgIGxldCBoaWdoc2Nob29sID0gJyc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZHVBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlZHUgPSBlZHVBcnJbaV07XG5cbiAgICAgICAgICBpZiAoZWR1LnR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGVkdS50eXBlO1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ0dyYWR1YXRlIFNjaG9vbCcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICdHcmFkdWF0ZSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdDb2xsZWdlJykge1xuICAgICAgICAgICAgICBjb2xsZWdlID0gJzEnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnSGlnaCBTY2hvb2wnKSB7XG4gICAgICAgICAgICAgIGhpZ2hzY2hvb2wgPSAnMSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbGxlZ2UgPT09ICcxJykge1xuICAgICAgICAgIHJldHVybiAnQ29sbGVnZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoaGlnaHNjaG9vbCA9PT0gJzEnKSB7XG4gICAgICAgICAgcmV0dXJuICdTY2hvb2wnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh1c2VyLnJlbGF0aW9uc2hpcF9zdGF0dXMgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuTWFycmllZCA9ICdOJztcblxuICAgICAgaWYgKHVzZXIucmVsYXRpb25zaGlwX3N0YXR1cyA9PT0gJ01hcnJpZWQnKSB7XG4gICAgICAgIHByb2ZpbGVEYXRhLk1hcnJpZWQgPSAnWSc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZWR1ID0gZ2V0SGlnaGVzdEVkdWNhdGlvbih1c2VyLmVkdWNhdGlvbik7XG5cbiAgICBpZiAoZWR1ICE9IG51bGwpIHtcbiAgICAgIHByb2ZpbGVEYXRhLkVkdWNhdGlvbiA9IGVkdTtcbiAgICB9XG5cbiAgICBjb25zdCB3b3JrID0gdXNlci53b3JrICE9IG51bGwgPyB1c2VyLndvcmsubGVuZ3RoIDogMDtcblxuICAgIGlmICh3b3JrID4gMCkge1xuICAgICAgcHJvZmlsZURhdGEuRW1wbG95ZWQgPSAnWSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2ZpbGVEYXRhLkVtcGxveWVkID0gJ04nO1xuICAgIH1cblxuICAgIGlmICh1c2VyLmVtYWlsICE9IG51bGwpIHtcbiAgICAgIHByb2ZpbGVEYXRhLkVtYWlsID0gdXNlci5lbWFpbDtcbiAgICB9XG5cbiAgICBpZiAodXNlci5iaXJ0aGRheSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBtbWRkeXkgPSB1c2VyLmJpcnRoZGF5LnNwbGl0KCcvJyk7IC8vIGNvbWVzIGluIGFzIFwiMDgvMTUvMTk0N1wiXG5cbiAgICAgIHByb2ZpbGVEYXRhLkRPQiA9IHNldERhdGUobW1kZHl5WzJdICsgbW1kZHl5WzBdICsgbW1kZHl5WzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZmlsZURhdGE7XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NHUGx1c1VzZXJPYmogPSAodXNlciwgX3JlZjIpID0+IHtcbiAgICBsZXQge1xuICAgICAgbG9nZ2VyXG4gICAgfSA9IF9yZWYyO1xuICAgIGNvbnN0IHByb2ZpbGVEYXRhID0ge307XG5cbiAgICBpZiAodXNlci5kaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5OYW1lID0gdXNlci5kaXNwbGF5TmFtZTtcbiAgICB9XG5cbiAgICBpZiAodXNlci5pZCAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5HUElEID0gdXNlci5pZCArICcnO1xuICAgIH1cblxuICAgIGlmICh1c2VyLmdlbmRlciAhPSBudWxsKSB7XG4gICAgICBpZiAodXNlci5nZW5kZXIgPT09ICdtYWxlJykge1xuICAgICAgICBwcm9maWxlRGF0YS5HZW5kZXIgPSAnTSc7XG4gICAgICB9IGVsc2UgaWYgKHVzZXIuZ2VuZGVyID09PSAnZmVtYWxlJykge1xuICAgICAgICBwcm9maWxlRGF0YS5HZW5kZXIgPSAnRic7XG4gICAgICB9IGVsc2UgaWYgKHVzZXIuZ2VuZGVyID09PSAnb3RoZXInKSB7XG4gICAgICAgIHByb2ZpbGVEYXRhLkdlbmRlciA9ICdPJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXNlci5pbWFnZSAhPSBudWxsKSB7XG4gICAgICBpZiAodXNlci5pbWFnZS5pc0RlZmF1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHByb2ZpbGVEYXRhLlBob3RvID0gdXNlci5pbWFnZS51cmwuc3BsaXQoJz9zeicpWzBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyLmVtYWlscyAhPSBudWxsKSB7XG4gICAgICBmb3IgKGxldCBlbWFpbElkeCA9IDA7IGVtYWlsSWR4IDwgdXNlci5lbWFpbHMubGVuZ3RoOyBlbWFpbElkeCsrKSB7XG4gICAgICAgIGNvbnN0IGVtYWlsT2JqID0gdXNlci5lbWFpbHNbZW1haWxJZHhdO1xuXG4gICAgICAgIGlmIChlbWFpbE9iai50eXBlID09PSAnYWNjb3VudCcpIHtcbiAgICAgICAgICBwcm9maWxlRGF0YS5FbWFpbCA9IGVtYWlsT2JqLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHVzZXIub3JnYW5pemF0aW9ucyAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5FbXBsb3llZCA9ICdOJztcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VyLm9yZ2FuaXphdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3JnT2JqID0gdXNlci5vcmdhbml6YXRpb25zW2ldO1xuXG4gICAgICAgIGlmIChvcmdPYmoudHlwZSA9PT0gJ3dvcmsnKSB7XG4gICAgICAgICAgcHJvZmlsZURhdGEuRW1wbG95ZWQgPSAnWSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXNlci5iaXJ0aGRheSAhPSBudWxsKSB7XG4gICAgICBjb25zdCB5eXl5bW1kZCA9IHVzZXIuYmlydGhkYXkuc3BsaXQoJy0nKTsgLy8gY29tZXMgaW4gYXMgXCIxOTc2LTA3LTI3XCJcblxuICAgICAgcHJvZmlsZURhdGEuRE9CID0gc2V0RGF0ZSh5eXl5bW1kZFswXSArIHl5eXltbWRkWzFdICsgeXl5eW1tZGRbMl0pO1xuICAgIH1cblxuICAgIGlmICh1c2VyLnJlbGF0aW9uc2hpcFN0YXR1cyAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5NYXJyaWVkID0gJ04nO1xuXG4gICAgICBpZiAodXNlci5yZWxhdGlvbnNoaXBTdGF0dXMgPT09ICdtYXJyaWVkJykge1xuICAgICAgICBwcm9maWxlRGF0YS5NYXJyaWVkID0gJ1knO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxvZ2dlci5kZWJ1ZygnZ3BsdXMgdXNyIHByb2ZpbGUgJyArIEpTT04uc3RyaW5naWZ5KHByb2ZpbGVEYXRhKSk7XG4gICAgcmV0dXJuIHByb2ZpbGVEYXRhO1xuICB9O1xuICBjb25zdCBhZGRUb0xvY2FsUHJvZmlsZU1hcCA9IChwcm9maWxlT2JqLCBvdmVycmlkZSkgPT4ge1xuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKTtcblxuICAgICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwID0ge307XG4gICAgICAgIH1cbiAgICAgIH0gLy8gTW92ZSBwcm9wcyBmcm9tIGN1c3RvbSBidWNrZXQgdG8gb3V0c2lkZS5cblxuXG4gICAgICBpZiAocHJvZmlsZU9iai5fY3VzdG9tICE9IG51bGwpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IHByb2ZpbGVPYmouX2N1c3RvbTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBrZXlzKSB7XG4gICAgICAgICAgaWYgKGtleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgcHJvZmlsZU9ialtrZXldID0ga2V5c1trZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBwcm9maWxlT2JqLl9jdXN0b207XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBwcm9maWxlT2JqKSB7XG4gICAgICAgIGlmIChwcm9maWxlT2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwLmhhc093blByb3BlcnR5KHByb3ApICYmICFvdmVycmlkZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcF0gPSBwcm9maWxlT2JqW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcC5fY3VzdG9tICE9IG51bGwpIHtcbiAgICAgICAgZGVsZXRlICRjdC5nbG9iYWxQcm9maWxlTWFwLl9jdXN0b207XG4gICAgICB9XG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFJfQ09PS0lFLCAkY3QuZ2xvYmFsUHJvZmlsZU1hcCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjbG9zZUlmcmFtZSA9IChjYW1wYWlnbklkLCBkaXZJZElnbm9yZWQsIGN1cnJlbnRTZXNzaW9uSWQpID0+IHtcbiAgICBpZiAoY2FtcGFpZ25JZCAhPSBudWxsICYmIGNhbXBhaWduSWQgIT09ICctMScpIHtcbiAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICBjb25zdCBjYW1wYWlnbk9iaiA9IGdldENhbXBhaWduT2JqZWN0KCk7XG4gICAgICAgIGxldCBzZXNzaW9uQ2FtcGFpZ25PYmogPSBjYW1wYWlnbk9iai53cFtjdXJyZW50U2Vzc2lvbklkXTtcblxuICAgICAgICBpZiAoc2Vzc2lvbkNhbXBhaWduT2JqID09IG51bGwpIHtcbiAgICAgICAgICBzZXNzaW9uQ2FtcGFpZ25PYmogPSB7fTtcbiAgICAgICAgICBjYW1wYWlnbk9ialtjdXJyZW50U2Vzc2lvbklkXSA9IHNlc3Npb25DYW1wYWlnbk9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlc3Npb25DYW1wYWlnbk9ialtjYW1wYWlnbklkXSA9ICdkbmQnO1xuICAgICAgICBzYXZlQ2FtcGFpZ25PYmplY3QoY2FtcGFpZ25PYmopO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICgkY3QuY2FtcGFpZ25EaXZNYXAgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZGl2SWQgPSAkY3QuY2FtcGFpZ25EaXZNYXBbY2FtcGFpZ25JZF07XG5cbiAgICAgIGlmIChkaXZJZCAhPSBudWxsKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIGlmIChkaXZJZCA9PT0gJ2ludGVudFByZXZpZXcnKSB7XG4gICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlbnRPcGFjaXR5RGl2JykgIT0gbnVsbCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudE9wYWNpdHlEaXYnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgYXJwID0ganNvbk1hcCA9PiB7XG4gICAgLy8gRm9yIHVucmVnaXN0ZXIgY2FsbHMgZG9udCBzZXQgYXJwIGluIExTXG4gICAgaWYgKGpzb25NYXAuc2tpcFJlc0FSUCAhPSBudWxsICYmIGpzb25NYXAuc2tpcFJlc0FSUCkge1xuICAgICAgY29uc29sZS5kZWJ1ZygnVXBkYXRlIEFSUCBSZXF1ZXN0IHJlamVjdGVkJywganNvbk1hcCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBpc09VTEFSUCA9IGpzb25NYXBbSVNfT1VMXSA9PT0gdHJ1ZTtcblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgLy8gVXBkYXRlIGFycCBvbmx5IGlmIGl0IGlzIG51bGwgb3IgYW4gb3VsIHJlcXVlc3RcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBhcnBGcm9tU3RvcmFnZSA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShBUlBfQ09PS0lFKTtcblxuICAgICAgICBpZiAoYXJwRnJvbVN0b3JhZ2UgPT0gbnVsbCB8fCBpc09VTEFSUCkge1xuICAgICAgICAgIGFycEZyb21TdG9yYWdlID0ge307XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBqc29uTWFwKSB7XG4gICAgICAgICAgICBpZiAoanNvbk1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgIGlmIChqc29uTWFwW2tleV0gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGFycEZyb21TdG9yYWdlW2tleV07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJwRnJvbVN0b3JhZ2Vba2V5XSA9IGpzb25NYXBba2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoQVJQX0NPT0tJRSwgYXJwRnJvbVN0b3JhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBBUlAgSlNPTjogJyArIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0RW51bSA9IChlbnVtVmFsLCBsb2dnZXIpID0+IHtcbiAgICBpZiAoaXNTdHJpbmcoZW51bVZhbCkgfHwgaXNOdW1iZXIoZW51bVZhbCkpIHtcbiAgICAgIHJldHVybiAnJEVfJyArIGVudW1WYWw7XG4gICAgfVxuXG4gICAgbG9nZ2VyLmVycm9yKEVOVU1fRk9STUFUX0VSUk9SKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlRW1haWxTdWJzY3JpcHRpb24gPSAoc3Vic2NyaXB0aW9uLCByZUVuY29kZWQsIGZldGNoR3JvdXBzLCBhY2NvdW50LCBsb2dnZXIpID0+IHtcbiAgICBjb25zdCB1cmxQYXJhbXNBc0lzID0gZ2V0VVJMUGFyYW1zKGxvY2F0aW9uLmhyZWYpOyAvLyBjYW4ndCB1c2UgdXJsX3BhcmFtcyBhcyBpdCBpcyBpbiBsb3dlcmNhc2UgYWJvdmVcblxuICAgIGNvbnN0IGVuY29kZWRFbWFpbElkID0gdXJsUGFyYW1zQXNJcy5lO1xuICAgIGNvbnN0IGVuY29kZWRQcm9maWxlUHJvcHMgPSB1cmxQYXJhbXNBc0lzLnA7XG4gICAgY29uc3QgcGFnZVR5cGUgPSB1cmxQYXJhbXNBc0lzLnBhZ2VfdHlwZTtcblxuICAgIGlmICh0eXBlb2YgZW5jb2RlZEVtYWlsSWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICBkYXRhLmlkID0gYWNjb3VudC5pZDsgLy8gYWNjb3VudElkXG5cbiAgICAgIGRhdGEudW5zdWJHcm91cHMgPSAkY3QudW5zdWJHcm91cHM7IC8vIHVuc3Vic2NyaWJlIGdyb3Vwc1xuXG4gICAgICBpZiAoJGN0LnVwZGF0ZWRDYXRlZ29yeUxvbmcpIHtcbiAgICAgICAgZGF0YVtjYXRlZ29yeUxvbmdLZXldID0gJGN0LnVwZGF0ZWRDYXRlZ29yeUxvbmc7XG4gICAgICB9XG5cbiAgICAgIGxldCB1cmwgPSBhY2NvdW50LmVtYWlsVVJMO1xuXG4gICAgICBpZiAoZmV0Y2hHcm91cHMpIHtcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnZmV0Y2hHcm91cHMnLCBmZXRjaEdyb3Vwcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZUVuY29kZWQpIHtcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnZW5jb2RlZCcsIHJlRW5jb2RlZCk7XG4gICAgICB9XG5cbiAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ2UnLCBlbmNvZGVkRW1haWxJZCk7XG4gICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdkJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBsb2dnZXIpKTtcblxuICAgICAgaWYgKGVuY29kZWRQcm9maWxlUHJvcHMpIHtcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAncCcsIGVuY29kZWRQcm9maWxlUHJvcHMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3Vic2NyaXB0aW9uICE9PSAnLTEnKSB7XG4gICAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ3N1YicsIHN1YnNjcmlwdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYWdlVHlwZSkge1xuICAgICAgICAkY3QuZ2xvYmFsVW5zdWJzY3JpYmUgPSBwYWdlVHlwZSA9PT0gR0xPQkFMO1xuICAgICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdwYWdlX3R5cGUnLCBwYWdlVHlwZSk7XG4gICAgICB9XG5cbiAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmZpcmVSZXF1ZXN0KHVybCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfbG9nZ2VyJDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX3JlcXVlc3QkMiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2FjY291bnQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRcIik7XG5cbiAgdmFyIF9vbGRWYWx1ZXMkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib2xkVmFsdWVzXCIpO1xuXG4gIHZhciBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcIik7XG5cbiAgdmFyIF9wcm9jZXNzUHJvZmlsZUFycmF5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzUHJvZmlsZUFycmF5XCIpO1xuXG4gIGNsYXNzIFByb2ZpbGVIYW5kbGVyIGV4dGVuZHMgQXJyYXkge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYsIHZhbHVlcykge1xuICAgICAgbGV0IHtcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBhY2NvdW50LFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSA9IF9yZWY7XG4gICAgICBzdXBlcigpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9wcm9jZXNzUHJvZmlsZUFycmF5LCB7XG4gICAgICAgIHZhbHVlOiBfcHJvY2Vzc1Byb2ZpbGVBcnJheTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QkMiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vbGRWYWx1ZXMkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMylbX2xvZ2dlciQzXSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXSA9IHJlcXVlc3Q7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQpW19hY2NvdW50XSA9IGFjY291bnQ7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQxKVtfb2xkVmFsdWVzJDFdID0gdmFsdWVzO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQxKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMV0gPSBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTtcbiAgICB9XG5cbiAgICBwdXNoKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb2ZpbGVzQXJyID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBwcm9maWxlc0Fycltfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzUHJvZmlsZUFycmF5KVtfcHJvY2Vzc1Byb2ZpbGVBcnJheV0ocHJvZmlsZXNBcnIpO1xuXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBfcHJvY2Vzc09sZFZhbHVlcygpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQxKVtfb2xkVmFsdWVzJDFdKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc1Byb2ZpbGVBcnJheSlbX3Byb2Nlc3NQcm9maWxlQXJyYXldKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDEpW19vbGRWYWx1ZXMkMV0pO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQxKVtfb2xkVmFsdWVzJDFdID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXRBdHRyaWJ1dGUocHJvcE5hbWUpIHtcbiAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQxKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMV0oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFBSX0NPT0tJRSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wTmFtZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0ga2V5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmRcbiAgICAgKiBpbmNyZWFzZXMgb3IgZGVjcmVhc2VzIHZhbHVlIG9mIHRoZSBudW1iZXIgdHlwZSBwcm9wZXJ0aWVzIGluIHByb2ZpbGUgb2JqZWN0XG4gICAgICovXG4gICAgX2hhbmRsZUluY3JlbWVudERlY3JlbWVudFZhbHVlKGtleSwgdmFsdWUsIGNvbW1hbmQpIHtcbiAgICAgIHZhciBfJGN0JGdsb2JhbFByb2ZpbGVNYXA7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gMFxuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwgJiYgISgoXyRjdCRnbG9iYWxQcm9maWxlTWFwID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXApID09PSBudWxsIHx8IF8kY3QkZ2xvYmFsUHJvZmlsZU1hcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRjdCRnbG9iYWxQcm9maWxlTWFwLmhhc093blByb3BlcnR5KGtleSkpKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwcm9maWxlIG1hcCBhbHJlYWR5IGhhcyB0aGUgcHJvcGVyeSBkZWZpbmVkXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0tpbmRseSBjcmVhdGUgcHJvZmlsZSB3aXRoIHJlcXVpcmVkIHByb3BydHkgdG8gaW5jcmVtZW50L2RlY3JlbWVudC4nKTtcbiAgICAgIH0gZWxzZSBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgfHwgdmFsdWUgPD0gMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdWYWx1ZSBzaG91bGQgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDAnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvZmlsZSBwcm9wZXJ0eSBpbiBsb2NhbCBzdG9yYWdlXG4gICAgICAgIGlmIChjb21tYW5kID09PSBDT01NQU5EX0lOQ1JFTUVOVCkge1xuICAgICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW2tleV0gPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtrZXldICsgdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBba2V5XSA9ICRjdC5nbG9iYWxQcm9maWxlTWFwW2tleV0gLSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFJfQ09PS0lFLCAkY3QuZ2xvYmFsUHJvZmlsZU1hcCk7IC8vIFNlbmQgdGhlIHVwZGF0ZWQgdmFsdWUgdG8gTENcblxuICAgICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgICBjb25zdCBwcm9maWxlT2JqID0ge307XG4gICAgICAgIGRhdGEudHlwZSA9ICdwcm9maWxlJztcbiAgICAgICAgcHJvZmlsZU9ialtrZXldID0ge1xuICAgICAgICAgIFtjb21tYW5kXTogdmFsdWVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocHJvZmlsZU9iai50eiA9PSBudWxsKSB7XG4gICAgICAgICAgLy8gdHJ5IHRvIGF1dG8gY2FwdHVyZSB1c2VyIHRpbWV6b25lIGlmIG5vdCBwcmVzZW50XG4gICAgICAgICAgcHJvZmlsZU9iai50eiA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKS5tYXRjaCgvKFtBLVpdK1tcXCstXVswLTldKykvKVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEucHJvZmlsZSA9IHByb2ZpbGVPYmo7XG4gICAgICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHRydWUpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5hZGRGbGFncyhkYXRhKTtcblxuICAgICAgICBjb25zdCBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMylbX2xvZ2dlciQzXSk7XG5cbiAgICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50KVtfYWNjb3VudF0uZGF0YVBvc3RVUkw7XG5cbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NlZERhdGEpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBrZXlcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheVZhbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kXG4gICAgICogb3ZlcndyaXRlcy9zZXRzIG5ldyB2YWx1ZShzKSBhZ2FpbnN0IGEga2V5L3Byb3BlcnR5IGluIHByb2ZpbGUgb2JqZWN0XG4gICAgICovXG5cblxuICAgIF9oYW5kbGVNdWx0aVZhbHVlU2V0KGtleSwgYXJyYXlWYWwsIGNvbW1hbmQpIHtcbiAgICAgIGNvbnN0IGFycmF5ID0gW107XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlWYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcnJheVZhbFtpXSA9PT0gJ251bWJlcicgJiYgIWFycmF5LmluY2x1ZGVzKGFycmF5VmFsW2ldKSkge1xuICAgICAgICAgIGFycmF5LnB1c2goYXJyYXlWYWxbaV0pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcnJheVZhbFtpXSA9PT0gJ3N0cmluZycgJiYgIWFycmF5LmluY2x1ZGVzKGFycmF5VmFsW2ldLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgYXJyYXkucHVzaChhcnJheVZhbFtpXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdhcnJheSBzdXBwb3J0cyBvbmx5IHN0cmluZyBvciBudW1iZXIgdHlwZSB2YWx1ZXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICB2YXIgX1N0b3JhZ2VNYW5hZ2VyJHJlYWRGO1xuXG4gICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwID0gKF9TdG9yYWdlTWFuYWdlciRyZWFkRiA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpKSAhPT0gbnVsbCAmJiBfU3RvcmFnZU1hbmFnZXIkcmVhZEYgIT09IHZvaWQgMCA/IF9TdG9yYWdlTWFuYWdlciRyZWFkRiA6IHt9O1xuICAgICAgfVxuXG4gICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtrZXldID0gYXJyYXk7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFBSX0NPT0tJRSwgJGN0Lmdsb2JhbFByb2ZpbGVNYXApO1xuICAgICAgdGhpcy5zZW5kTXVsdGlWYWx1ZURhdGEoa2V5LCBhcnJheVZhbCwgY29tbWFuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IHByb3BLZXkgLSB0aGUgcHJvcGVydHkgbmFtZSB0byBiZSBhZGRlZCBpbiB0aGUgcHJvZmlsZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZywgbnVtYmVyLCBhcnJheX0gcHJvcFZhbCAtIHRoZSBwcm9wZXJ0eSB2YWx1ZSB0byBiZSBhZGRlZCBhZ2FpbnN0IHRoZSBAcHJvcGtleSBrZXlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAqIEFkZHMgYXJyYXkgb3Igc2luZ2xlIHZhbHVlIGFnYWluc3QgYSBrZXkvcHJvcGVydHkgaW4gcHJvZmlsZSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgX2hhbmRsZU11bHRpVmFsdWVBZGQocHJvcEtleSwgcHJvcFZhbCwgY29tbWFuZCkge1xuICAgICAgLy8gSW5pdGlhbGl6ZSBhcnJheVxuICAgICAgdmFyIGFycmF5ID0gW107IC8vIENoZWNrIGlmIGdsb2JhbFByb2ZpbGVNYXAgaXMgbnVsbCwgaW5pdGlhbGl6ZSBpZiBuZWVkZWRcblxuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKSB8fCB7fTtcbiAgICAgIH0gLy8gQ2hlY2sgaWYgdGhlIHZhbHVlIHRvIGJlIHNldCBpcyBlaXRoZXIgc3RyaW5nIG9yIG51bWJlclxuXG5cbiAgICAgIGlmICh0eXBlb2YgcHJvcFZhbCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHByb3BWYWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgIGFycmF5ID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV07XG4gICAgICAgICAgYXJyYXkucHVzaCh0eXBlb2YgcHJvcFZhbCA9PT0gJ251bWJlcicgPyBwcm9wVmFsIDogcHJvcFZhbC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XSA9IHByb3BWYWw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHByb3BWYWwgaXMgYW4gYXJyYXlcbiAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgYXJyYXkgPSBBcnJheS5pc0FycmF5KCRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldKSA/ICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldIDogWyRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldXTtcbiAgICAgICAgfSAvLyBDaGVjayBmb3IgY2FzZS1zZW5zaXRpdmUgaW5wdXRzIGFuZCBmaWx0ZXIgdGhlIHNhbWUgb25lc1xuXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwcm9wVmFsW2ldID09PSAnbnVtYmVyJyAmJiAhYXJyYXkuaW5jbHVkZXMocHJvcFZhbFtpXSkpIHtcbiAgICAgICAgICAgIGFycmF5LnB1c2gocHJvcFZhbFtpXSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcFZhbFtpXSA9PT0gJ3N0cmluZycgJiYgIWFycmF5LmluY2x1ZGVzKHByb3BWYWxbaV0udG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGFycmF5LnB1c2gocHJvcFZhbFtpXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wVmFsW2ldID09PSAnbnVtYmVyJyAmJiBhcnJheS5pbmNsdWRlcyhwcm9wVmFsW2ldKSB8fCB0eXBlb2YgcHJvcFZhbFtpXSA9PT0gJ3N0cmluZycgJiYgYXJyYXkuaW5jbHVkZXMocHJvcFZhbFtpXS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVmFsdWVzIGFscmVhZHkgaW5jbHVkZWQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQXJyYXkgc3VwcG9ydHMgb25seSBzdHJpbmcgb3IgbnVtYmVyIHR5cGUgdmFsdWVzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIFVwZGF0ZSBnbG9iYWxQcm9maWxlTWFwIHdpdGggdGhlIGFycmF5XG5cblxuICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XSA9IGFycmF5O1xuICAgICAgfSAvLyBTYXZlIHRvIGxvY2FsIHN0b3JhZ2Ugb3IgY29va2llXG5cblxuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQUl9DT09LSUUsICRjdC5nbG9iYWxQcm9maWxlTWFwKTsgLy8gQ2FsbCB0aGUgc2VuZE11bHRpVmFsdWVEYXRhIGZ1bmN0aW9uXG5cbiAgICAgIHRoaXMuc2VuZE11bHRpVmFsdWVEYXRhKHByb3BLZXksIHByb3BWYWwsIGNvbW1hbmQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBwcm9wS2V5XG4gICAgICogQHBhcmFtIHtzdHJpbmcsIG51bWJlciwgYXJyYXl9IHByb3BWYWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAqIHJlbW92ZXMgdmFsdWUocykgYWdhaW5zdCBhIGtleS9wcm9wZXJ0eSBpbiBwcm9maWxlIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBfaGFuZGxlTXVsdGlWYWx1ZVJlbW92ZShwcm9wS2V5LCBwcm9wVmFsLCBjb21tYW5kKSB7XG4gICAgICB2YXIgXyRjdCRnbG9iYWxQcm9maWxlTWFwMjtcblxuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoJGN0ID09PSBudWxsIHx8ICRjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDIgPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcCkgPT09IG51bGwgfHwgXyRjdCRnbG9iYWxQcm9maWxlTWFwMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRjdCRnbG9iYWxQcm9maWxlTWFwMi5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZSBwcm9wZXJ0eSBcIi5jb25jYXQocHJvcEtleSwgXCIgZG9lcyBub3QgZXhpc3QuXCIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvcFZhbCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHByb3BWYWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0uaW5kZXhPZihwcm9wVmFsKTtcblxuICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcHJvcFZhbC5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgdmFyIGlkeCA9ICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldLmluZGV4T2YocHJvcFZhbFtrXSk7XG5cbiAgICAgICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFBSX0NPT0tJRSwgJGN0Lmdsb2JhbFByb2ZpbGVNYXApO1xuICAgICAgdGhpcy5zZW5kTXVsdGlWYWx1ZURhdGEocHJvcEtleSwgcHJvcFZhbCwgY29tbWFuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IHByb3BLZXlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAqIGRlbGV0ZXMgYSBrZXkgdmFsdWUgcGFpciBmcm9tIHRoZSBwcm9maWxlIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBfaGFuZGxlTXVsdGlWYWx1ZURlbGV0ZShwcm9wS2V5LCBjb21tYW5kKSB7XG4gICAgICB2YXIgXyRjdCRnbG9iYWxQcm9maWxlTWFwMztcblxuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoJGN0ID09PSBudWxsIHx8ICRjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDMgPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcCkgPT09IG51bGwgfHwgXyRjdCRnbG9iYWxQcm9maWxlTWFwMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRjdCRnbG9iYWxQcm9maWxlTWFwMy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZSBwcm9wZXJ0eSBcIi5jb25jYXQocHJvcEtleSwgXCIgZG9lcyBub3QgZXhpc3QuXCIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XTtcbiAgICAgIH1cblxuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQUl9DT09LSUUsICRjdC5nbG9iYWxQcm9maWxlTWFwKTtcbiAgICAgIHRoaXMuc2VuZE11bHRpVmFsdWVEYXRhKHByb3BLZXksIG51bGwsIGNvbW1hbmQpO1xuICAgIH1cblxuICAgIHNlbmRNdWx0aVZhbHVlRGF0YShwcm9wS2V5LCBwcm9wVmFsLCBjb21tYW5kKSB7XG4gICAgICAvLyBTZW5kIHRoZSB1cGRhdGVkIHZhbHVlIHRvIExDXG4gICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgY29uc3QgcHJvZmlsZU9iaiA9IHt9O1xuICAgICAgZGF0YS50eXBlID0gJ3Byb2ZpbGUnOyAvLyB0aGlzIHJlbW92ZXMgdGhlIHByb3BlcnR5IGF0IGJhY2tlbmRcblxuICAgICAgcHJvZmlsZU9ialtwcm9wS2V5XSA9IHtcbiAgICAgICAgW2NvbW1hbmRdOiBjb21tYW5kID09PSBDT01NQU5EX0RFTEVURSA/IHRydWUgOiBwcm9wVmFsXG4gICAgICB9O1xuXG4gICAgICBpZiAocHJvZmlsZU9iai50eiA9PSBudWxsKSB7XG4gICAgICAgIHByb2ZpbGVPYmoudHogPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkubWF0Y2goLyhbQS1aXStbXFwrLV1bMC05XSspLylbMV07XG4gICAgICB9XG5cbiAgICAgIGRhdGEucHJvZmlsZSA9IHByb2ZpbGVPYmo7XG4gICAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB0cnVlKTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLmFkZEZsYWdzKGRhdGEpO1xuXG4gICAgICBjb25zdCBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMylbX2xvZ2dlciQzXSk7XG5cbiAgICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudClbX2FjY291bnRdLmRhdGFQb3N0VVJMO1xuXG4gICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QVVNIKTtcbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NlZERhdGEpO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfcHJvY2Vzc1Byb2ZpbGVBcnJheTIgPSBmdW5jdGlvbiBfcHJvY2Vzc1Byb2ZpbGVBcnJheTIocHJvZmlsZUFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb2ZpbGVBcnIpICYmIHByb2ZpbGVBcnIubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBpbmRleCBpbiBwcm9maWxlQXJyKSB7XG4gICAgICAgIGlmIChwcm9maWxlQXJyLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgIGNvbnN0IG91dGVyT2JqID0gcHJvZmlsZUFycltpbmRleF07XG4gICAgICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgICAgICBsZXQgcHJvZmlsZU9iajtcblxuICAgICAgICAgIGlmIChvdXRlck9iai5TaXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG9yZ2FuaWMgZGF0YSBmcm9tIHRoZSBzaXRlXG4gICAgICAgICAgICBwcm9maWxlT2JqID0gb3V0ZXJPYmouU2l0ZTtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0RW1wdHkocHJvZmlsZU9iaikgfHwgIWlzUHJvZmlsZVZhbGlkKHByb2ZpbGVPYmosIHtcbiAgICAgICAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQzKVtfbG9nZ2VyJDNdXG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChvdXRlck9iai5GYWNlYm9vayAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBmYiBjb25uZWN0IGRhdGFcbiAgICAgICAgICAgIGNvbnN0IEZiUHJvZmlsZU9iaiA9IG91dGVyT2JqLkZhY2Vib29rOyAvLyBtYWtlIHN1cmUgdGhhdCB0aGUgb2JqZWN0IGNvbnRhaW5zIGFueSBkYXRhIGF0IGFsbFxuXG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0RW1wdHkoRmJQcm9maWxlT2JqKSAmJiAhRmJQcm9maWxlT2JqLmVycm9yKSB7XG4gICAgICAgICAgICAgIHByb2ZpbGVPYmogPSBwcm9jZXNzRkJVc2VyT2JqKEZiUHJvZmlsZU9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChvdXRlck9ialsnR29vZ2xlIFBsdXMnXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBHUGx1c1Byb2ZpbGVPYmogPSBvdXRlck9ialsnR29vZ2xlIFBsdXMnXTtcblxuICAgICAgICAgICAgaWYgKCFpc09iamVjdEVtcHR5KEdQbHVzUHJvZmlsZU9iaikgJiYgIUdQbHVzUHJvZmlsZU9iai5lcnJvcikge1xuICAgICAgICAgICAgICBwcm9maWxlT2JqID0gcHJvY2Vzc0dQbHVzVXNlck9iaihHUGx1c1Byb2ZpbGVPYmosIHtcbiAgICAgICAgICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDMpW19sb2dnZXIkM11cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVPYmogIT0gbnVsbCAmJiAhaXNPYmplY3RFbXB0eShwcm9maWxlT2JqKSkge1xuICAgICAgICAgICAgLy8gcHJvZmlsZSBnb3Qgc2V0IGZyb20gYWJvdmVcbiAgICAgICAgICAgIGRhdGEudHlwZSA9ICdwcm9maWxlJztcblxuICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmoudHogPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyB0cnkgdG8gYXV0byBjYXB0dXJlIHVzZXIgdGltZXpvbmUgaWYgbm90IHByZXNlbnRcbiAgICAgICAgICAgICAgcHJvZmlsZU9iai50eiA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKS5tYXRjaCgvKFtBLVpdK1tcXCstXVswLTldKykvKVsxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcbiAgICAgICAgICAgIGFkZFRvTG9jYWxQcm9maWxlTWFwKHByb2ZpbGVPYmosIHRydWUpO1xuICAgICAgICAgICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLmFkZEZsYWdzKGRhdGEpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMylbX2xvZ2dlciQzXSk7XG5cbiAgICAgICAgICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudClbX2FjY291bnRdLmRhdGFQb3N0VVJMO1xuXG4gICAgICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QVVNIKTtcbiAgICAgICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NlZERhdGEpO1xuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIF9yZXF1ZXN0JDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF9sb2dnZXIkNCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfYWNjb3VudCQxID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY2NvdW50XCIpO1xuXG4gIHZhciBfc2Vzc2lvbiQxID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXNzaW9uXCIpO1xuXG4gIHZhciBfb2xkVmFsdWVzJDIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9sZFZhbHVlc1wiKTtcblxuICB2YXIgX2RldmljZSQxID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkZXZpY2VcIik7XG5cbiAgdmFyIF9wcm9jZXNzT1VMID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzT1VMXCIpO1xuXG4gIHZhciBfaGFuZGxlQ29va2llRnJvbUNhY2hlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJoYW5kbGVDb29raWVGcm9tQ2FjaGVcIik7XG5cbiAgdmFyIF9kZWxldGVVc2VyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkZWxldGVVc2VyXCIpO1xuXG4gIHZhciBfcHJvY2Vzc0xvZ2luQXJyYXkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInByb2Nlc3NMb2dpbkFycmF5XCIpO1xuXG4gIGNsYXNzIFVzZXJMb2dpbkhhbmRsZXIgZXh0ZW5kcyBBcnJheSB7XG4gICAgY29uc3RydWN0b3IoX3JlZiwgdmFsdWVzKSB7XG4gICAgICBsZXQge1xuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBhY2NvdW50LFxuICAgICAgICBzZXNzaW9uLFxuICAgICAgICBsb2dnZXIsXG4gICAgICAgIGRldmljZVxuICAgICAgfSA9IF9yZWY7XG4gICAgICBzdXBlcigpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9wcm9jZXNzTG9naW5BcnJheSwge1xuICAgICAgICB2YWx1ZTogX3Byb2Nlc3NMb2dpbkFycmF5MlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RlbGV0ZVVzZXIsIHtcbiAgICAgICAgdmFsdWU6IF9kZWxldGVVc2VyMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2hhbmRsZUNvb2tpZUZyb21DYWNoZSwge1xuICAgICAgICB2YWx1ZTogX2hhbmRsZUNvb2tpZUZyb21DYWNoZTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9wcm9jZXNzT1VMLCB7XG4gICAgICAgIHZhbHVlOiBfcHJvY2Vzc09VTDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXF1ZXN0JDMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkNCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnQkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Nlc3Npb24kMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29sZFZhbHVlcyQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGV2aWNlJDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDMpW19yZXF1ZXN0JDNdID0gcmVxdWVzdDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQxKVtfYWNjb3VudCQxXSA9IGFjY291bnQ7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMSlbX3Nlc3Npb24kMV0gPSBzZXNzaW9uO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDIpW19vbGRWYWx1ZXMkMl0gPSB2YWx1ZXM7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQxKVtfZGV2aWNlJDFdID0gZGV2aWNlO1xuICAgIH0gLy8gT24gVXNlciBMb2dpblxuXG5cbiAgICBjbGVhcigpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDQpW19sb2dnZXIkNF0uZGVidWcoJ2NsZWFyIGNhbGxlZC4gUmVzZXQgZmxhZyBoYXMgYmVlbiBzZXQuJyk7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGVsZXRlVXNlcilbX2RlbGV0ZVVzZXJdKCk7XG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKENMRUFSLCB0cnVlKTtcbiAgICB9XG5cbiAgICBwdXNoKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb2ZpbGVzQXJyID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBwcm9maWxlc0Fycltfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzTG9naW5BcnJheSlbX3Byb2Nlc3NMb2dpbkFycmF5XShwcm9maWxlc0Fycik7XG5cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIF9wcm9jZXNzT2xkVmFsdWVzKCkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDIpW19vbGRWYWx1ZXMkMl0pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzTG9naW5BcnJheSlbX3Byb2Nlc3NMb2dpbkFycmF5XShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQyKVtfb2xkVmFsdWVzJDJdKTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMilbX29sZFZhbHVlcyQyXSA9IG51bGw7XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX3Byb2Nlc3NPVUwyID0gZnVuY3Rpb24gX3Byb2Nlc3NPVUwyKHByb2ZpbGVBcnIpIHtcbiAgICBsZXQgc2VuZE9VTEZsYWcgPSB0cnVlO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoRklSRV9QVVNIX1VOUkVHSVNURVJFRCwgc2VuZE9VTEZsYWcpO1xuXG4gICAgY29uc3QgYWRkVG9LID0gaWRzID0+IHtcbiAgICAgIGxldCBrID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEtDT09LSUVfTkFNRSk7XG4gICAgICBjb25zdCBnID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEdDT09LSUVfTkFNRSk7XG4gICAgICBsZXQga0lkO1xuXG4gICAgICBpZiAoayA9PSBudWxsKSB7XG4gICAgICAgIGsgPSB7fTtcbiAgICAgICAga0lkID0gaWRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyogY2hlY2sgaWYgYWxyZWFkeSBleGlzdHMgKi9cbiAgICAgICAga0lkID0gay5pZDtcbiAgICAgICAgbGV0IGFub255bW91c1VzZXIgPSBmYWxzZTtcbiAgICAgICAgbGV0IGZvdW5kSW5DYWNoZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChrSWQgPT0gbnVsbCkge1xuICAgICAgICAgIGtJZCA9IGlkc1swXTtcbiAgICAgICAgICBhbm9ueW1vdXNVc2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkY3QuTFJVX0NBQ0hFID09IG51bGwgJiYgU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAkY3QuTFJVX0NBQ0hFID0gbmV3IExSVUNhY2hlKExSVV9DQUNIRV9TSVpFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbm9ueW1vdXNVc2VyKSB7XG4gICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaWYgaGF2ZSBnY29va2llXG4gICAgICAgICAgICAkY3QuTFJVX0NBQ0hFLnNldChrSWQsIGcpO1xuICAgICAgICAgICAgJGN0LmJsb2NrUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgaWQgaXMgcHJlc2VudCBpbiB0aGUgY2FjaGVcbiAgICAgICAgICAvLyBzZXQgZm91bmRJbkNhY2hlIHRvIHRydWVcbiAgICAgICAgICBmb3IgKGNvbnN0IGlkeCBpbiBpZHMpIHtcbiAgICAgICAgICAgIGlmIChpZHMuaGFzT3duUHJvcGVydHkoaWR4KSkge1xuICAgICAgICAgICAgICBjb25zdCBpZCA9IGlkc1tpZHhdO1xuXG4gICAgICAgICAgICAgIGlmICgkY3QuTFJVX0NBQ0hFLmNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIGtJZCA9IGlkO1xuICAgICAgICAgICAgICAgIGZvdW5kSW5DYWNoZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm91bmRJbkNhY2hlKSB7XG4gICAgICAgICAgaWYgKGtJZCAhPT0gJGN0LkxSVV9DQUNIRS5nZXRMYXN0S2V5KCkpIHtcbiAgICAgICAgICAgIC8vIE5ldyBVc2VyIGZvdW5kXG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIGVudGlyZSBjYWNoZVxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9oYW5kbGVDb29raWVGcm9tQ2FjaGUpW19oYW5kbGVDb29raWVGcm9tQ2FjaGVdKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmRPVUxGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQsIHNlbmRPVUxGbGFnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBnRnJvbUNhY2hlID0gJGN0LkxSVV9DQUNIRS5nZXQoa0lkKTtcbiAgICAgICAgICAkY3QuTFJVX0NBQ0hFLnNldChrSWQsIGdGcm9tQ2FjaGUpO1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoR0NPT0tJRV9OQU1FLCBnRnJvbUNhY2hlKTtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQxKVtfZGV2aWNlJDFdLmdjb29raWUgPSBnRnJvbUNhY2hlO1xuICAgICAgICAgIGNvbnN0IGxhc3RLID0gJGN0LkxSVV9DQUNIRS5nZXRTZWNvbmRMYXN0S2V5KCk7XG5cbiAgICAgICAgICBpZiAoU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQpICYmIGxhc3RLICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gQ0FDSEVEIE9MRCBVU0VSIEZPVU5ELiBUUkFOU0ZFUiBQVVNIIFRPS0VOIFRPIFRISVMgVVNFUlxuICAgICAgICAgICAgY29uc3QgbGFzdEdVSUQgPSAkY3QuTFJVX0NBQ0hFLmNhY2hlW2xhc3RLXTtcblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDMpW19yZXF1ZXN0JDNdLnVucmVnaXN0ZXJUb2tlbkZvckd1aWQobGFzdEdVSUQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWFub255bW91c1VzZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQxKVtfZGV2aWNlJDFdLmdjb29raWUgPSBnO1xuICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgZyk7XG4gICAgICAgICAgICAgIHNlbmRPVUxGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShGSVJFX1BVU0hfVU5SRUdJU1RFUkVELCBmYWxzZSk7XG4gICAgICAgICAga0lkID0gaWRzWzBdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGsuaWQgPSBrSWQ7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEtDT09LSUVfTkFNRSwgayk7XG4gICAgfTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHByb2ZpbGVBcnIpICYmIHByb2ZpbGVBcnIubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBpbmRleCBpbiBwcm9maWxlQXJyKSB7XG4gICAgICAgIGlmIChwcm9maWxlQXJyLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgIGNvbnN0IG91dGVyT2JqID0gcHJvZmlsZUFycltpbmRleF07XG4gICAgICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgICAgICBsZXQgcHJvZmlsZU9iajtcblxuICAgICAgICAgIGlmIChvdXRlck9iai5TaXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG9yZ2FuaWMgZGF0YSBmcm9tIHRoZSBzaXRlXG4gICAgICAgICAgICBwcm9maWxlT2JqID0gb3V0ZXJPYmouU2l0ZTtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0RW1wdHkocHJvZmlsZU9iaikgfHwgIWlzUHJvZmlsZVZhbGlkKHByb2ZpbGVPYmosIHtcbiAgICAgICAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdXG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChvdXRlck9iai5GYWNlYm9vayAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBmYiBjb25uZWN0IGRhdGFcbiAgICAgICAgICAgIGNvbnN0IEZiUHJvZmlsZU9iaiA9IG91dGVyT2JqLkZhY2Vib29rOyAvLyBtYWtlIHN1cmUgdGhhdCB0aGUgb2JqZWN0IGNvbnRhaW5zIGFueSBkYXRhIGF0IGFsbFxuXG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0RW1wdHkoRmJQcm9maWxlT2JqKSAmJiAhRmJQcm9maWxlT2JqLmVycm9yKSB7XG4gICAgICAgICAgICAgIHByb2ZpbGVPYmogPSBwcm9jZXNzRkJVc2VyT2JqKEZiUHJvZmlsZU9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChvdXRlck9ialsnR29vZ2xlIFBsdXMnXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBHUGx1c1Byb2ZpbGVPYmogPSBvdXRlck9ialsnR29vZ2xlIFBsdXMnXTtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0RW1wdHkoR1BsdXNQcm9maWxlT2JqKSAmJiAhR1BsdXNQcm9maWxlT2JqLmVycm9yKSB7XG4gICAgICAgICAgICAgIHByb2ZpbGVPYmogPSBwcm9jZXNzR1BsdXNVc2VyT2JqKEdQbHVzUHJvZmlsZU9iaiwge1xuICAgICAgICAgICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZU9iaiAhPSBudWxsICYmICFpc09iamVjdEVtcHR5KHByb2ZpbGVPYmopKSB7XG4gICAgICAgICAgICAvLyBwcm9maWxlIGdvdCBzZXQgZnJvbSBhYm92ZVxuICAgICAgICAgICAgZGF0YS50eXBlID0gJ3Byb2ZpbGUnO1xuXG4gICAgICAgICAgICBpZiAocHJvZmlsZU9iai50eiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIHRyeSB0byBhdXRvIGNhcHR1cmUgdXNlciB0aW1lem9uZSBpZiBub3QgcHJlc2VudFxuICAgICAgICAgICAgICBwcm9maWxlT2JqLnR6ID0gbmV3IERhdGUoKS50b1N0cmluZygpLm1hdGNoKC8oW0EtWl0rW1xcKy1dWzAtOV0rKS8pWzFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnByb2ZpbGUgPSBwcm9maWxlT2JqO1xuICAgICAgICAgICAgY29uc3QgaWRzID0gW107XG5cbiAgICAgICAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICBpZiAocHJvZmlsZU9iai5JZGVudGl0eSkge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKHByb2ZpbGVPYmouSWRlbnRpdHkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmouRW1haWwpIHtcbiAgICAgICAgICAgICAgICBpZHMucHVzaChwcm9maWxlT2JqLkVtYWlsKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChwcm9maWxlT2JqLkdQSUQpIHtcbiAgICAgICAgICAgICAgICBpZHMucHVzaCgnR1A6JyArIHByb2ZpbGVPYmouR1BJRCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocHJvZmlsZU9iai5GQklEKSB7XG4gICAgICAgICAgICAgICAgaWRzLnB1c2goJ0ZCOicgKyBwcm9maWxlT2JqLkZCSUQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWRkVG9LKGlkcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkVG9Mb2NhbFByb2ZpbGVNYXAocHJvZmlsZU9iaiwgdHJ1ZSk7XG4gICAgICAgICAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDMpW19yZXF1ZXN0JDNdLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMylbX3JlcXVlc3QkM10uYWRkRmxhZ3MoZGF0YSk7IC8vIEFkZGluZyAnaXNPVUwnIGZsYWcgaW4gdHJ1ZSBmb3IgT1VMIGNhc2VzIHdoaWNoLlxuICAgICAgICAgICAgLy8gVGhpcyBmbGFnIHRlbGxzIExDIHRvIGNyZWF0ZSBhIG5ldyBhcnAgb2JqZWN0LlxuICAgICAgICAgICAgLy8gQWxzbyB3ZSB3aWxsIHJlY2VpdmUgdGhlIHNhbWUgZmxhZyBpbiByZXNwb25zZSBhcnAgd2hpY2ggdGVsbHMgdG8gZGVsZXRlIGV4aXN0aW5nIGFycCBvYmplY3QuXG5cblxuICAgICAgICAgICAgaWYgKHNlbmRPVUxGbGFnKSB7XG4gICAgICAgICAgICAgIGRhdGFbSVNfT1VMXSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWREYXRhID0gY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdKTtcblxuICAgICAgICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDEpW19hY2NvdW50JDFdLmRhdGFQb3N0VVJMO1xuXG4gICAgICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QVVNIKTtcbiAgICAgICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NlZERhdGEpOyAvLyBXaGVuZXZlciBzZW5kT1VMRmxhZyBpcyB0cnVlIHRoZW4gZG9udCBzZW5kIGFycCBhbmQgZ2Nvb2tpZSAoZ3VpZCBpbiBtZW1vcnkgaW4gdGhlIHJlcXVlc3QpXG4gICAgICAgICAgICAvLyBBbHNvIHdoZW4gdGhpcyBmbGFnIGlzIHNldCB3ZSB3aWxsIGdldCBhbm90aGVyIGZsYWcgZnJvbSBMQyBpbiBhcnAgd2hpY2ggdGVsbHMgdXMgdG8gZGVsZXRlIGFycFxuICAgICAgICAgICAgLy8gc3RvcmVkIGluIHRoZSBjYWNoZSBhbmQgcmVwbGFjZSBpdCB3aXRoIHRoZSByZXNwb25zZSBhcnAuXG5cbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQzKVtfcmVxdWVzdCQzXS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QsIHNlbmRPVUxGbGFnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIF9oYW5kbGVDb29raWVGcm9tQ2FjaGUyID0gZnVuY3Rpb24gX2hhbmRsZUNvb2tpZUZyb21DYWNoZTIoKSB7XG4gICAgJGN0LmJsb2NrUmVxdWVzdCA9IGZhbHNlO1xuICAgIGNvbnNvbGUuZGVidWcoJ0Jsb2NrIHJlcXVlc3QgaXMgZmFsc2UnKTtcblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtQUl9DT09LSUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtFVl9DT09LSUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtNRVRBX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0FSUF9DT09LSUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtDQU1QX0NPT0tJRV9OQU1FXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbQ0hBUkdFRElEX0NPT0tJRV9OQU1FXTtcbiAgICB9XG5cbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoQ0FNUF9DT09LSUVfTkFNRSwgZ2V0SG9zdE5hbWUoKSk7XG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQxKVtfc2Vzc2lvbiQxXS5jb29raWVOYW1lLCAkY3QuYnJvYWREb21haW4pO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShBUlBfQ09PS0lFLCAkY3QuYnJvYWREb21haW4pO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDEpW19zZXNzaW9uJDFdLnNldFNlc3Npb25Db29raWVPYmplY3QoJycpO1xuICB9O1xuXG4gIHZhciBfZGVsZXRlVXNlcjIgPSBmdW5jdGlvbiBfZGVsZXRlVXNlcjIoKSB7XG4gICAgJGN0LmJsb2NrUmVxdWVzdCA9IHRydWU7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdLmRlYnVnKCdCbG9jayByZXF1ZXN0IGlzIHRydWUnKTtcblxuICAgICRjdC5nbG9iYWxDYWNoZSA9IHtcbiAgICAgIGdjb29raWU6IG51bGwsXG4gICAgICBSRVFfTjogMCxcbiAgICAgIFJFU1BfTjogMFxuICAgIH07XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbR0NPT0tJRV9OQU1FXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbS0NPT0tJRV9OQU1FXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbUFJfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbRVZfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbTUVUQV9DT09LSUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtBUlBfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbQ0FNUF9DT09LSUVfTkFNRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0NIQVJHRURJRF9DT09LSUVfTkFNRV07XG4gICAgfVxuXG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKEdDT09LSUVfTkFNRSwgJGN0LmJyb2FkRG9tYWluKTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoQ0FNUF9DT09LSUVfTkFNRSwgZ2V0SG9zdE5hbWUoKSk7XG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKEtDT09LSUVfTkFNRSwgZ2V0SG9zdE5hbWUoKSk7XG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQxKVtfc2Vzc2lvbiQxXS5jb29raWVOYW1lLCAkY3QuYnJvYWREb21haW4pO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShBUlBfQ09PS0lFLCAkY3QuYnJvYWREb21haW4pO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDEpW19kZXZpY2UkMV0uZ2Nvb2tpZSA9IG51bGw7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMSlbX3Nlc3Npb24kMV0uc2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgnJyk7XG4gIH07XG5cbiAgdmFyIF9wcm9jZXNzTG9naW5BcnJheTIgPSBmdW5jdGlvbiBfcHJvY2Vzc0xvZ2luQXJyYXkyKGxvZ2luQXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobG9naW5BcnIpICYmIGxvZ2luQXJyLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHByb2ZpbGVPYmogPSBsb2dpbkFyci5wb3AoKTtcbiAgICAgIGNvbnN0IHByb2Nlc3NQcm9maWxlID0gcHJvZmlsZU9iaiAhPSBudWxsICYmIGlzT2JqZWN0KHByb2ZpbGVPYmopICYmIChwcm9maWxlT2JqLlNpdGUgIT0gbnVsbCAmJiBPYmplY3Qua2V5cyhwcm9maWxlT2JqLlNpdGUpLmxlbmd0aCA+IDAgfHwgcHJvZmlsZU9iai5GYWNlYm9vayAhPSBudWxsICYmIE9iamVjdC5rZXlzKHByb2ZpbGVPYmouRmFjZWJvb2spLmxlbmd0aCA+IDAgfHwgcHJvZmlsZU9ialsnR29vZ2xlIFBsdXMnXSAhPSBudWxsICYmIE9iamVjdC5rZXlzKHByb2ZpbGVPYmpbJ0dvb2dsZSBQbHVzJ10pLmxlbmd0aCA+IDApO1xuXG4gICAgICBpZiAocHJvY2Vzc1Byb2ZpbGUpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0SW5zdGFudERlbGV0ZUZsYWdJbksoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc09VTClbX3Byb2Nlc3NPVUxdKFtwcm9maWxlT2JqXSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdLmRlYnVnKGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdLmVycm9yKCdQcm9maWxlIG9iamVjdCBpcyBpbiBpbmNvcnJlY3QgZm9ybWF0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNsYXNzIENUV2ViUGVyc29uYWxpc2F0aW9uQmFubmVyIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuX2RldGFpbHMgPSBudWxsO1xuICAgICAgdGhpcy5zaGFkb3cgPSBudWxsO1xuICAgICAgdGhpcy5zaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7XG4gICAgICAgIG1vZGU6ICdvcGVuJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IGRldGFpbHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGV0YWlscyB8fCAnJztcbiAgICB9XG5cbiAgICBzZXQgZGV0YWlscyh2YWwpIHtcbiAgICAgIGlmICh0aGlzLl9kZXRhaWxzID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2RldGFpbHMgPSB2YWw7XG4gICAgICAgIHRoaXMucmVuZGVyQmFubmVyKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyQmFubmVyKCkge1xuICAgICAgdGhpcy5zaGFkb3cuaW5uZXJIVE1MID0gdGhpcy5nZXRCYW5uZXJDb250ZW50KCk7XG5cbiAgICAgIGlmICh0aGlzLnRyYWNrQ2xpY2sgIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgb25DbGlja1VybCA9IHRoaXMuZGV0YWlscy5vbkNsaWNrO1xuXG4gICAgICAgICAgaWYgKG9uQ2xpY2tVcmwpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlscy53aW5kb3cgPyB3aW5kb3cub3BlbihvbkNsaWNrVXJsLCAnX2JsYW5rJykgOiB3aW5kb3cucGFyZW50LmxvY2F0aW9uLmhyZWYgPSBvbkNsaWNrVXJsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uQ2xpY2tlZCh7XG4gICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCxcbiAgICAgICAgICAgIHBpdm90SWQ6IHRoaXMucGl2b3RJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQoe1xuICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCxcbiAgICAgICAgcGl2b3RJZDogdGhpcy5waXZvdElkXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRCYW5uZXJDb250ZW50KCkge1xuICAgICAgcmV0dXJuIFwiXFxuICAgICAgPHN0eWxlIHR5cGU9XFxcInRleHQvY3NzXFxcIj5cXG4gICAgICAgIC5iYW5uZXIge1xcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICAgIGN1cnNvcjogXCIuY29uY2F0KHRoaXMuZGV0YWlscy5vbkNsaWNrID8gJ3BvaW50ZXInIDogJycsIFwiXFxuICAgICAgICB9XFxuICAgICAgICBpbWcge1xcbiAgICAgICAgICBoZWlnaHQ6IFwiKS5jb25jYXQodGhpcy5kaXZIZWlnaHQgPyB0aGlzLmRpdkhlaWdodCA6ICdhdXRvJywgXCI7XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgfVxcbiAgICAgICAgLndyYXBwZXI6aXMoLmxlZnQsIC5yaWdodCwgLmNlbnRlcikge1xcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICBvdmVyZmxvdzogYXV0bztcXG4gICAgICAgICAgdG9wOiAwO1xcbiAgICAgICAgfVxcbiAgICAgICAgXCIpLmNvbmNhdCh0aGlzLmRldGFpbHMuY3NzID8gdGhpcy5kZXRhaWxzLmNzcyA6ICcnLCBcIlxcbiAgICAgIDwvc3R5bGU+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiYmFubmVyXFxcIj5cXG4gICAgICAgIDxwaWN0dXJlPlxcbiAgICAgICAgICA8c291cmNlIG1lZGlhPVxcXCIobWluLXdpZHRoOjQ4MHB4KVxcXCIgc3Jjc2V0PVxcXCJcIikuY29uY2F0KHRoaXMuZGV0YWlscy5kZXNrdG9wSW1hZ2VVUkwsIFwiXFxcIj5cXG4gICAgICAgICAgPHNvdXJjZSBzcmNzZXQ9XFxcIlwiKS5jb25jYXQodGhpcy5kZXRhaWxzLm1vYmlsZUltYWdlVVJMLCBcIlxcXCI+XFxuICAgICAgICAgIDxpbWcgc3JjPVxcXCJcIikuY29uY2F0KHRoaXMuZGV0YWlscy5kZXNrdG9wSW1hZ2VVUkwsIFwiXFxcIiBhbHQ9XFxcIlBsZWFzZSB1cGxvYWQgYSBwaWN0dXJlXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiIHBhcnQ9XFxcImJhbm5lcl9faW1nXFxcIj5cXG4gICAgICAgIDwvcGljdHVyZT5cXG4gICAgICAgIFwiKS5jb25jYXQodGhpcy5kZXRhaWxzLmh0bWwgPyB0aGlzLmRldGFpbHMuaHRtbCA6ICcnLCBcIlxcbiAgICAgIDwvZGl2PlxcbiAgICBcIik7XG4gICAgfVxuXG4gIH1cblxuICBjbGFzcyBDVFdlYlBlcnNvbmFsaXNhdGlvbkNhcm91c2VsIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgICB0aGlzLl9jYXJvdXNlbCA9IG51bGw7XG4gICAgICB0aGlzLnNoYWRvdyA9IG51bGw7XG4gICAgICB0aGlzLnNsaWRlcyA9IDA7XG4gICAgICB0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW0gPSAtMTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gMTtcbiAgICAgIHRoaXMuYXV0b1NsaWRlID0gbnVsbDtcbiAgICAgIHRoaXMuc3RvcEF1dG9TbGlkZVRpbWVvdXQgPSBudWxsO1xuICAgICAgdGhpcy5zaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7XG4gICAgICAgIG1vZGU6ICdvcGVuJ1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChjdXN0b21FbGVtZW50cy5nZXQoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyJywgQ1RXZWJQZXJzb25hbGlzYXRpb25CYW5uZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0IHx8ICcnO1xuICAgIH1cblxuICAgIHNldCB0YXJnZXQodmFsKSB7XG4gICAgICBpZiAodGhpcy5fdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHZhbDtcbiAgICAgICAgdGhpcy5yZW5kZXJDYXJvdXNlbCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldCBkZXRhaWxzKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0LmRpc3BsYXkuZGV0YWlscztcbiAgICB9XG5cbiAgICBnZXQgZGlzcGxheSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhcmdldC5kaXNwbGF5O1xuICAgIH1cblxuICAgIHJlbmRlckNhcm91c2VsKCkge1xuICAgICAgdGhpcy5zbGlkZXMgPSB0aGlzLmRldGFpbHMubGVuZ3RoO1xuICAgICAgdGhpcy5zaGFkb3cuaW5uZXJIVE1MID0gdGhpcy5nZXRTdHlsZXMoKTtcbiAgICAgIGNvbnN0IGNhcm91c2VsID0gdGhpcy5nZXRDYXJvdXNlbENvbnRlbnQoKTtcblxuICAgICAgaWYgKHRoaXMuZGlzcGxheS5zaG93TmF2QnRucykge1xuICAgICAgICBjYXJvdXNlbC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHRoaXMuZGlzcGxheS5uYXZCdG5zSHRtbCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRpc3BsYXkuc2hvd05hdkFycm93cykge1xuICAgICAgICBjYXJvdXNlbC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHRoaXMuZGlzcGxheS5sZWZ0TmF2QXJyb3dIdG1sKTtcbiAgICAgICAgY2Fyb3VzZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCB0aGlzLmRpc3BsYXkucmlnaHROYXZBcnJvd0h0bWwpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jYXJvdXNlbCA9IGNhcm91c2VsO1xuICAgICAgdGhpcy5zaGFkb3cuYXBwZW5kQ2hpbGQoY2Fyb3VzZWwpO1xuICAgICAgdGhpcy5zZXR1cENsaWNrKCk7XG4gICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkSXRlbSgpOyAvLyBUT0RPOiBlbmFibGUgY29uZGl0aW9uYWxseVxuXG4gICAgICB0aGlzLnN0YXJ0QXV0b1NsaWRlKCk7XG4gICAgICB0aGlzLnNldHVwT25Ib3ZlcigpO1xuICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQoe1xuICAgICAgICBtc2dJZDogdGhpcy50YXJnZXQud3pya19pZCxcbiAgICAgICAgcGl2b3RJZDogdGhpcy50YXJnZXQud3pya19waXZvdFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0dXBDbGljaygpIHtcbiAgICAgIHRoaXMuX2Nhcm91c2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xuICAgICAgICBjb25zdCBldmVudElEID0gZXZlbnQudGFyZ2V0LmlkO1xuXG4gICAgICAgIGlmIChldmVudElELnN0YXJ0c1dpdGgoJ2Nhcm91c2VsX19idXR0b24nKSkge1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gK2V2ZW50SUQuc3BsaXQoJy0nKVsxXTtcblxuICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gdGhpcy5zZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNseVNlbGVjdGVkSXRlbSA9IHRoaXMuc2VsZWN0ZWRJdGVtO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBzZWxlY3RlZDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRJdGVtKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0QXV0b1NsaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50SUQuc3RhcnRzV2l0aCgnY2Fyb3VzZWxfX2Fycm93JykpIHtcbiAgICAgICAgICBldmVudElELmVuZHNXaXRoKCdyaWdodCcpID8gdGhpcy5nb1RvTmV4dCgpIDogdGhpcy5nb1RvUHJldigpO1xuICAgICAgICAgIHRoaXMuc3RhcnRBdXRvU2xpZGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudElELmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9ICtldmVudElELnNwbGl0KCctJylbMV07XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBpdGVtIC0gMTtcblxuICAgICAgICAgIGlmICh3aW5kb3cucGFyZW50LmNsZXZlcnRhcCkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1JhaXNlIG5vdGlmaWNhdGlvbiBjbGlja2VkIGV2ZW50IGZvciAnLCBpdGVtKVxuICAgICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25DbGlja2VkKHtcbiAgICAgICAgICAgICAgbXNnSWQ6IHRoaXMudGFyZ2V0Lnd6cmtfaWQsXG4gICAgICAgICAgICAgIHBpdm90SWQ6IHRoaXMudGFyZ2V0Lnd6cmtfcGl2b3QsXG4gICAgICAgICAgICAgIHd6cmtfc2xpZGVObzogaXRlbVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgdXJsID0gdGhpcy5kZXRhaWxzW2luZGV4XS5vbkNsaWNrO1xuXG4gICAgICAgICAgaWYgKHVybCAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsc1tpbmRleF0ud2luZG93ID8gd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJykgOiB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldHVwT25Ib3ZlcigpIHtcbiAgICAgIHRoaXMuX2Nhcm91c2VsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBldmVudCA9PiB7XG4gICAgICAgIHRoaXMuc3RvcEF1dG9TbGlkZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmF1dG9TbGlkZSA9IGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvU2xpZGUpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2Nhcm91c2VsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBldmVudCA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnN0b3BBdXRvU2xpZGVUaW1lb3V0KTtcblxuICAgICAgICBpZiAodGhpcy5hdXRvU2xpZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuc3RhcnRBdXRvU2xpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0Q2Fyb3VzZWxDb250ZW50KCkge1xuICAgICAgY29uc3QgY2Fyb3VzZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNhcm91c2VsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2Fyb3VzZWwnKTtcbiAgICAgIHRoaXMuZGV0YWlscy5mb3JFYWNoKChkZXRhaWwsIGkpID0+IHtcbiAgICAgICAgY29uc3QgYmFubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1iYW5uZXInKTtcbiAgICAgICAgYmFubmVyLmNsYXNzTGlzdC5hZGQoJ2Nhcm91c2VsX19pdGVtJyk7XG4gICAgICAgIGJhbm5lci50cmFja0NsaWNrID0gZmFsc2U7XG4gICAgICAgIGJhbm5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgXCJjYXJvdXNlbF9faXRlbS1cIi5jb25jYXQoaSArIDEpKTtcbiAgICAgICAgYmFubmVyLmRldGFpbHMgPSBkZXRhaWw7XG4gICAgICAgIGNhcm91c2VsLmFwcGVuZENoaWxkKGJhbm5lcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjYXJvdXNlbDtcbiAgICB9XG5cbiAgICBnZXRTdHlsZXMoKSB7XG4gICAgICB2YXIgX3RoaXMkdGFyZ2V0LCBfdGhpcyR0YXJnZXQkZGlzcGxheTtcblxuICAgICAgcmV0dXJuIFwiXFxuICAgICAgPHN0eWxlPlxcbiAgICAgIC5jYXJvdXNlbCB7XFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgfVxcblxcbiAgICAgIC5jYXJvdXNlbF9faXRlbSB7XFxuICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxuICAgICAgfVxcblxcbiAgICAgIGN0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyOjpwYXJ0KGJhbm5lcl9faW1nKSB7XFxuICAgICAgICBoZWlnaHQ6IFwiLmNvbmNhdCgodGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkdGFyZ2V0ID0gdGhpcy50YXJnZXQpID09PSBudWxsIHx8IF90aGlzJHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJHRhcmdldCRkaXNwbGF5ID0gX3RoaXMkdGFyZ2V0LmRpc3BsYXkpID09PSBudWxsIHx8IF90aGlzJHRhcmdldCRkaXNwbGF5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR0YXJnZXQkZGlzcGxheS5kaXZIZWlnaHQpID8gdGhpcy50YXJnZXQuZGlzcGxheS5kaXZIZWlnaHQgOiAnYXV0bycsIFwiO1xcbiAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICB0cmFuc2l0aW9uOiAycztcXG4gICAgICB9XFxuXFxuICAgICAgLmNhcm91c2VsX19pdGVtLS1zZWxlY3RlZCB7XFxuICAgICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICB9XFxuICAgICAgXCIpLmNvbmNhdCh0aGlzLmRpc3BsYXkubmF2QnRuc0NzcywgXCJcXG4gICAgICBcIikuY29uY2F0KHRoaXMuZGlzcGxheS5uYXZBcnJvd3NDc3MsIFwiXFxuICAgICAgPC9zdHlsZT5cXG4gIFwiKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTZWxlY3RlZEl0ZW0oKSB7XG4gICAgICBpZiAodGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtICE9PSAtMSkge1xuICAgICAgICBjb25zdCBwcmV2SXRlbSA9IHRoaXMuc2hhZG93LmdldEVsZW1lbnRCeUlkKFwiY2Fyb3VzZWxfX2l0ZW0tXCIuY29uY2F0KHRoaXMucHJldmlvdXNseVNlbGVjdGVkSXRlbSkpO1xuICAgICAgICBjb25zdCBwcmV2QnV0dG9uID0gdGhpcy5zaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXCJjYXJvdXNlbF9fYnV0dG9uLVwiLmNvbmNhdCh0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW0pKTtcbiAgICAgICAgcHJldkl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnY2Fyb3VzZWxfX2l0ZW0tLXNlbGVjdGVkJyk7XG5cbiAgICAgICAgaWYgKHByZXZCdXR0b24pIHtcbiAgICAgICAgICBwcmV2QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Nhcm91c2VsX19idXR0b24tLXNlbGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc2hhZG93LmdldEVsZW1lbnRCeUlkKFwiY2Fyb3VzZWxfX2l0ZW0tXCIuY29uY2F0KHRoaXMuc2VsZWN0ZWRJdGVtKSk7XG4gICAgICBjb25zdCBidXR0b24gPSB0aGlzLnNoYWRvdy5nZXRFbGVtZW50QnlJZChcImNhcm91c2VsX19idXR0b24tXCIuY29uY2F0KHRoaXMuc2VsZWN0ZWRJdGVtKSk7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2Nhcm91c2VsX19pdGVtLS1zZWxlY3RlZCcpO1xuXG4gICAgICBpZiAoYnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjYXJvdXNlbF9fYnV0dG9uLS1zZWxlY3RlZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0QXV0b1NsaWRlKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9TbGlkZSk7XG4gICAgICB0aGlzLmF1dG9TbGlkZSA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdGhpcy5nb1RvTmV4dCgpO1xuICAgICAgfSwgdGhpcy5kaXNwbGF5LnNsaWRlclRpbWUgPyB0aGlzLmRpc3BsYXkuc2xpZGVyVGltZSAqIDEwMDAgOiAzMDAwKTtcbiAgICB9XG5cbiAgICBnb1RvTmV4dCgpIHtcbiAgICAgIHRoaXMuZ29Ubyh0aGlzLnNlbGVjdGVkSXRlbSwgKHRoaXMuc2VsZWN0ZWRJdGVtICsgMSkgJSB0aGlzLnNsaWRlcyk7XG4gICAgfVxuXG4gICAgZ29Ub1ByZXYoKSB7XG4gICAgICB0aGlzLmdvVG8odGhpcy5zZWxlY3RlZEl0ZW0sIHRoaXMuc2VsZWN0ZWRJdGVtIC0gMSk7XG4gICAgfVxuXG4gICAgZ29UbyhwcmV2LCBjdXIpIHtcbiAgICAgIHRoaXMucHJldmlvdXNseVNlbGVjdGVkSXRlbSA9IHByZXY7XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGN1cjtcblxuICAgICAgaWYgKGN1ciA9PT0gMCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHRoaXMuc2xpZGVzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkSXRlbSgpO1xuICAgIH1cblxuICB9XG5cbiAgY2xhc3MgQ1RXZWJQb3B1cEltYWdlT25seSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgICAgdGhpcy5fc2Vzc2lvbiA9IG51bGw7XG4gICAgICB0aGlzLnNoYWRvdyA9IG51bGw7XG4gICAgICB0aGlzLnBvcHVwID0gbnVsbDtcbiAgICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgdGhpcy5zaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7XG4gICAgICAgIG1vZGU6ICdvcGVuJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IHRhcmdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90YXJnZXQgfHwgJyc7XG4gICAgfVxuXG4gICAgc2V0IHRhcmdldCh2YWwpIHtcbiAgICAgIGlmICh0aGlzLl90YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdmFsO1xuICAgICAgICB0aGlzLnJlbmRlckltYWdlT25seVBvcHVwKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHNlc3Npb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Vzc2lvbiB8fCAnJztcbiAgICB9XG5cbiAgICBzZXQgc2Vzc2lvbih2YWwpIHtcbiAgICAgIHRoaXMuX3Nlc3Npb24gPSB2YWw7XG4gICAgfVxuXG4gICAgZ2V0IG1zZ0lkKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0Lnd6cmtfaWQ7XG4gICAgfVxuXG4gICAgZ2V0IHBpdm90SWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50YXJnZXQud3pya19waXZvdDtcbiAgICB9XG5cbiAgICBnZXQgb25DbGlja1VybCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhcmdldC5kaXNwbGF5Lm9uQ2xpY2tVcmw7XG4gICAgfVxuXG4gICAgcmVuZGVySW1hZ2VPbmx5UG9wdXAoKSB7XG4gICAgICBjb25zdCBjYW1wYWlnbklkID0gdGhpcy50YXJnZXQud3pya19pZC5zcGxpdCgnXycpWzBdO1xuICAgICAgY29uc3QgY3VycmVudFNlc3Npb25JZCA9IHRoaXMuc2Vzc2lvbi5zZXNzaW9uSWQ7XG4gICAgICB0aGlzLnNoYWRvdy5pbm5lckhUTUwgPSB0aGlzLmdldEltYWdlT25seVBvcHVwQ29udGVudCgpO1xuICAgICAgdGhpcy5wb3B1cCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnaW1hZ2VPbmx5UG9wdXAnKTtcbiAgICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKTtcbiAgICAgIHRoaXMuY2xvc2VJY29uID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdjbG9zZScpO1xuICAgICAgdGhpcy5wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy51cGRhdGVJbWFnZUFuZENvbnRhaW5lcldpZHRoKCkpO1xuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB0aGlzLmhhbmRsZVJlc2l6ZSh0aGlzLnBvcHVwLCB0aGlzLmNvbnRhaW5lcikpO1xuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMucG9wdXApO1xuICAgICAgdGhpcy5jbG9zZUljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucG9wdXApO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3pya0ltYWdlT25seURpdicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG5cbiAgICAgICAgaWYgKGNhbXBhaWduSWQgIT0gbnVsbCAmJiBjYW1wYWlnbklkICE9PSAnLTEnKSB7XG4gICAgICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICBjb25zdCBjYW1wYWlnbk9iaiA9IGdldENhbXBhaWduT2JqZWN0KCk7XG4gICAgICAgICAgICBsZXQgc2Vzc2lvbkNhbXBhaWduT2JqID0gY2FtcGFpZ25PYmoud3BbY3VycmVudFNlc3Npb25JZF07XG5cbiAgICAgICAgICAgIGlmIChzZXNzaW9uQ2FtcGFpZ25PYmogPT0gbnVsbCkge1xuICAgICAgICAgICAgICBzZXNzaW9uQ2FtcGFpZ25PYmogPSB7fTtcbiAgICAgICAgICAgICAgY2FtcGFpZ25PYmpbY3VycmVudFNlc3Npb25JZF0gPSBzZXNzaW9uQ2FtcGFpZ25PYmo7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlc3Npb25DYW1wYWlnbk9ialtjYW1wYWlnbklkXSA9ICdkbmQnO1xuICAgICAgICAgICAgc2F2ZUNhbXBhaWduT2JqZWN0KGNhbXBhaWduT2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQoe1xuICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCxcbiAgICAgICAgcGl2b3RJZDogdGhpcy5waXZvdElkXG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMub25DbGlja1VybCkge1xuICAgICAgICB0aGlzLnBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMudGFyZ2V0LmRpc3BsYXkud2luZG93ID8gd2luZG93Lm9wZW4odGhpcy5vbkNsaWNrVXJsLCAnX2JsYW5rJykgOiB3aW5kb3cucGFyZW50LmxvY2F0aW9uLmhyZWYgPSB0aGlzLm9uQ2xpY2tVcmw7XG4gICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25DbGlja2VkKHtcbiAgICAgICAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lkLFxuICAgICAgICAgICAgcGl2b3RJZDogdGhpcy5waXZvdElkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVJlc2l6ZShwb3B1cCwgY29udGFpbmVyKSB7XG4gICAgICBjb25zdCB3aWR0aCA9IHRoaXMuZ2V0UmVuZGVyZWRJbWFnZVdpZHRoKHBvcHVwKTtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCBcIlwiLmNvbmNhdCh3aWR0aCwgXCJweFwiKSk7XG4gICAgfVxuXG4gICAgZ2V0SW1hZ2VPbmx5UG9wdXBDb250ZW50KCkge1xuICAgICAgcmV0dXJuIFwiXFxuICAgICAgICBcIi5jb25jYXQodGhpcy50YXJnZXQubXNnQ29udGVudC5jc3MsIFwiXFxuICAgICAgICBcIikuY29uY2F0KHRoaXMudGFyZ2V0Lm1zZ0NvbnRlbnQuaHRtbCwgXCJcXG4gICAgICBcIik7XG4gICAgfVxuXG4gICAgdXBkYXRlSW1hZ2VBbmRDb250YWluZXJXaWR0aCgpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRSZW5kZXJlZEltYWdlV2lkdGgodGhpcy5wb3B1cCk7XG4gICAgICAgIHRoaXMucG9wdXAuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgXCJcIi5jb25jYXQod2lkdGgsIFwicHhcIikpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCBcIlwiLmNvbmNhdCh3aWR0aCwgXCJweFwiKSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCAnYXV0bycpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgncG9zaXRpb24nLCAnZml4ZWQnKTtcbiAgICAgICAgdGhpcy5wb3B1cC5zdHlsZS5zZXRQcm9wZXJ0eSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4gICAgICAgIHRoaXMuY2xvc2VJY29uLnN0eWxlLnNldFByb3BlcnR5KCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3d6cmtJbWFnZU9ubHlEaXYnKS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRSZW5kZXJlZEltYWdlV2lkdGgoaW1nKSB7XG4gICAgICBjb25zdCByYXRpbyA9IGltZy5uYXR1cmFsV2lkdGggLyBpbWcubmF0dXJhbEhlaWdodDtcbiAgICAgIHJldHVybiBpbWcuaGVpZ2h0ICogcmF0aW87XG4gICAgfVxuXG4gIH1cblxuICBjbGFzcyBNZXNzYWdlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgbWVzc2FnZSkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMud3JhcHBlciA9IG51bGw7XG4gICAgICB0aGlzLnNuYWNrQmFyID0gbnVsbDtcbiAgICAgIHRoaXMuc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coe1xuICAgICAgICBtb2RlOiAnb3BlbidcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgdGhpcy5yZW5kZXJNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGdldCBwaXZvdElkKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZS53enJrX3Bpdm90O1xuICAgIH1cblxuICAgIGdldCBjYW1wYWlnbklkKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZS53enJrX2lkO1xuICAgIH1cblxuICAgIGNyZWF0ZUVsKHR5cGUsIGlkLCBwYXJ0KSB7XG4gICAgICBjb25zdCBfZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuXG4gICAgICBfZWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcblxuICAgICAgX2VsLnNldEF0dHJpYnV0ZSgncGFydCcsIHBhcnQgfHwgaWQpO1xuXG4gICAgICByZXR1cm4gX2VsO1xuICAgIH1cblxuICAgIHJlbmRlck1lc3NhZ2UobXNnKSB7XG4gICAgICB0aGlzLndyYXBwZXIgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnbWVzc2FnZVdyYXBwZXInKTtcblxuICAgICAgc3dpdGNoIChtc2cudGVtcGxhdGVUeXBlKSB7XG4gICAgICAgIGNhc2UgJ3RleHQtb25seSc6XG4gICAgICAgIGNhc2UgJ3RleHQtd2l0aC1pY29uJzpcbiAgICAgICAgY2FzZSAndGV4dC13aXRoLWljb24tYW5kLWltYWdlJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5wcmVwYXJlQmFzaWNNZXNzYWdlKG1zZy5tc2dbMF0pO1xuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKG1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdGltZVN0YW1wID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ3RpbWVTdGFtcCcpO1xuICAgICAgdGltZVN0YW1wLmlubmVySFRNTCA9IFwiPHNwYW4+XCIuY29uY2F0KGRldGVybWluZVRpbWVTdGFtcFRleHQobXNnLmlkLnNwbGl0KCdfJylbMV0pLCBcIjxzcGFuPlwiKTtcblxuICAgICAgaWYgKCFtc2cudmlld2VkKSB7XG4gICAgICAgIGNvbnN0IHVucmVhZE1hcmtlciA9IHRoaXMuY3JlYXRlRWwoJ3NwYW4nLCAndW5yZWFkTWFya2VyJyk7XG4gICAgICAgIHRpbWVTdGFtcC5hcHBlbmRDaGlsZCh1bnJlYWRNYXJrZXIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGltZVN0YW1wKTtcbiAgICAgIHRoaXMuc2hhZG93LmFwcGVuZENoaWxkKHRoaXMud3JhcHBlcik7XG4gICAgfVxuXG4gICAgcHJlcGFyZUJhc2ljTWVzc2FnZShtc2cpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnbWVzc2FnZScpO1xuXG4gICAgICBpZiAobXNnLmltYWdlVXJsKSB7XG4gICAgICAgIGNvbnN0IGltYWdlQ29udGFpbmVyID0gdGhpcy5hZGRJbWFnZShtc2cuaW1hZ2VVcmwsICdtYWluSW1nJyk7XG4gICAgICAgIG1lc3NhZ2UuYXBwZW5kQ2hpbGQoaW1hZ2VDb250YWluZXIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpY29uVGl0bGVEZXNjV3JhcHBlciA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdpY29uVGl0bGVEZXNjV3JhcHBlcicpO1xuXG4gICAgICBpZiAobXNnLmljb25VcmwpIHtcbiAgICAgICAgY29uc3QgaWNvbkNvbnRhaW5lciA9IHRoaXMuYWRkSW1hZ2UobXNnLmljb25VcmwsICdpY29uSW1nJyk7XG4gICAgICAgIGljb25UaXRsZURlc2NXcmFwcGVyLmFwcGVuZENoaWxkKGljb25Db250YWluZXIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0aXRsZURlc2NXcmFwcGVyID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ3RpdGxlRGVzY1dyYXBwZXInKTtcblxuICAgICAgaWYgKG1zZy50aXRsZSkge1xuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICd0aXRsZScpO1xuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSBtc2cudGl0bGU7XG4gICAgICAgIHRpdGxlRGVzY1dyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobXNnLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIGRlc2NyaXB0aW9uLmlubmVyVGV4dCA9IG1zZy5kZXNjcmlwdGlvbjtcbiAgICAgICAgdGl0bGVEZXNjV3JhcHBlci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChtc2cudGl0bGUgfHwgbXNnLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGljb25UaXRsZURlc2NXcmFwcGVyLmFwcGVuZENoaWxkKHRpdGxlRGVzY1dyYXBwZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobXNnLmljb25VcmwgfHwgbXNnLnRpdGxlIHx8IG1zZy5kZXNjcmlwdGlvbikge1xuICAgICAgICBtZXNzYWdlLmFwcGVuZENoaWxkKGljb25UaXRsZURlc2NXcmFwcGVyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1zZy5idXR0b25zICYmIG1zZy5idXR0b25zLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBidXR0b25zQ29udGFpbmVyID0gdGhpcy5hZGRCdXR0b25zKG1zZy5idXR0b25zKTtcbiAgICAgICAgbWVzc2FnZS5hcHBlbmRDaGlsZChidXR0b25zQ29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgYWRkQnV0dG9ucygpIHtcbiAgICAgIGxldCBidXR0b25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgICAgIGNvbnN0IGJ1dHRvbnNDb250YWluZXIgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnYnV0dG9uc0NvbnRhaW5lcicpO1xuICAgICAgbGV0IGhhc0NvcHlBY3Rpb24gPSBmYWxzZTtcbiAgICAgIGJ1dHRvbnMuZm9yRWFjaCgoYiwgaSkgPT4ge1xuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLmNyZWF0ZUVsKCdidXR0b24nLCBcImJ1dHRvbi1cIi5jb25jYXQoaSksICdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGIudGV4dDtcblxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICBidXR0b24uc3R5bGUuY3NzVGV4dCArPSAnbWFyZ2luLWxlZnQ6IDJweDsnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGIuYWN0aW9uID09PSAnY29weScpIHtcbiAgICAgICAgICBoYXNDb3B5QWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaGFzQ29weUFjdGlvbikge1xuICAgICAgICB0aGlzLmFkZFNuYWNrYmFyKGJ1dHRvbnNDb250YWluZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnV0dG9uc0NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBhZGRTbmFja2JhcihidXR0b25zQ29udGFpbmVyKSB7XG4gICAgICB0aGlzLnNuYWNrQmFyID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgXCJzbmFja2Jhci1cIi5jb25jYXQodGhpcy5jYW1wYWlnbklkKSwgJ3NuYWNrYmFyJyk7XG4gICAgICB0aGlzLnNuYWNrQmFyLmlubmVySFRNTCA9IGdyZWVuVGlja1N2ZztcbiAgICAgIGNvbnN0IGNsaXBib2FyZE1zZyA9IHRoaXMuY3JlYXRlRWwoJ3NwYW4nLCBcInNuYWNrYmFyLW1zZy1cIi5jb25jYXQodGhpcy5jYW1wYWlnbklkKSwgJ3NuYWNrYmFyLW1zZycpO1xuICAgICAgY2xpcGJvYXJkTXNnLmlubmVyVGV4dCA9ICdDb3BpZWQgdG8gY2xpcGJvYXJkJztcbiAgICAgIHRoaXMuc25hY2tCYXIuYXBwZW5kQ2hpbGQoY2xpcGJvYXJkTXNnKTtcbiAgICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zbmFja0Jhcik7XG4gICAgfVxuXG4gICAgYWRkSW1hZ2UodXJsLCB0eXBlKSB7XG4gICAgICBjb25zdCBpbWFnZUNvbnRhaW5lciA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsIFwiXCIuY29uY2F0KHR5cGUsIFwiQ29udGFpbmVyXCIpKTtcbiAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5jcmVhdGVFbCgnaW1nJywgdHlwZSk7XG4gICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7IC8vIGltYWdlcyB3aWxsIGJlIGZldGNoZWQgYXMgYW5kIHdoZW4gdGhlIGVsZW1lbnQgY29tZXMgaW50byB0aGUgdmlld3BvcnRcblxuICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdsb2FkaW5nJywgJ2xhenknKTtcbiAgICAgIGltYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICAgIHJldHVybiBpbWFnZUNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICByYWlzZUNsaWNrZWRFdmVudChwYXRoLCBpc1ByZXZpZXcpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5tZXNzYWdlLnRlbXBsYXRlVHlwZSkge1xuICAgICAgICBjYXNlICd0ZXh0LW9ubHknOlxuICAgICAgICBjYXNlICd0ZXh0LXdpdGgtaWNvbic6XG4gICAgICAgIGNhc2UgJ3RleHQtd2l0aC1pY29uLWFuZC1pbWFnZSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yYWlzZUNsaWNrZWRGb3JCYXNpY1RlbXBsYXRlcyhwYXRoLCBpc1ByZXZpZXcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByYWlzZUNsaWNrZWRGb3JCYXNpY1RlbXBsYXRlcyhwYXRoLCBpc1ByZXZpZXcpIHtcbiAgICAgIGNvbnN0IG1zZyA9IHRoaXMubWVzc2FnZS5tc2dbMF07XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBtc2dJZDogdGhpcy5jYW1wYWlnbklkLFxuICAgICAgICBwaXZvdElkOiB0aGlzLnBpdm90SWRcbiAgICAgIH07XG5cbiAgICAgIGlmIChwYXRoLnRhZ05hbWUgPT09ICdCVVRUT04nKSB7XG4gICAgICAgIGNvbnN0IGlkID0gcGF0aC5pZC5zcGxpdCgnLScpWzFdO1xuICAgICAgICBjb25zdCBidXR0b24gPSBtc2cuYnV0dG9uc1tpZF07XG4gICAgICAgIHBheWxvYWQua3YgPSB7XG4gICAgICAgICAgd3pya19jMmE6IGJ1dHRvbi50ZXh0XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGJ1dHRvbi5hY3Rpb24gPT09ICd1cmwnKSB7XG4gICAgICAgICAgYnV0dG9uLm9wZW5VcmxJbk5ld1RhYiA/IHdpbmRvdy5vcGVuKGJ1dHRvbi51cmwsICdfYmxhbmsnKSA6IHdpbmRvdy5sb2NhdGlvbiA9IGJ1dHRvbi51cmw7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uLmFjdGlvbiA9PT0gJ2NvcHknKSB7XG4gICAgICAgICAgd2luZG93LmZvY3VzKCk7XG4gICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoYnV0dG9uLmNsaXBib2FyZFRleHQpO1xuICAgICAgICAgIHRoaXMuc25hY2tCYXIuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnZmxleCcsICdpbXBvcnRhbnQnKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc25hY2tCYXIuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScsICdpbXBvcnRhbnQnKTtcbiAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXRoLnRhZ05hbWUgPT09ICdDVC1JTkJPWC1NRVNTQUdFJyAmJiBtc2cub25DbGlja1VybCkge1xuICAgICAgICBtc2cub3BlblVybEluTmV3VGFiID8gd2luZG93Lm9wZW4obXNnLm9uQ2xpY2tVcmwsICdfYmxhbmsnKSA6IHdpbmRvdy5sb2NhdGlvbiA9IG1zZy5vbkNsaWNrVXJsO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNQcmV2aWV3KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdOb3RpZmljdGlvbiBjbGlja2VkIGV2ZW50IHdpbGwgYmUgcmFpc2VkIGF0IHJ1biB0aW1lIHdpdGggcGF5bG9hZCA6OicsIHBheWxvYWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25DbGlja2VkKHBheWxvYWQpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgY29uc3QgbWVzc2FnZVN0eWxlcyA9IChfcmVmKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcixcbiAgICAgIGJvcmRlckNvbG9yLFxuICAgICAgdGl0bGVDb2xvcixcbiAgICAgIGRlc2NyaXB0aW9uQ29sb3IsXG4gICAgICBidXR0b25Db2xvcixcbiAgICAgIGJ1dHRvblRleHRDb2xvcixcbiAgICAgIHVucmVhZE1hcmtlckNvbG9yXG4gICAgfSA9IF9yZWY7XG4gICAgcmV0dXJuIFwiXFxuICAgIDxzdHlsZSBpZD1cXFwibWVzc2FnZVN0eWxlc1xcXCI+XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChtZXNzYWdlV3JhcHBlcikge1xcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDsgXFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQobWVzc2FnZSkge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIuY29uY2F0KGJhY2tncm91bmRDb2xvciwgXCI7IFxcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgXCIpLmNvbmNhdChib3JkZXJDb2xvciwgXCI7XFxuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7IFxcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgICAgIG1pbi1oZWlnaHQ6IDQwcHg7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQobWVzc2FnZSk6aG92ZXIge1xcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDRweCA4cHggcmdiKDAgMCAwIC8gMTAlKTtcXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChpY29uVGl0bGVEZXNjV3JhcHBlcikge1xcbiAgICAgICAgZGlzcGxheTogZmxleDsgXFxuICAgICAgICBwYWRkaW5nOiAxNnB4O1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KHRpdGxlRGVzY1dyYXBwZXIpIHtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7IFxcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChpY29uSW1nQ29udGFpbmVyKSB7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4OyBcXG4gICAgICAgIG1hcmdpbi1yaWdodDogMTZweDtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChtYWluSW1nQ29udGFpbmVyKSB7XFxuICAgICAgICBsaW5lLWhlaWdodDogMDtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChtYWluSW1nKSB7XFxuICAgICAgICB3aWR0aDogMTAwJTsgXFxuICAgICAgICBiYWNrZ3JvdW5kOiAjYjJiMWFlO1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KGljb25JbWcpIHtcXG4gICAgICAgIGhlaWdodDogNDBweDsgXFxuICAgICAgICB3aWR0aDogNDBweDtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydCh0aXRsZSkge1xcbiAgICAgICAgZm9udC1zaXplOiAxNHB4ICFpbXBvcnRhbnQ7IFxcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7IFxcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsgXFxuICAgICAgICBjb2xvcjogXCIpLmNvbmNhdCh0aXRsZUNvbG9yLCBcIlxcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KGRlc2NyaXB0aW9uKSB7XFxuICAgICAgICBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDsgXFxuICAgICAgICBsaW5lLWhlaWdodDogMjBweDsgXFxuICAgICAgICBmb250LXdlaWdodDogNDAwOyBcXG4gICAgICAgIGNvbG9yOiBcIikuY29uY2F0KGRlc2NyaXB0aW9uQ29sb3IsIFwiXFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQoYnV0dG9uKSB7XFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIikuY29uY2F0KGJ1dHRvbkNvbG9yLCBcIjsgXFxuICAgICAgICBjb2xvcjogXCIpLmNvbmNhdChidXR0b25UZXh0Q29sb3IsIFwiOyBcXG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4OyBcXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDsgXFxuICAgICAgICBsaW5lLWhlaWdodDogMTZweDsgXFxuICAgICAgICBmb250LXdlaWdodDogNjAwOyBcXG4gICAgICAgIGZsZXg6IDE7IFxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMHB4OyBcXG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplOyBcXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjsgXFxuICAgICAgICBib3JkZXI6IG5vbmU7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQoYnV0dG9uc0NvbnRhaW5lcikge1xcbiAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChzbmFja2Jhcikge1xcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgdG9wOiBjYWxjKC0xMDAlIC0gMTJweCk7XFxuICAgICAgICBsZWZ0OiA1MCU7XFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwcHgpO1xcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gICAgICAgIGJhY2tncm91bmQ6ICNGRkZGRkY7XFxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjRUNFREYyO1xcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDRweCA4cHggcmdiKDAgMCAwIC8gNiUpLCAwcHggMHB4IDJweCByZ2IoMCAwIDAgLyA0JSk7XFxuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgICAgICB6LWluZGV4OiAyO1xcbiAgICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICAgIHdpZHRoOiBtYXgtY29udGVudDtcXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICAgIH1cXG5cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KHNuYWNrYmFyLW1zZykge1xcbiAgICAgICAgY29sb3I6IGJsYWNrO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDhweDtcXG4gICAgICB9XFxuXFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydCh0aW1lU3RhbXApIHtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7IFxcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBlbmQ7IFxcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgXFxuICAgICAgICBtYXJnaW4tdG9wOiA0cHg7IFxcbiAgICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7IFxcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7IFxcbiAgICAgICAgY29sb3I6IGJsYWNrO1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KHVucmVhZE1hcmtlcikge1xcbiAgICAgICAgaGVpZ2h0OiA4cHg7IFxcbiAgICAgICAgd2lkdGg6IDhweDsgXFxuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7IFxcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIpLmNvbmNhdCh1bnJlYWRNYXJrZXJDb2xvciwgXCI7IFxcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDhweDtcXG4gICAgICB9XFxuICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0MjBweCkge1xcbiAgICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChtYWluSW1nKSB7XFxuICAgICAgICAgIGhlaWdodDogMTgwcHg7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICA8L3N0eWxlPlxcbiAgXCIpO1xuICB9O1xuICBjb25zdCBpbmJveENvbnRhaW5lclN0eWxlcyA9IChfcmVmMikgPT4ge1xuICAgIGxldCB7XG4gICAgICBwYW5lbEJhY2tncm91bmRDb2xvcixcbiAgICAgIHBhbmVsQm9yZGVyQ29sb3IsXG4gICAgICBoZWFkZXJCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBoZWFkZXJUaXRsZUNvbG9yLFxuICAgICAgY2xvc2VJY29uQ29sb3IsXG4gICAgICBjYXRlZ29yaWVzVGFiQ29sb3IsXG4gICAgICBjYXRlZ29yaWVzVGl0bGVDb2xvcixcbiAgICAgIGNhdGVnb3JpZXNCb3JkZXJDb2xvcixcbiAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlUYWJDb2xvcixcbiAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlUaXRsZUNvbG9yLFxuICAgICAgc2VsZWN0ZWRDYXRlZ29yeUJvcmRlckNvbG9yLFxuICAgICAgaGVhZGVyQ2F0ZWdvcnlIZWlnaHRcbiAgICB9ID0gX3JlZjI7XG4gICAgcmV0dXJuIFwiXFxuICAgICAgPHN0eWxlIGlkPVxcXCJ3ZWJJbmJveFN0eWxlc1xcXCI+XFxuICAgICAgICAjaW5ib3gge1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOyBcXG4gICAgICAgICAgZGlzcGxheTogbm9uZTsgXFxuICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAycHggMTBweCAwcHggI2Q3ZDdkNzkxO1xcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIi5jb25jYXQocGFuZWxCYWNrZ3JvdW5kQ29sb3IsIFwiOyBcXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgXCIpLmNvbmNhdChwYW5lbEJvcmRlckNvbG9yLCBcIjtcXG4gICAgICAgICAgdG9wOiAwO1xcbiAgICAgICAgICBsZWZ0OiAwO1xcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xcbiAgICAgICAgICB6LWluZGV4OiAxO1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICAgICAgfVxcbiAgXFxuICAgICAgICAjZW1wdHlJbmJveE1zZyB7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgIGNvbG9yOiBibGFjaztcXG4gICAgICAgIH1cXG4gIFxcbiAgICAgICAgI2hlYWRlciB7XFxuICAgICAgICAgIGhlaWdodDogMzZweDsgXFxuICAgICAgICAgIHdpZHRoOiAxMDAlOyBcXG4gICAgICAgICAgZGlzcGxheTogZmxleDsgXFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyBcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgXFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiKS5jb25jYXQoaGVhZGVyQmFja2dyb3VuZENvbG9yLCBcIjsgXFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtYmcsIFwiKS5jb25jYXQoaGVhZGVyQmFja2dyb3VuZENvbG9yLCBcIik7XFxuICAgICAgICAgIGNvbG9yOiBcIikuY29uY2F0KGhlYWRlclRpdGxlQ29sb3IsIFwiXFxuICAgICAgICB9XFxuICBcXG4gICAgICAgICNjbG9zZUluYm94IHtcXG4gICAgICAgICAgZm9udC1zaXplOiAyMHB4OyBcXG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMnB4OyBcXG4gICAgICAgICAgY29sb3I6IFwiKS5jb25jYXQoY2xvc2VJY29uQ29sb3IsIFwiOyBcXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgfVxcbiAgXFxuICAgICAgICAjaGVhZGVyVGl0bGUge1xcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7IFxcbiAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDsgXFxuICAgICAgICAgIGZsZXgtZ3JvdzogMTsgXFxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7IFxcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgIGZsZXgtZ3JvdzogMTtcXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgfVxcbiAgXFxuICAgICAgICAjY2F0ZWdvcmllc0NvbnRhaW5lciB7XFxuICAgICAgICAgIHBhZGRpbmc6IDE2cHggMTZweCAwIDE2cHg7IFxcbiAgICAgICAgICBoZWlnaHQ6IDMycHg7IFxcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgICAgICBzY3JvbGwtYmVoYXZpb3I6IHNtb290aDtcXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgI2NhdGVnb3JpZXNXcmFwcGVyIHtcXG4gICAgICAgICAgaGVpZ2h0OiAzMnB4OyBcXG4gICAgICAgICAgb3ZlcmZsb3cteDogc2Nyb2xsO1xcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgICAgICAgICBzY3JvbGxiYXItd2lkdGg6IG5vbmU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAjY2F0ZWdvcmllc1dyYXBwZXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcXG4gICAgICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICAgIH1cXG4gIFxcbiAgICAgICAgI2xlZnRBcnJvdywgI3JpZ2h0QXJyb3cge1xcbiAgICAgICAgICBoZWlnaHQ6IDMycHg7XFxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgei1pbmRleDogMjtcXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XFxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgICNsZWZ0QXJyb3cge1xcbiAgICAgICAgICBsZWZ0OiAwO1xcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDRweDtcXG4gICAgICAgICAgcGFkZGluZy1yaWdodDogMTZweDtcXG4gICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCBcIikuY29uY2F0KHBhbmVsQmFja2dyb3VuZENvbG9yLCBcIiAwJSwgXCIpLmNvbmNhdChwYW5lbEJhY2tncm91bmRDb2xvciwgXCI5OSA4MCUsIFwiKS5jb25jYXQocGFuZWxCYWNrZ3JvdW5kQ29sb3IsIFwiMGQgMTAwJSk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAjcmlnaHRBcnJvdyB7XFxuICAgICAgICAgIHJpZ2h0OiAwO1xcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiA0cHg7XFxuICAgICAgICAgIHBhZGRpbmctbGVmdDogMTZweDtcXG4gICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KC05MGRlZywgXCIpLmNvbmNhdChwYW5lbEJhY2tncm91bmRDb2xvciwgXCIgMCUsIFwiKS5jb25jYXQocGFuZWxCYWNrZ3JvdW5kQ29sb3IsIFwiOTkgODAlLCBcIikuY29uY2F0KHBhbmVsQmFja2dyb3VuZENvbG9yLCBcIjBkIDEwMCUpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgW2lkXj1cXFwiY2F0ZWdvcnktXFxcIl0ge1xcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBcXG4gICAgICAgICAgZmxleDogMSAxIDA7IFxcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgXFxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IFxcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7IFxcbiAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDsgXFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiKS5jb25jYXQoY2F0ZWdvcmllc1RhYkNvbG9yLCBcIjsgXFxuICAgICAgICAgIGNvbG9yOiBcIikuY29uY2F0KGNhdGVnb3JpZXNUaXRsZUNvbG9yLCBcIjsgXFxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgICAgcGFkZGluZzogNnB4IDI0cHg7XFxuICAgICAgICAgIG1hcmdpbjogMCAzcHg7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XFxuICAgICAgICAgIGJvcmRlcjogXCIpLmNvbmNhdChjYXRlZ29yaWVzQm9yZGVyQ29sb3IgPyAnMXB4IHNvbGlkICcgKyBjYXRlZ29yaWVzQm9yZGVyQ29sb3IgOiAnbm9uZScsIFwiO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgW2lkXj1cXFwiY2F0ZWdvcnktXFxcIl1bc2VsZWN0ZWQ9XFxcInRydWVcXFwiXSB7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiKS5jb25jYXQoc2VsZWN0ZWRDYXRlZ29yeVRhYkNvbG9yLCBcIjsgXFxuICAgICAgICAgIGNvbG9yOiBcIikuY29uY2F0KHNlbGVjdGVkQ2F0ZWdvcnlUaXRsZUNvbG9yLCBcIjsgXFxuICAgICAgICAgIGJvcmRlcjogXCIpLmNvbmNhdChzZWxlY3RlZENhdGVnb3J5Qm9yZGVyQ29sb3IgPyAnMXB4IHNvbGlkICcgKyBzZWxlY3RlZENhdGVnb3J5Qm9yZGVyQ29sb3IgOiAnbm9uZScsIFwiXFxuICAgICAgICB9XFxuICBcXG4gICAgICAgICNpbmJveENhcmQge1xcbiAgICAgICAgICBwYWRkaW5nOiAwIDE2cHggMCAxNnB4O1xcbiAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxNnB4O1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0ODBweCkge1xcbiAgICAgICAgICAjaW5ib3gge1xcbiAgICAgICAgICAgIHdpZHRoOiB2YXIoLS1pbmJveC13aWR0aCwgMzkycHgpO1xcbiAgICAgICAgICAgIGhlaWdodDogdmFyKC0taW5ib3gtaGVpZ2h0LCA1NDZweCk7XFxuICAgICAgICAgICAgcG9zaXRpb246IHZhcigtLWluYm94LXBvc2l0aW9uLCBmaXhlZCk7XFxuICAgICAgICAgICAgcmlnaHQ6IHZhcigtLWluYm94LXJpZ2h0LCB1bnNldCk7XFxuICAgICAgICAgICAgYm90dG9tOiB2YXIoLS1pbmJveC1ib3R0b20sIHVuc2V0KTtcXG4gICAgICAgICAgICB0b3A6IHZhcigtLWluYm94LXRvcCwgdW5zZXQpO1xcbiAgICAgICAgICAgIGxlZnQ6IHZhcigtLWluYm94LWxlZnQsIHVuc2V0KTtcXG4gICAgICAgICAgfVxcbiAgXFxuICAgICAgICAgICNpbmJveENhcmQge1xcbiAgICAgICAgICAgIGhlaWdodDogY2FsYyh2YXIoLS1pbmJveC1oZWlnaHQsIDU0NnB4KSAtIFwiKS5jb25jYXQoaGVhZGVyQ2F0ZWdvcnlIZWlnaHQsIFwicHgpOyBcXG4gICAgICAgICAgfVxcbiAgXFxuICAgICAgICB9XFxuICAgICAgPC9zdHlsZT5cXG4gICAgICBcIik7XG4gIH07XG5cbiAgY2xhc3MgSW5ib3ggZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IobG9nZ2VyKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5pc0luYm94T3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0luYm94RnJvbUZsdXR0ZXIgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IG51bGw7XG4gICAgICB0aGlzLnVudmlld2VkTWVzc2FnZXMgPSB7fTtcbiAgICAgIHRoaXMudW52aWV3ZWRDb3VudGVyID0gMDtcbiAgICAgIHRoaXMuaXNQcmV2aWV3ID0gZmFsc2U7XG4gICAgICB0aGlzLmluYm94Q29uZmlnRm9yUHJldmlldyA9IHt9O1xuICAgICAgdGhpcy5pbmJveFNlbGVjdG9yID0gbnVsbDtcbiAgICAgIHRoaXMuaW5ib3ggPSBudWxsO1xuICAgICAgdGhpcy5lbXB0eUluYm94TXNnID0gbnVsbDtcbiAgICAgIHRoaXMuaW5ib3hDYXJkID0gbnVsbDtcbiAgICAgIHRoaXMudW52aWV3ZWRCYWRnZSA9IG51bGw7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbnVsbDtcbiAgICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yeVJlZiA9IG51bGw7XG5cbiAgICAgIHRoaXMuYWRkQ2xpY2tMaXN0ZW5lck9uRG9jdW1lbnQgPSAoKCkgPT4ge1xuICAgICAgICByZXR1cm4gZSA9PiB7XG4gICAgICAgICAgaWYgKGUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXModGhpcy5pbmJveCkpIHtcbiAgICAgICAgICAgIC8vIHBhdGggaXMgbm90IHN1cHBvcnRlZCBvbiBGRi4gU28gd2UgZmFsbGJhY2sgdG8gZS5jb21wb3NlZFBhdGhcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBlLnBhdGggfHwgZS5jb21wb3NlZFBhdGggJiYgZS5jb21wb3NlZFBhdGgoKTtcblxuICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGlkID0gcGF0aFswXS5pZDtcblxuICAgICAgICAgICAgICBpZiAoaWQgPT09ICdjbG9zZUluYm94Jykge1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlSW5ib3goKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZC5zdGFydHNXaXRoKCdjYXRlZ29yeS0nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJldkNhdGVnb3J5UmVmID0gdGhpcy5zZWxlY3RlZENhdGVnb3J5UmVmO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yeVJlZiA9IHBhdGhbMF07XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBY3RpdmVDYXRlZ29yeShwYXRoWzBdLmlubmVyVGV4dCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX3BhdGggPSBwYXRoLmZpbHRlcihwID0+IHtcbiAgICAgICAgICAgICAgICAgIHZhciBfcCRpZDtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuICgoX3AkaWQgPSBwLmlkKSA9PT0gbnVsbCB8fCBfcCRpZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3AkaWQuc3RhcnRzV2l0aCgnYnV0dG9uLScpKSB8fCBwLnRhZ05hbWUgPT09ICdDVC1JTkJPWC1NRVNTQUdFJztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChfcGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VFbCA9IF9wYXRoW19wYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZUVsLnJhaXNlQ2xpY2tlZEV2ZW50KF9wYXRoWzBdLCB0aGlzLmlzUHJldmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmluYm94U2VsZWN0b3IuY29udGFpbnMoZS50YXJnZXQpIHx8IHRoaXMuaXNJbmJveE9wZW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5ib3hGcm9tRmx1dHRlcikge1xuICAgICAgICAgICAgICB0aGlzLmlzSW5ib3hGcm9tRmx1dHRlciA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy50b2dnbGVJbmJveChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSgpO1xuXG4gICAgICB0aGlzLnNldEJhZGdlU3R5bGUgPSBtc2dDb3VudCA9PiB7XG4gICAgICAgIGlmICh0aGlzLnVudmlld2VkQmFkZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnVudmlld2VkQmFkZ2UuaW5uZXJUZXh0ID0gbXNnQ291bnQgPiA5ID8gJzkrJyA6IG1zZ0NvdW50O1xuICAgICAgICAgIHRoaXMudW52aWV3ZWRCYWRnZS5zdHlsZS5kaXNwbGF5ID0gbXNnQ291bnQgPiAwID8gJ2ZsZXgnIDogJ25vbmUnO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgIHRoaXMuc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coe1xuICAgICAgICBtb2RlOiAnb3BlbidcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCBpbmNvbWluZ01lc3NhZ2VzKCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHNldCBpbmNvbWluZ01lc3NhZ2VzKG1zZ3MpIHtcbiAgICAgIGlmIChtc2dzID09PSB2b2lkIDApIHtcbiAgICAgICAgbXNncyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAobXNncy5sZW5ndGggPiAwICYmIHRoaXMuaW5ib3gpIHtcbiAgICAgICAgdGhpcy51cGRhdGVJbmJveE1lc3NhZ2VzKG1zZ3MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldCBpbmNvbWluZ01lc3NhZ2VzRm9yUHJldmlldygpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBzZXQgaW5jb21pbmdNZXNzYWdlc0ZvclByZXZpZXcobXNncykge1xuICAgICAgaWYgKG1zZ3MgPT09IHZvaWQgMCkge1xuICAgICAgICBtc2dzID0gW107XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByZXZpZXdNc2dzID0ge307XG5cbiAgICAgIGlmIChtc2dzLmxlbmd0aCA+IDAgJiYgdGhpcy5pbmJveCkge1xuICAgICAgICB0aGlzLmlzUHJldmlldyA9IHRydWU7XG4gICAgICAgIHRoaXMudW52aWV3ZWRDb3VudGVyID0gMDtcbiAgICAgICAgbXNncy5mb3JFYWNoKG0gPT4ge1xuICAgICAgICAgIGNvbnN0IGtleSA9IFwiXCIuY29uY2F0KG0ud3pya19pZC5zcGxpdCgnXycpWzBdLCBcIl9cIikuY29uY2F0KERhdGUubm93KCkpO1xuICAgICAgICAgIG0uaWQgPSBrZXk7XG4gICAgICAgICAgcHJldmlld01zZ3Nba2V5XSA9IG07XG4gICAgICAgICAgdGhpcy51bnZpZXdlZE1lc3NhZ2VzW2tleV0gPSBtO1xuICAgICAgICAgIHRoaXMudW52aWV3ZWRDb3VudGVyKys7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJ1aWxkVUlGb3JNZXNzYWdlcyhwcmV2aWV3TXNncyk7XG4gICAgICAgIHRoaXMudXBkYXRlVW52aWV3ZWRCYWRnZUNvdW50ZXIoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuaXNQcmV2aWV3ID8gdGhpcy5pbmJveENvbmZpZ0ZvclByZXZpZXcgOiBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoV0VCSU5CT1hfQ09ORklHKSB8fCB7fTtcblxuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuY29uZmlnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmluYm94U2VsZWN0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNvbmZpZy5pbmJveFNlbGVjdG9yKTtcblxuICAgICAgaWYgKHRoaXMuaW5ib3hTZWxlY3RvciA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5zdHlsZXMubm90aWZpY2F0aW9uc0JhZGdlKSB7XG4gICAgICAgIHRoaXMuYWRkVW52aWV3ZWRCYWRnZSgpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnVudmlld2VkQmFkZ2UpIHtcbiAgICAgICAgdGhpcy51bnZpZXdlZEJhZGdlLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNyZWF0ZWluYm94KCk7XG4gICAgICAvKipcbiAgICAgICAqIFdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBhcyB0aGVyZSBjb3VsZCBiZSBhIHNjZW5hcmlvIHdoZXJlIGluaXQgd291bGQgYmUgY2FsbGVkIHdoZW5cbiAgICAgICAqIHdlIGdldCB1cGRhdGVkIHdlYiBpbmJveCBzZXR0aW5ncyBmcm9tIExDIGFmdGVyIHRoZSBpbmJveCBoYXMgYmVlbiBpbml0aWFsaXNlZC5cbiAgICAgICAqIEl0IGNhbiBzbyBoYXBwZW4gdGhhdCB0aGUgaW5ib3gtc2VsZWN0b3Igd291bGQgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICovXG5cbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5hZGRDbGlja0xpc3RlbmVyT25Eb2N1bWVudCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYWRkQ2xpY2tMaXN0ZW5lck9uRG9jdW1lbnQpO1xuICAgICAgdGhpcy5jb25maWcuY2F0ZWdvcmllcy5sZW5ndGggJiYgdGhpcy51cGRhdGVBY3RpdmVDYXRlZ29yeSh0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlSZWYuaW5uZXJUZXh0KTtcbiAgICAgIHRoaXMuc2hhZG93LmlubmVySFRNTCA9IHRoaXMuZ2V0SW5ib3hTdHlsZXMoKTtcbiAgICAgIHRoaXMuc2hhZG93LmFwcGVuZENoaWxkKHRoaXMuaW5ib3gpO1xuICAgIH1cblxuICAgIGFkZE1zZ3NUb0luYm94RnJvbUxTKCkge1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLmRlbGV0ZUV4cGlyZWRBbmRHZXRVbmV4cGlyZWRNc2dzKGZhbHNlKTtcbiAgICAgIGNvbnN0IG1zZ0lkcyA9IG1lc3NhZ2VzID8gT2JqZWN0LmtleXMobWVzc2FnZXMpIDogW107XG5cbiAgICAgIGlmIChtc2dJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbXNnSWRzLmZvckVhY2gobSA9PiB7XG4gICAgICAgIGlmICghbWVzc2FnZXNbbV0udmlld2VkKSB7XG4gICAgICAgICAgdGhpcy51bnZpZXdlZE1lc3NhZ2VzW21dID0gbWVzc2FnZXNbbV07XG4gICAgICAgICAgdGhpcy51bnZpZXdlZENvdW50ZXIrKztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmJ1aWxkVUlGb3JNZXNzYWdlcyhtZXNzYWdlcyk7XG4gICAgICB0aGlzLnVwZGF0ZVVudmlld2VkQmFkZ2VDb3VudGVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Kn0gZGVsZXRlTXNnc0Zyb21VSSAtIElmIHRoaXMgcGFyYW0gaXMgdHJ1ZSwgdGhlbiB3ZSdsbCBoYXZlIHRvIGNoZWNrIHRoZSBVSSBhbmQgZGVsZXRlIGV4cGlyZWQgbWVzc2FnZXMgZnJvbSB0aGUgRE9NXG4gICAgICogSXQnbGwgYmUgZmFsc2Ugd2hlbiB5b3UgYXJlIGJ1aWxkaW5nIHRoZSBpbmJveCBsYXlvdXQgZm9yIHRoZSB2ZXJ5IGZpcnN0IHRpbWUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCByZWFkcyB0aGUgaW5ib3ggbWVzc2FnZXMgZnJvbSBMUyxcbiAgICAgKiBiYXNlZCBvbiB0aGUgZGVsZXRlTXNnc0Zyb21VSSBmbGFnIGRlbGV0ZXMgdGhlIGV4cGlyZWQgbWVzc2FnZXMgZnJvbSBVSSBhbmQgZGVjcmVtZW50cyB0aGUgdW52aWV3ZWQgY291bnRlciBpZiB0aGUgbWVzc2FnZSB3YXMgbm90IHZpZXdlZCxcbiAgICAgKiBzb3J0cyB0aGUgbWVzc2FnZXMgYmFzZWQgb24gdGhlIGRhdGUsXG4gICAgICogc2F2ZXMgdGhlIHVuZXhwaXJlZCBtZXNzYWdlcyB0byBMU1xuICAgICAqIGFuZCByZXR1cm5zIHRoZSBzb3J0ZWQgdW5leHBpcmVkIG1lc3NhZ2VzXG4gICAgICpcbiAgICAgKiBTY2VuYXJpb3Mgd2hlbiB3ZSBlbmNvdW50ZXIgZXhwaXJlZCBtZXNzYWdlcyAtXG4gICAgICogMS4gYnVpbGRpbmcgdWkgZm9yIHRoZSAxc3QgdGltZSwgbm8gbmVlZCB0byBkZWNyZW1lbnQgdGhlIHVudmlld2VkIGNvdW50ZXIgYXMgdGhlIGNvcnJlY3QgY291bnQgd2lsbCBiZSBzZXQgYXQgdGhlIHRpbWUgb2YgcmVuZGVyaW5nXG4gICAgICogMi4gVUkgaXMgYWxyZWFkeSBidWlsdCAoZGVsZXRlTXNnc0Zyb21VSSA9IHRydWUpIGFuZCB5b3Ugb3BlbiB0aGUgaW5ib3hcbiAgICAgKiAgICBhLiBZb3UnbGwgZmluZCB0aGUgZXhwaXJlZCBtc2cgaW4gaW5ib3hcbiAgICAgKiAgICBiLiBZb3UnbGwgbm90IGZpbmQgdGhlIGV4cGlyZWQgbXNnIGluIGluYm94LlxuICAgICAqICAgICAgIFRoaXMgaGFwcGVucyB3aGVuIHdlIHJlY2VpdmUgbmV3IG1lc3NhZ2VzIGZyb20gTEMsIGluY3JlbWVudCB1bnZpZXdlZCBjb3VudGVyLCBzYXZlIGl0IGluIExTLiAoV2UgYnVpbGQgdGhlIFVJIG9ubHkgd2hlbiB0aGUgdXNlciBvcGVucyBpbmJveC4pXG4gICAgICogIEluIGJvdGggdGhlIGFib3ZlIHNjZW5hcmlvcywgd2UnbGwgc3RpbGwgaGF2ZSB0byBkZWNyZW1lbnQgdGhlIHVudmlld2VkIGNvdW50ZXIgaWYgdGhlIG1lc3NhZ2Ugd2FzIG5vdCB2aWV3ZWQuXG4gICAgICovXG5cblxuICAgIGRlbGV0ZUV4cGlyZWRBbmRHZXRVbmV4cGlyZWRNc2dzKCkge1xuICAgICAgbGV0IGRlbGV0ZU1zZ3NGcm9tVUkgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG4gICAgICBsZXQgbWVzc2FnZXMgPSBnZXRJbmJveE1lc3NhZ2VzKCk7XG4gICAgICBjb25zdCBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcblxuICAgICAgZm9yIChjb25zdCBtc2cgaW4gbWVzc2FnZXMpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2VzW21zZ10ud3pya190dGwgJiYgbWVzc2FnZXNbbXNnXS53enJrX3R0bCA+IDAgJiYgbWVzc2FnZXNbbXNnXS53enJrX3R0bCA8IG5vdykge1xuICAgICAgICAgIGlmIChkZWxldGVNc2dzRnJvbVVJKSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChtZXNzYWdlc1ttc2ddLmlkKTtcbiAgICAgICAgICAgIGVsICYmIGVsLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2VzW21zZ10udmlld2VkKSB7XG4gICAgICAgICAgICAgIHRoaXMudW52aWV3ZWRDb3VudGVyLS07XG4gICAgICAgICAgICAgIHRoaXMudXBkYXRlVW52aWV3ZWRCYWRnZUNvdW50ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWxldGUgbWVzc2FnZXNbbXNnXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVzc2FnZXMgJiYgbWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBtZXNzYWdlcyA9IE9iamVjdC52YWx1ZXMobWVzc2FnZXMpLnNvcnQoKGEsIGIpID0+IGIuZGF0ZSAtIGEuZGF0ZSkucmVkdWNlKChhY2MsIG0pID0+IHtcbiAgICAgICAgICBhY2NbbS5pZF0gPSBtO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgIH1cblxuICAgICAgc2F2ZUluYm94TWVzc2FnZXMobWVzc2FnZXMpO1xuICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xuICAgIH1cblxuICAgIHVwZGF0ZUluYm94TWVzc2FnZXMoKSB7XG4gICAgICBsZXQgbXNncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgICBjb25zdCBpbmJveE1zZ3MgPSB0aGlzLmRlbGV0ZUV4cGlyZWRBbmRHZXRVbmV4cGlyZWRNc2dzKCk7XG4gICAgICBjb25zdCBkYXRlID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IGluY29taW5nTXNncyA9IHt9O1xuICAgICAgbXNncy5mb3JFYWNoKChtLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IFwiXCIuY29uY2F0KG0ud3pya19pZC5zcGxpdCgnXycpWzBdLCBcIl9cIikuY29uY2F0KERhdGUubm93KCkpO1xuICAgICAgICBtLmlkID0ga2V5OyAvLyBXZSBhcmUgZG9pbmcgdGhpcyB0byBwcmVzZXJ2ZSB0aGUgb3JkZXIgb2YgdGhlIG1lc3NhZ2VzXG5cbiAgICAgICAgbS5kYXRlID0gZGF0ZSAtIGk7XG4gICAgICAgIG0udmlld2VkID0gMDtcbiAgICAgICAgaW5ib3hNc2dzW2tleV0gPSBtO1xuICAgICAgICBpbmNvbWluZ01zZ3Nba2V5XSA9IG07XG4gICAgICAgIHRoaXMudW52aWV3ZWRNZXNzYWdlc1trZXldID0gbTtcbiAgICAgICAgdGhpcy51bnZpZXdlZENvdW50ZXIrKztcbiAgICAgIH0pO1xuICAgICAgc2F2ZUluYm94TWVzc2FnZXMoaW5ib3hNc2dzKTtcbiAgICAgIHRoaXMuYnVpbGRVSUZvck1lc3NhZ2VzKGluY29taW5nTXNncyk7XG4gICAgICB0aGlzLnVwZGF0ZVVudmlld2VkQmFkZ2VDb3VudGVyKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlRWwodHlwZSwgaWQsIHBhcnQpIHtcbiAgICAgIGNvbnN0IF9lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG5cbiAgICAgIF9lbC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xuXG4gICAgICBfZWwuc2V0QXR0cmlidXRlKCdwYXJ0JywgcGFydCB8fCBpZCk7XG5cbiAgICAgIHJldHVybiBfZWw7XG4gICAgfVxuXG4gICAgYWRkVW52aWV3ZWRCYWRnZSgpIHtcbiAgICAgIGlmICghdGhpcy51bnZpZXdlZEJhZGdlKSB7XG4gICAgICAgIHRoaXMudW52aWV3ZWRCYWRnZSA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICd1bnZpZXdlZEJhZGdlJyk7IC8vIEFzIHRoaXMgdW52aWV3ZWRCYWRnZSBlbGVtZW50IHdpbGwgYmUgZGlyZWN0bHkgYWRkZWQgdG8gdGhlIERPTSwgd2UgYXJlIGRlZmluaW5nIGlubGluZSBzdHlsZXNcblxuICAgICAgICB0aGlzLnVudmlld2VkQmFkZ2Uuc3R5bGUuY3NzVGV4dCA9IFwiZGlzcGxheTogbm9uZTsgcG9zaXRpb246IGFic29sdXRlOyBoZWlnaHQ6IDE2cHg7IHdpZHRoOiAyNnB4OyBib3JkZXItcmFkaXVzOiA4cHg7IGJhY2tncm91bmQtY29sb3I6IFwiLmNvbmNhdCh0aGlzLmNvbmZpZy5zdHlsZXMubm90aWZpY2F0aW9uc0JhZGdlLmJhY2tncm91bmRDb2xvciwgXCI7IGZvbnQtc2l6ZTogMTJweDsgY29sb3I6IFwiKS5jb25jYXQodGhpcy5jb25maWcuc3R5bGVzLm5vdGlmaWNhdGlvbnNCYWRnZS50ZXh0Q29sb3IsIFwiOyBmb250LXdlaWdodDogYm9sZDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCIpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudW52aWV3ZWRCYWRnZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlVW52aWV3ZWRCYWRnZVBvc2l0aW9uKCk7IC8vIGNhbGxlZCB3aGVuIHVzZXIgc3dpdGNoZXMgYi93IHBvcnRyYWl0IGFuZCBsYW5kc2NhcGUgbW9kZS5cblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVVbnZpZXdlZEJhZGdlUG9zaXRpb24oKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZVVudmlld2VkQmFkZ2VQb3NpdGlvbigpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdG9wLFxuICAgICAgICByaWdodFxuICAgICAgfSA9IHRoaXMuaW5ib3hTZWxlY3Rvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHRoaXMudW52aWV3ZWRCYWRnZS5zdHlsZS50b3AgPSBcIlwiLmNvbmNhdCh0b3AgLSA4LCBcInB4XCIpO1xuICAgICAgdGhpcy51bnZpZXdlZEJhZGdlLnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdChyaWdodCAtIDgsIFwicHhcIik7XG4gICAgfVxuXG4gICAgY3JlYXRlaW5ib3goKSB7XG4gICAgICB0aGlzLmluYm94ID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2luYm94Jyk7XG4gICAgICBjb25zdCBoZWFkZXIgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnaGVhZGVyJyk7XG4gICAgICBjb25zdCBoZWFkZXJUaXRsZSA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdoZWFkZXJUaXRsZScpO1xuICAgICAgaGVhZGVyVGl0bGUuaW5uZXJUZXh0ID0gdGhpcy5jb25maWcudGl0bGU7XG4gICAgICBjb25zdCBjbG9zZUljb24gPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnY2xvc2VJbmJveCcpO1xuICAgICAgY2xvc2VJY29uLmlubmVySFRNTCA9ICcmdGltZXMnO1xuICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlclRpdGxlKTtcbiAgICAgIGhlYWRlci5hcHBlbmRDaGlsZChjbG9zZUljb24pO1xuICAgICAgdGhpcy5pbmJveC5hcHBlbmRDaGlsZChoZWFkZXIpO1xuXG4gICAgICBpZiAodGhpcy5jb25maWcuY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IHRoaXMuY3JlYXRlQ2F0ZWdvcmllcygpO1xuICAgICAgICB0aGlzLmluYm94LmFwcGVuZENoaWxkKGNhdGVnb3JpZXMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmluYm94Q2FyZCA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdpbmJveENhcmQnKTtcbiAgICAgIHRoaXMuaW5ib3guYXBwZW5kQ2hpbGQodGhpcy5pbmJveENhcmQpO1xuICAgICAgdGhpcy5lbXB0eUluYm94TXNnID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2VtcHR5SW5ib3hNc2cnKTtcbiAgICAgIHRoaXMuZW1wdHlJbmJveE1zZy5pbm5lclRleHQgPSAnQWxsIG1lc3NhZ2VzIHdpbGwgYmUgZGlzcGxheWVkIGhlcmUuJztcbiAgICAgIHRoaXMuaW5ib3hDYXJkLmFwcGVuZENoaWxkKHRoaXMuZW1wdHlJbmJveE1zZyk7IC8vIEludGVyc2VjdGlvbiBvYnNlcnZlciBmb3Igbm90aWZpY2F0aW9uIHZpZXdlZFxuXG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICByb290OiB0aGlzLmluYm94Q2FyZCxcbiAgICAgICAgcm9vdE1hcmdpbjogJzBweCcsXG4gICAgICAgIHRocmVzaG9sZDogMC41XG4gICAgICB9O1xuICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlVmlld2VkKGVudHJpZXMpO1xuICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICB0aGlzLmFkZE1zZ3NUb0luYm94RnJvbUxTKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2F0ZWdvcmllcygpIHtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXNDb250YWluZXIgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnY2F0ZWdvcmllc0NvbnRhaW5lcicpO1xuICAgICAgY29uc3QgbGVmdEFycm93ID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2xlZnRBcnJvdycpO1xuICAgICAgbGVmdEFycm93LmlubmVySFRNTCA9IGFycm93U3ZnO1xuICAgICAgbGVmdEFycm93LmNoaWxkcmVuWzBdLnN0eWxlID0gJ3RyYW5zZm9ybTogcm90YXRlKDE4MGRlZyknO1xuICAgICAgbGVmdEFycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3JpZXNXcmFwcGVyJykuc2Nyb2xsQnkoLTcwLCAwKTtcbiAgICAgIH0pO1xuICAgICAgY2F0ZWdvcmllc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsZWZ0QXJyb3cpO1xuICAgICAgY29uc3QgY2F0ZWdvcmllc1dyYXBwZXIgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnY2F0ZWdvcmllc1dyYXBwZXInKTtcbiAgICAgIGNvbnN0IF9jYXRlZ29yaWVzID0gWydBbGwnLCAuLi50aGlzLmNvbmZpZy5jYXRlZ29yaWVzXTtcblxuICAgICAgX2NhdGVnb3JpZXMuZm9yRWFjaCgoYywgaSkgPT4ge1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsIFwiY2F0ZWdvcnktXCIuY29uY2F0KGkpLCAnY2F0ZWdvcnknKTtcbiAgICAgICAgY2F0ZWdvcnkuaW5uZXJUZXh0ID0gYztcblxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yeVJlZiA9IGNhdGVnb3J5O1xuICAgICAgICB9XG5cbiAgICAgICAgY2F0ZWdvcmllc1dyYXBwZXIuYXBwZW5kQ2hpbGQoY2F0ZWdvcnkpO1xuICAgICAgfSk7XG5cbiAgICAgIGNhdGVnb3JpZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2F0ZWdvcmllc1dyYXBwZXIpO1xuICAgICAgY29uc3QgcmlnaHRBcnJvdyA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdyaWdodEFycm93Jyk7XG4gICAgICByaWdodEFycm93LmlubmVySFRNTCA9IGFycm93U3ZnO1xuICAgICAgcmlnaHRBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzV3JhcHBlcicpLnNjcm9sbEJ5KDcwLCAwKTtcbiAgICAgIH0pO1xuICAgICAgY2F0ZWdvcmllc0NvbnRhaW5lci5hcHBlbmRDaGlsZChyaWdodEFycm93KTtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHJvb3Q6IGNhdGVnb3JpZXNDb250YWluZXIsXG4gICAgICAgIHRocmVzaG9sZDogMC45XG4gICAgICB9O1xuICAgICAgY29uc3QgZmlyc3RDYXRlZ29yeSA9IGNhdGVnb3JpZXNXcmFwcGVyLmNoaWxkcmVuWzBdO1xuICAgICAgY29uc3QgbGFzdENhdGVnb3J5ID0gY2F0ZWdvcmllc1dyYXBwZXIuY2hpbGRyZW5bdGhpcy5jb25maWcuY2F0ZWdvcmllcy5sZW5ndGhdO1xuICAgICAgY29uc3QgZmlyc3RDYXRlZ29yeU9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGUgPT4ge1xuICAgICAgICB0aGlzLmNhdGVnb3J5T2JzZXJ2ZXJDYihsZWZ0QXJyb3csIGVbMF0uaW50ZXJzZWN0aW9uUmF0aW8gPj0gMC45KTtcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgZmlyc3RDYXRlZ29yeU9ic2VydmVyLm9ic2VydmUoZmlyc3RDYXRlZ29yeSk7XG4gICAgICBjb25zdCBsYXN0Q2F0ZWdvcnlPYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlID0+IHtcbiAgICAgICAgdGhpcy5jYXRlZ29yeU9ic2VydmVyQ2IocmlnaHRBcnJvdywgZVswXS5pbnRlcnNlY3Rpb25SYXRpbyA+PSAwLjkpO1xuICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICBsYXN0Q2F0ZWdvcnlPYnNlcnZlci5vYnNlcnZlKGxhc3RDYXRlZ29yeSk7XG4gICAgICByZXR1cm4gY2F0ZWdvcmllc0NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBjYXRlZ29yeU9ic2VydmVyQ2IoZWwsIGhpZGUpIHtcbiAgICAgIGlmICghZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gaGlkZSA/ICdub25lJyA6ICdmbGV4JztcbiAgICB9XG5cbiAgICB1cGRhdGVBY3RpdmVDYXRlZ29yeShhY3RpdmVDYXRlZ29yeSkge1xuICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gYWN0aXZlQ2F0ZWdvcnk7XG4gICAgICB0aGlzLmluYm94Q2FyZC5zY3JvbGxUb3AgPSAwO1xuICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgdGhpcy5wcmV2Q2F0ZWdvcnlSZWYgJiYgdGhpcy5wcmV2Q2F0ZWdvcnlSZWYuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICdmYWxzZScpO1xuICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5UmVmLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAndHJ1ZScpO1xuICAgICAgdGhpcy5pbmJveENhcmQuY2hpbGROb2Rlcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICBpZiAoYy5nZXRBdHRyaWJ1dGUoJ2lkJykgIT09ICdlbXB0eUluYm94TXNnJykge1xuICAgICAgICAgIGMuc3R5bGUuZGlzcGxheSA9IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9PT0gJ0FsbCcgfHwgYy5nZXRBdHRyaWJ1dGUoJ2NhdGVnb3J5JykgPT09IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA/ICdibG9jaycgOiAnbm9uZSc7XG5cbiAgICAgICAgICBpZiAoYy5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snKSB7XG4gICAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGNvdW50ZXIgPT09IDApIHtcbiAgICAgICAgdGhpcy5lbXB0eUluYm94TXNnLmlubmVyVGV4dCA9IFwiXCIuY29uY2F0KGFjdGl2ZUNhdGVnb3J5LCBcIiBtZXNzYWdlcyB3aWxsIGJlIGRpc3BsYXllZCBoZXJlLlwiKTtcbiAgICAgICAgdGhpcy5lbXB0eUluYm94TXNnLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbXB0eUluYm94TXNnLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYnVpbGRVSUZvck1lc3NhZ2VzKCkge1xuICAgICAgdmFyIF90aGlzJGNvbmZpZyRtYXhNc2dzSTtcblxuICAgICAgbGV0IG1lc3NhZ2VzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICF0aGlzLmlzUHJldmlldyAmJiB0aGlzLnVwZGF0ZVRTRm9yUmVuZGVyZWRNc2dzKCk7XG4gICAgICB0aGlzLmluYm94Q2FyZC5zY3JvbGxUb3AgPSAwO1xuICAgICAgY29uc3QgbWF4TXNnc0luSW5ib3ggPSAoX3RoaXMkY29uZmlnJG1heE1zZ3NJID0gdGhpcy5jb25maWcubWF4TXNnc0luSW5ib3gpICE9PSBudWxsICYmIF90aGlzJGNvbmZpZyRtYXhNc2dzSSAhPT0gdm9pZCAwID8gX3RoaXMkY29uZmlnJG1heE1zZ3NJIDogTUFYX0lOQk9YX01TRztcbiAgICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSB0aGlzLmluYm94Q2FyZC5maXJzdENoaWxkO1xuICAgICAgY29uc3Qgc29ydGVkTXNncyA9IE9iamVjdC52YWx1ZXMobWVzc2FnZXMpLnNvcnQoKGEsIGIpID0+IGIuZGF0ZSAtIGEuZGF0ZSkubWFwKG0gPT4gbS5pZCk7XG5cbiAgICAgIGZvciAoY29uc3QgbSBvZiBzb3J0ZWRNc2dzKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgTWVzc2FnZSh0aGlzLmNvbmZpZywgbWVzc2FnZXNbbV0pO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBtZXNzYWdlc1ttXS5pZCk7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdwaXZvdCcsIG1lc3NhZ2VzW21dLnd6cmtfcGl2b3QpO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncGFydCcsICdjdC1pbmJveC1tZXNzYWdlJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmNhdGVnb3JpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdjYXRlZ29yeScsIG1lc3NhZ2VzW21dLnRhZ3NbMF0gfHwgJycpO1xuICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9PT0gJ0FsbCcgfHwgbWVzc2FnZXNbbV0uY2F0ZWdvcnkgPT09IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5ib3hDYXJkLmluc2VydEJlZm9yZShpdGVtLCBmaXJzdENoaWxkKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKGl0ZW0pO1xuICAgICAgfVxuXG4gICAgICBsZXQgbXNnVG90YWxDb3VudCA9IHRoaXMuaW5ib3hDYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJ2N0LWluYm94LW1lc3NhZ2UnKS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChtc2dUb3RhbENvdW50ID4gbWF4TXNnc0luSW5ib3gpIHtcbiAgICAgICAgY29uc3QgY3RJbmJveE1zZ3MgPSB0aGlzLmluYm94Q2FyZC5xdWVyeVNlbGVjdG9yQWxsKCdjdC1pbmJveC1tZXNzYWdlJyk7XG5cbiAgICAgICAgaWYgKGN0SW5ib3hNc2dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjdEluYm94TXNnc1tjdEluYm94TXNncy5sZW5ndGggLSAxXS5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1zZ1RvdGFsQ291bnQtLTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaGFzTWVzc2FnZXMgPSB0aGlzLmluYm94Q2FyZC5xdWVyeVNlbGVjdG9yQWxsKCdjdC1pbmJveC1tZXNzYWdlW3N0eWxlKj1cImRpc3BsYXk6IGJsb2NrXCJdJykubGVuZ3RoO1xuICAgICAgdGhpcy5lbXB0eUluYm94TXNnLnN0eWxlLmRpc3BsYXkgPSBoYXNNZXNzYWdlcyA/ICdub25lJyA6ICdibG9jayc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjbGljayBsaXN0ZW5lciBvbiB0aGUgZG9jdW1lbnQuIEZvciBldmVyeSBjbGljayB3ZSBjaGVja1xuICAgICAqIDEuIGlmIHRoZSBjbGljayBoYXMgaGFwcGVubmVkIHdpdGhpbiB0aGUgaW5ib3hcbiAgICAgKiAgICAtIG9uIGNsb3NlIGJ1dHRvbiwgd2UgY2xvc2UgdGhlIGluYm94XG4gICAgICogICAgLSBvbiBhbnkgb2YgdGhlIGNhdGVnb3J5LCB3ZSBzZXQgdGhhdCBhcyB0aGUgYWN0aXZlQ2F0ZWdvcnlcbiAgICAgKiAgICAtIG9uIGFueSBvZiB0aGUgbWVzc2FnZSwgd2UgbWFyayByYWlzZSBub3RpZmljYXRpb24gY2xpY2tlZCBldmVudC4gVG8gaWRlbnRpZnkgdGhlIGNsaWNrcyBvbiBhIGJ1dHRvbiwgd2UgaGF2ZSBwLmlkLnN0YXJ0c1dpdGgoJ2J1dHRvbi0nKVxuICAgICAqIDIuIGlmIHRoZSB1c2VyIGhhcyBjbGlja2VkIG9uIHRoZSBpbmJveFNlbGVjdG9yLCB3ZSB0b2dnbGUgaW5ib3hcbiAgICAgKiAzLiBpZiB0aGUgY2xpY2sgaXMgYW55d2hlcmUgZWxzZSBvbiB0aGUgVUkgYW5kIHRoZSBpbmJveCBpcyBvcGVuLCB3ZSBzaW1wbHkgY2xvc2UgaXRcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBldmVyeSB0aW1lIHdoZW4gYSBtZXNzYWdlIGNvbWVzIGludG8gdGhlIGluYm94IHZpZXdwb3J0IGFuZCBpdCdzIHZpc2liaWxpdHkgaW5jcmVhc2VzIHRvIDUwJSBvciBkcm9wcyBiZWxvdyA1MCVcbiAgICAgKiBJZiBhIG1zZyBpcyA1MCUgdmlzaWJsZSBpbiB0aGUgVUksIHdlIG5lZWQgdG8gbWFyayB0aGUgbWVzc2FnZSBhcyB2aWV3ZWQgaW4gTFMgYW5kIHJhaXNlIG5vdGlmaWNhdGlvbiB2aWV3ZWQgZXZlbnRcbiAgICAgKi9cbiAgICBoYW5kbGVNZXNzYWdlVmlld2VkKGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJhaXNlVmlld2VkRXZlbnQgPSAhdGhpcy5pc1ByZXZpZXc7XG5cbiAgICAgIGlmICh0aGlzLmlzSW5ib3hPcGVuKSB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICBpZiAoZS5pc0ludGVyc2VjdGluZyAmJiB0aGlzLnVudmlld2VkTWVzc2FnZXMuaGFzT3duUHJvcGVydHkoZS50YXJnZXQuaWQpICYmIGUudGFyZ2V0Lm1lc3NhZ2Uudmlld2VkID09PSAwKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5tZXNzYWdlLnZpZXdlZCA9IDE7XG5cbiAgICAgICAgICAgIGlmIChyYWlzZVZpZXdlZEV2ZW50KSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uVmlld2VkKHtcbiAgICAgICAgICAgICAgICBtc2dJZDogZS50YXJnZXQuY2FtcGFpZ25JZCxcbiAgICAgICAgICAgICAgICBwaXZvdElkOiBlLnRhcmdldC5waXZvdElkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2VJbkxTKGUudGFyZ2V0LmlkLCB7IC4uLmUudGFyZ2V0Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdmlld2VkOiAxXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd1bnJlYWRNYXJrZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3RpZmljdGlvbiB2aWV3ZWQgZXZlbnQgd2lsbCBiZSByYWlzZWQgYXQgcnVuIHRpbWUgd2l0aCBwYXlsb2FkIDo6Jywge1xuICAgICAgICAgICAgICAgIG1zZ0lkOiBlLnRhcmdldC5jYW1wYWlnbklkLFxuICAgICAgICAgICAgICAgIHBpdm90SWQ6IGUudGFyZ2V0LnBpdm90SWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudW52aWV3ZWRDb3VudGVyLS07XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVudmlld2VkQmFkZ2VDb3VudGVyKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy51bnZpZXdlZE1lc3NhZ2VzW2UudGFyZ2V0LmlkXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZU1lc3NhZ2VJbkxTKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy5pc1ByZXZpZXcpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRJbmJveE1lc3NhZ2VzKCk7XG4gICAgICAgIG1lc3NhZ2VzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgc2F2ZUluYm94TWVzc2FnZXMobWVzc2FnZXMpO1xuICAgICAgfVxuICAgIH0gLy8gY3JlYXRlIGEgc2VwYXJ0ZSBmbiBmcm8gcmVmYWN0b3JpbmdcblxuXG4gICAgdG9nZ2xlSW5ib3goZSkge1xuICAgICAgdGhpcy5pc0luYm94T3BlbiA9ICF0aGlzLmlzSW5ib3hPcGVuO1xuICAgICAgdGhpcy5pc0luYm94RnJvbUZsdXR0ZXIgPSAhIShlID09PSBudWxsIHx8IGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUucmVjdCk7XG5cbiAgICAgIGlmICh0aGlzLmlzSW5ib3hPcGVuKSB7XG4gICAgICAgIHRoaXMuaW5ib3hDYXJkLnNjcm9sbFRvcCA9IDA7XG4gICAgICAgICF0aGlzLmlzUHJldmlldyAmJiB0aGlzLmRlbGV0ZUV4cGlyZWRBbmRHZXRVbmV4cGlyZWRNc2dzKCk7XG4gICAgICAgIHRoaXMuaW5ib3guc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHRoaXMuaW5ib3guc3R5bGUuekluZGV4ID0gJzIxNDc0ODM2NDcnOyAvLyB6SW5kZXggc2hvdWxkIGJlIG1heCBmb3IgdGhlIGluYm94IHRvIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBhbGwgZWxlbWVudHNcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlSZWYuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICdmYWxzZScpO1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yeVJlZiA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcnktMCcpO1xuICAgICAgICAgIHRoaXMudXBkYXRlQWN0aXZlQ2F0ZWdvcnkodGhpcy5zZWxlY3RlZENhdGVnb3J5UmVmLmlubmVyVGV4dCk7XG4gICAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzV3JhcHBlcicpLnNjcm9sbExlZnQgLT0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzV3JhcHBlcicpLnNjcm9sbFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRJbmJveFBvc2l0aW9uKGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbmJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldEluYm94UG9zaXRpb24oZSkge1xuICAgICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cub3V0ZXJXaWR0aDtcbiAgICAgIGNvbnN0IGN1c3RvbUluYm94U3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZSgkY3QuaW5ib3gpO1xuICAgICAgY29uc3QgdG9wID0gY3VzdG9tSW5ib3hTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnLS1pbmJveC10b3AnKTtcbiAgICAgIGNvbnN0IGJvdHRvbSA9IGN1c3RvbUluYm94U3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJy0taW5ib3gtYm90dG9tJyk7XG4gICAgICBjb25zdCBsZWZ0ID0gY3VzdG9tSW5ib3hTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnLS1pbmJveC1sZWZ0Jyk7XG4gICAgICBjb25zdCByaWdodCA9IGN1c3RvbUluYm94U3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJy0taW5ib3gtcmlnaHQnKTtcbiAgICAgIGNvbnN0IGhhc1Bvc2l0aW9uRGVmaW5lZCA9IHRvcCB8fCBib3R0b20gfHwgbGVmdCB8fCByaWdodDtcblxuICAgICAgaWYgKHdpbmRvd1dpZHRoID4gNDgxICYmICFoYXNQb3NpdGlvbkRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgcmVzID0gZ2V0SW5ib3hQb3NpdGlvbihlLCB0aGlzLmluYm94LmNsaWVudEhlaWdodCwgdGhpcy5pbmJveC5jbGllbnRXaWR0aCk7XG4gICAgICAgIGNvbnN0IHhQb3MgPSByZXMueFBvcztcbiAgICAgICAgY29uc3QgeVBvcyA9IHJlcy55UG9zO1xuICAgICAgICB0aGlzLmluYm94LnN0eWxlLnRvcCA9IHlQb3MgKyAncHgnO1xuICAgICAgICB0aGlzLmluYm94LnN0eWxlLmxlZnQgPSB4UG9zICsgJ3B4JztcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgVUkgd2l0aCB0aGUgbnVtYmVyIG9mIHVudmlld2VkIG1lc3NhZ2VzXG4gICAgICogSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiA5IHVudmlld2VkIG1lc3NhZ2VzLCB3ZSBzaG93IHRoZSBjb3VudCBhcyA5K1xuICAgICAqL1xuXG5cbiAgICB1cGRhdGVVbnZpZXdlZEJhZGdlQ291bnRlcigpIHtcbiAgICAgIGlmICh0aGlzLmlzUHJldmlldykge1xuICAgICAgICB0aGlzLnNldEJhZGdlU3R5bGUodGhpcy51bnZpZXdlZENvdW50ZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgIHRoaXMuaW5ib3hDYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJ2N0LWluYm94LW1lc3NhZ2UnKS5mb3JFYWNoKG0gPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGdldEluYm94TWVzc2FnZXMoKTtcblxuICAgICAgICBpZiAobWVzc2FnZXNbbS5pZF0gJiYgbWVzc2FnZXNbbS5pZF0udmlld2VkID09PSAwKSB7XG4gICAgICAgICAgY291bnRlcisrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2V0QmFkZ2VTdHlsZShjb3VudGVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVUU0ZvclJlbmRlcmVkTXNncygpIHtcbiAgICAgIHRoaXMuaW5ib3hDYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJ2N0LWluYm94LW1lc3NhZ2UnKS5mb3JFYWNoKG0gPT4ge1xuICAgICAgICBjb25zdCB0cyA9IG0uaWQuc3BsaXQoJ18nKVsxXTtcbiAgICAgICAgbS5zaGFkb3cuZ2V0RWxlbWVudEJ5SWQoJ3RpbWVTdGFtcCcpLmZpcnN0Q2hpbGQuaW5uZXJUZXh0ID0gZGV0ZXJtaW5lVGltZVN0YW1wVGV4dCh0cyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRJbmJveFN0eWxlcygpIHtcbiAgICAgIGNvbnN0IGhlYWRlckhlaWdodCA9IDM2O1xuICAgICAgY29uc3QgY2F0ZWdvcmllc0hlaWdodCA9IHRoaXMuY29uZmlnLmNhdGVnb3JpZXMubGVuZ3RoID8gNjQgOiAxNjtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IHtcbiAgICAgICAgcGFuZWxCYWNrZ3JvdW5kQ29sb3I6IHRoaXMuY29uZmlnLnN0eWxlcy5wYW5lbEJhY2tncm91bmRDb2xvcixcbiAgICAgICAgcGFuZWxCb3JkZXJDb2xvcjogdGhpcy5jb25maWcuc3R5bGVzLnBhbmVsQm9yZGVyQ29sb3IsXG4gICAgICAgIGhlYWRlckJhY2tncm91bmRDb2xvcjogdGhpcy5jb25maWcuc3R5bGVzLmhlYWRlci5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGhlYWRlclRpdGxlQ29sb3I6IHRoaXMuY29uZmlnLnN0eWxlcy5oZWFkZXIudGl0bGVDb2xvcixcbiAgICAgICAgY2xvc2VJY29uQ29sb3I6IHRoaXMuY29uZmlnLnN0eWxlcy5jbG9zZUljb25Db2xvcixcbiAgICAgICAgY2F0ZWdvcmllc1RhYkNvbG9yOiB0aGlzLmNvbmZpZy5zdHlsZXMuY2F0ZWdvcmllcy50YWJDb2xvcixcbiAgICAgICAgY2F0ZWdvcmllc1RpdGxlQ29sb3I6IHRoaXMuY29uZmlnLnN0eWxlcy5jYXRlZ29yaWVzLnRpdGxlQ29sb3IsXG4gICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlUYWJDb2xvcjogdGhpcy5jb25maWcuc3R5bGVzLmNhdGVnb3JpZXMuc2VsZWN0ZWRUYWIudGFiQ29sb3IsXG4gICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlUaXRsZUNvbG9yOiB0aGlzLmNvbmZpZy5zdHlsZXMuY2F0ZWdvcmllcy5zZWxlY3RlZFRhYi50aXRsZUNvbG9yLFxuICAgICAgICBoZWFkZXJDYXRlZ29yeUhlaWdodDogaGVhZGVySGVpZ2h0ICsgY2F0ZWdvcmllc0hlaWdodFxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLnN0eWxlcy5jYXRlZ29yaWVzLmJvcmRlckNvbG9yKSB7XG4gICAgICAgIHN0eWxlcy5jYXRlZ29yaWVzQm9yZGVyQ29sb3IgPSB0aGlzLmNvbmZpZy5zdHlsZXMuY2F0ZWdvcmllcy5ib3JkZXJDb2xvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY29uZmlnLnN0eWxlcy5jYXRlZ29yaWVzLnNlbGVjdGVkVGFiLmJvcmRlckNvbG9yKSB7XG4gICAgICAgIHN0eWxlcy5zZWxlY3RlZENhdGVnb3J5Qm9yZGVyQ29sb3IgPSB0aGlzLmNvbmZpZy5zdHlsZXMuY2F0ZWdvcmllcy5zZWxlY3RlZFRhYi5ib3JkZXJDb2xvcjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5ib3hTdHlsZXMgPSBpbmJveENvbnRhaW5lclN0eWxlcyhzdHlsZXMpO1xuICAgICAgY29uc3QgY2FyZFN0eWxlcyA9IHRoaXMuY29uZmlnLnN0eWxlcy5jYXJkcztcbiAgICAgIGNvbnN0IG1zZ1N0eWxlcyA9IG1lc3NhZ2VTdHlsZXMoe1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNhcmRTdHlsZXMuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICBib3JkZXJDb2xvcjogY2FyZFN0eWxlcy5ib3JkZXJDb2xvcixcbiAgICAgICAgdGl0bGVDb2xvcjogY2FyZFN0eWxlcy50aXRsZUNvbG9yLFxuICAgICAgICBkZXNjcmlwdGlvbkNvbG9yOiBjYXJkU3R5bGVzLmRlc2NyaXB0aW9uQ29sb3IsXG4gICAgICAgIGJ1dHRvbkNvbG9yOiBjYXJkU3R5bGVzLmJ1dHRvbkNvbG9yLFxuICAgICAgICBidXR0b25UZXh0Q29sb3I6IGNhcmRTdHlsZXMuYnV0dG9uVGV4dENvbG9yLFxuICAgICAgICB1bnJlYWRNYXJrZXJDb2xvcjogY2FyZFN0eWxlcy51bnJlYWRNYXJrZXJDb2xvclxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5ib3hTdHlsZXMgKyBtc2dTdHlsZXM7XG4gICAgfVxuXG4gIH1cblxuICBjb25zdCBwcm9jZXNzV2ViSW5ib3hTZXR0aW5ncyA9IGZ1bmN0aW9uICh3ZWJJbmJveFNldHRpbmcpIHtcbiAgICBsZXQgaXNQcmV2aWV3ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgIGNvbnN0IF9zZXR0aW5ncyA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShXRUJJTkJPWF9DT05GSUcpIHx8IHt9O1xuXG4gICAgaWYgKGlzUHJldmlldykge1xuICAgICAgJGN0LmluYm94LmluYm94Q29uZmlnRm9yUHJldmlldyA9IHdlYkluYm94U2V0dGluZztcbiAgICAgICRjdC5pbmJveC5pc1ByZXZpZXcgPSB0cnVlO1xuICAgICAgJGN0LmluYm94ICYmICRjdC5pbmJveC5pbml0KCk7XG4gICAgfSBlbHNlIGlmIChKU09OLnN0cmluZ2lmeShfc2V0dGluZ3MpICE9PSBKU09OLnN0cmluZ2lmeSh3ZWJJbmJveFNldHRpbmcpKSB7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFdFQklOQk9YX0NPTkZJRywgd2ViSW5ib3hTZXR0aW5nKTtcbiAgICAgICRjdC5pbmJveCAmJiAkY3QuaW5ib3guaW5pdCgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0luYm94Tm90aWZzID0gbXNnID0+IHtcbiAgICBpZiAobXNnLmluYm94X3ByZXZpZXcpIHtcbiAgICAgICRjdC5pbmJveC5pbmNvbWluZ01lc3NhZ2VzRm9yUHJldmlldyA9IG1zZy5pbmJveF9ub3RpZnM7XG4gICAgfSBlbHNlIHtcbiAgICAgICRjdC5pbmJveC5pbmNvbWluZ01lc3NhZ2VzID0gbXNnO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYWRkV2ViSW5ib3ggPSBsb2dnZXIgPT4ge1xuICAgIGNoZWNrQW5kUmVnaXN0ZXJXZWJJbmJveEVsZW1lbnRzKCk7XG4gICAgJGN0LmluYm94ID0gbmV3IEluYm94KHtcbiAgICAgIGxvZ2dlclxuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoJGN0LmluYm94KTtcbiAgfTtcblxuICBjb25zdCBnZXRBbmRNaWdyYXRlSW5ib3hNZXNzYWdlcyA9IGd1aWQgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFdFQklOQk9YKSB8fCB7fTsgLy8gRG9pbmcgdGhpcyB0byBtaWdyYXRlIG1lc3NhZ2UgdG8gZ3VpZCBsZXZlbFxuXG4gICAgaWYgKE9iamVjdC5rZXlzKG1lc3NhZ2VzKS5sZW5ndGggPiAwICYmIE9iamVjdC5rZXlzKG1lc3NhZ2VzKVswXS5pbmNsdWRlcygnXycpKSB7XG4gICAgICBjb25zdCBndWRJbmJveE9iaiA9IHt9O1xuICAgICAgZ3VkSW5ib3hPYmpbZ3VpZF0gPSBtZXNzYWdlcztcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoV0VCSU5CT1gsIGd1ZEluYm94T2JqKTtcbiAgICAgIHJldHVybiBndWRJbmJveE9iajtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVzc2FnZXM7XG4gIH07XG5cbiAgY29uc3QgZ2V0SW5ib3hNZXNzYWdlcyA9ICgpID0+IHtcbiAgICBjb25zdCBndWlkID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoU3RvcmFnZU1hbmFnZXIucmVhZChHQ09PS0lFX05BTUUpKSk7XG5cbiAgICBpZiAoIWlzVmFsdWVWYWxpZChndWlkKSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIGNvbnN0IG1lc3NhZ2VzID0gZ2V0QW5kTWlncmF0ZUluYm94TWVzc2FnZXMoZ3VpZCk7XG4gICAgcmV0dXJuIG1lc3NhZ2VzLmhhc093blByb3BlcnR5KGd1aWQpID8gbWVzc2FnZXNbZ3VpZF0gOiB7fTtcbiAgfTtcbiAgY29uc3Qgc2F2ZUluYm94TWVzc2FnZXMgPSBtZXNzYWdlcyA9PiB7XG4gICAgY29uc3QgZ3VpZCA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KFN0b3JhZ2VNYW5hZ2VyLnJlYWQoR0NPT0tJRV9OQU1FKSkpO1xuXG4gICAgaWYgKCFpc1ZhbHVlVmFsaWQoZ3VpZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdG9yZWRJbmJveE9iaiA9IGdldEFuZE1pZ3JhdGVJbmJveE1lc3NhZ2VzKGd1aWQpO1xuICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uc3RvcmVkSW5ib3hPYmosXG4gICAgICBbZ3VpZF06IG1lc3NhZ2VzXG4gICAgfTtcbiAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFdFQklOQk9YLCBuZXdPYmopO1xuICB9O1xuICBjb25zdCBpbml0aWFsaXplV2ViSW5ib3ggPSBsb2dnZXIgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICBhZGRXZWJJbmJveChsb2dnZXIpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjb25maWcgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoV0VCSU5CT1hfQ09ORklHKSB8fCB7fTtcblxuICAgICAgICBjb25zdCBvbkxvYWRlZCA9ICgpID0+IHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBXZSBuZWVkIHRoaXMgbnVsbCBjaGVjayBoZXJlIGJlY2F1c2UgJGN0LmluYm94IGNvdWxkIGJlIGluaXRpYWxpc2VkIHZpYSBpbml0IG1ldGhvZCB0b28gb24gZG9jdW1lbnQgbG9hZC5cbiAgICAgICAgICAgKiBJbiB0aGF0IGNhc2Ugd2UgZG9uJ3QgbmVlZCB0byBjYWxsIGFkZFdlYkluYm94IG1ldGhvZFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmICgkY3QuaW5ib3ggPT09IG51bGwpIHtcbiAgICAgICAgICAgIGFkZFdlYkluYm94KGxvZ2dlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFNjcmlwdHMgY2FuIGJlIGxvYWRlZCBsYXl6aWx5LCB3ZSBtYXkgbm90IGdldCBlbGVtZW50IGZyb20gZG9tIGFzIGl0IG1heSBub3QgYmUgbW91bnRlZCB5ZXRcbiAgICAgICAgICAgKiBXZSB3aWxsIHRvIGNoZWNrIGVsZW1lbnQgZm9yIDEwIHNlY29uZHMgYW5kIGdpdmUgdXBcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29uZmlnLmluYm94U2VsZWN0b3IpKSB7XG4gICAgICAgICAgICBvbkxvYWRlZCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgZWxlbWVudCBmb3IgbmV4dCAxMCBzZWNvbmRzXG4gICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuXG4gICAgICAgICAgICBpZiAoY291bnQgPCAyMCkge1xuICAgICAgICAgICAgICBjb25zdCB0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb25maWcuaW5ib3hTZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICAgIG9uTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHQpO1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMjApIHtcbiAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodCk7XG4gICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0ZhaWxlZCB0byBhZGQgaW5ib3gnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGNoZWNrQW5kUmVnaXN0ZXJXZWJJbmJveEVsZW1lbnRzID0gKCkgPT4ge1xuICAgIGlmIChjdXN0b21FbGVtZW50cy5nZXQoJ2N0LXdlYi1pbmJveCcpID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY3Qtd2ViLWluYm94JywgSW5ib3gpO1xuICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjdC1pbmJveC1tZXNzYWdlJywgTWVzc2FnZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXRJbmJveFBvc2l0aW9uID0gKGUsIGluYm94SGVpZ2h0LCBpbmJveFdpZHRoKSA9PiB7XG4gICAgY29uc3QgaG9yaXpvbnRhbFNjcm9sbCA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICBjb25zdCB2ZXJ0aWNhbFNjcm9sbCA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggKyBob3Jpem9udGFsU2Nyb2xsO1xuICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArIHZlcnRpY2FsU2Nyb2xsO1xuICAgIGNvbnN0IHNlbGVjdG9yUmVjdCA9IGUucmVjdCB8fCBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBzZWxlY3RvclggPSBzZWxlY3RvclJlY3QueCArIGhvcml6b250YWxTY3JvbGw7XG4gICAgY29uc3Qgc2VsZWN0b3JZID0gc2VsZWN0b3JSZWN0LnkgKyB2ZXJ0aWNhbFNjcm9sbDtcbiAgICBjb25zdCBzZWxlY3RvckxlZnQgPSBzZWxlY3RvclJlY3QubGVmdCArIGhvcml6b250YWxTY3JvbGw7XG4gICAgY29uc3Qgc2VsZWN0b3JSaWdodCA9IHNlbGVjdG9yUmVjdC5yaWdodCArIGhvcml6b250YWxTY3JvbGw7XG4gICAgY29uc3Qgc2VsZWN0b3JUb3AgPSBzZWxlY3RvclJlY3QudG9wICsgdmVydGljYWxTY3JvbGw7IC8vIGNvbnN0IHNlbGVjdG9yQm90dG9tID0gc2VsZWN0b3JSZWN0LmJvdHRvbSArIHZlcnRpY2FsU2Nyb2xsXG5cbiAgICBjb25zdCBzZWxlY3RvckJvdHRvbSA9IHNlbGVjdG9yUmVjdC5ib3R0b207XG4gICAgY29uc3Qgc2VsZWN0b3JIZWlnaHQgPSBzZWxlY3RvclJlY3QuaGVpZ2h0O1xuICAgIGNvbnN0IHNlbGVjdG9yV2lkdGggPSBzZWxlY3RvclJlY3Qud2lkdGg7XG4gICAgY29uc3Qgc2VsZWN0b3JDZW50ZXIgPSB7XG4gICAgICB4OiBzZWxlY3RvclggKyBzZWxlY3RvcldpZHRoIC8gMixcbiAgICAgIHk6IHNlbGVjdG9yWSArIHNlbGVjdG9ySGVpZ2h0IC8gMlxuICAgIH07XG4gICAgY29uc3QgaGFsZk9mSW5ib3hIZWlnaHQgPSBpbmJveEhlaWdodCAvIDI7XG4gICAgY29uc3QgaGFsZk9mSW5ib3hXaWR0aCA9IGluYm94V2lkdGggLyAyO1xuICAgIGxldCBpbmJveE9uU2lkZSA9IGZhbHNlO1xuICAgIGxldCB4UG9zLCB5UG9zO1xuICAgIGNvbnN0IHBhZGRpbmcgPSAxNjtcbiAgICAvKipcbiAgICAgKiB5IGNvLW9yZGluYXRlczpcbiAgICAgKiBUcnkgdG8gcHVzaCB0aGUgY2FyZCBkb3dud2FyZHNcbiAgICAgKiBpZiB0aGF0J3Mgbm90IHBvc3NpYmxlLCBwdXNoIGl0IHVwd2FyZHNcbiAgICAgKiBpZiB0aGF0IHRvbyBpcyBub3QgcG9zc2libGUsIHRoZW4gdGhlIGNhcmQgd2lsbCBiZSBwbGFjZWQgb24gdGhlIHNpZGUuIEFkZCBzb21lIHBhZGRpbmcuXG4gICAgICpcbiAgICAgKiB4IGNvLW9yZGluYXRlczpcbiAgICAgKiBJZiB0aGUgY2FyZCBpcyBvbiB0aGUgc2lkZSxcbiAgICAgKiAgICB0cnkgdG8gcGxhY2UgaXQgdG8gdGhlIHJpZ2h0LiBJZiBpdCdzIG5vdCBwb3NzaWJsZSxcbiAgICAgKiAgICBwbGFjZSBpdCB0byB0aGUgbGVmdFxuICAgICAqIElmIHRoZSBjYXJkIGlzIGVpdGhlciBvbiB0b3AvIGJvdHRvbSwgc2V0IHRoZSB4IGNvLW9yZGluYXRlIHN1Y2ggdGhhdCB0aGUgc2VsZWN0b3IgY2VudGVyIGFuZCB0aGUgaW5ib3ggY2FyZCBjZW50ZXIgYmVjb21lIHRoZSBzYW1lXG4gICAgICogTm93LFxuICAgICAqICBpZiB0aGUgbGVmdCBvZiB0aGUgaW5ib3ggY2FyZCBpcyA8IDAsXG4gICAgICogICAgdHJ5IHRvIGdldCB0aGUgbGVmdCBhbGlnbmVkIHRvIHRoZSBzZWxlY3RvckxlZnQuXG4gICAgICogICAgaWYgdGhhdCdzIG5vdCBwb3NzaWJsZSwgc2ltcGx5IHNldCBsZWZ0IHRvIDBcbiAgICAgKiAgaWYgdGhlIHJpZ2h0IG9mIHRoZSBpbmJveCBjYXJkID4gd2luZG93V2lkdGgsXG4gICAgICogICAgdHJ5IHRvIGdldCB0aGUgcmlnaHQgb2YgcmhlIGluYm94IGNhcmQgYWxpZ25lZCB3aXRoIHRoZSBzZWxlY3RvclJpZ2h0XG4gICAgICogICAgaWYgdGhhdCdzIG5vdCBwb3NzaWJsZSwgc2ltcGx5IHNldCB0aGUgaW5ib3ggcmlnaHQgdG8gdGhlIHdpbmRvdyBSaWdodFxuICAgICAqL1xuXG4gICAgaWYgKHNlbGVjdG9yQm90dG9tICsgaW5ib3hIZWlnaHQgPD0gd2luZG93SGVpZ2h0KSB7XG4gICAgICAvLyB0cnkgdG8gcGxhY2UgdGhlIGNhcmQgZG93blxuICAgICAgY29uc3QgYXZhaWxhYmxlSGVpZ2h0ID0gd2luZG93SGVpZ2h0IC0gKHNlbGVjdG9yQm90dG9tICsgaW5ib3hIZWlnaHQpO1xuICAgICAgeVBvcyA9IGF2YWlsYWJsZUhlaWdodCA+PSBwYWRkaW5nID8gc2VsZWN0b3JCb3R0b20gKyBwYWRkaW5nIDogc2VsZWN0b3JCb3R0b20gKyBhdmFpbGFibGVIZWlnaHQ7XG4gICAgfSBlbHNlIGlmIChzZWxlY3RvclRvcCAtIGluYm94SGVpZ2h0ID49IHZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAvLyB0cnkgdG8gcGxhY2UgdGhlIGNhcmQgdXBcbiAgICAgIGNvbnN0IGF2YWlsYWJsZUhlaWdodCA9IHNlbGVjdG9yVG9wIC0gaW5ib3hIZWlnaHQ7XG4gICAgICB5UG9zID0gYXZhaWxhYmxlSGVpZ2h0ID49IHBhZGRpbmcgPyBzZWxlY3RvclRvcCAtIGluYm94SGVpZ2h0IC0gcGFkZGluZyA6IHNlbGVjdG9yVG9wIC0gaW5ib3hIZWlnaHQgLSBhdmFpbGFibGVIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluYm94T25TaWRlID0gdHJ1ZTtcbiAgICAgIHlQb3MgPSBzZWxlY3RvckNlbnRlci55IC0gaGFsZk9mSW5ib3hIZWlnaHQ7IC8vIHdpdGggdGhpcyB0aGUgeSBjby1vcmRpbmF0ZSBvZiB0aGUgc2VsZWN0b3IgY2VudGVyIGFuZCB0aGUgaW5ib3ggY2FyZCBjZW50ZXIgYmVjb21lIHRoZSBzYW1lXG5cbiAgICAgIGlmICh5UG9zIDwgdmVydGljYWxTY3JvbGwpIHtcbiAgICAgICAgeVBvcyA9IHZlcnRpY2FsU2Nyb2xsO1xuICAgICAgfSBlbHNlIGlmICh5UG9zICsgaW5ib3hIZWlnaHQgPiB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgeVBvcyA9IHdpbmRvd0hlaWdodCAtIGluYm94SGVpZ2h0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbmJveE9uU2lkZSkge1xuICAgICAgLy8gU2VlIGlmIHdlIGNhbiBwbGFjZSB0aGUgY2FyZCB0byB0aGUgcmlnaHQgb2YgdGhlIHNlbGVjdG9yXG4gICAgICBjb25zdCBpbmJveFJpZ2h0ID0gc2VsZWN0b3JSaWdodCArIGluYm94V2lkdGg7XG5cbiAgICAgIGlmIChpbmJveFJpZ2h0IDw9IHdpbmRvd1dpZHRoKSB7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVdpZHRoID0gaW5ib3hSaWdodCArIHBhZGRpbmcgPD0gd2luZG93V2lkdGggPyBwYWRkaW5nIDogd2luZG93V2lkdGggLSBpbmJveFJpZ2h0O1xuICAgICAgICB4UG9zID0gc2VsZWN0b3JSaWdodCArIGF2YWlsYWJsZVdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaW5ib3hMZWZ0ID0gc2VsZWN0b3JMZWZ0IC0gaW5ib3hXaWR0aDtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSBpbmJveExlZnQgLSBwYWRkaW5nID49IGhvcml6b250YWxTY3JvbGwgPyBwYWRkaW5nIDogaW5ib3hMZWZ0IC0gaG9yaXpvbnRhbFNjcm9sbDtcbiAgICAgICAgeFBvcyA9IGluYm94TGVmdCAtIGF2YWlsYWJsZVdpZHRoO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB4UG9zID0gc2VsZWN0b3JDZW50ZXIueCAtIGhhbGZPZkluYm94V2lkdGg7XG5cbiAgICAgIGlmICh4UG9zIDwgaG9yaXpvbnRhbFNjcm9sbCkge1xuICAgICAgICBpZiAoc2VsZWN0b3JMZWZ0ICsgaW5ib3hXaWR0aCA8PSB3aW5kb3dXaWR0aCkge1xuICAgICAgICAgIHhQb3MgPSBzZWxlY3RvckxlZnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeFBvcyA9IGhvcml6b250YWxTY3JvbGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoeFBvcyArIGluYm94V2lkdGggPiB3aW5kb3dXaWR0aCkge1xuICAgICAgICBpZiAoc2VsZWN0b3JSaWdodCAtIGluYm94V2lkdGggPj0gaG9yaXpvbnRhbFNjcm9sbCkge1xuICAgICAgICAgIHhQb3MgPSBzZWxlY3RvclJpZ2h0IC0gaW5ib3hXaWR0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4UG9zID0gd2luZG93V2lkdGggLSBpbmJveFdpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHhQb3MsXG4gICAgICB5UG9zXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgZGV0ZXJtaW5lVGltZVN0YW1wVGV4dCA9IHRzID0+IHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGxldCBkaWZmID0gTWF0aC5mbG9vcigobm93IC0gdHMpIC8gNjAwMDApO1xuXG4gICAgaWYgKGRpZmYgPCA1KSB7XG4gICAgICByZXR1cm4gJ0p1c3Qgbm93JztcbiAgICB9XG5cbiAgICBpZiAoZGlmZiA8IDYwKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoZGlmZiwgXCIgbWludXRlXCIpLmNvbmNhdChkaWZmID4gMSA/ICdzJyA6ICcnLCBcIiBhZ29cIik7XG4gICAgfVxuXG4gICAgZGlmZiA9IE1hdGguZmxvb3IoZGlmZiAvIDYwKTtcblxuICAgIGlmIChkaWZmIDwgMjQpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChkaWZmLCBcIiBob3VyXCIpLmNvbmNhdChkaWZmID4gMSA/ICdzJyA6ICcnLCBcIiBhZ29cIik7XG4gICAgfVxuXG4gICAgZGlmZiA9IE1hdGguZmxvb3IoZGlmZiAvIDI0KTtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoZGlmZiwgXCIgZGF5XCIpLmNvbmNhdChkaWZmID4gMSA/ICdzJyA6ICcnLCBcIiBhZ29cIik7XG4gIH07XG4gIGNvbnN0IGhhc1dlYkluYm94U2V0dGluZ3NJbkxTID0gKCkgPT4ge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoV0VCSU5CT1hfQ09ORklHKSB8fCB7fSkubGVuZ3RoID4gMDtcbiAgfTtcbiAgY29uc3QgYXJyb3dTdmcgPSBcIjxzdmcgd2lkdGg9XFxcIjZcXFwiIGhlaWdodD1cXFwiMTBcXFwiIHZpZXdCb3g9XFxcIjAgMCA2IDEwXFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPlxcbjxwYXRoIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMC4yNTg0MzUgOS43NDc1MUMtMC4wNDc4NTg0IDkuNDQ4MjUgLTAuMDgxODkxIDguOTgzNzMgMC4xNTYzMzcgOC42NDc3NUwwLjI1ODQzNSA4LjUyODM2TDMuODcxMDYgNUwwLjI1ODQzNSAxLjQ3MTY0Qy0wLjA0Nzg1ODggMS4xNzIzOSAtMC4wODE4OTE0IDAuNzA3ODY3IDAuMTU2MzM3IDAuMzcxODg3TDAuMjU4NDM1IDAuMjUyNDk0QzAuNTY0NzI4IC0wLjA0Njc1ODUgMS4wNDAxOCAtMC4wODAwMDg1IDEuMzg0MDcgMC4xNTI3NDNMMS41MDYyNyAwLjI1MjQ5NEw1Ljc0MTU2IDQuMzkwNDJDNi4wNDc4NiA0LjY4OTY4IDYuMDgxODkgNS4xNTQyIDUuODQzNjYgNS40OTAxOEw1Ljc0MTU2IDUuNjA5NTdMMS41MDYyNyA5Ljc0NzUxQzEuMTYxNjkgMTAuMDg0MiAwLjYwMzAxNSAxMC4wODQyIDAuMjU4NDM1IDkuNzQ3NTFaXFxcIiBmaWxsPVxcXCIjNjM2OThGXFxcIi8+XFxuPC9zdmc+XFxuXCI7XG4gIGNvbnN0IGdyZWVuVGlja1N2ZyA9IFwiPHN2ZyB3aWR0aD1cXFwiMTZcXFwiIGhlaWdodD1cXFwiMTZcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj5cXG48cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTE2IDhDMTYgMy41ODE3MiAxMi40MTgzIDAgOCAwQzMuNTgxNzIgMCAwIDMuNTgxNzIgMCA4QzAgMTIuNDE4MyAzLjU4MTcyIDE2IDggMTZDMTIuNDE4MyAxNiAxNiAxMi40MTgzIDE2IDhaTTkuNjgzOSA1LjkzNjAyQzkuOTcwODMgNS41NTY5OCAxMC41MDMgNS40ODgzMyAxMC44NzI1IDUuNzgyNjlDMTEuMjEzNSA2LjA1NDQgMTEuMjk2OCA2LjU0MDQ0IDExLjA4MTkgNi45MTE3M0wxMS4wMjE5IDcuMDAxOThMOC4wOTgzMSAxMC44NjRDNy44MDU4MSAxMS4yNTA0IDcuMjY2NTQgMTEuMzA4NiA2LjkwMzIzIDExLjAxMjJMNi44MjgyMiAxMC45NDMzTDUuMDQ1OTcgOS4xMDE5MUM0LjcxNjM1IDguNzYxMzYgNC43MTgyNiA4LjIxMTE3IDUuMDUwMjMgNy44NzMwM0M1LjM1NjY2IDcuNTYwOSA1LjgzNzIyIDcuNTM4NTUgNi4xNjg1OSA3LjgwNDgyTDYuMjQ4MTQgNy44NzczOUw3LjM1MTMzIDkuMDE3MTdMOS42ODM5IDUuOTM2MDJaXFxcIiBmaWxsPVxcXCIjMDNBMzg3XFxcIi8+XFxuPC9zdmc+XFxuXCI7XG5cbiAgY29uc3QgT1ZFUkxBWV9QQVRIID0gJ2h0dHBzOi8vd2ViLW5hdGl2ZS1kaXNwbGF5LWNhbXBhaWduLmNsZXZlcnRhcC5jb20vcHJvZHVjdGlvbi9saWItb3ZlcmxheS9vdmVybGF5LmpzJztcbiAgY29uc3QgQ1NTX1BBVEggPSAnaHR0cHM6Ly93ZWItbmF0aXZlLWRpc3BsYXktY2FtcGFpZ24uY2xldmVydGFwLmNvbS9wcm9kdWN0aW9uL2xpYi1vdmVybGF5L3N0eWxlLmNzcyc7XG5cbiAgY29uc3QgdXBkYXRlRm9ybURhdGEgPSAoZWxlbWVudCwgZm9ybVN0eWxlKSA9PiB7XG4gICAgLy8gVXBkYXRlIHRoZSBlbGVtZW50IHN0eWxlXG4gICAgaWYgKGZvcm1TdHlsZS5zdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBPYmplY3Qua2V5cyhmb3JtU3R5bGUuc3R5bGUpLmZvckVhY2gocHJvcGVydHkgPT4ge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCBmb3JtU3R5bGUuc3R5bGVbcHJvcGVydHldKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gVXBkYXRlIHVuZGVybGluZSBmb3IgZWxlbWVudFxuXG5cbiAgICBpZiAoZm9ybVN0eWxlLnVuZGVybGluZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjdXJUZXh0RGVjb3JhdGlvbiA9IGVsZW1lbnQuc3R5bGUudGV4dERlY29yYXRpb247XG5cbiAgICAgIGlmIChmb3JtU3R5bGUudW5kZXJsaW5lKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUudGV4dERlY29yYXRpb24gPSBcIlwiLmNvbmNhdChjdXJUZXh0RGVjb3JhdGlvbiwgXCIgdW5kZXJsaW5lXCIpLnRyaW0oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUudGV4dERlY29yYXRpb24gPSBjdXJUZXh0RGVjb3JhdGlvbi5yZXBsYWNlKCd1bmRlcmxpbmUnLCAnJykudHJpbSgpO1xuICAgICAgfVxuICAgIH0gLy8gVXBkYXRlIGVsZW1lbnQgdGV4dFxuXG5cbiAgICBpZiAoZm9ybVN0eWxlLnRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZWxlbWVudC5pbm5lclRleHQgPSBmb3JtU3R5bGUudGV4dDtcbiAgICB9IC8vIEhhbmRsZSBlbGVtZW50IG9uQ2xpY2tcblxuXG4gICAgaWYgKGZvcm1TdHlsZS5jbGlja0RldGFpbHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgdXJsID0gZm9ybVN0eWxlLmNsaWNrRGV0YWlscy5jbGlja1VybDtcbiAgICAgIGVsZW1lbnQub25jbGljayA9IGZvcm1TdHlsZS5jbGlja0RldGFpbHMubmV3VGFiID8gKCkgPT4gd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJykuZm9jdXMoKSA6ICgpID0+IHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICB9O1xuICAgIH0gLy8gU2V0IHRoZSBpbWFnZSBzb3VyY2VcblxuXG4gICAgaWYgKGZvcm1TdHlsZS5pbWdVUkwgIT09IHVuZGVmaW5lZCAmJiBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2ltZycpIHtcbiAgICAgIGVsZW1lbnQuc3JjID0gZm9ybVN0eWxlLmltZ1VSTDtcbiAgICB9IC8vIEhhbmRsZSBlbGVtZW50Q3NzXG5cblxuICAgIGlmIChmb3JtU3R5bGUuZWxlbWVudENzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZS5pbm5lckhUTUwgPSBmb3JtU3R5bGUuZWxlbWVudENzcztcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjaGVja0J1aWxkZXIgPSAobG9nZ2VyLCBhY2NvdW50SWQpID0+IHtcbiAgICBjb25zdCBzZWFyY2ggPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIGNvbnN0IHBhcmVudFdpbmRvdyA9IHdpbmRvdy5vcGVuZXI7XG5cbiAgICBpZiAoc2VhcmNoID09PSAnP2N0QnVpbGRlcicpIHtcbiAgICAgIC8vIG9wZW4gaW4gdmlzdWFsIGJ1aWxkZXIgbW9kZVxuICAgICAgbG9nZ2VyLmRlYnVnKCdvcGVuIGluIHZpc3VhbCBidWlsZGVyIG1vZGUnKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlTWVzc2FnZUV2ZW50LCBmYWxzZSk7XG5cbiAgICAgIGlmIChwYXJlbnRXaW5kb3cpIHtcbiAgICAgICAgcGFyZW50V2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBtZXNzYWdlOiAnYnVpbGRlcicsXG4gICAgICAgICAgb3JpZ2luVXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgICAgICB9LCAnKicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaCA9PT0gJz9jdEJ1aWxkZXJQcmV2aWV3Jykge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVNZXNzYWdlRXZlbnQsIGZhbHNlKTtcblxuICAgICAgaWYgKHBhcmVudFdpbmRvdykge1xuICAgICAgICBwYXJlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdwcmV2aWV3JyxcbiAgICAgICAgICBvcmlnaW5Vcmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgIH0sICcqJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaCA9PT0gJz9jdEJ1aWxkZXJTREtDaGVjaycpIHtcbiAgICAgIGlmIChwYXJlbnRXaW5kb3cpIHtcbiAgICAgICAgcGFyZW50V2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBtZXNzYWdlOiAnU0RLVmVyc2lvbicsXG4gICAgICAgICAgYWNjb3VudElkLFxuICAgICAgICAgIG9yaWdpblVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgc2RrVmVyc2lvbjogJzEuOS4yJ1xuICAgICAgICB9LCAnKicpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVNZXNzYWdlRXZlbnQgPSBldmVudCA9PiB7XG4gICAgaWYgKGV2ZW50LmRhdGEgJiYgaXNWYWxpZFVybChldmVudC5kYXRhLm9yaWdpblVybCkpIHtcbiAgICAgIGNvbnN0IG1zZ09yaWdpbiA9IG5ldyBVUkwoZXZlbnQuZGF0YS5vcmlnaW5VcmwpLm9yaWdpbjtcblxuICAgICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gbXNnT3JpZ2luKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5kYXRhLm1lc3NhZ2UgPT09ICdEYXNoYm9hcmQnKSB7XG4gICAgICB2YXIgX2V2ZW50JGRhdGEkdmFyaWFudCwgX2V2ZW50JGRhdGEkZGV0YWlscztcblxuICAgICAgaW5pdGlhbGlzZUNUQnVpbGRlcihldmVudC5kYXRhLnVybCwgKF9ldmVudCRkYXRhJHZhcmlhbnQgPSBldmVudC5kYXRhLnZhcmlhbnQpICE9PSBudWxsICYmIF9ldmVudCRkYXRhJHZhcmlhbnQgIT09IHZvaWQgMCA/IF9ldmVudCRkYXRhJHZhcmlhbnQgOiBudWxsLCAoX2V2ZW50JGRhdGEkZGV0YWlscyA9IGV2ZW50LmRhdGEuZGV0YWlscykgIT09IG51bGwgJiYgX2V2ZW50JGRhdGEkZGV0YWlscyAhPT0gdm9pZCAwID8gX2V2ZW50JGRhdGEkZGV0YWlscyA6IHt9KTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGEubWVzc2FnZSA9PT0gJ092ZXJsYXknKSB7XG4gICAgICByZW5kZXJWaXN1YWxCdWlsZGVyKGV2ZW50LmRhdGEsIHRydWUpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBDbGV2ZXJ0YXAgYnVpbGRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gaW5pdGlhbGl6ZSB0aGUgYnVpbGRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhcmlhbnQgLSBUaGUgdmFyaWFudCBvZiB0aGUgYnVpbGRlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRldGFpbHMgLSBUaGUgZGV0YWlscyBvYmplY3QuXG4gICAqL1xuXG5cbiAgY29uc3QgaW5pdGlhbGlzZUNUQnVpbGRlciA9ICh1cmwsIHZhcmlhbnQsIGRldGFpbHMpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gb25Db250ZW50TG9hZCh1cmwsIHZhcmlhbnQsIGRldGFpbHMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25Db250ZW50TG9hZCh1cmwsIHZhcmlhbnQsIGRldGFpbHMpO1xuICAgIH1cbiAgfTtcblxuICBsZXQgY29udGFpbmVyO1xuICBsZXQgY29udGVudExvYWRlZCA9IGZhbHNlO1xuICAvKipcbiAgICogSGFuZGxlcyBjb250ZW50IGxvYWQgZm9yIENsZXZlcnRhcCBidWlsZGVyLlxuICAgKi9cblxuICBmdW5jdGlvbiBvbkNvbnRlbnRMb2FkKHVybCwgdmFyaWFudCwgZGV0YWlscykge1xuICAgIGlmICghY29udGVudExvYWRlZCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGFpbmVyLmlkID0gJ292ZXJsYXlEaXYnO1xuICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsgLy8gRW5zdXJlIHJlbGF0aXZlIHBvc2l0aW9uaW5nIGZvciBhYnNvbHV0ZSBwb3NpdGlvbmluZyBvZiBmb3JtXG5cbiAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgY29uc3Qgb3ZlcmxheVBhdGggPSBPVkVSTEFZX1BBVEg7XG4gICAgICBsb2FkT3ZlcmxheVNjcmlwdChvdmVybGF5UGF0aCwgdXJsLCB2YXJpYW50LCBkZXRhaWxzKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ092ZXJsYXkgc2NyaXB0IGxvYWRlZCBzdWNjZXNzZnVsbHkuJyk7XG4gICAgICAgIGNvbnRlbnRMb2FkZWQgPSB0cnVlO1xuICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIG92ZXJsYXkgc2NyaXB0OicsIGVycm9yKTtcbiAgICAgIH0pO1xuICAgICAgbG9hZENTUygpO1xuICAgICAgbG9hZFR5cGVLaXQoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIENTUyBmaWxlLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGxvYWRDU1MoKSB7XG4gICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgbGluay50eXBlID0gJ3RleHQvY3NzJztcbiAgICBsaW5rLmhyZWYgPSBDU1NfUEFUSDtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGUgb3ZlcmxheSBzY3JpcHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvdmVybGF5UGF0aCAtIFRoZSBwYXRoIHRvIG92ZXJsYXkgc2NyaXB0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhcmlhbnQgLSBUaGUgdmFyaWFudC5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRldGFpbHMgLSBUaGUgZGV0YWlscyBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbG9hZE92ZXJsYXlTY3JpcHQob3ZlcmxheVBhdGgsIHVybCwgdmFyaWFudCwgZGV0YWlscykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBzY3JpcHQudHlwZSA9ICdtb2R1bGUnO1xuICAgICAgc2NyaXB0LnNyYyA9IG92ZXJsYXlQYXRoO1xuXG4gICAgICBzY3JpcHQub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5PdmVybGF5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2luZG93Lk92ZXJsYXkoe1xuICAgICAgICAgICAgaWQ6ICcjb3ZlcmxheURpdicsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICB2YXJpYW50LFxuICAgICAgICAgICAgZGV0YWlsc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb250ZW50TGF5b3V0IG5vdCBmb3VuZCBpbiBvdmVybGF5LmpzJykpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfTtcblxuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyBUeXBlS2l0IHNjcmlwdC5cbiAgICovXG5cblxuICBmdW5jdGlvbiBsb2FkVHlwZUtpdCgpIHtcbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBraXRJZDogJ2VxajZub20nLFxuICAgICAgc2NyaXB0VGltZW91dDogMzAwMCxcbiAgICAgIGFzeW5jOiB0cnVlXG4gICAgfTtcbiAgICBjb25zdCBkb2NFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgZG9jRWxlbWVudC5jbGFzc05hbWUgPSBkb2NFbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKC9cXGJ3Zi1sb2FkaW5nXFxiL2csICcnKSArICcgd2YtaW5hY3RpdmUnO1xuICAgIH0sIGNvbmZpZy5zY3JpcHRUaW1lb3V0KTtcbiAgICBjb25zdCB0eXBlS2l0U2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgbGV0IHNjcmlwdExvYWRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGZpcnN0U2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xuICAgIGxldCBzY3JpcHRSZWFkeVN0YXRlO1xuICAgIGRvY0VsZW1lbnQuY2xhc3NOYW1lICs9ICcgd2YtbG9hZGluZyc7XG4gICAgdHlwZUtpdFNjcmlwdC5zcmMgPSAnaHR0cHM6Ly91c2UudHlwZWtpdC5uZXQvJyArIGNvbmZpZy5raXRJZCArICcuanMnO1xuICAgIHR5cGVLaXRTY3JpcHQuYXN5bmMgPSB0cnVlO1xuXG4gICAgdHlwZUtpdFNjcmlwdC5vbmxvYWQgPSB0eXBlS2l0U2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNjcmlwdFJlYWR5U3RhdGUgPSB0aGlzLnJlYWR5U3RhdGU7XG4gICAgICBpZiAoc2NyaXB0TG9hZGVkIHx8IHNjcmlwdFJlYWR5U3RhdGUgJiYgc2NyaXB0UmVhZHlTdGF0ZSAhPT0gJ2NvbXBsZXRlJyAmJiBzY3JpcHRSZWFkeVN0YXRlICE9PSAnbG9hZGVkJykgcmV0dXJuO1xuICAgICAgc2NyaXB0TG9hZGVkID0gdHJ1ZTtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgICAgVHlwZWtpdC5sb2FkKGNvbmZpZyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH07XG5cbiAgICBmaXJzdFNjcmlwdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0eXBlS2l0U2NyaXB0LCBmaXJzdFNjcmlwdCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIHZpc3VhbCBidWlsZGVyLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0aW5nTXNnSnNvbiAtIFRoZSBwb2ludCBhbmQgY2xpY2sgY2FtcGFpZ24gSlNPTiBvYmplY3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNQcmV2aWV3IC0gSW5kaWNhdGVzIGlmIGl0J3MgYSBwcmV2aWV3LlxuICAgKi9cblxuXG4gIGNvbnN0IHJlbmRlclZpc3VhbEJ1aWxkZXIgPSAodGFyZ2V0aW5nTXNnSnNvbiwgaXNQcmV2aWV3KSA9PiB7XG4gICAgY29uc3QgZGV0YWlscyA9IGlzUHJldmlldyA/IHRhcmdldGluZ01zZ0pzb24uZGV0YWlsc1swXSA6IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kZXRhaWxzWzBdO1xuICAgIGNvbnN0IHNpdGVVcmwgPSBPYmplY3Qua2V5cyhkZXRhaWxzKVswXTtcbiAgICBjb25zdCBzZWxlY3RvcnMgPSBkZXRhaWxzW3NpdGVVcmxdO1xuICAgIGxldCBlbGVtZW50RGlzcGxheWVkID0gZmFsc2U7XG4gICAgaWYgKHNpdGVVcmwgIT09IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCc/JylbMF0pIHJldHVybjtcblxuICAgIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKGVsZW1lbnQsIHNlbGVjdG9yKSA9PiB7XG4gICAgICBpZiAoc2VsZWN0b3JzW3NlbGVjdG9yXS5odG1sKSB7XG4gICAgICAgIGVsZW1lbnQub3V0ZXJIVE1MID0gc2VsZWN0b3JzW3NlbGVjdG9yXS5odG1sO1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3RvcnNbc2VsZWN0b3JdLmpzb24pIHtcbiAgICAgICAgZGlzcGF0Y2hKc29uRGF0YSh0YXJnZXRpbmdNc2dKc29uLCBzZWxlY3RvcnNbc2VsZWN0b3JdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZUZvcm1EYXRhKGVsZW1lbnQsIHNlbGVjdG9yc1tzZWxlY3Rvcl0uZm9ybSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHRyeUZpbmRpbmdFbGVtZW50ID0gc2VsZWN0b3IgPT4ge1xuICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJldHJ5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuXG4gICAgICAgIGlmIChyZXRyeUVsZW1lbnQpIHtcbiAgICAgICAgICBwcm9jZXNzRWxlbWVudChyZXRyeUVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICB9IGVsc2UgaWYgKCsrY291bnQgPj0gMjApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGVsZW1lbnQgcHJlc2VudCBvbiBET00gd2l0aCBzZWxlY3RvciAnXCIuY29uY2F0KHNlbGVjdG9yLCBcIicuXCIpKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICB9XG4gICAgICB9LCA1MDApO1xuICAgIH07XG5cbiAgICBPYmplY3Qua2V5cyhzZWxlY3RvcnMpLmZvckVhY2goc2VsZWN0b3IgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuXG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBwcm9jZXNzRWxlbWVudChlbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgICAgIGVsZW1lbnREaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5RmluZGluZ0VsZW1lbnQoc2VsZWN0b3IpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGVsZW1lbnREaXNwbGF5ZWQgJiYgIWlzUHJldmlldykge1xuICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQoe1xuICAgICAgICBtc2dJZDogdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkLFxuICAgICAgICBwaXZvdElkOiB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3RcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgSlNPTiBkYXRhLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0aW5nTXNnSnNvbiAtIFRoZSBwb2ludCBhbmQgY2xpY2sgY2FtcGFpZ24gSlNPTiBvYmplY3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZWxlY3RvciAtIFRoZSBzZWxlY3RvciBvYmplY3QuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoSnNvbkRhdGEodGFyZ2V0aW5nTXNnSnNvbiwgc2VsZWN0b3IpIHtcbiAgICBjb25zdCBpbmFPYmogPSB7fTtcbiAgICBpbmFPYmoubXNnSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG5cbiAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90KSB7XG4gICAgICBpbmFPYmoucGl2b3RJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdDtcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0b3IuanNvbiAhPSBudWxsKSB7XG4gICAgICBpbmFPYmouanNvbiA9IHNlbGVjdG9yLmpzb247XG4gICAgfVxuXG4gICAgY29uc3Qga3ZQYWlyc0V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdDVF93ZWJfbmF0aXZlX2Rpc3BsYXlfYnVpZGVyJywge1xuICAgICAgZGV0YWlsOiBpbmFPYmpcbiAgICB9KTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGt2UGFpcnNFdmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1ZhbGlkVXJsKHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHN0cmluZyk7XG4gICAgICByZXR1cm4gQm9vbGVhbih1cmwpO1xuICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBfdHIgPSAobXNnLCBfcmVmKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGRldmljZSxcbiAgICAgIHNlc3Npb24sXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9nZ2VyXG4gICAgfSA9IF9yZWY7XG4gICAgY29uc3QgX2RldmljZSA9IGRldmljZTtcbiAgICBjb25zdCBfc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgY29uc3QgX3JlcXVlc3QgPSByZXF1ZXN0O1xuICAgIGNvbnN0IF9sb2dnZXIgPSBsb2dnZXI7XG4gICAgbGV0IF93aXpDb3VudGVyID0gMDsgLy8gQ2FtcGFpZ24gSG91c2Uga2VlcGluZ1xuXG4gICAgY29uc3QgZG9DYW1wSG91c2VLZWVwaW5nID0gdGFyZ2V0aW5nTXNnSnNvbiA9PiB7XG4gICAgICBjb25zdCBjYW1wYWlnbklkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkLnNwbGl0KCdfJylbMF07XG4gICAgICBjb25zdCB0b2RheSA9IGdldFRvZGF5KCk7XG5cbiAgICAgIGNvbnN0IGluY3JDb3VudCA9IChvYmosIGNhbXBhaWduSWQsIGV4Y2x1ZGVGcm9tRnJlcUNhcHMpID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRDb3VudCA9IDA7XG4gICAgICAgIGxldCB0b3RhbENvdW50ID0gMDtcblxuICAgICAgICBpZiAob2JqW2NhbXBhaWduSWRdICE9IG51bGwpIHtcbiAgICAgICAgICBjdXJyZW50Q291bnQgPSBvYmpbY2FtcGFpZ25JZF07XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50Q291bnQrKztcblxuICAgICAgICBpZiAob2JqLnRjICE9IG51bGwpIHtcbiAgICAgICAgICB0b3RhbENvdW50ID0gb2JqLnRjO1xuICAgICAgICB9IC8vIGlmIGV4Y2x1ZGUgZnJvbSBjYXBzIHRoZW4gZG9udCBhZGQgdG8gdG90YWwgY291bnRzXG5cblxuICAgICAgICBpZiAoZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICB0b3RhbENvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICBvYmoudGMgPSB0b3RhbENvdW50O1xuICAgICAgICBvYmpbY2FtcGFpZ25JZF0gPSBjdXJyZW50Q291bnQ7XG4gICAgICB9O1xuXG4gICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgZGVsZXRlIHNlc3Npb25TdG9yYWdlW0NBTVBfQ09PS0lFX05BTUVdO1xuICAgICAgICB2YXIgY2FtcFR5cGVPYmogPSB7fTtcbiAgICAgICAgY29uc3QgY2FtcE9iaiA9IGdldENhbXBhaWduT2JqZWN0KCk7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS53dGFyZ2V0X3R5cGUgPT09IDMgJiYgY2FtcE9iai5oYXNPd25Qcm9wZXJ0eSgnd2knKSkge1xuICAgICAgICAgIGNhbXBUeXBlT2JqID0gY2FtcE9iai53aTtcbiAgICAgICAgfSBlbHNlIGlmICgodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PT0gMCB8fCB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkud3RhcmdldF90eXBlID09PSAxKSAmJiBjYW1wT2JqLmhhc093blByb3BlcnR5KCd3cCcpKSB7XG4gICAgICAgICAgY2FtcFR5cGVPYmogPSBjYW1wT2JqLndwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbXBUeXBlT2JqID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FtcE9iai5oYXNPd25Qcm9wZXJ0eSgnZ2xvYmFsJykpIHtcbiAgICAgICAgICBjYW1wVHlwZU9iai53cCA9IGNhbXBPYmo7XG4gICAgICAgIH0gLy8gZ2xvYmFsIHNlc3Npb24gbGltaXQuIGRlZmF1bHQgaXMgMVxuXG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud21jID09IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndtYyA9IDE7XG4gICAgICAgIH0gLy8gZ2xvYmFsIHNlc3Npb24gbGltaXQgZm9yIHdlYiBpbmJveC4gZGVmYXVsdCBpcyAxXG5cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53aW1jID09IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndpbWMgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV4Y2x1ZGVGcm9tRnJlcUNhcHMgPSAtMTsgLy8gZWZjIC0gRXhjbHVkZSBmcm9tIGZyZXF1ZW5jeSBjYXBzXG5cbiAgICAgICAgbGV0IGNhbXBhaWduU2Vzc2lvbkxpbWl0ID0gLTE7IC8vIG1kYyAtIE9uY2UgcGVyIHNlc3Npb25cblxuICAgICAgICBsZXQgY2FtcGFpZ25EYWlseUxpbWl0ID0gLTE7IC8vIHRkYyAtIE9uY2UgcGVyIGRheVxuXG4gICAgICAgIGxldCBjYW1wYWlnblRvdGFsTGltaXQgPSAtMTsgLy8gdGxjIC0gT25jZSBwZXIgdXNlciBmb3IgdGhlIGR1cmF0aW9uIG9mIGNhbXBhaWduXG5cbiAgICAgICAgbGV0IHRvdGFsRGFpbHlMaW1pdCA9IC0xO1xuICAgICAgICBsZXQgdG90YWxTZXNzaW9uTGltaXQgPSAtMTsgLy8gd21jIC0gV2ViIFBvcHVwIEdsb2JhbCBTZXNzaW9uIExpbWl0XG5cbiAgICAgICAgbGV0IHRvdGFsSW5ib3hTZXNzaW9uTGltaXQgPSAtMTsgLy8gd2ltYyAtIFdlYiBJbmJveCBHbG9iYWwgU2Vzc2lvbiBMaW1pdFxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLmVmYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gZXhjbHVkZSBmcm9tIGZyZXF1ZW5jeSBjYXBcbiAgICAgICAgICBleGNsdWRlRnJvbUZyZXFDYXBzID0gcGFyc2VJbnQodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5lZmMsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLm1kYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gQ2FtcGFpZ24gU2Vzc2lvbiBMaW1pdFxuICAgICAgICAgIGNhbXBhaWduU2Vzc2lvbkxpbWl0ID0gcGFyc2VJbnQodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5tZGMsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLnRkYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gb2Ygd2ViIHBvcHVwcyBpbiBhIGRheSBwZXIgY2FtcGFpZ25cbiAgICAgICAgICBjYW1wYWlnbkRhaWx5TGltaXQgPSBwYXJzZUludCh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLnRkYywgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0udGxjICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBUb3RhbCBsaWZldGltZSBjb3VudFxuICAgICAgICAgIGNhbXBhaWduVG90YWxMaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0udGxjLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bXAgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIE5vIG9mIGNhbXBhaWducyBwZXIgZGF5XG4gICAgICAgICAgdG90YWxEYWlseUxpbWl0ID0gcGFyc2VJbnQodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bXAsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndtYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gb2YgY2FtcGFpZ25zIHBlciBzZXNzaW9uXG4gICAgICAgICAgdG90YWxTZXNzaW9uTGltaXQgPSBwYXJzZUludCh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndtYywgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud2ltYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gb2YgaW5ib3ggY2FtcGFpZ25zIHBlciBzZXNzaW9uXG4gICAgICAgICAgdG90YWxJbmJveFNlc3Npb25MaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud2ltYywgMTApO1xuICAgICAgICB9IC8vIHNlc3Npb24gbGV2ZWwgY2FwcGluZ1xuXG5cbiAgICAgICAgdmFyIHNlc3Npb25PYmogPSBjYW1wVHlwZU9ialtfc2Vzc2lvbi5zZXNzaW9uSWRdO1xuXG4gICAgICAgIGlmIChzZXNzaW9uT2JqKSB7XG4gICAgICAgICAgY29uc3QgY2FtcGFpZ25TZXNzaW9uQ291bnQgPSBzZXNzaW9uT2JqW2NhbXBhaWduSWRdO1xuICAgICAgICAgIGNvbnN0IHRvdGFsU2Vzc2lvbkNvdW50ID0gc2Vzc2lvbk9iai50YzsgLy8gZG5kXG5cbiAgICAgICAgICBpZiAoY2FtcGFpZ25TZXNzaW9uQ291bnQgPT09ICdkbmQnICYmICEkY3QuZGlzbWlzc1NwYW1Db250cm9sKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud3RhcmdldF90eXBlID09PSAzKSB7XG4gICAgICAgICAgICAvLyBJbmJveCBzZXNzaW9uXG4gICAgICAgICAgICBpZiAodG90YWxJbmJveFNlc3Npb25MaW1pdCA+IDAgJiYgdG90YWxTZXNzaW9uQ291bnQgPj0gdG90YWxJbmJveFNlc3Npb25MaW1pdCAmJiBleGNsdWRlRnJvbUZyZXFDYXBzIDwgMCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNlc3Npb25cbiAgICAgICAgICAgIGlmICh0b3RhbFNlc3Npb25MaW1pdCA+IDAgJiYgdG90YWxTZXNzaW9uQ291bnQgPj0gdG90YWxTZXNzaW9uTGltaXQgJiYgZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gY2FtcGFpZ24gc2Vzc2lvblxuXG5cbiAgICAgICAgICBpZiAoY2FtcGFpZ25TZXNzaW9uTGltaXQgPiAwICYmIGNhbXBhaWduU2Vzc2lvbkNvdW50ID49IGNhbXBhaWduU2Vzc2lvbkxpbWl0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlc3Npb25PYmogPSB7fTtcbiAgICAgICAgICBjYW1wVHlwZU9ialtfc2Vzc2lvbi5zZXNzaW9uSWRdID0gc2Vzc2lvbk9iajtcbiAgICAgICAgfSAvLyBkYWlseSBsZXZlbCBjYXBwaW5nXG5cblxuICAgICAgICB2YXIgZGFpbHlPYmogPSBjYW1wVHlwZU9ialt0b2RheV07XG5cbiAgICAgICAgaWYgKGRhaWx5T2JqICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBjYW1wYWlnbkRhaWx5Q291bnQgPSBkYWlseU9ialtjYW1wYWlnbklkXTtcbiAgICAgICAgICBjb25zdCB0b3RhbERhaWx5Q291bnQgPSBkYWlseU9iai50YzsgLy8gZGFpbHlcblxuICAgICAgICAgIGlmICh0b3RhbERhaWx5TGltaXQgPiAwICYmIHRvdGFsRGFpbHlDb3VudCA+PSB0b3RhbERhaWx5TGltaXQgJiYgZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IC8vIGNhbXBhaWduIGRhaWx5XG5cblxuICAgICAgICAgIGlmIChjYW1wYWlnbkRhaWx5TGltaXQgPiAwICYmIGNhbXBhaWduRGFpbHlDb3VudCA+PSBjYW1wYWlnbkRhaWx5TGltaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGFpbHlPYmogPSB7fTtcbiAgICAgICAgICBjYW1wVHlwZU9ialt0b2RheV0gPSBkYWlseU9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbG9iYWxPYmogPSBjYW1wVHlwZU9ialtHTE9CQUxdO1xuXG4gICAgICAgIGlmIChnbG9iYWxPYmogIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IGNhbXBhaWduVG90YWxDb3VudCA9IGdsb2JhbE9ialtjYW1wYWlnbklkXTsgLy8gY2FtcGFpZ24gdG90YWxcblxuICAgICAgICAgIGlmIChjYW1wYWlnblRvdGFsTGltaXQgPiAwICYmIGNhbXBhaWduVG90YWxDb3VudCA+PSBjYW1wYWlnblRvdGFsTGltaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2xvYmFsT2JqID0ge307XG4gICAgICAgICAgY2FtcFR5cGVPYmpbR0xPQkFMXSA9IGdsb2JhbE9iajtcbiAgICAgICAgfVxuICAgICAgfSAvLyBkZWxheVxuXG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLmRlbGF5ICE9IG51bGwgJiYgdGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5kZWxheSA+IDApIHtcbiAgICAgICAgY29uc3QgZGVsYXkgPSB0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLmRlbGF5O1xuICAgICAgICB0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLmRlbGF5ID0gMDtcbiAgICAgICAgc2V0VGltZW91dChfdHIsIGRlbGF5ICogMTAwMCwgbXNnLCB7XG4gICAgICAgICAgZGV2aWNlOiBfZGV2aWNlLFxuICAgICAgICAgIHNlc3Npb246IF9zZXNzaW9uLFxuICAgICAgICAgIHJlcXVlc3Q6IF9yZXF1ZXN0LFxuICAgICAgICAgIGxvZ2dlcjogX2xvZ2dlclxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpbmNyQ291bnQoc2Vzc2lvbk9iaiwgY2FtcGFpZ25JZCwgZXhjbHVkZUZyb21GcmVxQ2Fwcyk7XG4gICAgICBpbmNyQ291bnQoZGFpbHlPYmosIGNhbXBhaWduSWQsIGV4Y2x1ZGVGcm9tRnJlcUNhcHMpO1xuICAgICAgaW5jckNvdW50KGdsb2JhbE9iaiwgY2FtcGFpZ25JZCwgZXhjbHVkZUZyb21GcmVxQ2Fwcyk7XG4gICAgICBsZXQgY2FtcEtleSA9ICd3cCc7XG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLnd0YXJnZXRfdHlwZSA9PT0gMykge1xuICAgICAgICBjYW1wS2V5ID0gJ3dpJztcbiAgICAgIH0gLy8gZ2V0IHJpZGUgb2Ygc3RhbGUgc2Vzc2lvbnMgYW5kIGRheSBlbnRyaWVzXG5cblxuICAgICAgY29uc3QgbmV3Q2FtcE9iaiA9IHt9O1xuICAgICAgbmV3Q2FtcE9ialtfc2Vzc2lvbi5zZXNzaW9uSWRdID0gc2Vzc2lvbk9iajtcbiAgICAgIG5ld0NhbXBPYmpbdG9kYXldID0gZGFpbHlPYmo7XG4gICAgICBuZXdDYW1wT2JqW0dMT0JBTF0gPSBnbG9iYWxPYmo7XG4gICAgICBzYXZlQ2FtcGFpZ25PYmplY3Qoe1xuICAgICAgICBbY2FtcEtleV06IG5ld0NhbXBPYmpcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRDb29raWVQYXJhbXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBnY29va2llID0gX2RldmljZS5nZXRHdWlkKCk7XG5cbiAgICAgIGNvbnN0IHNjb29raWVPYmogPSBfc2Vzc2lvbi5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7XG5cbiAgICAgIHJldHVybiAnJnQ9d2MmZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGNvbXByZXNzVG9CYXNlNjQoZ2Nvb2tpZSArICd8JyArIHNjb29raWVPYmoucCArICd8JyArIHNjb29raWVPYmoucykpO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXR1cENsaWNrRXZlbnQgPSAob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgZGl2SWQsIGlzTGVnYWN5KSA9PiB7XG4gICAgICBpZiAob25DbGljayAhPT0gJycgJiYgb25DbGljayAhPSBudWxsKSB7XG4gICAgICAgIGxldCBjdGFFbGVtZW50O1xuICAgICAgICBsZXQganNDVEFFbGVtZW50cztcblxuICAgICAgICBpZiAoaXNMZWdhY3kpIHtcbiAgICAgICAgICBjdGFFbGVtZW50ID0gY29udGVudERpdjtcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZW50RGl2ICE9PSBudWxsKSB7XG4gICAgICAgICAganNDVEFFbGVtZW50cyA9IGNvbnRlbnREaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnanNDVF9DVEEnKTtcblxuICAgICAgICAgIGlmIChqc0NUQUVsZW1lbnRzICE9IG51bGwgJiYganNDVEFFbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGN0YUVsZW1lbnQgPSBqc0NUQUVsZW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGpzRnVuYyA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5qc0Z1bmM7XG4gICAgICAgIGNvbnN0IGlzUHJldmlldyA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5wcmV2aWV3O1xuXG4gICAgICAgIGlmIChpc1ByZXZpZXcgPT0gbnVsbCkge1xuICAgICAgICAgIG9uQ2xpY2sgKz0gZ2V0Q29va2llUGFyYW1zKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3RhRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgY3RhRWxlbWVudC5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gaW52b2tlIGpzIGZ1bmN0aW9uIGNhbGxcbiAgICAgICAgICAgIGlmIChqc0Z1bmMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyB0cmFjayBub3RpZmljYXRpb24gY2xpY2tlZCBldmVudFxuICAgICAgICAgICAgICBpZiAoaXNQcmV2aWV3ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChvbkNsaWNrKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGludm9rZUV4dGVybmFsSnMoanNGdW5jLCB0YXJnZXRpbmdNc2dKc29uKTsgLy8gY2xvc2UgaWZyYW1lLiB1c2luZyAtMSBmb3Igbm8gY2FtcGFpZ25JZFxuXG4gICAgICAgICAgICAgIGNsb3NlSWZyYW1lKCctMScsIGRpdklkLCBfc2Vzc2lvbi5zZXNzaW9uSWQpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IC8vIHBhc3Mgb24gdGhlIGdjb29raWV8cGFnZXxzY29va2llSWQgZm9yIGNhcHR1cmluZyB0aGUgY2xpY2sgZXZlbnRcblxuXG4gICAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LndpbmRvdyA9PT0gMSkge1xuICAgICAgICAgICAgICB3aW5kb3cub3BlbihvbkNsaWNrLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBvbkNsaWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaW52b2tlRXh0ZXJuYWxKcyA9IChqc0Z1bmMsIHRhcmdldGluZ01zZ0pzb24pID0+IHtcbiAgICAgIGNvbnN0IGZ1bmMgPSB3aW5kb3cucGFyZW50W2pzRnVuY107XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lmt2ICE9IG51bGwpIHtcbiAgICAgICAgICBmdW5jKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5rdik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnVuYygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNldHVwQ2xpY2tVcmwgPSAob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgZGl2SWQsIGlzTGVnYWN5KSA9PiB7XG4gICAgICBpbmNyZW1lbnRJbXByZXNzaW9uKHRhcmdldGluZ01zZ0pzb24pO1xuICAgICAgc2V0dXBDbGlja0V2ZW50KG9uQ2xpY2ssIHRhcmdldGluZ01zZ0pzb24sIGNvbnRlbnREaXYsIGRpdklkLCBpc0xlZ2FjeSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGluY3JlbWVudEltcHJlc3Npb24gPSB0YXJnZXRpbmdNc2dKc29uID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgIGRhdGEudHlwZSA9ICdldmVudCc7XG4gICAgICBkYXRhLmV2dE5hbWUgPSBOT1RJRklDQVRJT05fVklFV0VEO1xuICAgICAgZGF0YS5ldnREYXRhID0ge1xuICAgICAgICBbV1pSS19JRF06IHRhcmdldGluZ01zZ0pzb24ud3pya19pZFxuICAgICAgfTtcblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCkge1xuICAgICAgICBkYXRhLmV2dERhdGEgPSB7IC4uLmRhdGEuZXZ0RGF0YSxcbiAgICAgICAgICB3enJrX3Bpdm90OiB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3RcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgX3JlcXVlc3QucHJvY2Vzc0V2ZW50KGRhdGEpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJQZXJzb25hbGlzYXRpb25CYW5uZXIgPSB0YXJnZXRpbmdNc2dKc29uID0+IHtcbiAgICAgIHZhciBfdGFyZ2V0aW5nTXNnSnNvbiRkaXM7XG5cbiAgICAgIGlmIChjdXN0b21FbGVtZW50cy5nZXQoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyJywgQ1RXZWJQZXJzb25hbGlzYXRpb25CYW5uZXIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkaXZJZCA9IChfdGFyZ2V0aW5nTXNnSnNvbiRkaXMgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGl2SWQpICE9PSBudWxsICYmIF90YXJnZXRpbmdNc2dKc29uJGRpcyAhPT0gdm9pZCAwID8gX3RhcmdldGluZ01zZ0pzb24kZGlzIDogdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmRpdlNlbGVjdG9yO1xuICAgICAgY29uc3QgYmFubmVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWJhbm5lcicpO1xuICAgICAgYmFubmVyRWwubXNnSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG4gICAgICBiYW5uZXJFbC5waXZvdElkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90O1xuICAgICAgYmFubmVyRWwuZGl2SGVpZ2h0ID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmRpdkhlaWdodDtcbiAgICAgIGJhbm5lckVsLmRldGFpbHMgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGV0YWlsc1swXTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lckVsID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmRpdklkID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkaXZJZCk7XG4gICAgICBjb250YWluZXJFbC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKGJhbm5lckVsKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGVyc29uYWxpc2F0aW9uQ2Fyb3VzZWwgPSB0YXJnZXRpbmdNc2dKc29uID0+IHtcbiAgICAgIHZhciBfdGFyZ2V0aW5nTXNnSnNvbiRkaXMyO1xuXG4gICAgICBpZiAoY3VzdG9tRWxlbWVudHMuZ2V0KCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWNhcm91c2VsJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tY2Fyb3VzZWwnLCBDVFdlYlBlcnNvbmFsaXNhdGlvbkNhcm91c2VsKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGl2SWQgPSAoX3RhcmdldGluZ01zZ0pzb24kZGlzMiA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZJZCkgIT09IG51bGwgJiYgX3RhcmdldGluZ01zZ0pzb24kZGlzMiAhPT0gdm9pZCAwID8gX3RhcmdldGluZ01zZ0pzb24kZGlzMiA6IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZTZWxlY3RvcjtcbiAgICAgIGNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1jYXJvdXNlbCcpO1xuICAgICAgY2Fyb3VzZWwudGFyZ2V0ID0gdGFyZ2V0aW5nTXNnSnNvbjtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZJZCA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGl2SWQpO1xuICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhcm91c2VsKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUG9wVXBJbWFnZU9ubHkgPSB0YXJnZXRpbmdNc2dKc29uID0+IHtcbiAgICAgIGNvbnN0IGRpdklkID0gJ3d6cmtJbWFnZU9ubHlEaXYnO1xuICAgICAgY29uc3QgcG9wdXBJbWFnZU9ubHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjdC13ZWItcG9wdXAtaW1hZ2Vvbmx5Jyk7XG4gICAgICBwb3B1cEltYWdlT25seS5zZXNzaW9uID0gX3Nlc3Npb247XG4gICAgICBwb3B1cEltYWdlT25seS50YXJnZXQgPSB0YXJnZXRpbmdNc2dKc29uO1xuICAgICAgY29uc3QgY29udGFpbmVyRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCk7XG4gICAgICBjb250YWluZXJFbC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnRhaW5lckVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKHBvcHVwSW1hZ2VPbmx5KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyRm9vdGVyTm90aWZpY2F0aW9uID0gdGFyZ2V0aW5nTXNnSnNvbiA9PiB7XG4gICAgICBjb25zdCBjYW1wYWlnbklkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkLnNwbGl0KCdfJylbMF07XG4gICAgICBjb25zdCBkaXNwbGF5T2JqID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5O1xuXG4gICAgICBpZiAoZGlzcGxheU9iai53dGFyZ2V0X3R5cGUgPT09IDIpIHtcbiAgICAgICAgLy8gSGFuZGxpbmcgV2ViIE5hdGl2ZSBkaXNwbGF5XG4gICAgICAgIC8vIExvZ2ljIGZvciBrdiBwYWlyIGRhdGFcbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC50eXBlID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgaW5hT2JqID0ge307XG4gICAgICAgICAgaW5hT2JqLm1zZ0lkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkO1xuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCkge1xuICAgICAgICAgICAgaW5hT2JqLnBpdm90SWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3Q7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5rdiAhPSBudWxsKSB7XG4gICAgICAgICAgICBpbmFPYmoua3YgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQua3Y7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qga3ZQYWlyc0V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdDVF93ZWJfbmF0aXZlX2Rpc3BsYXknLCB7XG4gICAgICAgICAgICBkZXRhaWw6IGluYU9ialxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoa3ZQYWlyc0V2ZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3BsYXlPYmoubGF5b3V0ID09PSAxKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIFdlYiBFeGl0IEludGVudFxuICAgICAgICByZXR1cm4gc2hvd0V4aXRJbnRlbnQodW5kZWZpbmVkLCB0YXJnZXRpbmdNc2dKc29uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3BsYXlPYmoubGF5b3V0ID09PSAzKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIFdlYiBQb3B1cCBJbWFnZSBPbmx5XG4gICAgICAgIGNvbnN0IGRpdklkID0gJ3d6cmtJbWFnZU9ubHlEaXYnO1xuXG4gICAgICAgIGlmIChkb0NhbXBIb3VzZUtlZXBpbmcodGFyZ2V0aW5nTXNnSnNvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRjdC5kaXNtaXNzU3BhbUNvbnRyb2wgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH0gLy8gSW1hZ2VPbmx5IGNhbXBhaWduIGFuZCBJbnRlcnN0aXRpYWwvRXhpdCBJbnRlbnQgc2hvdWxkbid0IGNvZXhpc3RcblxuXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCkgIT0gbnVsbCB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50UHJldmlldycpICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbXNnRGl2LmlkID0gZGl2SWQ7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobXNnRGl2KTtcblxuICAgICAgICBpZiAoY3VzdG9tRWxlbWVudHMuZ2V0KCdjdC13ZWItcG9wdXAtaW1hZ2Vvbmx5JykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY3Qtd2ViLXBvcHVwLWltYWdlb25seScsIENUV2ViUG9wdXBJbWFnZU9ubHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclBvcFVwSW1hZ2VPbmx5KHRhcmdldGluZ01zZ0pzb24pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZG9DYW1wSG91c2VLZWVwaW5nKHRhcmdldGluZ01zZ0pzb24pID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRpdklkID0gJ3dpelBhckRpdicgKyBkaXNwbGF5T2JqLmxheW91dDtcblxuICAgICAgaWYgKCRjdC5kaXNtaXNzU3BhbUNvbnRyb2wgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJGN0LmNhbXBhaWduRGl2TWFwW2NhbXBhaWduSWRdID0gZGl2SWQ7XG4gICAgICBjb25zdCBpc0Jhbm5lciA9IGRpc3BsYXlPYmoubGF5b3V0ID09PSAyO1xuICAgICAgY29uc3QgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtc2dEaXYuaWQgPSBkaXZJZDtcbiAgICAgIGNvbnN0IHZpZXdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjb25zdCB2aWV3V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGxldCBsZWdhY3kgPSBmYWxzZTtcblxuICAgICAgaWYgKCFpc0Jhbm5lcikge1xuICAgICAgICBjb25zdCBtYXJnaW5Cb3R0b20gPSB2aWV3SGVpZ2h0ICogNSAvIDEwMDtcbiAgICAgICAgdmFyIGNvbnRlbnRIZWlnaHQgPSAxMDtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdmlld1dpZHRoICogNSAvIDEwMDtcbiAgICAgICAgbGV0IGJvdHRvbVBvc2l0aW9uID0gY29udGVudEhlaWdodCArIG1hcmdpbkJvdHRvbTtcbiAgICAgICAgbGV0IHdpZHRoID0gdmlld1dpZHRoICogMzAgLyAxMDAgKyAyMDtcbiAgICAgICAgbGV0IHdpZHRoUGVyY3QgPSAnd2lkdGg6MzAlOyc7IC8vIGZvciBzbWFsbCBkZXZpY2VzICAtIG1vYmlsZSBwaG9uZXNcblxuICAgICAgICBpZiAoKC9tb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9taW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgJiYgL2lQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpID09PSBmYWxzZSkge1xuICAgICAgICAgIHdpZHRoID0gdmlld1dpZHRoICogODUgLyAxMDAgKyAyMDtcbiAgICAgICAgICByaWdodCA9IHZpZXdXaWR0aCAqIDUgLyAxMDA7XG4gICAgICAgICAgYm90dG9tUG9zaXRpb24gPSB2aWV3SGVpZ2h0ICogNSAvIDEwMDtcbiAgICAgICAgICB3aWR0aFBlcmN0ID0gJ3dpZHRoOjgwJTsnOyAvLyBtZWRpdW0gZGV2aWNlcyAtIHRhYmxldHNcbiAgICAgICAgfSBlbHNlIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgL3RhYmxldC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICB3aWR0aCA9IHZpZXdXaWR0aCAqIDUwIC8gMTAwICsgMjA7XG4gICAgICAgICAgcmlnaHQgPSB2aWV3V2lkdGggKiA1IC8gMTAwO1xuICAgICAgICAgIGJvdHRvbVBvc2l0aW9uID0gdmlld0hlaWdodCAqIDUgLyAxMDA7XG4gICAgICAgICAgd2lkdGhQZXJjdCA9ICd3aWR0aDo1MCU7JztcbiAgICAgICAgfSAvLyBsZWdhY3kgZm9vdGVyIG5vdGlmXG5cblxuICAgICAgICBpZiAoZGlzcGxheU9iai5wcm90byA9PSBudWxsKSB7XG4gICAgICAgICAgbGVnYWN5ID0gdHJ1ZTtcbiAgICAgICAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OmJsb2NrO292ZXJmbG93OmhpZGRlbjsgYm90dG9tOicgKyBib3R0b21Qb3NpdGlvbiArICdweCAhaW1wb3J0YW50O3dpZHRoOicgKyB3aWR0aCArICdweCAhaW1wb3J0YW50O3JpZ2h0OicgKyByaWdodCArICdweCAhaW1wb3J0YW50O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MjE0NzQ4MzY0NzsnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsIHdpZHRoUGVyY3QgKyBkaXNwbGF5T2JqLmlGcmFtZVN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBkaXNwbGF5T2JqLmlGcmFtZVN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtc2dEaXYpO1xuICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSBkaXNwbGF5T2JqLmJyID09PSBmYWxzZSA/ICcwJyA6ICc4JztcbiAgICAgIGlmcmFtZS5mcmFtZWJvcmRlciA9ICcwcHgnO1xuICAgICAgaWZyYW1lLm1hcmdpbmhlaWdodCA9ICcwcHgnO1xuICAgICAgaWZyYW1lLm1hcmdpbndpZHRoID0gJzBweCc7XG4gICAgICBpZnJhbWUuc2Nyb2xsaW5nID0gJ25vJztcbiAgICAgIGlmcmFtZS5pZCA9ICd3aXotaWZyYW1lJztcbiAgICAgIGNvbnN0IG9uQ2xpY2sgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkub25DbGljaztcbiAgICAgIGxldCBwb2ludGVyQ3NzID0gJyc7XG5cbiAgICAgIGlmIChvbkNsaWNrICE9PSAnJyAmJiBvbkNsaWNrICE9IG51bGwpIHtcbiAgICAgICAgcG9pbnRlckNzcyA9ICdjdXJzb3I6cG9pbnRlcjsnO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlzcGxheU9iai5wcmV2aWV3ICYmIGRpc3BsYXlPYmpbJ2N1c3RvbS1lZGl0b3InXSkge1xuICAgICAgICBpZnJhbWUuc2FuZGJveCA9ICdhbGxvdy1zY3JpcHRzIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3gnO1xuICAgICAgfVxuXG4gICAgICBsZXQgaHRtbDsgLy8gZGlyZWN0IGh0bWxcblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC50eXBlID09PSAxKSB7XG4gICAgICAgIGh0bWwgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuaHRtbDtcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvIyNjYW1wYWlnbklkIyMvZywgY2FtcGFpZ25JZCk7XG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLyMjY2FtcGFpZ25JZF9iYXRjaElkIyMvZywgdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNzcyA9ICcnICsgJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nICsgJ2JvZHl7bWFyZ2luOjA7cGFkZGluZzowO30nICsgJyNjb250ZW50RGl2Lnd6cmt7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MDt0ZXh0LWFsaWduOmNlbnRlcjsnICsgcG9pbnRlckNzcyArICd9JyArICcjY29udGVudERpdi53enJrIHRke3BhZGRpbmc6MTVweCAxMHB4O30nICsgJy53enJrUFB0aXRsZXtmb250LXdlaWdodDogYm9sZDtmb250LXNpemU6IDE2cHg7Zm9udC1mYW1pbHk6YXJpYWw7cGFkZGluZy1ib3R0b206MTBweDt3b3JkLWJyZWFrOiBicmVhay13b3JkO30nICsgJy53enJrUFBkc2Nye2ZvbnQtc2l6ZTogMTRweDtmb250LWZhbWlseTphcmlhbDtsaW5lLWhlaWdodDoxNnB4O3dvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7fScgKyAnLlBMMTV7cGFkZGluZy1sZWZ0OjE1cHg7fScgKyAnLnd6cmtQUHdhcnB7bWFyZ2luOjIwcHggMjBweCAwIDVweDtwYWRkaW5nOjBweDtib3JkZXItcmFkaXVzOiAnICsgYm9yZGVyUmFkaXVzICsgJ3B4O2JveC1zaGFkb3c6IDFweCAxcHggNXB4ICM4ODg4ODg7fScgKyAnYS53enJrQ2xvc2V7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246IGFic29sdXRlO3RvcDogMTFweDtyaWdodDogMTFweDt6LWluZGV4OiAyMTQ3NDgzNjQ3O2ZvbnQtc2l6ZToxOXB4O2ZvbnQtZmFtaWx5OmFyaWFsO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1kZWNvcmF0aW9uOiBub25lO3dpZHRoOiAyNXB4Oy8qaGVpZ2h0OiAyNXB4OyovdGV4dC1hbGlnbjogY2VudGVyOyAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7IGxpbmUtaGVpZ2h0OiAyNXB4OycgKyAnYmFja2dyb3VuZDogIzM1MzUzNTtib3JkZXI6ICNmZmYgMnB4IHNvbGlkO2JvcmRlci1yYWRpdXM6IDEwMCU7Ym94LXNoYWRvdzogIzc3NyAycHggMnB4IDJweDtjb2xvcjojZmZmO30nICsgJ2E6aG92ZXIud3pya0Nsb3Nle2JhY2tncm91bmQtY29sb3I6I2QxOTE0YSAhaW1wb3J0YW50O2NvbG9yOiNmZmYgIWltcG9ydGFudDsgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO30nICsgJ3Rke3ZlcnRpY2FsLWFsaWduOnRvcDt9JyArICd0ZC5pbWdUZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjhweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjhweDt9JyArICc8L3N0eWxlPic7XG4gICAgICAgIGxldCBiZ0NvbG9yLCB0ZXh0Q29sb3IsIGJ0bkJnLCBsZWZ0VGQsIGJ0Q29sb3I7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS50aGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgICAgYmdDb2xvciA9ICcjMmQyZDJlJztcbiAgICAgICAgICB0ZXh0Q29sb3IgPSAnI2VhZWFlYSc7XG4gICAgICAgICAgYnRuQmcgPSAnIzM1MzUzNSc7XG4gICAgICAgICAgbGVmdFRkID0gJyMzNTM1MzUnO1xuICAgICAgICAgIGJ0Q29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmdDb2xvciA9ICcjZmZmZmZmJztcbiAgICAgICAgICB0ZXh0Q29sb3IgPSAnIzAwMDAwMCc7XG4gICAgICAgICAgbGVmdFRkID0gJyNmNGY0ZjQnO1xuICAgICAgICAgIGJ0bkJnID0gJyNhNWE2YTYnO1xuICAgICAgICAgIGJ0Q29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aXRsZVRleHQgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudGl0bGU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uVGV4dCA9IHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5kZXNjcmlwdGlvbjtcbiAgICAgICAgbGV0IGltYWdlVGQgPSAnJztcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmltYWdlVXJsICE9IG51bGwgJiYgdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmltYWdlVXJsICE9PSAnJykge1xuICAgICAgICAgIGltYWdlVGQgPSBcIjx0ZCBjbGFzcz0naW1nVGQnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOlwiICsgbGVmdFRkICsgXCInPjxpbWcgc3JjPSdcIiArIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCArIFwiJyBoZWlnaHQ9JzYwJyB3aWR0aD0nNjAnPjwvdGQ+XCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbkNsaWNrU3RyID0gJ3BhcmVudC4kV1pSS19XUi5jbG9zZUlmcmFtZSgnICsgY2FtcGFpZ25JZCArIFwiLCdcIiArIGRpdklkICsgXCInKTtcIjtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBcIjxkaXYgY2xhc3M9J3d6cmtQUHdhcnAnIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArICc7YmFja2dyb3VuZC1jb2xvcjonICsgYmdDb2xvciArIFwiOyc+XCIgKyBcIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIG9uY2xpY2s9XCIgKyBvbkNsaWNrU3RyICsgXCIgY2xhc3M9J3d6cmtDbG9zZScgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6XCIgKyBidG5CZyArICc7Y29sb3I6JyArIGJ0Q29sb3IgKyBcIic+JnRpbWVzOzwvYT5cIiArIFwiPGRpdiBpZD0nY29udGVudERpdicgY2xhc3M9J3d6cmsnPlwiICsgXCI8dGFibGUgY2VsbHBhZGRpbmc9JzAnIGNlbGxzcGFjaW5nPScwJyBib3JkZXI9JzAnPlwiICsgLy8gXCI8dHI+PHRkIGNvbHNwYW49JzInPjwvdGQ+PC90cj5cIitcbiAgICAgICAgJzx0cj4nICsgaW1hZ2VUZCArIFwiPHRkIHN0eWxlPSd2ZXJ0aWNhbC1hbGlnbjp0b3A7Jz5cIiArIFwiPGRpdiBjbGFzcz0nd3pya1BQdGl0bGUnIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArIFwiJz5cIiArIHRpdGxlVGV4dCArICc8L2Rpdj4nO1xuICAgICAgICBjb25zdCBib2R5ID0gXCI8ZGl2IGNsYXNzPSd3enJrUFBkc2NyJyBzdHlsZT0nY29sb3I6XCIgKyB0ZXh0Q29sb3IgKyBcIic+XCIgKyBkZXNjcmlwdGlvblRleHQgKyAnPGRpdj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj4nO1xuICAgICAgICBodG1sID0gY3NzICsgdGl0bGUgKyBib2R5O1xuICAgICAgfVxuXG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICd6LWluZGV4OiAyMTQ3NDgzNjQ3OyBkaXNwbGF5OmJsb2NrOyB3aWR0aDogMTAwJSAhaW1wb3J0YW50OyBib3JkZXI6MHB4ICFpbXBvcnRhbnQ7IGJvcmRlci1jb2xvcjpub25lICFpbXBvcnRhbnQ7Jyk7XG4gICAgICBtc2dEaXYuYXBwZW5kQ2hpbGQoaWZyYW1lKTsgLy8gRGlzcGF0Y2ggZXZlbnQgZm9yIHBvcHVwIGJveC9iYW5uZXIgY2xvc2VcblxuICAgICAgY29uc3QgY2xvc2VDYW1wYWlnbiA9IG5ldyBFdmVudCgnQ1RfY2FtcGFpZ25fcmVuZGVyZWQnKTtcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY2xvc2VDYW1wYWlnbik7XG5cbiAgICAgIGlmIChkaXNwbGF5T2JqWydjdXN0b20tZWRpdG9yJ10pIHtcbiAgICAgICAgaHRtbCA9IGFwcGVuZFNjcmlwdEZvckN1c3RvbUV2ZW50KHRhcmdldGluZ01zZ0pzb24sIGh0bWwpO1xuICAgICAgfVxuXG4gICAgICBpZnJhbWUuc3JjZG9jID0gaHRtbDtcblxuICAgICAgY29uc3QgYWRqdXN0SUZyYW1lSGVpZ2h0ID0gKCkgPT4ge1xuICAgICAgICAvLyBhZGp1c3QgaWZyYW1lIGFuZCBib2R5IGhlaWdodCBvZiBodG1sIGluc2lkZSBjb3JyZWN0bHlcbiAgICAgICAgY29udGVudEhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXotaWZyYW1lJykuY29udGVudERvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50RGl2Jykuc2Nyb2xsSGVpZ2h0O1xuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqWydjdXN0b20tZWRpdG9yJ10gIT09IHRydWUgJiYgIWlzQmFubmVyKSB7XG4gICAgICAgICAgY29udGVudEhlaWdodCArPSAyNTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXotaWZyYW1lJykuY29udGVudERvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gJzBweCc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXotaWZyYW1lJykuc3R5bGUuaGVpZ2h0ID0gY29udGVudEhlaWdodCArICdweCc7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKHVhLmluZGV4T2YoJ3NhZmFyaScpICE9PSAtMSkge1xuICAgICAgICBpZiAodWEuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBhZGp1c3RJRnJhbWVIZWlnaHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZScpLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudERpdicpO1xuICAgICAgICAgICAgc2V0dXBDbGlja1VybChvbkNsaWNrLCB0YXJnZXRpbmdNc2dKc29uLCBjb250ZW50RGl2LCBkaXZJZCwgbGVnYWN5KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBpbkRvYyA9IGlmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgaWZyYW1lLmNvbnRlbnRXaW5kb3c7XG4gICAgICAgICAgaWYgKGluRG9jLmRvY3VtZW50KSBpbkRvYyA9IGluRG9jLmRvY3VtZW50OyAvLyBzYWZhcmkgaXBob25lIDcrIG5lZWRzIHRoaXMuXG5cbiAgICAgICAgICBjb25zdCBfdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5Eb2MucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKF90aW1lcik7IC8vIGFkanVzdCBpZnJhbWUgYW5kIGJvZHkgaGVpZ2h0IG9mIGh0bWwgaW5zaWRlIGNvcnJlY3RseVxuXG4gICAgICAgICAgICAgIGFkanVzdElGcmFtZUhlaWdodCgpO1xuICAgICAgICAgICAgICBjb25zdCBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpei1pZnJhbWUnKS5jb250ZW50RG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnREaXYnKTtcbiAgICAgICAgICAgICAgc2V0dXBDbGlja1VybChvbkNsaWNrLCB0YXJnZXRpbmdNc2dKc29uLCBjb250ZW50RGl2LCBkaXZJZCwgbGVnYWN5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIC8vIGFkanVzdCBpZnJhbWUgYW5kIGJvZHkgaGVpZ2h0IG9mIGh0bWwgaW5zaWRlIGNvcnJlY3RseVxuICAgICAgICAgIGFkanVzdElGcmFtZUhlaWdodCgpO1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZScpLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudERpdicpO1xuICAgICAgICAgIHNldHVwQ2xpY2tVcmwob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgZGl2SWQsIGxlZ2FjeSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcGVuZFNjcmlwdEZvckN1c3RvbUV2ZW50ID0gKHRhcmdldGluZ01zZ0pzb24sIGh0bWwpID0+IHtcbiAgICAgIGNvbnN0IHNjcmlwdCA9IFwiPHNjcmlwdD5cXG4gICAgICBjb25zdCBjdF9fY2FtYXBpZ25JZCA9ICdcIi5jb25jYXQodGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkLCBcIic7XFxuICAgICAgY29uc3QgY3RfX2Zvcm1hdFZhbCA9ICh2KSA9PiB7XFxuICAgICAgICAgIHJldHVybiB2ICYmIHYudHJpbSgpLnN1YnN0cmluZygwLCAyMCk7XFxuICAgICAgfVxcbiAgICAgIGNvbnN0IGN0X19wYXJlbnRPcmlnaW4gPSAgd2luZG93LnBhcmVudC5vcmlnaW47XFxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xcbiAgICAgICAgY29uc3QgZWxlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0Py4oJ2Fbd3pya19jMmFdLCBidXR0b25bd3pya19jMmFdJyk7XFxuICAgICAgICBpZiAoZWxlbSkge1xcbiAgICAgICAgICAgIGNvbnN0IHtpbm5lclRleHQsIGlkLCBuYW1lLCB2YWx1ZSwgaHJlZn0gPSBlbGVtO1xcbiAgICAgICAgICAgIGNvbnN0IGNsaWNrQXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKCdvbmNsaWNrJykgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoJ2NsaWNrJyk7XFxuICAgICAgICAgICAgY29uc3Qgb25jbGlja1VSTCA9IGNsaWNrQXR0cj8ubWF0Y2goLyh3aW5kb3cub3BlbilbKF0oXFxcInwnKSguKikoXFxcInwnLCkvKT8uWzNdIHx8IGNsaWNrQXR0cj8ubWF0Y2goLyhsb2NhdGlvbi5ocmVmICo9ICopKFxcXCJ8JykoLiopKFxcXCJ8JykvKT8uWzNdO1xcbiAgICAgICAgICAgIGNvbnN0IHByb3BzID0ge2lubmVyVGV4dCwgaWQsIG5hbWUsIHZhbHVlfTtcXG4gICAgICAgICAgICBsZXQgbXNnQ1RrdiA9IE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoKGFjYywgYykgPT4ge1xcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRWYWwgPSBjdF9fZm9ybWF0VmFsKHByb3BzW2NdKTtcXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsICYmIChhY2NbJ3d6cmtfY2xpY2tfJyArIGNdID0gZm9ybWF0dGVkVmFsKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcXG4gICAgICAgICAgICB9LCB7fSk7XFxuICAgICAgICAgICAgaWYob25jbGlja1VSTCkgeyBtc2dDVGt2Wyd3enJrX2NsaWNrXycgKyAndXJsJ10gPSBvbmNsaWNrVVJMOyB9XFxuICAgICAgICAgICAgaWYoaHJlZikgeyBtc2dDVGt2Wyd3enJrX2NsaWNrXycgKyAnYzJhJ10gPSBocmVmOyB9XFxuICAgICAgICAgICAgY29uc3Qgbm90aWZEYXRhID0geyBtc2dJZDogY3RfX2NhbWFwaWduSWQsIG1zZ0NUa3YsIHBpdm90SWQ6ICdcIikuY29uY2F0KHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCwgXCInIH07XFxuICAgICAgICAgICAgd2luZG93LnBhcmVudC5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uQ2xpY2tlZChub3RpZkRhdGEpO1xcbiAgICAgICAgfVxcbiAgICAgIH0pO1xcbiAgICAgIDwvc2NyaXB0PlxcbiAgICBcIik7XG4gICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC8oPFxccypcXC9cXHMqYm9keSkvLCBcIlwiLmNvbmNhdChzY3JpcHQsIFwiXFxuJDFcIikpO1xuICAgIH07XG5cbiAgICBsZXQgX2NhbGxCYWNrQ2FsbGVkID0gZmFsc2U7XG5cbiAgICBjb25zdCBzaG93Rm9vdGVyTm90aWZpY2F0aW9uID0gdGFyZ2V0aW5nTXNnSnNvbiA9PiB7XG4gICAgICBsZXQgb25DbGljayA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5vbkNsaWNrOyAvLyBUT0RPOiBOZWVkcyB3aXpyb2NrZXQgYXMgYSBnbG9iYWwgdmFyaWFibGVcblxuICAgICAgaWYgKHdpbmRvdy5jbGV2ZXJ0YXAuaGFzT3duUHJvcGVydHkoJ25vdGlmaWNhdGlvbkNhbGxiYWNrJykgJiYgdHlwZW9mIHdpbmRvdy5jbGV2ZXJ0YXAubm90aWZpY2F0aW9uQ2FsbGJhY2sgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuY2xldmVydGFwLm5vdGlmaWNhdGlvbkNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbkNhbGxiYWNrID0gd2luZG93LmNsZXZlcnRhcC5ub3RpZmljYXRpb25DYWxsYmFjaztcblxuICAgICAgICBpZiAoIV9jYWxsQmFja0NhbGxlZCkge1xuICAgICAgICAgIGNvbnN0IGluYU9iaiA9IHt9O1xuICAgICAgICAgIGluYU9iai5tc2dDb250ZW50ID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50O1xuICAgICAgICAgIGluYU9iai5tc2dJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZDtcblxuICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3QpIHtcbiAgICAgICAgICAgIGluYU9iai5waXZvdElkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkua3YgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5hT2JqLmt2ID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lmt2O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmFpc2VOb3RpZmljYXRpb25DbGlja2VkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9uQ2xpY2sgIT09ICcnICYmIG9uQ2xpY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBqc0Z1bmMgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuanNGdW5jO1xuICAgICAgICAgICAgICBvbkNsaWNrICs9IGdldENvb2tpZVBhcmFtcygpOyAvLyBpbnZva2UganMgZnVuY3Rpb24gY2FsbFxuXG4gICAgICAgICAgICAgIGlmIChqc0Z1bmMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHRyYWNrIG5vdGlmaWNhdGlvbiBjbGlja2VkIGV2ZW50XG4gICAgICAgICAgICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZmlyZVJlcXVlc3Qob25DbGljayk7XG4gICAgICAgICAgICAgICAgaW52b2tlRXh0ZXJuYWxKcyhqc0Z1bmMsIHRhcmdldGluZ01zZ0pzb24pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfSAvLyBwYXNzIG9uIHRoZSBnY29va2llfHBhZ2V8c2Nvb2tpZUlkIGZvciBjYXB0dXJpbmcgdGhlIGNsaWNrIGV2ZW50XG5cblxuICAgICAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LndpbmRvdyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKG9uQ2xpY2ssICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBvbkNsaWNrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmFpc2VOb3RpZmljYXRpb25WaWV3ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpbmNyZW1lbnRJbXByZXNzaW9uKHRhcmdldGluZ01zZ0pzb24pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBub3RpZmljYXRpb25DYWxsYmFjayhpbmFPYmopO1xuICAgICAgICAgIF9jYWxsQmFja0NhbGxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucG9wdXBDdXJyZW50V3pya0lkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkO1xuICAgICAgICByZW5kZXJGb290ZXJOb3RpZmljYXRpb24odGFyZ2V0aW5nTXNnSnNvbik7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5jbGV2ZXJ0YXAuaGFzT3duUHJvcGVydHkoJ3BvcHVwQ2FsbGJhY2tzJykgJiYgdHlwZW9mIHdpbmRvdy5jbGV2ZXJ0YXAucG9wdXBDYWxsYmFja3MgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuY2xldmVydGFwLnBvcHVwQ2FsbGJhY2tzW3RhcmdldGluZ01zZ0pzb24ud3pya19pZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjb25zdCBwb3B1cENhbGxiYWNrID0gd2luZG93LmNsZXZlcnRhcC5wb3B1cENhbGxiYWNrc1t0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWRdO1xuICAgICAgICAgIGNvbnN0IGluYU9iaiA9IHt9O1xuICAgICAgICAgIGluYU9iai5tc2dDb250ZW50ID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50O1xuICAgICAgICAgIGluYU9iai5tc2dJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZDtcblxuICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3QpIHtcbiAgICAgICAgICAgIGluYU9iai5waXZvdElkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBtc2dDVGt2ID0gW107XG5cbiAgICAgICAgICBmb3IgKHZhciB3enJrUHJlZml4S2V5IGluIHRhcmdldGluZ01zZ0pzb24pIHtcbiAgICAgICAgICAgIC8vIEFERCBXWlJLIFBSRUZJWCBLRVkgVkFMVUUgUEFJUlNcbiAgICAgICAgICAgIGlmICh3enJrUHJlZml4S2V5LnN0YXJ0c1dpdGgoV1pSS19QUkVGSVgpICYmIHd6cmtQcmVmaXhLZXkgIT09IFdaUktfSUQpIHtcbiAgICAgICAgICAgICAgY29uc3Qgd3pya0pzb24gPSB7XG4gICAgICAgICAgICAgICAgW3d6cmtQcmVmaXhLZXldOiB0YXJnZXRpbmdNc2dKc29uW3d6cmtQcmVmaXhLZXldXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIG1zZ0NUa3YucHVzaCh3enJrSnNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1zZ0NUa3YubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW5hT2JqLm1zZ0NUa3YgPSBtc2dDVGt2O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkua3YgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5hT2JqLmt2ID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lmt2O1xuICAgICAgICAgIH0gLy8gUFVCTElDIEFQSSBUTyBSRUNPUkQgQ0xJQ0tFRCBFVkVOVFxuXG5cbiAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJhaXNlUG9wdXBOb3RpZmljYXRpb25DbGlja2VkID0gbm90aWZpY2F0aW9uRGF0YSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vdGlmaWNhdGlvbkRhdGEgfHwgIW5vdGlmaWNhdGlvbkRhdGEubXNnSWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7fTtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gJ2V2ZW50JztcbiAgICAgICAgICAgIGV2ZW50RGF0YS5ldnROYW1lID0gTk9USUZJQ0FUSU9OX0NMSUNLRUQ7XG4gICAgICAgICAgICBldmVudERhdGEuZXZ0RGF0YSA9IHtcbiAgICAgICAgICAgICAgW1daUktfSURdOiBub3RpZmljYXRpb25EYXRhLm1zZ0lkXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90KSB7XG4gICAgICAgICAgICAgIGV2ZW50RGF0YS5ldnREYXRhID0geyAuLi5ldmVudERhdGEuZXZ0RGF0YSxcbiAgICAgICAgICAgICAgICB3enJrX3Bpdm90OiBub3RpZmljYXRpb25EYXRhLnBpdm90SWRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gLy8gV1pSSyBQUkVGSVggS0VZIFZBTFVFIFBBSVJTXG5cblxuICAgICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkRhdGEubXNnQ1Rrdikge1xuICAgICAgICAgICAgICBmb3IgKHZhciB3enJrUHJlZml4T2JqIG9mIG5vdGlmaWNhdGlvbkRhdGEubXNnQ1Rrdikge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5ldnREYXRhID0geyAuLi5ldmVudERhdGEuZXZ0RGF0YSxcbiAgICAgICAgICAgICAgICAgIC4uLnd6cmtQcmVmaXhPYmpcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9yZXF1ZXN0LnByb2Nlc3NFdmVudChldmVudERhdGEpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBwb3B1cENhbGxiYWNrKGluYU9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IGV4aXRpbnRlbnRPYmo7XG5cbiAgICBjb25zdCBzaG93RXhpdEludGVudCA9IChldmVudCwgdGFyZ2V0T2JqKSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0aW5nTXNnSnNvbjtcblxuICAgICAgaWYgKGV2ZW50ICE9IG51bGwgJiYgZXZlbnQuY2xpZW50WSA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0T2JqID09IG51bGwpIHtcbiAgICAgICAgdGFyZ2V0aW5nTXNnSnNvbiA9IGV4aXRpbnRlbnRPYmo7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRpbmdNc2dKc29uID0gdGFyZ2V0T2JqO1xuICAgICAgfVxuXG4gICAgICBpZiAoJGN0LmRpc21pc3NTcGFtQ29udHJvbCAmJiB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkud3RhcmdldF90eXBlID09PSAwICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlbnRQcmV2aWV3JykgIT0gbnVsbCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50T3BhY2l0eURpdicpICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlbnRQcmV2aWV3Jyk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlbnRPcGFjaXR5RGl2JykucmVtb3ZlKCk7XG4gICAgICB9IC8vIEltYWdlT25seSBjYW1wYWlnbiBhbmQgSW50ZXJzdGl0aWFsL0V4aXQgSW50ZW50IHNob3VsZG4ndCBjb2V4aXN0XG5cblxuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlbnRQcmV2aWV3JykgIT0gbnVsbCB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3pya0ltYWdlT25seURpdicpICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBkb250IHNob3cgZXhpdCBpbnRlbnQgb24gdGFibGV0L21vYmlsZSAtIG9ubHkgb24gZGVza3RvcFxuXG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkubGF5b3V0ID09IG51bGwgJiYgKC9tb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9taW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSB8fCAvaVBhZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IC90YWJsZXQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkb0NhbXBIb3VzZUtlZXBpbmcodGFyZ2V0aW5nTXNnSnNvbikgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2FtcGFpZ25JZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZC5zcGxpdCgnXycpWzBdO1xuICAgICAgJGN0LmNhbXBhaWduRGl2TWFwW2NhbXBhaWduSWRdID0gJ2ludGVudFByZXZpZXcnO1xuICAgICAgbGV0IGxlZ2FjeSA9IGZhbHNlO1xuICAgICAgY29uc3Qgb3BhY2l0eURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgb3BhY2l0eURpdi5pZCA9ICdpbnRlbnRPcGFjaXR5RGl2JztcbiAgICAgIGNvbnN0IG9wYWNpdHkgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkub3BhY2l0eSB8fCAwLjc7XG4gICAgICBjb25zdCByZ2JhQ29sb3IgPSBcInJnYmEoMCwwLDAsXCIuY29uY2F0KG9wYWNpdHksIFwiKVwiKTtcbiAgICAgIG9wYWNpdHlEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsIFwicG9zaXRpb246IGZpeGVkO3RvcDogMDtib3R0b206IDA7bGVmdDogMDt3aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7ei1pbmRleDogMjE0NzQ4MzY0NjtiYWNrZ3JvdW5kOiBcIi5jb25jYXQocmdiYUNvbG9yLCBcIjtcIikpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvcGFjaXR5RGl2KTtcbiAgICAgIGNvbnN0IG1zZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbXNnRGl2LmlkID0gJ2ludGVudFByZXZpZXcnO1xuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LnByb3RvID09IG51bGwpIHtcbiAgICAgICAgbGVnYWN5ID0gdHJ1ZTtcbiAgICAgICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpibG9jaztvdmVyZmxvdzpoaWRkZW47dG9wOjU1JSAhaW1wb3J0YW50O2xlZnQ6NTAlICFpbXBvcnRhbnQ7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoyMTQ3NDgzNjQ3O3dpZHRoOjYwMHB4ICFpbXBvcnRhbnQ7aGVpZ2h0OjYwMHB4ICFpbXBvcnRhbnQ7bWFyZ2luOi0zMDBweCAwIDAgLTMwMHB4ICFpbXBvcnRhbnQ7Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsIHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5pRnJhbWVTdHlsZSk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobXNnRGl2KTtcbiAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgY29uc3QgYm9yZGVyUmFkaXVzID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmJyID09PSBmYWxzZSA/ICcwJyA6ICc4JztcbiAgICAgIGlmcmFtZS5mcmFtZWJvcmRlciA9ICcwcHgnO1xuICAgICAgaWZyYW1lLm1hcmdpbmhlaWdodCA9ICcwcHgnO1xuICAgICAgaWZyYW1lLm1hcmdpbndpZHRoID0gJzBweCc7XG4gICAgICBpZnJhbWUuc2Nyb2xsaW5nID0gJ25vJztcbiAgICAgIGlmcmFtZS5pZCA9ICd3aXotaWZyYW1lLWludGVudCc7XG4gICAgICBjb25zdCBvbkNsaWNrID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lm9uQ2xpY2s7XG4gICAgICBsZXQgcG9pbnRlckNzcyA9ICcnO1xuXG4gICAgICBpZiAob25DbGljayAhPT0gJycgJiYgb25DbGljayAhPSBudWxsKSB7XG4gICAgICAgIHBvaW50ZXJDc3MgPSAnY3Vyc29yOnBvaW50ZXI7JztcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5wcmV2aWV3ICYmIHRhcmdldGluZ01zZ0pzb24uZGlzcGxheVsnY3VzdG9tLWVkaXRvciddKSB7XG4gICAgICAgIGlmcmFtZS5zYW5kYm94ID0gJ2FsbG93LXNjcmlwdHMgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCc7XG4gICAgICB9XG5cbiAgICAgIGxldCBodG1sOyAvLyBkaXJlY3QgaHRtbFxuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LnR5cGUgPT09IDEpIHtcbiAgICAgICAgaHRtbCA9IHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5odG1sO1xuICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC8jI2NhbXBhaWduSWQjIy9nLCBjYW1wYWlnbklkKTtcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvIyNjYW1wYWlnbklkX2JhdGNoSWQjIy9nLCB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY3NzID0gJycgKyAnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPicgKyAnYm9keXttYXJnaW46MDtwYWRkaW5nOjA7fScgKyAnI2NvbnRlbnREaXYud3pya3tvdmVyZmxvdzpoaWRkZW47cGFkZGluZzowIDAgMjBweCAwO3RleHQtYWxpZ246Y2VudGVyOycgKyBwb2ludGVyQ3NzICsgJ30nICsgJyNjb250ZW50RGl2Lnd6cmsgdGR7cGFkZGluZzoxNXB4IDEwcHg7fScgKyAnLnd6cmtQUHRpdGxle2ZvbnQtd2VpZ2h0OiBib2xkO2ZvbnQtc2l6ZTogMjRweDtmb250LWZhbWlseTphcmlhbDt3b3JkLWJyZWFrOiBicmVhay13b3JkO3BhZGRpbmctdG9wOjIwcHg7fScgKyAnLnd6cmtQUGRzY3J7Zm9udC1zaXplOiAxNHB4O2ZvbnQtZmFtaWx5OmFyaWFsO2xpbmUtaGVpZ2h0OjE2cHg7d29yZC1icmVhazogYnJlYWstd29yZDtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjIwcHggMjBweCAwIDIwcHg7bGluZS1oZWlnaHQ6MjBweDt9JyArICcuUEwxNXtwYWRkaW5nLWxlZnQ6MTVweDt9JyArICcud3pya1BQd2FycHttYXJnaW46MjBweCAyMHB4IDAgNXB4O3BhZGRpbmc6MHB4O2JvcmRlci1yYWRpdXM6ICcgKyBib3JkZXJSYWRpdXMgKyAncHg7Ym94LXNoYWRvdzogMXB4IDFweCA1cHggIzg4ODg4ODt9JyArICdhLnd6cmtDbG9zZXtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjogYWJzb2x1dGU7dG9wOiAxMXB4O3JpZ2h0OiAxMXB4O3otaW5kZXg6IDIxNDc0ODM2NDc7Zm9udC1zaXplOjE5cHg7Zm9udC1mYW1pbHk6YXJpYWw7Zm9udC13ZWlnaHQ6Ym9sZDt0ZXh0LWRlY29yYXRpb246IG5vbmU7d2lkdGg6IDI1cHg7LypoZWlnaHQ6IDI1cHg7Ki90ZXh0LWFsaWduOiBjZW50ZXI7IC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsgbGluZS1oZWlnaHQ6IDI1cHg7JyArICdiYWNrZ3JvdW5kOiAjMzUzNTM1O2JvcmRlcjogI2ZmZiAycHggc29saWQ7Ym9yZGVyLXJhZGl1czogMTAwJTtib3gtc2hhZG93OiAjNzc3IDJweCAycHggMnB4O2NvbG9yOiNmZmY7fScgKyAnYTpob3Zlci53enJrQ2xvc2V7YmFja2dyb3VuZC1jb2xvcjojZDE5MTRhICFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiAhaW1wb3J0YW50OyAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7fScgKyAnI2NvbnRlbnREaXYgLmJ1dHRvbntwYWRkaW5nLXRvcDoyMHB4O30nICsgJyNjb250ZW50RGl2IC5idXR0b24gYXtmb250LXNpemU6IDE0cHg7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LWZhbWlseTphcmlhbDt0ZXh0LWFsaWduOmNlbnRlcjtkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWRlY29yYXRpb246bm9uZTtwYWRkaW5nOjAgMzBweDtoZWlnaHQ6NDBweDtsaW5lLWhlaWdodDo0MHB4O2JhY2tncm91bmQ6I2VhNjkzYjtjb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NHB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czo0cHg7LW1vei1ib3JkZXItcmFkaXVzOjRweDt9JyArICc8L3N0eWxlPic7XG4gICAgICAgIGxldCBiZ0NvbG9yLCB0ZXh0Q29sb3IsIGJ0bkJnLCBidENvbG9yO1xuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkudGhlbWUgPT09ICdkYXJrJykge1xuICAgICAgICAgIGJnQ29sb3IgPSAnIzJkMmQyZSc7XG4gICAgICAgICAgdGV4dENvbG9yID0gJyNlYWVhZWEnO1xuICAgICAgICAgIGJ0bkJnID0gJyMzNTM1MzUnO1xuICAgICAgICAgIGJ0Q29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmdDb2xvciA9ICcjZmZmZmZmJztcbiAgICAgICAgICB0ZXh0Q29sb3IgPSAnIzAwMDAwMCc7XG4gICAgICAgICAgYnRuQmcgPSAnI2E1YTZhNic7XG4gICAgICAgICAgYnRDb2xvciA9ICcjZmZmZmZmJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRpdGxlVGV4dCA9IHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC50aXRsZTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25UZXh0ID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmRlc2NyaXB0aW9uO1xuICAgICAgICBsZXQgY3RhVGV4dCA9ICcnO1xuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuY3RhVGV4dCAhPSBudWxsICYmIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5jdGFUZXh0ICE9PSAnJykge1xuICAgICAgICAgIGN0YVRleHQgPSBcIjxkaXYgY2xhc3M9J2J1dHRvbic+PGEgaHJlZj0nIyc+XCIgKyB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuY3RhVGV4dCArICc8L2E+PC9kaXY+JztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbWFnZVRkID0gJyc7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCAhPSBudWxsICYmIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCAhPT0gJycpIHtcbiAgICAgICAgICBpbWFnZVRkID0gXCI8ZGl2IHN0eWxlPSdwYWRkaW5nLXRvcDoyMHB4Oyc+PGltZyBzcmM9J1wiICsgdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmltYWdlVXJsICsgXCInIHdpZHRoPSc1MDAnIGFsdD1cIiArIHRpdGxlVGV4dCArICcgLz48L2Rpdj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb25DbGlja1N0ciA9ICdwYXJlbnQuJFdaUktfV1IuY2xvc2VJZnJhbWUoJyArIGNhbXBhaWduSWQgKyBcIiwnaW50ZW50UHJldmlldycpO1wiO1xuICAgICAgICBjb25zdCB0aXRsZSA9IFwiPGRpdiBjbGFzcz0nd3pya1BQd2FycCcgc3R5bGU9J2NvbG9yOlwiICsgdGV4dENvbG9yICsgJztiYWNrZ3JvdW5kLWNvbG9yOicgKyBiZ0NvbG9yICsgXCI7Jz5cIiArIFwiPGEgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApOycgb25jbGljaz1cIiArIG9uQ2xpY2tTdHIgKyBcIiBjbGFzcz0nd3pya0Nsb3NlJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjpcIiArIGJ0bkJnICsgJztjb2xvcjonICsgYnRDb2xvciArIFwiJz4mdGltZXM7PC9hPlwiICsgXCI8ZGl2IGlkPSdjb250ZW50RGl2JyBjbGFzcz0nd3pyayc+XCIgKyBcIjxkaXYgY2xhc3M9J3d6cmtQUHRpdGxlJyBzdHlsZT0nY29sb3I6XCIgKyB0ZXh0Q29sb3IgKyBcIic+XCIgKyB0aXRsZVRleHQgKyAnPC9kaXY+JztcbiAgICAgICAgY29uc3QgYm9keSA9IFwiPGRpdiBjbGFzcz0nd3pya1BQZHNjcicgc3R5bGU9J2NvbG9yOlwiICsgdGV4dENvbG9yICsgXCInPlwiICsgZGVzY3JpcHRpb25UZXh0ICsgJzwvZGl2PicgKyBpbWFnZVRkICsgY3RhVGV4dCArICc8L2Rpdj48L2Rpdj4nO1xuICAgICAgICBodG1sID0gY3NzICsgdGl0bGUgKyBib2R5O1xuICAgICAgfVxuXG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICd6LWluZGV4OiAyMTQ3NDgzNjQ3OyBkaXNwbGF5OmJsb2NrOyBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsgd2lkdGg6IDEwMCUgIWltcG9ydGFudDttaW4taGVpZ2h0OjgwcHggIWltcG9ydGFudDtib3JkZXI6MHB4ICFpbXBvcnRhbnQ7IGJvcmRlci1jb2xvcjpub25lICFpbXBvcnRhbnQ7Jyk7XG4gICAgICBtc2dEaXYuYXBwZW5kQ2hpbGQoaWZyYW1lKTsgLy8gRGlzcGF0Y2ggZXZlbnQgZm9yIGludGVyc3RpdGlhbC9leGl0IGludGVudCBjbG9zZVxuXG4gICAgICBjb25zdCBjbG9zZUNhbXBhaWduID0gbmV3IEV2ZW50KCdDVF9jYW1wYWlnbl9yZW5kZXJlZCcpO1xuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjbG9zZUNhbXBhaWduKTtcblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheVsnY3VzdG9tLWVkaXRvciddKSB7XG4gICAgICAgIGh0bWwgPSBhcHBlbmRTY3JpcHRGb3JDdXN0b21FdmVudCh0YXJnZXRpbmdNc2dKc29uLCBodG1sKTtcbiAgICAgIH1cblxuICAgICAgaWZyYW1lLnNyY2RvYyA9IGh0bWw7XG5cbiAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZS1pbnRlbnQnKS5jb250ZW50RG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnREaXYnKTtcbiAgICAgICAgc2V0dXBDbGlja1VybChvbkNsaWNrLCB0YXJnZXRpbmdNc2dKc29uLCBjb250ZW50RGl2LCAnaW50ZW50UHJldmlldycsIGxlZ2FjeSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBpZiAoIWRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGlmIChfd2l6Q291bnRlciA8IDYpIHtcbiAgICAgICAgX3dpekNvdW50ZXIrKztcbiAgICAgICAgc2V0VGltZW91dChfdHIsIDEwMDAsIG1zZywge1xuICAgICAgICAgIGRldmljZTogX2RldmljZSxcbiAgICAgICAgICBzZXNzaW9uOiBfc2Vzc2lvbixcbiAgICAgICAgICByZXF1ZXN0OiBfcmVxdWVzdCxcbiAgICAgICAgICBsb2dnZXI6IF9sb2dnZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9jZXNzTmF0aXZlRGlzcGxheUFyciA9IGFyckluQXBwTm90aWZzID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKGFyckluQXBwTm90aWZzKS5tYXAoa2V5ID0+IHtcbiAgICAgICAgdmFyIGVsZW1lbnRJZCwgaWQ7XG5cbiAgICAgICAgaWYgKGFyckluQXBwTm90aWZzW2tleV0uZGlzcGxheS5kaXZJZCkge1xuICAgICAgICAgIGVsZW1lbnRJZCA9IGFyckluQXBwTm90aWZzW2tleV0uZGlzcGxheS5kaXZJZDtcbiAgICAgICAgICBpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudElkID0gYXJySW5BcHBOb3RpZnNba2V5XS5kaXNwbGF5LmRpdlNlbGVjdG9yO1xuICAgICAgICAgIGlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlkICE9PSBudWxsKSB7XG4gICAgICAgICAgYXJySW5BcHBOb3RpZnNba2V5XS5tc2dDb250ZW50LnR5cGUgPT09IDIgPyByZW5kZXJQZXJzb25hbGlzYXRpb25CYW5uZXIoYXJySW5BcHBOb3RpZnNba2V5XSkgOiByZW5kZXJQZXJzb25hbGlzYXRpb25DYXJvdXNlbChhcnJJbkFwcE5vdGlmc1trZXldKTtcbiAgICAgICAgICBkZWxldGUgYXJySW5BcHBOb3RpZnNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFkZExvYWRMaXN0ZW5lciA9IGFyckluQXBwTm90aWZzID0+IHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuXG4gICAgICAgIGlmIChjb3VudCA8IDIwKSB7XG4gICAgICAgICAgY29uc3QgdCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHByb2Nlc3NOYXRpdmVEaXNwbGF5QXJyKGFyckluQXBwTm90aWZzKTtcblxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFyckluQXBwTm90aWZzKS5sZW5ndGggPT09IDAgfHwgY291bnQgPT09IDIwKSB7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodCk7XG4gICAgICAgICAgICAgIGFyckluQXBwTm90aWZzID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChtc2cuaW5hcHBfbm90aWZzICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGFyckluQXBwTm90aWZzID0ge307XG5cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtc2cuaW5hcHBfbm90aWZzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCB0YXJnZXROb3RpZiA9IG1zZy5pbmFwcF9ub3RpZnNbaW5kZXhdO1xuXG4gICAgICAgIGlmICh0YXJnZXROb3RpZi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PSBudWxsIHx8IHRhcmdldE5vdGlmLmRpc3BsYXkud3RhcmdldF90eXBlID09PSAwKSB7XG4gICAgICAgICAgc2hvd0Zvb3Rlck5vdGlmaWNhdGlvbih0YXJnZXROb3RpZik7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0Tm90aWYuZGlzcGxheS53dGFyZ2V0X3R5cGUgPT09IDEpIHtcbiAgICAgICAgICAvLyBpZiBkaXNwbGF5Wyd3dGFyZ2V0X3R5cGUnXT09MSB0aGVuIGV4aXQgaW50ZW50XG4gICAgICAgICAgZXhpdGludGVudE9iaiA9IHRhcmdldE5vdGlmO1xuICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5Lm9ubW91c2VsZWF2ZSA9IHNob3dFeGl0SW50ZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldE5vdGlmLmRpc3BsYXkud3RhcmdldF90eXBlID09PSAyKSB7XG4gICAgICAgICAgLy8gaWYgZGlzcGxheVsnd3RhcmdldF90eXBlJ109PTIgdGhlbiB3ZWIgbmF0aXZlIGRpc3BsYXlcbiAgICAgICAgICBpZiAodGFyZ2V0Tm90aWYubXNnQ29udGVudC50eXBlID09PSAyIHx8IHRhcmdldE5vdGlmLm1zZ0NvbnRlbnQudHlwZSA9PT0gMykge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGJhbm5lciBhbmQgY2Fyb3VzZWxcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0YXJnZXROb3RpZi5kaXNwbGF5LmRpdklkID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0Tm90aWYuZGlzcGxheS5kaXZJZCkgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldE5vdGlmLmRpc3BsYXkuZGl2U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0YXJnZXROb3RpZi5tc2dDb250ZW50LnR5cGUgPT09IDIgPyByZW5kZXJQZXJzb25hbGlzYXRpb25CYW5uZXIodGFyZ2V0Tm90aWYpIDogcmVuZGVyUGVyc29uYWxpc2F0aW9uQ2Fyb3VzZWwodGFyZ2V0Tm90aWYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXJySW5BcHBOb3RpZnNbdGFyZ2V0Tm90aWYud3pya19pZC5zcGxpdCgnXycpWzBdXSA9IHRhcmdldE5vdGlmOyAvLyBBZGQgdGFyZ2V0Tm90aWYgdG8gb2JqZWN0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXROb3RpZi5tc2dDb250ZW50LnR5cGUgPT09IDQpIHtcbiAgICAgICAgICAgIHJlbmRlclZpc3VhbEJ1aWxkZXIodGFyZ2V0Tm90aWYsIGZhbHNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hvd0Zvb3Rlck5vdGlmaWNhdGlvbih0YXJnZXROb3RpZik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIFByb2Nlc3MgYmFubmVyIG9yIGNhcm91c2VsIGNhbXBhaWduIGFycmF5XG5cblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGFyckluQXBwTm90aWZzKS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICBwcm9jZXNzTmF0aXZlRGlzcGxheUFycihhcnJJbkFwcE5vdGlmcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkTG9hZExpc3RlbmVyKGFyckluQXBwTm90aWZzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG1lcmdlRXZlbnRNYXAgPSBuZXdFdnRNYXAgPT4ge1xuICAgICAgaWYgKCRjdC5nbG9iYWxFdmVudHNNYXAgPT0gbnVsbCkge1xuICAgICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEVWX0NPT0tJRSk7XG5cbiAgICAgICAgaWYgKCRjdC5nbG9iYWxFdmVudHNNYXAgPT0gbnVsbCkge1xuICAgICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXAgPSBuZXdFdnRNYXA7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG5ld0V2dE1hcCkge1xuICAgICAgICBpZiAobmV3RXZ0TWFwLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBjb25zdCBvbGRFdnRPYmogPSAkY3QuZ2xvYmFsRXZlbnRzTWFwW2tleV07XG4gICAgICAgICAgY29uc3QgbmV3RXZ0T2JqID0gbmV3RXZ0TWFwW2tleV07XG5cbiAgICAgICAgICBpZiAoJGN0Lmdsb2JhbEV2ZW50c01hcFtrZXldICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChuZXdFdnRPYmpbMF0gIT0gbnVsbCAmJiBuZXdFdnRPYmpbMF0gPiBvbGRFdnRPYmpbMF0pIHtcbiAgICAgICAgICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcFtrZXldID0gbmV3RXZ0T2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwW2tleV0gPSBuZXdFdnRPYmo7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUluYm94Tm90aWZpY2F0aW9ucyA9ICgpID0+IHtcbiAgICAgIGlmIChtc2cuaW5ib3hfcHJldmlldykge1xuICAgICAgICBwcm9jZXNzSW5ib3hOb3RpZnMobXNnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAobXNnLmluYm94X25vdGlmcykge1xuICAgICAgICBjb25zdCBtc2dBcnIgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbXNnLmluYm94X25vdGlmcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICBpZiAoZG9DYW1wSG91c2VLZWVwaW5nKG1zZy5pbmJveF9ub3RpZnNbaW5kZXhdKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG1zZ0Fyci5wdXNoKG1zZy5pbmJveF9ub3RpZnNbaW5kZXhdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9jZXNzSW5ib3hOb3RpZnMobXNnQXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKG1zZy53ZWJJbmJveFNldHRpbmcgfHwgbXNnLmluYm94X25vdGlmcyAhPSBudWxsKSB7XG4gICAgICAvKipcbiAgICAgICAqIFdoZW4gdGhlIHVzZXIgdmlzaXRzIGEgd2Vic2l0ZSBmb3IgdGhlIDFzdCB0aW1lIGFmdGVyIHdlYiBpbmJveCBjaGFubmVsIGlzIHNldHVwLFxuICAgICAgICogd2UgbmVlZCB0byBpbml0aWFsaXNlIHRoZSBpbmJveCBoZXJlIGJlY2F1c2UgdGhlIGluaXRpYWxpemVXZWJJbmJveCBtZXRob2Qgd2l0aGluIGluaXQgd2lsbCBub3QgYmUgZXhlY3V0ZWRcbiAgICAgICAqIGFzIHdlIHdvdWxkIG5vdCBoYXZlIGFueSBlbnRyeSByZWxhdGVkIHRvIHdlYkluYm94U2V0dGluZ3MgaW4gdGhlIExTXG4gICAgICAgKi9cbiAgICAgIGlmIChoYXNXZWJJbmJveFNldHRpbmdzSW5MUygpKSB7XG4gICAgICAgIGNoZWNrQW5kUmVnaXN0ZXJXZWJJbmJveEVsZW1lbnRzKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3QuaW5ib3ggPT09IG51bGwpIHtcbiAgICAgICAgbXNnLndlYkluYm94U2V0dGluZyAmJiBwcm9jZXNzV2ViSW5ib3hTZXR0aW5ncyhtc2cud2ViSW5ib3hTZXR0aW5nKTtcbiAgICAgICAgaW5pdGlhbGl6ZVdlYkluYm94KF9sb2dnZXIpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGhhbmRsZUluYm94Tm90aWZpY2F0aW9ucygpO1xuICAgICAgICB9KS5jYXRjaChlID0+IHt9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZUluYm94Tm90aWZpY2F0aW9ucygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtc2cudmFycykge1xuICAgICAgJGN0LnZhcmlhYmxlU3RvcmUubWVyZ2VWYXJpYWJsZXMobXNnLnZhcnMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YWxlRGF0YVVwZGF0ZSA9IChzdGFsZWRhdGEsIGNhbXBUeXBlKSA9PiB7XG4gICAgICBjb25zdCBjYW1wT2JqID0gZ2V0Q2FtcGFpZ25PYmplY3QoKTtcbiAgICAgIGNvbnN0IGdsb2JhbE9iaiA9IGNhbXBPYmpbY2FtcFR5cGVdLmdsb2JhbDtcblxuICAgICAgaWYgKGdsb2JhbE9iaiAhPSBudWxsICYmIGNhbXBUeXBlKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWR4IGluIHN0YWxlZGF0YSkge1xuICAgICAgICAgIGlmIChzdGFsZWRhdGEuaGFzT3duUHJvcGVydHkoaWR4KSkge1xuICAgICAgICAgICAgZGVsZXRlIGdsb2JhbE9ialtzdGFsZWRhdGFbaWR4XV07XG5cbiAgICAgICAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5yZWFkKENBTVBfQ09PS0lFX0cpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGd1aWRDYW1wT2JqID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoU3RvcmFnZU1hbmFnZXIucmVhZChDQU1QX0NPT0tJRV9HKSkpO1xuICAgICAgICAgICAgICBjb25zdCBndWlkID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoU3RvcmFnZU1hbmFnZXIucmVhZChHQ09PS0lFX05BTUUpKSk7XG5cbiAgICAgICAgICAgICAgaWYgKGd1aWRDYW1wT2JqW2d1aWRdICYmIGd1aWRDYW1wT2JqW2d1aWRdW2NhbXBUeXBlXSAmJiBndWlkQ2FtcE9ialtndWlkXVtjYW1wVHlwZV1bc3RhbGVkYXRhW2lkeF1dKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGd1aWRDYW1wT2JqW2d1aWRdW2NhbXBUeXBlXVtzdGFsZWRhdGFbaWR4XV07XG4gICAgICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZShDQU1QX0NPT0tJRV9HLCBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZ3VpZENhbXBPYmopKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2F2ZUNhbXBhaWduT2JqZWN0KGNhbXBPYmopO1xuICAgIH07XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChtc2cuZXZwciAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgZXZlbnRzTWFwID0gbXNnLmV2cHIuZXZlbnRzO1xuICAgICAgICAgIGNvbnN0IHByb2ZpbGVNYXAgPSBtc2cuZXZwci5wcm9maWxlO1xuICAgICAgICAgIGNvbnN0IHN5bmNFeHBpcnkgPSBtc2cuZXZwci5leHBpcmVzX2luO1xuICAgICAgICAgIGNvbnN0IG5vdyA9IGdldE5vdygpO1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdsc1RpbWUnLCBub3cpO1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdleFRzJywgc3luY0V4cGlyeSk7XG4gICAgICAgICAgbWVyZ2VFdmVudE1hcChldmVudHNNYXApO1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoRVZfQ09PS0lFLCAkY3QuZ2xvYmFsRXZlbnRzTWFwKTtcblxuICAgICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICAgICBhZGRUb0xvY2FsUHJvZmlsZU1hcChwcm9maWxlTWFwLCB0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkVG9Mb2NhbFByb2ZpbGVNYXAocHJvZmlsZU1hcCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtc2cuYXJwICE9IG51bGwpIHtcbiAgICAgICAgICBhcnAobXNnLmFycCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobXNnLmluYXBwX3N0YWxlICE9IG51bGwgJiYgbXNnLmluYXBwX3N0YWxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyB3ZWIgcG9wdXAgc3RhbGVcbiAgICAgICAgICBzdGFsZURhdGFVcGRhdGUobXNnLmluYXBwX3N0YWxlLCAnd3AnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtc2cuaW5ib3hfc3RhbGUgIT0gbnVsbCAmJiBtc2cuaW5ib3hfc3RhbGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIHdlYiBpbmJveCBzdGFsZVxuICAgICAgICAgIHN0YWxlRGF0YVVwZGF0ZShtc2cuaW5ib3hfc3RhbGUsICd3aScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIF9sb2dnZXIuZXJyb3IoJ1VuYWJsZSB0byBwZXJzaXN0IGV2cnAvYXJwOiAnICsgZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcIik7XG5cbiAgY2xhc3MgVXNlciB7XG4gICAgY29uc3RydWN0b3IoX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMilbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDJdID0gaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG4gICAgfVxuXG4gICAgZ2V0VG90YWxWaXNpdHMoKSB7XG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMilbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDJdKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgdmlzaXRDb3VudCA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdzYycpO1xuXG4gICAgICBpZiAodmlzaXRDb3VudCA9PSBudWxsKSB7XG4gICAgICAgIHZpc2l0Q291bnQgPSAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmlzaXRDb3VudDtcbiAgICB9XG5cbiAgICBnZXRMYXN0VmlzaXQoKSB7XG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMilbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDJdKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcmV2U2Vzc2lvbiA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdwcycpO1xuXG4gICAgICBpZiAocHJldlNlc3Npb24gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUocHJldlNlc3Npb24gKiAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIGNvbnN0IGxvZ0xldmVscyA9IHtcbiAgICBESVNBQkxFOiAwLFxuICAgIEVSUk9SOiAxLFxuICAgIElORk86IDIsXG4gICAgREVCVUc6IDMsXG4gICAgREVCVUdfUEU6IDRcbiAgfTtcblxuICB2YXIgX2xvZ0xldmVsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dMZXZlbFwiKTtcblxuICB2YXIgX2xvZyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nXCIpO1xuXG4gIHZhciBfaXNMZWdhY3lEZWJ1ZyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNMZWdhY3lEZWJ1Z1wiKTtcblxuICBjbGFzcyBMb2dnZXIge1xuICAgIGNvbnN0cnVjdG9yKGxvZ0xldmVsKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzTGVnYWN5RGVidWcsIHtcbiAgICAgICAgZ2V0OiBfZ2V0X2lzTGVnYWN5RGVidWcsXG4gICAgICAgIHNldDogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nLCB7XG4gICAgICAgIHZhbHVlOiBfbG9nMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ0xldmVsLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMud3pya0Vycm9yID0ge307XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdID0gbG9nTGV2ZWwgPT0gbnVsbCA/IGxvZ0xldmVsIDogbG9nTGV2ZWxzLklORk87XG4gICAgICB0aGlzLnd6cmtFcnJvciA9IHt9O1xuICAgIH1cblxuICAgIGdldCBsb2dMZXZlbCgpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdO1xuICAgIH1cblxuICAgIHNldCBsb2dMZXZlbChsb2dMZXZlbCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dMZXZlbClbX2xvZ0xldmVsXSA9IGxvZ0xldmVsO1xuICAgIH1cblxuICAgIGVycm9yKG1lc3NhZ2UpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdID49IGxvZ0xldmVscy5FUlJPUikge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZylbX2xvZ10oJ2Vycm9yJywgbWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5mbyhtZXNzYWdlKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dMZXZlbClbX2xvZ0xldmVsXSA+PSBsb2dMZXZlbHMuSU5GTykge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZylbX2xvZ10oJ2xvZycsIG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRlYnVnKG1lc3NhZ2UpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdID49IGxvZ0xldmVscy5ERUJVRyB8fCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzTGVnYWN5RGVidWcpW19pc0xlZ2FjeURlYnVnXSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZylbX2xvZ10oJ2RlYnVnJywgbWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVidWdQRShtZXNzYWdlKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dMZXZlbClbX2xvZ0xldmVsXSA+PSBsb2dMZXZlbHMuREVCVUdfUEUpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2cpW19sb2ddKCdkZWJ1Z19wZScsIG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJlcG9ydEVycm9yKGNvZGUsIGRlc2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLnd6cmtFcnJvci5jID0gY29kZTtcbiAgICAgIHRoaXMud3pya0Vycm9yLmQgPSBkZXNjcmlwdGlvbjtcbiAgICAgIHRoaXMuZXJyb3IoXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgXCIpLmNvbmNhdChjb2RlLCBcIjogXCIpLmNvbmNhdChkZXNjcmlwdGlvbikpO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIF9sb2cyID0gZnVuY3Rpb24gX2xvZzIobGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRzID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIGNvbnNvbGVbbGV2ZWxdKFwiQ2xldmVyVGFwIFtcIi5jb25jYXQodHMsIFwiXTogXCIpLmNvbmNhdChtZXNzYWdlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfTtcblxuICB2YXIgX2dldF9pc0xlZ2FjeURlYnVnID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0eXBlb2Ygc2Vzc2lvblN0b3JhZ2UgIT09ICd1bmRlZmluZWQnICYmIHNlc3Npb25TdG9yYWdlLldaUktfRCA9PT0gJyc7XG4gIH07XG5cbiAgdmFyIF9sb2dnZXIkNSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfc2Vzc2lvbklkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXNzaW9uSWRcIik7XG5cbiAgdmFyIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVwiKTtcblxuICBjbGFzcyBTZXNzaW9uTWFuYWdlciB7XG4gICAgLy8gU0NPT0tJRV9OQU1FXG4gICAgY29uc3RydWN0b3IoX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSA9IF9yZWY7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQ1LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2Vzc2lvbklkLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICB0aGlzLmNvb2tpZU5hbWUgPSB2b2lkIDA7XG4gICAgICB0aGlzLnNjb29raWVPYmogPSB2b2lkIDA7XG4gICAgICB0aGlzLnNlc3Npb25JZCA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdjcycpO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNSlbX2xvZ2dlciQ1XSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMylbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDNdID0gaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG4gICAgfVxuXG4gICAgZ2V0IHNlc3Npb25JZCgpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb25JZClbX3Nlc3Npb25JZF07XG4gICAgfVxuXG4gICAgc2V0IHNlc3Npb25JZChzZXNzaW9uSWQpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbklkKVtfc2Vzc2lvbklkXSA9IHNlc3Npb25JZDtcbiAgICB9XG5cbiAgICBnZXRTZXNzaW9uQ29va2llT2JqZWN0KCkge1xuICAgICAgbGV0IHNjb29raWVTdHIgPSBTdG9yYWdlTWFuYWdlci5yZWFkQ29va2llKHRoaXMuY29va2llTmFtZSk7XG4gICAgICBsZXQgb2JqID0ge307XG5cbiAgICAgIGlmIChzY29va2llU3RyICE9IG51bGwpIHtcbiAgICAgICAgLy8gY29udmVydGluZyBiYWNrIHNpbmdsZSBxdW90ZXMgdG8gZG91YmxlIGZvciBKU09OIHBhcnNpbmcgLSBodHRwOi8vd3d3LmlhbmRldmxpbi5jb20vYmxvZy8yMDEyLzA0L2h0bWw1L2Nvb2tpZXMtanNvbi1sb2NhbHN0b3JhZ2UtYW5kLW9wZXJhXG4gICAgICAgIHNjb29raWVTdHIgPSBzY29va2llU3RyLnJlcGxhY2Uoc2luZ2xlUXVvdGVSZWdleCwgJ1wiJyk7XG4gICAgICAgIG9iaiA9IEpTT04ucGFyc2Uoc2Nvb2tpZVN0cik7XG5cbiAgICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgICAgb2JqID0ge307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvYmoudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIHRpbWUgZWxhcHNlZCBzaW5jZSBsYXN0IHJlcXVlc3RcbiAgICAgICAgICAgIGNvbnN0IGxhc3RUaW1lID0gb2JqLnQ7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBnZXROb3coKTtcblxuICAgICAgICAgICAgaWYgKG5vdyAtIGxhc3RUaW1lID4gU0NPT0tJRV9FWFBfVElNRV9JTl9TRUNTICsgNjApIHtcbiAgICAgICAgICAgICAgLy8gYWRkaW5nIDYwIHNlY29uZHMgdG8gY29tcGVuc2F0ZSBmb3IgaW4tam91cm5leSByZXF1ZXN0c1xuICAgICAgICAgICAgICAvLyBpZGVhbGx5IHRoZSBjb29raWUgc2hvdWxkJ3ZlIGRpZWQgYWZ0ZXIgU0NPT0tJRV9FWFBfVElNRV9JTl9TRUNTIGJ1dCBpdCdzIHN0aWxsIGFyb3VuZCBhcyB3ZSBjYW4gcmVhZFxuICAgICAgICAgICAgICAvLyBoZW5jZSB3ZSBzaG91bGRuJ3QgdXNlIGl0LlxuICAgICAgICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5zY29va2llT2JqID0gb2JqO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBzZXRTZXNzaW9uQ29va2llT2JqZWN0KG9iaikge1xuICAgICAgY29uc3Qgb2JqU3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLmNyZWF0ZUJyb2FkQ29va2llKHRoaXMuY29va2llTmFtZSwgb2JqU3RyLCBTQ09PS0lFX0VYUF9USU1FX0lOX1NFQ1MsIGdldEhvc3ROYW1lKCkpO1xuICAgIH1cblxuICAgIG1hbmFnZVNlc3Npb24oc2Vzc2lvbikge1xuICAgICAgLy8gZmlyc3QgdGltZS4gY2hlY2sgaWYgY3VycmVudCBzZXNzaW9uIGlkIGluIGxvY2Fsc3RvcmFnZSBpcyBzYW1lXG4gICAgICAvLyBpZiBub3Qgc2FtZSB0aGVuIHByZXYgPSBjdXJyZW50IGFuZCBjdXJyZW50ID0gdGhpcyBuZXcgc2Vzc2lvblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLnNlc3Npb25JZCA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zZXNzaW9uSWQgIT09IHNlc3Npb24pIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNlc3Npb25JbkxTID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ2NzJyk7IC8vIGlmIHNlc3Npb25JZCBpbiBtZXRhIGlzIHVuZGVmaW5lZCAtIHNldCBjdXJyZW50IHRvIGJvdGhcblxuICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRTZXNzaW9uSW5MUyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgncHMnLCBzZXNzaW9uKTtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnY3MnLCBzZXNzaW9uKTtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnc2MnLCAxKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50U2Vzc2lvbkluTFMgIT09IHNlc3Npb24pIHtcbiAgICAgICAgICAvLyBub3Qgc2FtZSBhcyBzZXNzaW9uIGluIGxvY2FsIHN0b3JhZ2UuIG5ldyBzZXNzaW9uXG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ3BzJywgY3VycmVudFNlc3Npb25JbkxTKTtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnY3MnLCBzZXNzaW9uKTtcbiAgICAgICAgICBsZXQgc2Vzc2lvbkNvdW50ID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ3NjJyk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHNlc3Npb25Db3VudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNlc3Npb25Db3VudCA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ3NjJywgc2Vzc2lvbkNvdW50ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlc3Npb25JZCA9IHNlc3Npb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0VGltZUVsYXBzZWQoKSB7XG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMylbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDNdKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zY29va2llT2JqICE9IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgbG9naWM/XG4gICAgICAgIHRoaXMuc2Nvb2tpZU9iaiA9IHRoaXMuZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzZXNzaW9uU3RhcnQgPSB0aGlzLnNjb29raWVPYmoucztcblxuICAgICAgaWYgKHNlc3Npb25TdGFydCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHRzID0gZ2V0Tm93KCk7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRzIC0gc2Vzc2lvblN0YXJ0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQYWdlQ291bnQoKSB7XG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMylbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDNdKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zY29va2llT2JqICE9IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgbG9naWNcbiAgICAgICAgdGhpcy5zY29va2llT2JqID0gdGhpcy5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnNjb29raWVPYmoucDtcbiAgICB9XG5cbiAgfVxuXG4gIGxldCBzZXFObyA9IDA7XG4gIGxldCByZXF1ZXN0VGltZSA9IDA7XG5cbiAgdmFyIF9sb2dnZXIkNiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfYWNjb3VudCQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY2NvdW50XCIpO1xuXG4gIHZhciBfZGV2aWNlJDIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRldmljZVwiKTtcblxuICB2YXIgX3Nlc3Npb24kMiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2Vzc2lvblwiKTtcblxuICB2YXIgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXCIpO1xuXG4gIHZhciBfY2xlYXJDb29raWUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImNsZWFyQ29va2llXCIpO1xuXG4gIHZhciBfYWRkVG9Mb2NhbEV2ZW50TWFwID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhZGRUb0xvY2FsRXZlbnRNYXBcIik7XG5cbiAgY2xhc3MgUmVxdWVzdE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgZGV2aWNlLFxuICAgICAgICBzZXNzaW9uLFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSA9IF9yZWY7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FkZFRvTG9jYWxFdmVudE1hcCwge1xuICAgICAgICB2YWx1ZTogX2FkZFRvTG9jYWxFdmVudE1hcDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkNiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnQkMiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RldmljZSQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2Vzc2lvbiQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkNCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2NsZWFyQ29va2llLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wcm9jZXNzaW5nQmFja3VwID0gZmFsc2U7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdID0gYWNjb3VudDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDIpW19kZXZpY2UkMl0gPSBkZXZpY2U7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMilbX3Nlc3Npb24kMl0gPSBzZXNzaW9uO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0KVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkNF0gPSBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTtcbiAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmRldmljZSA9IGRldmljZTtcbiAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmFjY291bnQgPSBhY2NvdW50O1xuICAgIH1cblxuICAgIHByb2Nlc3NCYWNrdXBFdmVudHMoKSB7XG4gICAgICBjb25zdCBiYWNrdXBNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoTENPT0tJRV9OQU1FKTtcblxuICAgICAgaWYgKHR5cGVvZiBiYWNrdXBNYXAgPT09ICd1bmRlZmluZWQnIHx8IGJhY2t1cE1hcCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvY2Vzc2luZ0JhY2t1cCA9IHRydWU7XG5cbiAgICAgIGZvciAoY29uc3QgaWR4IGluIGJhY2t1cE1hcCkge1xuICAgICAgICBpZiAoYmFja3VwTWFwLmhhc093blByb3BlcnR5KGlkeCkpIHtcbiAgICAgICAgICBjb25zdCBiYWNrdXBFdmVudCA9IGJhY2t1cE1hcFtpZHhdO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBiYWNrdXBFdmVudC5maXJlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0uZGVidWcoJ1Byb2Nlc3NpbmcgYmFja3VwIGV2ZW50IDogJyArIGJhY2t1cEV2ZW50LnEpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJhY2t1cEV2ZW50LnEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmZpcmVSZXF1ZXN0KGJhY2t1cEV2ZW50LnEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYWNrdXBFdmVudC5maXJlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoTENPT0tJRV9OQU1FLCBiYWNrdXBNYXApO1xuICAgICAgdGhpcy5wcm9jZXNzaW5nQmFja3VwID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGFPYmplY3QsIGlnbm9yZVRyaW0pIHtcbiAgICAgIC8vIGlnbm9yZSB0cmltIGZvciBjaHJvbWUgbm90aWZpY2F0aW9uczsgdW5kZWZpbmVkIGV2ZXJ5d2hlcmUgZWxzZVxuICAgICAgaWYgKHR5cGVvZiBpZ25vcmVUcmltID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkYXRhT2JqZWN0ID0gcmVtb3ZlVW5zdXBwb3J0ZWRDaGFycyhkYXRhT2JqZWN0LCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc09iamVjdEVtcHR5KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0ud3pya0Vycm9yKSkge1xuICAgICAgICBkYXRhT2JqZWN0Lnd6cmtfZXJyb3IgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLnd6cmtFcnJvcjtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XS53enJrRXJyb3IgPSB7fTtcbiAgICAgIH1cblxuICAgICAgZGF0YU9iamVjdC5pZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQyKVtfYWNjb3VudCQyXS5pZDtcblxuICAgICAgaWYgKGlzVmFsdWVWYWxpZChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQyKVtfZGV2aWNlJDJdLmdjb29raWUpKSB7XG4gICAgICAgIGRhdGFPYmplY3QuZyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDIpW19kZXZpY2UkMl0uZ2Nvb2tpZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2JqID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDIpW19zZXNzaW9uJDJdLmdldFNlc3Npb25Db29raWVPYmplY3QoKTtcblxuICAgICAgZGF0YU9iamVjdC5zID0gb2JqLnM7IC8vIHNlc3Npb24gY29va2llXG5cbiAgICAgIGRhdGFPYmplY3QucGcgPSB0eXBlb2Ygb2JqLnAgPT09ICd1bmRlZmluZWQnID8gMSA6IG9iai5wOyAvLyBQYWdlIGNvdW50XG5cbiAgICAgIGxldCBwcm90byA9IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgcHJvdG8gPSBwcm90by5yZXBsYWNlKCc6JywgJycpO1xuICAgICAgZGF0YU9iamVjdC5hZiA9IHsgLi4uZGF0YU9iamVjdC5hZixcbiAgICAgICAgbGliOiAnd2ViLXNkay12MS45LjInLFxuICAgICAgICBwcm90b2NvbDogcHJvdG8sXG4gICAgICAgIC4uLiRjdC5mbHV0dGVyVmVyc2lvblxuICAgICAgfTsgLy8gYXBwIGZpZWxkc1xuXG4gICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuaGFzT3duUHJvcGVydHkoJ1daUktfRCcpKSB7XG4gICAgICAgIGRhdGFPYmplY3QuZGVidWcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YU9iamVjdDtcbiAgICB9XG5cbiAgICBhZGRGbGFncyhkYXRhKSB7XG4gICAgICAvLyBjaGVjayBpZiBjb29raWUgc2hvdWxkIGJlIGNsZWFyZWQuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NsZWFyQ29va2llKVtfY2xlYXJDb29raWVdID0gU3RvcmFnZU1hbmFnZXIuZ2V0QW5kQ2xlYXJNZXRhUHJvcChDTEVBUik7XG5cbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NsZWFyQ29va2llKVtfY2xlYXJDb29raWVdICE9PSB1bmRlZmluZWQgJiYgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGVhckNvb2tpZSlbX2NsZWFyQ29va2llXSkge1xuICAgICAgICBkYXRhLnJjID0gdHJ1ZTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLmRlYnVnKCdyZXNldCBjb29raWUgc2VudCBpbiByZXF1ZXN0IGFuZCBjbGVhcmVkIGZyb20gbWV0YSBmb3IgZnV0dXJlIHJlcXVlc3RzLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0KVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkNF0oKSkge1xuICAgICAgICBjb25zdCBsYXN0U3luY1RpbWUgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnbHNUaW1lJyk7XG4gICAgICAgIGNvbnN0IGV4cGlyeVNlY29uZHMgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnZXhUcycpOyAvLyBkc3luYyBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZSAtIGdldCBkYXRhIGZyb20gc2VydmVyXG5cbiAgICAgICAgaWYgKHR5cGVvZiBsYXN0U3luY1RpbWUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBleHBpcnlTZWNvbmRzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGRhdGEuZHN5bmMgPSB0cnVlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5vdyA9IGdldE5vdygpOyAvLyBsYXN0IHN5bmMgdGltZSBoYXMgZXhwaXJlZCAtIGdldCBmcmVzaCBkYXRhIGZyb20gc2VydmVyXG5cbiAgICAgICAgaWYgKGxhc3RTeW5jVGltZSArIGV4cGlyeVNlY29uZHMgPCBub3cpIHtcbiAgICAgICAgICBkYXRhLmRzeW5jID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gc2F2ZXMgdXJsIHRvIGJhY2t1cCBjYWNoZSBhbmQgZmlyZXMgdGhlIHJlcXVlc3RcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcnJpZGUgd2hldGhlciB0aGUgcmVxdWVzdCBjYW4gZ28gdGhyb3VnaCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNlbmRPVUxGbGFnIC0gdHJ1ZSBpbiBjYXNlIG9mIGEgT24gVXNlciBMb2dpbiByZXF1ZXN0XG4gICAgICovXG5cblxuICAgIHNhdmVBbmRGaXJlUmVxdWVzdCh1cmwsIG92ZXJyaWRlLCBzZW5kT1VMRmxhZywgZXZ0TmFtZSkge1xuICAgICAgY29uc3Qgbm93ID0gZ2V0Tm93KCk7XG4gICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdybicsICsrJGN0Lmdsb2JhbENhY2hlLlJFUV9OKTtcbiAgICAgIGNvbnN0IGRhdGEgPSB1cmwgKyAnJmk9JyArIG5vdyArICcmc249JyArIHNlcU5vO1xuICAgICAgU3RvcmFnZU1hbmFnZXIuYmFja3VwRXZlbnQoZGF0YSwgJGN0Lmdsb2JhbENhY2hlLlJFUV9OLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdKTsgLy8gaWYgb2ZmbGluZSBpcyBzZXQgdG8gdHJ1ZSwgc2F2ZSB0aGUgcmVxdWVzdCBpbiBiYWNrdXAgYW5kIHJldHVyblxuXG4gICAgICBpZiAoJGN0Lm9mZmxpbmUpIHJldHVybjsgLy8gaWYgdGhlcmUgaXMgbm8gb3ZlcnJpZGVcbiAgICAgIC8vIGFuZCBhbiBPVUwgcmVxdWVzdCBpcyBub3QgaW4gcHJvZ3Jlc3NcbiAgICAgIC8vIHRoZW4gcHJvY2VzcyB0aGUgcmVxdWVzdCBhcyBpdCBpc1xuICAgICAgLy8gZWxzZSBibG9jayB0aGUgcmVxdWVzdFxuICAgICAgLy8gbm90ZSAtICRjdC5ibG9ja1JlcXVlc3Qgc2hvdWxkIGlkZWFsbHkgYmUgdXNlZCBmb3Igb3ZlcnJpZGVcblxuICAgICAgaWYgKCghb3ZlcnJpZGUgfHwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGVhckNvb2tpZSlbX2NsZWFyQ29va2llXSAhPT0gdW5kZWZpbmVkICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xlYXJDb29raWUpW19jbGVhckNvb2tpZV0pICYmICF3aW5kb3cuaXNPVUxJblByb2dyZXNzKSB7XG4gICAgICAgIGlmIChub3cgPT09IHJlcXVlc3RUaW1lKSB7XG4gICAgICAgICAgc2VxTm8rKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXF1ZXN0VGltZSA9IG5vdztcbiAgICAgICAgICBzZXFObyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cub3VsUmVxTiA9ICRjdC5nbG9iYWxDYWNoZS5SRVFfTjtcbiAgICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZmlyZVJlcXVlc3QoZGF0YSwgZmFsc2UsIHNlbmRPVUxGbGFnLCBldnROYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0uZGVidWcoXCJOb3QgZmlyZWQgZHVlIHRvIG92ZXJyaWRlIC0gXCIuY29uY2F0KCRjdC5ibG9ja1JlcXVlc3QsIFwiIG9yIGNsZWFyQ29va2llIC0gXCIpLmNvbmNhdChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NsZWFyQ29va2llKVtfY2xlYXJDb29raWVdLCBcIiBvciBPVUwgcmVxdWVzdCBpbiBwcm9ncmVzcyAtIFwiKS5jb25jYXQod2luZG93LmlzT1VMSW5Qcm9ncmVzcykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHVucmVnaXN0ZXJUb2tlbkZvckd1aWQoZ2l2ZW5HVUlEKSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFBVU0hfU1VCU0NSSVBUSU9OX0RBVEEpOyAvLyBTZW5kIHVucmVnaXN0ZXIgZXZlbnQgb25seSB3aGVuIHRva2VuIGlzIGF2YWlsYWJsZVxuXG4gICAgICBpZiAocGF5bG9hZCkge1xuICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgIGRhdGEudHlwZSA9ICdkYXRhJztcblxuICAgICAgICBpZiAoaXNWYWx1ZVZhbGlkKGdpdmVuR1VJRCkpIHtcbiAgICAgICAgICBkYXRhLmcgPSBnaXZlbkdVSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLmFjdGlvbiA9ICd1bnJlZ2lzdGVyJztcbiAgICAgICAgZGF0YS5pZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQyKVtfYWNjb3VudCQyXS5pZDtcblxuICAgICAgICBjb25zdCBvYmogPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMilbX3Nlc3Npb24kMl0uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuXG4gICAgICAgIGRhdGEucyA9IG9iai5zOyAvLyBzZXNzaW9uIGNvb2tpZVxuXG4gICAgICAgIGNvbnN0IGNvbXByZXNzZWREYXRhID0gY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdKTtcblxuICAgICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMilbX2FjY291bnQkMl0uZGF0YVBvc3RVUkw7XG5cbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCAnZGF0YScpO1xuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcbiAgICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsIHRydWUpO1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQsIGZhbHNlKTtcbiAgICAgIH0gLy8gUkVHSVNURVIgVE9LRU5cblxuXG4gICAgICB0aGlzLnJlZ2lzdGVyVG9rZW4ocGF5bG9hZCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJUb2tlbihwYXlsb2FkKSB7XG4gICAgICBpZiAoIXBheWxvYWQpIHJldHVybjsgLy8gYWRkIGdjb29raWUgZXRjIHRvIHRoZSBwYXlsb2FkXG5cbiAgICAgIHBheWxvYWQgPSB0aGlzLmFkZFN5c3RlbURhdGFUb09iamVjdChwYXlsb2FkLCB0cnVlKTtcbiAgICAgIHBheWxvYWQgPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkKTtcblxuICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdLmRhdGFQb3N0VVJMO1xuXG4gICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsICdkYXRhJyk7XG4gICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzRGF0YShwYXlsb2FkLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdKSk7XG4gICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChwYWdlTG9hZFVybCk7IC8vIHNldCBpbiBsb2NhbHN0b3JhZ2VcblxuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZShXRUJQVVNIX0xTX0tFWSwgJ29rJyk7XG4gICAgfVxuXG4gICAgcHJvY2Vzc0V2ZW50KGRhdGEpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWRkVG9Mb2NhbEV2ZW50TWFwKVtfYWRkVG9Mb2NhbEV2ZW50TWFwXShkYXRhLmV2dE5hbWUpO1xuXG4gICAgICBkYXRhID0gdGhpcy5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcbiAgICAgIHRoaXMuYWRkRmxhZ3MoZGF0YSk7XG4gICAgICBkYXRhW0NBTVBfQ09PS0lFX05BTUVdID0gZ2V0Q2FtcGFpZ25PYmpGb3JMYygpO1xuICAgICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0pO1xuXG4gICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMilbX2FjY291bnQkMl0uZGF0YVBvc3RVUkw7XG5cbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BVU0gpO1xuICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7XG4gICAgICB0aGlzLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCwgZmFsc2UsIGRhdGEuZXZ0TmFtZSk7XG4gICAgfVxuXG4gICAgcG9zdCh1cmwsIGJvZHkpIHtcbiAgICAgIHJldHVybiBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IGJvZHlcbiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLmRlYnVnKCdTeW5jIGRhdGEgc3VjY2Vzc2Z1bCcsIGRhdGEpO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0uZGVidWcoJ0Vycm9yIGluIHN5bmNpbmcgdmFyaWFibGVzJywgZSk7XG5cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIF9hZGRUb0xvY2FsRXZlbnRNYXAyID0gZnVuY3Rpb24gX2FkZFRvTG9jYWxFdmVudE1hcDIoZXZ0TmFtZSkge1xuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgaWYgKHR5cGVvZiAkY3QuZ2xvYmFsRXZlbnRzTWFwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEVWX0NPT0tJRSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiAkY3QuZ2xvYmFsRXZlbnRzTWFwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXAgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBub3dUcyA9IGdldE5vdygpO1xuICAgICAgbGV0IGV2dERldGFpbCA9ICRjdC5nbG9iYWxFdmVudHNNYXBbZXZ0TmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2YgZXZ0RGV0YWlsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBldnREZXRhaWxbMl0gPSBub3dUcztcbiAgICAgICAgZXZ0RGV0YWlsWzBdKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBldnREZXRhaWwgPSBbXTtcbiAgICAgICAgZXZ0RGV0YWlsLnB1c2goMSk7XG4gICAgICAgIGV2dERldGFpbC5wdXNoKG5vd1RzKTtcbiAgICAgICAgZXZ0RGV0YWlsLnB1c2gobm93VHMpO1xuICAgICAgfVxuXG4gICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwW2V2dE5hbWVdID0gZXZ0RGV0YWlsO1xuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShFVl9DT09LSUUsICRjdC5nbG9iYWxFdmVudHNNYXApO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3JlcXVlc3QkNCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2FjY291bnQkMyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX29sZFZhbHVlcyQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJvbGRWYWx1ZXNcIik7XG5cbiAgdmFyIF9sb2dnZXIkNyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfcHJvY2Vzc1ByaXZhY3lBcnJheSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicHJvY2Vzc1ByaXZhY3lBcnJheVwiKTtcblxuICBjbGFzcyBQcml2YWN5IGV4dGVuZHMgQXJyYXkge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYsIHZhbHVlcykge1xuICAgICAgbGV0IHtcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgbG9nZ2VyXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIHN1cGVyKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Byb2Nlc3NQcml2YWN5QXJyYXksIHtcbiAgICAgICAgdmFsdWU6IF9wcm9jZXNzUHJpdmFjeUFycmF5MlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QkNCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnQkMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29sZFZhbHVlcyQzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDcsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNylbX2xvZ2dlciQ3XSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ0KVtfcmVxdWVzdCQ0XSA9IHJlcXVlc3Q7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMylbX2FjY291bnQkM10gPSBhY2NvdW50O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMylbX29sZFZhbHVlcyQzXSA9IHZhbHVlcztcbiAgICB9XG5cbiAgICBwdXNoKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByaXZhY3lBcnIgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHByaXZhY3lBcnJbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3QuaXNQcml2YWN5QXJyUHVzaGVkKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc1ByaXZhY3lBcnJheSlbX3Byb2Nlc3NQcml2YWN5QXJyYXldKCRjdC5wcml2YWN5QXJyYXkubGVuZ3RoID4gMCA/ICRjdC5wcml2YWN5QXJyYXkgOiBwcml2YWN5QXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRjdC5wcml2YWN5QXJyYXkucHVzaCguLi5wcml2YWN5QXJyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMylbX29sZFZhbHVlcyQzXSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NQcml2YWN5QXJyYXkpW19wcm9jZXNzUHJpdmFjeUFycmF5XShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQzKVtfb2xkVmFsdWVzJDNdKTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMylbX29sZFZhbHVlcyQzXSA9IG51bGw7XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX3Byb2Nlc3NQcml2YWN5QXJyYXkyID0gZnVuY3Rpb24gX3Byb2Nlc3NQcml2YWN5QXJyYXkyKHByaXZhY3lBcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcml2YWN5QXJyKSAmJiBwcml2YWN5QXJyLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHByaXZhY3lPYmogPSBwcml2YWN5QXJyLnJlZHVjZSgocHJldiwgY3VycikgPT4gKHsgLi4ucHJldixcbiAgICAgICAgLi4uY3VyclxuICAgICAgfSksIHt9KTtcbiAgICAgIGxldCBkYXRhID0ge307XG4gICAgICBjb25zdCBwcm9maWxlT2JqID0ge307XG4gICAgICB2YXIgb3B0T3V0ID0gZmFsc2U7XG5cbiAgICAgIGlmIChwcml2YWN5T2JqLmhhc093blByb3BlcnR5KE9QVE9VVF9LRVkpKSB7XG4gICAgICAgIG9wdE91dCA9IHByaXZhY3lPYmpbT1BUT1VUX0tFWV07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRPdXQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIHByb2ZpbGVPYmpbQ1RfT1BUT1VUX0tFWV0gPSBvcHRPdXQ7IC8vIHNob3VsZCBiZSB0cnVlIHdoZW4gdXNlciB3YW50cyB0byBvcHQgaW5cblxuICAgICAgICAgICRjdC5pc09wdEluUmVxdWVzdCA9ICFvcHRPdXQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByaXZhY3lPYmouaGFzT3duUHJvcGVydHkoVVNFSVBfS0VZKSkge1xuICAgICAgICBjb25zdCB1c2VJUCA9IHByaXZhY3lPYmpbVVNFSVBfS0VZXTtcbiAgICAgICAgY29uc3Qgc2hvdWxkVXNlSVAgPSB0eXBlb2YgdXNlSVAgPT09ICdib29sZWFuJyA/IHVzZUlQIDogZmFsc2U7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKFVTRUlQX0tFWSwgc2hvdWxkVXNlSVApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzT2JqZWN0RW1wdHkocHJvZmlsZU9iaikpIHtcbiAgICAgICAgZGF0YS50eXBlID0gJ3Byb2ZpbGUnO1xuICAgICAgICBkYXRhLnByb2ZpbGUgPSBwcm9maWxlT2JqO1xuICAgICAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDQpW19yZXF1ZXN0JDRdLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuICAgICAgICBjb25zdCBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNylbX2xvZ2dlciQ3XSk7XG5cbiAgICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDMpW19hY2NvdW50JDNdLmRhdGFQb3N0VVJMO1xuXG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BVU0gpO1xuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgT1BUT1VUX0tFWSwgb3B0T3V0ID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDQpW19yZXF1ZXN0JDRdLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG5cbiAgICAgICAgcHJpdmFjeUFyci5zcGxpY2UoMCwgcHJpdmFjeUFyci5sZW5ndGgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgX29sZFZhbHVlcyQ0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJvbGRWYWx1ZXNcIik7XG5cbiAgdmFyIF9sb2dnZXIkOCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfcmVxdWVzdCQ1ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfYWNjb3VudCQ0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY2NvdW50XCIpO1xuXG4gIHZhciBfd2l6QWxlcnRKU1BhdGggPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIndpekFsZXJ0SlNQYXRoXCIpO1xuXG4gIHZhciBfZmNtUHVibGljS2V5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJmY21QdWJsaWNLZXlcIik7XG5cbiAgdmFyIF9zZXRVcFdlYlB1c2ggPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNldFVwV2ViUHVzaFwiKTtcblxuICB2YXIgX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnNcIik7XG5cbiAgdmFyIF9zZXRBcHBsaWNhdGlvblNlcnZlcktleSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0QXBwbGljYXRpb25TZXJ2ZXJLZXlcIik7XG5cbiAgdmFyIF9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNldFVwU2FmYXJpTm90aWZpY2F0aW9uc1wiKTtcblxuICB2YXIgX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnNcIik7XG5cbiAgdmFyIF9hZGRXaXpBbGVydEpTID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhZGRXaXpBbGVydEpTXCIpO1xuXG4gIHZhciBfcmVtb3ZlV2l6QWxlcnRKUyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVtb3ZlV2l6QWxlcnRKU1wiKTtcblxuICB2YXIgX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uXCIpO1xuXG4gIGNsYXNzIE5vdGlmaWNhdGlvbkhhbmRsZXIgZXh0ZW5kcyBBcnJheSB7XG4gICAgY29uc3RydWN0b3IoX3JlZiwgdmFsdWVzKSB7XG4gICAgICBsZXQge1xuICAgICAgICBsb2dnZXIsXG4gICAgICAgIHNlc3Npb24sXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGFjY291bnRcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgc3VwZXIoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uLCB7XG4gICAgICAgIHZhbHVlOiBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlbW92ZVdpekFsZXJ0SlMsIHtcbiAgICAgICAgdmFsdWU6IF9yZW1vdmVXaXpBbGVydEpTMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FkZFdpekFsZXJ0SlMsIHtcbiAgICAgICAgdmFsdWU6IF9hZGRXaXpBbGVydEpTMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMsIHtcbiAgICAgICAgdmFsdWU6IF9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3NldFVwU2FmYXJpTm90aWZpY2F0aW9ucywge1xuICAgICAgICB2YWx1ZTogX3NldFVwU2FmYXJpTm90aWZpY2F0aW9uczJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXRBcHBsaWNhdGlvblNlcnZlcktleSwge1xuICAgICAgICB2YWx1ZTogX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5MlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMsIHtcbiAgICAgICAgdmFsdWU6IF9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3NldFVwV2ViUHVzaCwge1xuICAgICAgICB2YWx1ZTogX3NldFVwV2ViUHVzaDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vbGRWYWx1ZXMkNCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQ4LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdCQ1LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWNjb3VudCQ0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfd2l6QWxlcnRKU1BhdGgsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9mY21QdWJsaWNLZXksIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF93aXpBbGVydEpTUGF0aClbX3dpekFsZXJ0SlNQYXRoXSA9ICdodHRwczovL2QycjF5cDJ3N2JieTJ1LmNsb3VkZnJvbnQubmV0L2pzL3d6cmtfZGlhbG9nLm1pbi5qcyc7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZjbVB1YmxpY0tleSlbX2ZjbVB1YmxpY0tleV0gPSBudWxsO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkNClbX29sZFZhbHVlcyQ0XSA9IHZhbHVlcztcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNSlbX3JlcXVlc3QkNV0gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDQpW19hY2NvdW50JDRdID0gYWNjb3VudDtcbiAgICB9XG5cbiAgICBwdXNoKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRpc3BsYXlBcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBkaXNwbGF5QXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXRVcFdlYlB1c2gpW19zZXRVcFdlYlB1c2hdKGRpc3BsYXlBcmdzKTtcblxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkNClbX29sZFZhbHVlcyQ0XSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFVwV2ViUHVzaClbX3NldFVwV2ViUHVzaF0oX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkNClbX29sZFZhbHVlcyQ0XSk7XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDQpW19vbGRWYWx1ZXMkNF0gPSBudWxsO1xuICAgIH1cblxuICAgIF9lbmFibGVXZWJQdXNoKGVuYWJsZWQsIGFwcGxpY2F0aW9uU2VydmVyS2V5KSB7XG4gICAgICAkY3Qud2ViUHVzaEVuYWJsZWQgPSBlbmFibGVkO1xuXG4gICAgICBpZiAoYXBwbGljYXRpb25TZXJ2ZXJLZXkgIT0gbnVsbCkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5KVtfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXldKGFwcGxpY2F0aW9uU2VydmVyS2V5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRjdC53ZWJQdXNoRW5hYmxlZCAmJiAkY3Qubm90aWZBcGkubm90aWZFbmFibGVkRnJvbUFwaSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbilbX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbl0oJGN0Lm5vdGlmQXBpLmRpc3BsYXlBcmdzKTtcbiAgICAgIH0gZWxzZSBpZiAoISRjdC53ZWJQdXNoRW5hYmxlZCAmJiAkY3Qubm90aWZBcGkubm90aWZFbmFibGVkRnJvbUFwaSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdFbnN1cmUgdGhhdCB3ZWIgcHVzaCBub3RpZmljYXRpb25zIGFyZSBmdWxseSBlbmFibGVkIGFuZCBpbnRlZ3JhdGVkIGJlZm9yZSByZXF1ZXN0aW5nIHRoZW0nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfc2V0VXBXZWJQdXNoMiA9IGZ1bmN0aW9uIF9zZXRVcFdlYlB1c2gyKGRpc3BsYXlBcmdzKSB7XG4gICAgaWYgKCRjdC53ZWJQdXNoRW5hYmxlZCAmJiBkaXNwbGF5QXJncy5sZW5ndGggPiAwKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbilbX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbl0oZGlzcGxheUFyZ3MpO1xuICAgIH0gZWxzZSBpZiAoJGN0LndlYlB1c2hFbmFibGVkID09IG51bGwgJiYgZGlzcGxheUFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgJGN0Lm5vdGlmQXBpLm5vdGlmRW5hYmxlZEZyb21BcGkgPSB0cnVlO1xuICAgICAgJGN0Lm5vdGlmQXBpLmRpc3BsYXlBcmdzID0gZGlzcGxheUFyZ3Muc2xpY2UoKTtcbiAgICB9IGVsc2UgaWYgKCRjdC53ZWJQdXNoRW5hYmxlZCA9PT0gZmFsc2UgJiYgZGlzcGxheUFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignTWFrZSBzdXJlIHB1c2ggbm90aWZpY2F0aW9ucyBhcmUgZnVsbHkgZW5hYmxlZCBhbmQgaW50ZWdyYXRlZCcpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMyID0gZnVuY3Rpb24gX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMyKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBzZXJ2aWNlV29ya2VyUGF0aCwgYXBuc1dlYlB1c2hJZCwgYXBuc1NlcnZpY2VVcmwpIHtcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSAhPT0gLTEgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgIT09IC0xKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMpW19zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zXShzdWJzY3JpcHRpb25DYWxsYmFjaywgc2VydmljZVdvcmtlclBhdGgpO1xuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdTYWZhcmknKSAhPT0gLTEpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zKVtfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zXShzdWJzY3JpcHRpb25DYWxsYmFjaywgYXBuc1dlYlB1c2hJZCwgYXBuc1NlcnZpY2VVcmwpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5MiA9IGZ1bmN0aW9uIF9zZXRBcHBsaWNhdGlvblNlcnZlcktleTIoYXBwbGljYXRpb25TZXJ2ZXJLZXkpIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZjbVB1YmxpY0tleSlbX2ZjbVB1YmxpY0tleV0gPSBhcHBsaWNhdGlvblNlcnZlcktleTtcbiAgfTtcblxuICB2YXIgX3NldFVwU2FmYXJpTm90aWZpY2F0aW9uczIgPSBmdW5jdGlvbiBfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zMihzdWJzY3JpcHRpb25DYWxsYmFjaywgYXBuc1dlYlB1c2hJZCwgYXBuc1NlcnZpY2VVcmwpIHtcbiAgICAvLyBlbnN1cmUgdGhhdCBwcm9wZXIgYXJndW1lbnRzIGFyZSBwYXNzZWRcbiAgICBpZiAodHlwZW9mIGFwbnNXZWJQdXNoSWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdFbnN1cmUgdGhhdCBBUE5TIFdlYiBQdXNoIElEIGlzIHN1cHBsaWVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhcG5zU2VydmljZVVybCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ0Vuc3VyZSB0aGF0IEFQTlMgV2ViIFB1c2ggc2VydmljZSBwYXRoIGlzIHN1cHBsaWVkJyk7XG4gICAgfVxuXG4gICAgaWYgKCdzYWZhcmknIGluIHdpbmRvdyAmJiAncHVzaE5vdGlmaWNhdGlvbicgaW4gd2luZG93LnNhZmFyaSkge1xuICAgICAgd2luZG93LnNhZmFyaS5wdXNoTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKGFwbnNTZXJ2aWNlVXJsLCBhcG5zV2ViUHVzaElkLCB7fSwgc3Vic2NyaXB0aW9uID0+IHtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5wZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcbiAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25EYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdWJzY3JpcHRpb24pKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb25EYXRhLmVuZHBvaW50ID0gc3Vic2NyaXB0aW9uLmRldmljZVRva2VuO1xuICAgICAgICAgIHN1YnNjcmlwdGlvbkRhdGEuYnJvd3NlciA9ICdTYWZhcmknO1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFVTSF9TVUJTQ1JJUFRJT05fREFUQSwgc3Vic2NyaXB0aW9uRGF0YSk7XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNSlbX3JlcXVlc3QkNV0ucmVnaXN0ZXJUb2tlbihzdWJzY3JpcHRpb25EYXRhKTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uaW5mbygnU2FmYXJpIFdlYiBQdXNoIHJlZ2lzdGVyZWQuIERldmljZSBUb2tlbjogJyArIHN1YnNjcmlwdGlvbi5kZXZpY2VUb2tlbik7XG4gICAgICAgIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uLnBlcm1pc3Npb24gPT09ICdkZW5pZWQnKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5pbmZvKCdFcnJvciBzdWJzY3JpYmluZyB0byBTYWZhcmkgd2ViIHB1c2gnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9uczIgPSBmdW5jdGlvbiBfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9uczIoc3Vic2NyaXB0aW9uQ2FsbGJhY2ssIHNlcnZpY2VXb3JrZXJQYXRoKSB7XG4gICAgbGV0IHJlZ2lzdHJhdGlvblNjb3BlID0gJyc7XG5cbiAgICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc2VydmljZVdvcmtlclBhdGgpLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBfX3d6cmtfYWNjb3VudF9pZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgLy8gc2hvcGlmeSBhY2NvdW50cyAsIHNpbmNlIHRoZSBzZXJ2aWNlIHdvcmtlciBpcyBub3QgYXQgcm9vdCwgc2VydmljZVdvcmtlci5yZWFkeSBpcyBuZXZlciByZXNvbHZlZC5cbiAgICAgICAgICAvLyBoZW5jZSBhZGQgYSB0aW1lb3V0IGFuZCBob3BlIHNlcnZpY2VXcm9rZXIgaXMgcmVhZHkgd2l0aGluIHRoYXQgdGltZS5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUocmVnaXN0cmF0aW9uKSwgNTAwMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0cmF0aW9uU2NvcGUgPSByZWdpc3RyYXRpb24uc2NvcGU7IC8vIElGIFNFUlZJQ0UgV09SS0VSIElTIEFUIFJPT1QsIFJFVFVSTiBUSEUgUkVBRFkgUFJPTUlTRVxuICAgICAgICAvLyBFTFNFIElGIENIUk9NRSBSRVRVUk4gUFJPTUlTRSBBRlRFUiA1IFNFQ09ORFNcbiAgICAgICAgLy8gT1IgZ2V0UmVnaXN0cmF0aW9ucyBQUk9NSVNFIElGIElUUyBGSVJFRk9YXG5cbiAgICAgICAgY29uc3Qgcm9vdERpclJlZ2V4ID0gL14oXFwuPykoXFwvPykoW14vXSopLmpzJC87XG4gICAgICAgIGNvbnN0IGlzU2VydmljZVdvcmtlckF0Um9vdCA9IHJvb3REaXJSZWdleC50ZXN0KHNlcnZpY2VXb3JrZXJQYXRoKTtcblxuICAgICAgICBpZiAoaXNTZXJ2aWNlV29ya2VyQXRSb290KSB7XG4gICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHJlZ2lzdHJhdGlvbiksIDUwMDApKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9PiB7XG4gICAgICAgIC8vIElUUyBBTiBBUlJBWSBJTiBDQVNFIE9GIEZJUkVGT1gsIFNPIFVTRSBUSEUgUkVHSVNUUkFUSU9OIFdJVEggUFJPUEVSIFNDT1BFXG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTEgJiYgQXJyYXkuaXNBcnJheShzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSkge1xuICAgICAgICAgIHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLmZpbHRlcihpID0+IGkuc2NvcGUgPT09IHJlZ2lzdHJhdGlvblNjb3BlKVswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN1YnNjcmliZU9iaiA9IHtcbiAgICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9mY21QdWJsaWNLZXkpW19mY21QdWJsaWNLZXldICE9IG51bGwpIHtcbiAgICAgICAgICBzdWJzY3JpYmVPYmouYXBwbGljYXRpb25TZXJ2ZXJLZXkgPSB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9mY21QdWJsaWNLZXkpW19mY21QdWJsaWNLZXldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHN1YnNjcmliZU9iaikudGhlbihzdWJzY3JpcHRpb24gPT4ge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uaW5mbygnU2VydmljZSBXb3JrZXIgcmVnaXN0ZXJlZC4gRW5kcG9pbnQ6ICcgKyBzdWJzY3JpcHRpb24uZW5kcG9pbnQpOyAvLyBjb252ZXJ0IHRoZSBzdWJzY3JpcHRpb24ga2V5cyB0byBzdHJpbmdzOyB0aGlzIHNldHMgaXQgdXAgbmljZWx5IGZvciBwdXNoaW5nIHRvIExDXG5cblxuICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbkRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN1YnNjcmlwdGlvbikpOyAvLyByZW1vdmUgdGhlIGNvbW1vbiBjaHJvbWUvZmlyZWZveCBlbmRwb2ludCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSB0b2tlblxuXG4gICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgIT09IC0xKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25EYXRhLmVuZHBvaW50ID0gc3Vic2NyaXB0aW9uRGF0YS5lbmRwb2ludC5zcGxpdCgnLycpLnBvcCgpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uRGF0YS5icm93c2VyID0gJ0Nocm9tZSc7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkRhdGEuZW5kcG9pbnQgPSBzdWJzY3JpcHRpb25EYXRhLmVuZHBvaW50LnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25EYXRhLmJyb3dzZXIgPSAnRmlyZWZveCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQVVNIX1NVQlNDUklQVElPTl9EQVRBLCBzdWJzY3JpcHRpb25EYXRhKTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ1KVtfcmVxdWVzdCQ1XS5yZWdpc3RlclRva2VuKHN1YnNjcmlwdGlvbkRhdGEpO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBzdWJzY3JpcHRpb25DYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHN1YnNjcmlwdGlvbkNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25DYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ0Vycm9yIHN1YnNjcmliaW5nOiAnICsgZXJyb3IpOyAvLyB1bnN1YnNjcmliZSBmcm9tIHdlYnB1c2ggaWYgZXJyb3JcblxuXG4gICAgICAgICAgc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKS50aGVuKHN1YnNjcmlwdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLnRoZW4oc3VjY2Vzc2Z1bCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gWW91J3ZlIHN1Y2Nlc3NmdWxseSB1bnN1YnNjcmliZWRcbiAgICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmluZm8oJ1Vuc3Vic2NyaXB0aW9uIHN1Y2Nlc3NmdWwnKTtcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVW5zdWJzY3JpcHRpb24gZmFpbGVkXG4gICAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignRXJyb3IgdW5zdWJzY3JpYmluZzogJyArIGUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdlcnJvciByZWdpc3RlcmluZyBzZXJ2aWNlIHdvcmtlcjogJyArIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9hZGRXaXpBbGVydEpTMiA9IGZ1bmN0aW9uIF9hZGRXaXpBbGVydEpTMigpIHtcbiAgICBjb25zdCBzY3JpcHRUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvamF2YXNjcmlwdCcpO1xuICAgIHNjcmlwdFRhZy5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3d6cmstYWxlcnQtanMnKTtcbiAgICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCdzcmMnLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3dpekFsZXJ0SlNQYXRoKVtfd2l6QWxlcnRKU1BhdGhdKTsgLy8gYWRkIHRoZSBzY3JpcHQgdGFnIHRvIHRoZSBlbmQgb2YgdGhlIGJvZHlcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0VGFnKTtcbiAgICByZXR1cm4gc2NyaXB0VGFnO1xuICB9O1xuXG4gIHZhciBfcmVtb3ZlV2l6QWxlcnRKUzIgPSBmdW5jdGlvbiBfcmVtb3ZlV2l6QWxlcnRKUzIoKSB7XG4gICAgY29uc3Qgc2NyaXB0VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3d6cmstYWxlcnQtanMnKTtcbiAgICBzY3JpcHRUYWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRUYWcpO1xuICB9O1xuXG4gIHZhciBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uMiA9IGZ1bmN0aW9uIF9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24yKGRpc3BsYXlBcmdzKSB7XG4gICAgLy8gbWFrZSBzdXJlIGV2ZXJ5dGhpbmcgaXMgc3BlY2lmaWVkXG4gICAgbGV0IHRpdGxlVGV4dDtcbiAgICBsZXQgYm9keVRleHQ7XG4gICAgbGV0IG9rQnV0dG9uVGV4dDtcbiAgICBsZXQgcmVqZWN0QnV0dG9uVGV4dDtcbiAgICBsZXQgb2tCdXR0b25Db2xvcjtcbiAgICBsZXQgc2tpcERpYWxvZztcbiAgICBsZXQgYXNrQWdhaW5UaW1lSW5TZWNvbmRzO1xuICAgIGxldCBva0NhbGxiYWNrO1xuICAgIGxldCByZWplY3RDYWxsYmFjaztcbiAgICBsZXQgc3Vic2NyaXB0aW9uQ2FsbGJhY2s7XG4gICAgbGV0IHNlcnZpY2VXb3JrZXJQYXRoO1xuICAgIGxldCBodHRwc1BvcHVwUGF0aDtcbiAgICBsZXQgaHR0cHNJZnJhbWVQYXRoO1xuICAgIGxldCBhcG5zV2ViUHVzaElkO1xuICAgIGxldCBhcG5zV2ViUHVzaFNlcnZpY2VVcmw7XG5cbiAgICBpZiAoZGlzcGxheUFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAoaXNPYmplY3QoZGlzcGxheUFyZ3NbMF0pKSB7XG4gICAgICAgIGNvbnN0IG5vdGlmT2JqID0gZGlzcGxheUFyZ3NbMF07XG4gICAgICAgIHRpdGxlVGV4dCA9IG5vdGlmT2JqLnRpdGxlVGV4dDtcbiAgICAgICAgYm9keVRleHQgPSBub3RpZk9iai5ib2R5VGV4dDtcbiAgICAgICAgb2tCdXR0b25UZXh0ID0gbm90aWZPYmoub2tCdXR0b25UZXh0O1xuICAgICAgICByZWplY3RCdXR0b25UZXh0ID0gbm90aWZPYmoucmVqZWN0QnV0dG9uVGV4dDtcbiAgICAgICAgb2tCdXR0b25Db2xvciA9IG5vdGlmT2JqLm9rQnV0dG9uQ29sb3I7XG4gICAgICAgIHNraXBEaWFsb2cgPSBub3RpZk9iai5za2lwRGlhbG9nO1xuICAgICAgICBhc2tBZ2FpblRpbWVJblNlY29uZHMgPSBub3RpZk9iai5hc2tBZ2FpblRpbWVJblNlY29uZHM7XG4gICAgICAgIG9rQ2FsbGJhY2sgPSBub3RpZk9iai5va0NhbGxiYWNrO1xuICAgICAgICByZWplY3RDYWxsYmFjayA9IG5vdGlmT2JqLnJlamVjdENhbGxiYWNrO1xuICAgICAgICBzdWJzY3JpcHRpb25DYWxsYmFjayA9IG5vdGlmT2JqLnN1YnNjcmlwdGlvbkNhbGxiYWNrO1xuICAgICAgICBzZXJ2aWNlV29ya2VyUGF0aCA9IG5vdGlmT2JqLnNlcnZpY2VXb3JrZXJQYXRoO1xuICAgICAgICBodHRwc1BvcHVwUGF0aCA9IG5vdGlmT2JqLmh0dHBzUG9wdXBQYXRoO1xuICAgICAgICBodHRwc0lmcmFtZVBhdGggPSBub3RpZk9iai5odHRwc0lmcmFtZVBhdGg7XG4gICAgICAgIGFwbnNXZWJQdXNoSWQgPSBub3RpZk9iai5hcG5zV2ViUHVzaElkO1xuICAgICAgICBhcG5zV2ViUHVzaFNlcnZpY2VVcmwgPSBub3RpZk9iai5hcG5zV2ViUHVzaFNlcnZpY2VVcmw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlVGV4dCA9IGRpc3BsYXlBcmdzWzBdO1xuICAgICAgYm9keVRleHQgPSBkaXNwbGF5QXJnc1sxXTtcbiAgICAgIG9rQnV0dG9uVGV4dCA9IGRpc3BsYXlBcmdzWzJdO1xuICAgICAgcmVqZWN0QnV0dG9uVGV4dCA9IGRpc3BsYXlBcmdzWzNdO1xuICAgICAgb2tCdXR0b25Db2xvciA9IGRpc3BsYXlBcmdzWzRdO1xuICAgICAgc2tpcERpYWxvZyA9IGRpc3BsYXlBcmdzWzVdO1xuICAgICAgYXNrQWdhaW5UaW1lSW5TZWNvbmRzID0gZGlzcGxheUFyZ3NbNl07XG4gICAgfVxuXG4gICAgaWYgKHNraXBEaWFsb2cgPT0gbnVsbCkge1xuICAgICAgc2tpcERpYWxvZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzZXJ2aWNlV29ya2VyUGF0aCA9PSBudWxsKSB7XG4gICAgICBzZXJ2aWNlV29ya2VyUGF0aCA9ICcvY2xldmVydGFwX3N3LmpzJztcbiAgICB9IC8vIGVuc3VyZSB0aGF0IHRoZSBicm93c2VyIHN1cHBvcnRzIG5vdGlmaWNhdGlvbnNcblxuXG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpc0hUVFAgPSBodHRwc1BvcHVwUGF0aCAhPSBudWxsICYmIGh0dHBzSWZyYW1lUGF0aCAhPSBudWxsOyAvLyBtYWtlIHN1cmUgdGhlIHNpdGUgaXMgb24gaHR0cHMgZm9yIGNocm9tZSBub3RpZmljYXRpb25zXG5cbiAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sICE9PSAnaHR0cHM6JyAmJiBkb2N1bWVudC5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gJ2xvY2FsaG9zdCcgJiYgIWlzSFRUUCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignTWFrZSBzdXJlIHlvdSBhcmUgaHR0cHMgb3IgbG9jYWxob3N0IHRvIHJlZ2lzdGVyIGZvciBub3RpZmljYXRpb25zJyk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHJpZ2h0IG5vdywgd2Ugb25seSBzdXBwb3J0IENocm9tZSBWNTAgJiBoaWdoZXIgJiBGaXJlZm94XG5cblxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpICE9PSAtMSkge1xuICAgICAgY29uc3QgY2hyb21lQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcblxuICAgICAgaWYgKGNocm9tZUFnZW50ID09IG51bGwgfHwgcGFyc2VJbnQoY2hyb21lQWdlbnRbMV0sIDEwKSA8IDUwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpICE9PSAtMSkge1xuICAgICAgY29uc3QgZmlyZWZveEFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhcXGQrKS8pO1xuXG4gICAgICBpZiAoZmlyZWZveEFnZW50ID09IG51bGwgfHwgcGFyc2VJbnQoZmlyZWZveEFnZW50WzFdLCAxMCkgPCA1MCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1NhZmFyaScpICE9PSAtMSkge1xuICAgICAgY29uc3Qgc2FmYXJpQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9TYWZhcmlcXC8oXFxkKykvKTtcblxuICAgICAgaWYgKHNhZmFyaUFnZW50ID09IG51bGwgfHwgcGFyc2VJbnQoc2FmYXJpQWdlbnRbMV0sIDEwKSA8IDUwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gd2UgY2hlY2sgZm9yIHRoZSBjb29raWUgaW4gc2V0VXBDaHJvbWVOb3RpZmljYXRpb25zKCkgdGhlIHRva2VucyBtYXkgaGF2ZSBjaGFuZ2VkXG5cblxuICAgIGlmICghaXNIVFRQKSB7XG4gICAgICBpZiAoTm90aWZpY2F0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBoYW5kbGUgbWlncmF0aW9ucyBmcm9tIG90aGVyIHNlcnZpY2VzIC0+IGNocm9tZSBub3RpZmljYXRpb25zIG1heSBoYXZlIGFscmVhZHkgYmVlbiBhc2tlZCBmb3IgYmVmb3JlXG5cblxuICAgICAgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcbiAgICAgICAgLy8gc2tpcCB0aGUgZGlhbG9nIGFuZCByZWdpc3RlclxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMpW19zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zXShzdWJzY3JpcHRpb25DYWxsYmFjaywgc2VydmljZVdvcmtlclBhdGgsIGFwbnNXZWJQdXNoSWQsIGFwbnNXZWJQdXNoU2VydmljZVVybCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2RlbmllZCcpIHtcbiAgICAgICAgLy8gd2UndmUgbG9zdCB0aGlzIHByb2ZpbGUgOicoXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNraXBEaWFsb2cpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zKVtfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9uc10oc3Vic2NyaXB0aW9uQ2FsbGJhY2ssIHNlcnZpY2VXb3JrZXJQYXRoLCBhcG5zV2ViUHVzaElkLCBhcG5zV2ViUHVzaFNlcnZpY2VVcmwpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IC8vIG1ha2Ugc3VyZSB0aGUgcmlnaHQgcGFyYW1ldGVycyBhcmUgcGFzc2VkXG5cblxuICAgIGlmICghdGl0bGVUZXh0IHx8ICFib2R5VGV4dCB8fCAhb2tCdXR0b25UZXh0IHx8ICFyZWplY3RCdXR0b25UZXh0KSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdNaXNzaW5nIGlucHV0IHBhcmFtZXRlcnM7IHBsZWFzZSBzcGVjaWZ5IHRpdGxlLCBib2R5LCBvayBidXR0b24gYW5kIGNhbmNlbCBidXR0b24gdGV4dCcpO1xuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBtYWtlIHN1cmUgb2tCdXR0b25Db2xvciBpcyBmb3JtYXR0ZWQgcHJvcGVybHlcblxuXG4gICAgaWYgKG9rQnV0dG9uQ29sb3IgPT0gbnVsbCB8fCAhb2tCdXR0b25Db2xvci5tYXRjaCgvXiNbYS1mXFxkXXs2fSQvaSkpIHtcbiAgICAgIG9rQnV0dG9uQ29sb3IgPSAnI2YyODA0Nic7IC8vIGRlZmF1bHQgY29sb3IgZm9yIHBvc2l0aXZlIGJ1dHRvblxuICAgIH0gLy8gbWFrZSBzdXJlIHRoZSB1c2VyIGlzbid0IGFza2VkIGZvciBub3RpZmljYXRpb25zIG1vcmUgdGhhbiBhc2tBZ2FpblRpbWVJblNlY29uZHNcblxuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdub3RpZl9sYXN0X3RpbWUnKSA9PSBudWxsKSB7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnbm90aWZfbGFzdF90aW1lJywgbm93KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFza0FnYWluVGltZUluU2Vjb25kcyA9PSBudWxsKSB7XG4gICAgICAgIC8vIDcgZGF5cyBieSBkZWZhdWx0XG4gICAgICAgIGFza0FnYWluVGltZUluU2Vjb25kcyA9IDcgKiAyNCAqIDYwICogNjA7XG4gICAgICB9XG5cbiAgICAgIGlmIChub3cgLSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnbm90aWZfbGFzdF90aW1lJykgPCBhc2tBZ2FpblRpbWVJblNlY29uZHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29udGludWUgYXNraW5nXG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdub3RpZl9sYXN0X3RpbWUnLCBub3cpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0hUVFApIHtcbiAgICAgIC8vIGFkZCB0aGUgaHR0cHMgaWZyYW1lXG4gICAgICBjb25zdCBodHRwc0lmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgaHR0cHNJZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmU7Jyk7XG4gICAgICBodHRwc0lmcmFtZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGh0dHBzSWZyYW1lUGF0aCk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGh0dHBzSWZyYW1lKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXZlbnQgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgbGV0IG9iaiA9IHt9O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm90IGEgY2FsbCBmcm9tIG91ciBpZnJhbWVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob2JqLnN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChvYmouZnJvbSA9PT0gJ2N0JyAmJiBvYmouc3RhdGUgPT09ICdub3QnKSB7XG4gICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWRkV2l6QWxlcnRKUylbX2FkZFdpekFsZXJ0SlNdKCkub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBvdXIgd2l6cm9ja2V0IHBvcHVwXG4gICAgICAgICAgICAgICAgd2luZG93Lnd6cmtQZXJtaXNzaW9uUG9wdXAud2l6QWxlcnQoe1xuICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlVGV4dCxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHlUZXh0LFxuICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IG9rQnV0dG9uVGV4dCxcbiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogb2tCdXR0b25Db2xvcixcbiAgICAgICAgICAgICAgICAgIHJlamVjdEJ1dHRvblRleHQ6IHJlamVjdEJ1dHRvblRleHRcbiAgICAgICAgICAgICAgICB9LCBlbmFibGVkID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgdXNlciBhY2NlcHRlZCBvbiB0aGUgZGlhbG9nIGJveFxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9rQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICBva0NhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gLy8gcmVkaXJlY3QgdG8gcG9wdXAuaHRtbFxuXG5cbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oaHR0cHNQb3B1cFBhdGgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWplY3RDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgIHJlamVjdENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZW1vdmVXaXpBbGVydEpTKVtfcmVtb3ZlV2l6QWxlcnRKU10oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hZGRXaXpBbGVydEpTKVtfYWRkV2l6QWxlcnRKU10oKS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZSBvdXIgd2l6cm9ja2V0IHBvcHVwXG4gICAgICAgIHdpbmRvdy53enJrUGVybWlzc2lvblBvcHVwLndpekFsZXJ0KHtcbiAgICAgICAgICB0aXRsZTogdGl0bGVUZXh0LFxuICAgICAgICAgIGJvZHk6IGJvZHlUZXh0LFxuICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBva0J1dHRvblRleHQsXG4gICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBva0J1dHRvbkNvbG9yLFxuICAgICAgICAgIHJlamVjdEJ1dHRvblRleHQ6IHJlamVjdEJ1dHRvblRleHRcbiAgICAgICAgfSwgZW5hYmxlZCA9PiB7XG4gICAgICAgICAgLy8gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgLy8gdGhlIHVzZXIgYWNjZXB0ZWQgb24gdGhlIGRpYWxvZyBib3hcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2tDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBva0NhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucylbX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnNdKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBzZXJ2aWNlV29ya2VyUGF0aCwgYXBuc1dlYlB1c2hJZCwgYXBuc1dlYlB1c2hTZXJ2aWNlVXJsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWplY3RDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICByZWplY3RDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVtb3ZlV2l6QWxlcnRKUylbX3JlbW92ZVdpekFsZXJ0SlNdKCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF92YXJpYWJsZVN0b3JlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJ2YXJpYWJsZVN0b3JlXCIpO1xuXG4gIGNsYXNzIFZhcmlhYmxlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBWYXJpYWJsZSBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7VmFyaWFibGVTdG9yZX0gb3B0aW9ucy52YXJpYWJsZVN0b3JlIC0gVGhlIFZhcmlhYmxlU3RvcmUgaW5zdGFuY2UgZm9yIHJlZ2lzdHJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBvcHRpb25zLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgICogQHBhcmFtIHsqfSBvcHRpb25zLmRlZmF1bHRWYWx1ZSAtIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSB2YXJpYWJsZS5cbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMudmFsdWUgLSBUaGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gb3B0aW9ucy50eXBlIC0gVGhlIHR5cGUgb2YgdGhlIHZhcmlhYmxlIChzdHJpbmcsIG51bWJlciwgYm9vbGVhbikuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmhhZFN0YXJ0ZWQgLSBBIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSB2YXJpYWJsZSBoYXMgc3RhcnRlZCAodXNlZCBpbnRlcm5hbGx5KS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IG9wdGlvbnMudmFsdWVDaGFuZ2VkQ2FsbGJhY2tzIC0gQXJyYXkgdG8gc3RvcmUgY2FsbGJhY2tzIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIHZhcmlhYmxlIHZhbHVlIGNoYW5nZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgdmFyaWFibGVTdG9yZVxuICAgICAgfSA9IF9yZWY7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3ZhcmlhYmxlU3RvcmUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy5uYW1lID0gbnVsbDtcbiAgICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gbnVsbDtcbiAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICAgIHRoaXMuaGFkU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy52YWx1ZUNoYW5nZWRDYWxsYmFja3MgPSBbXTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSlbX3ZhcmlhYmxlU3RvcmVdID0gdmFyaWFibGVTdG9yZTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIGdldGRlZmF1bHRWYWx1ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBhIG5ldyB2YXJpYWJsZSB3aXRoIHRoZSBwcm92aWRlZCBuYW1lLCBkZWZhdWx0IHZhbHVlLCBhbmQgdmFyaWFibGUgc3RvcmUuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHZhcmlhYmxlLlxuICAgICAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlIC0gVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHZhcmlhYmxlLlxuICAgICAqIEBwYXJhbSB7VmFyaWFibGVTdG9yZX0gdmFyaWFibGVTdG9yZSAtIFRoZSBWYXJpYWJsZVN0b3JlIGluc3RhbmNlIGZvciByZWdpc3RyYXRpb24uXG4gICAgICogQHJldHVybnMge1ZhcmlhYmxlfG51bGx9IC0gVGhlIGNyZWF0ZWQgVmFyaWFibGUgaW5zdGFuY2Ugb3IgbnVsbCBpZiBpbnZhbGlkIHBhcmFtZXRlcnMgYXJlIHByb3ZpZGVkLlxuICAgICAqL1xuXG5cbiAgICBzdGF0aWMgZGVmaW5lKG5hbWUsIGRlZmF1bHRWYWx1ZSwgdmFyaWFibGVTdG9yZSkge1xuICAgICAgaWYgKCFuYW1lIHx8IHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFbXB0eSBvciBpbnZhbGlkIG5hbWUgcGFyYW1ldGVyIHByb3ZpZGVkLicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aCgnLicpIHx8IG5hbWUuZW5kc1dpdGgoJy4nKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdWYXJpYWJsZSBuYW1lIHN0YXJ0cyBvciBlbmRzIHdpdGggYSBgLmAgd2hpY2ggaXMgbm90IGFsbG93ZWQ6ICcgKyBuYW1lKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHR5cGVPZkRlZmF1bHRWYWx1ZSA9IHR5cGVvZiBkZWZhdWx0VmFsdWU7XG5cbiAgICAgIGlmICh0eXBlT2ZEZWZhdWx0VmFsdWUgIT09ICdzdHJpbmcnICYmIHR5cGVPZkRlZmF1bHRWYWx1ZSAhPT0gJ251bWJlcicgJiYgdHlwZU9mRGVmYXVsdFZhbHVlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignT25seSBwcmltaXRpdmUgdHlwZXMgKHN0cmluZywgbnVtYmVyLCBib29sZWFuKSBhcmUgYWNjZXB0ZWQgYXMgdmFsdWUnKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gdmFyaWFibGVTdG9yZS5nZXRWYXJpYWJsZShuYW1lKTtcblxuICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZztcbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFySW5zdGFuY2UgPSBuZXcgVmFyaWFibGUoe1xuICAgICAgICB2YXJpYWJsZVN0b3JlXG4gICAgICB9KTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFySW5zdGFuY2UubmFtZSA9IG5hbWU7XG4gICAgICAgIHZhckluc3RhbmNlLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdmFySW5zdGFuY2UudmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIHZhckluc3RhbmNlLnR5cGUgPSB0eXBlT2ZEZWZhdWx0VmFsdWU7XG4gICAgICAgIHZhcmlhYmxlU3RvcmUucmVnaXN0ZXJWYXJpYWJsZSh2YXJJbnN0YW5jZSk7XG4gICAgICAgIHZhckluc3RhbmNlLnVwZGF0ZShkZWZhdWx0VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YXJJbnN0YW5jZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmFyaWFibGUncyB2YWx1ZSwgdHJpZ2dlcmluZyBjYWxsYmFja3MgaWYgaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQgaXMgcmV0dXJuZWQgdHJ1ZS5cbiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbHVlIC0gVGhlIG5ldyB2YWx1ZSB0byBiZSBhc3NpZ25lZCB0byB0aGUgdmFyaWFibGUuXG4gICAgICovXG5cblxuICAgIHVwZGF0ZShuZXdWYWx1ZSkge1xuICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuXG4gICAgICBpZiAobmV3VmFsdWUgPT09IG51bGwgJiYgb2xkVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV3VmFsdWUgIT09IG51bGwgJiYgbmV3VmFsdWUgPT09IG9sZFZhbHVlICYmIHRoaXMuaGFkU3RhcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlU3RvcmUpW192YXJpYWJsZVN0b3JlXS5oYXNWYXJzUmVxdWVzdENvbXBsZXRlZCgpKSB7XG4gICAgICAgIHRoaXMuaGFkU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudHJpZ2dlclZhbHVlQ2hhbmdlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGFsbCByZWdpc3RlcmVkIGNhbGxiYWNrcyB3aGVuIHRoZSB2YXJpYWJsZSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqL1xuXG5cbiAgICB0cmlnZ2VyVmFsdWVDaGFuZ2VkKCkge1xuICAgICAgdGhpcy52YWx1ZUNoYW5nZWRDYWxsYmFja3MuZm9yRWFjaChvblZhbHVlQ2hhbmdlZCA9PiB7XG4gICAgICAgIG9uVmFsdWVDaGFuZ2VkKHRoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byB0aGUgYXJyYXkgYW5kIHRyaWdnZXJzIGl0IGltbWVkaWF0ZWx5IGlmIHZhcmlhYmxlIHJlcXVlc3RzIGhhdmUgY29tcGxldGVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uVmFsdWVDaGFuZ2VkIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGFkZGVkLlxuICAgICAqL1xuXG5cbiAgICBhZGRWYWx1ZUNoYW5nZWRDYWxsYmFjayhvblZhbHVlQ2hhbmdlZCkge1xuICAgICAgaWYgKCFvblZhbHVlQ2hhbmdlZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBjYWxsYmFjayBwYXJhbWV0ZXIgcHJvdmlkZWQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy52YWx1ZUNoYW5nZWRDYWxsYmFja3MucHVzaChvblZhbHVlQ2hhbmdlZCk7XG5cbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlU3RvcmUpW192YXJpYWJsZVN0b3JlXS5oYXNWYXJzUmVxdWVzdENvbXBsZXRlZCgpKSB7XG4gICAgICAgIG9uVmFsdWVDaGFuZ2VkKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2FsbGJhY2sgZnVuY3Rpb24gZnJvbSB0aGUgYXJyYXkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25WYWx1ZUNoYW5nZWQgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZC5cbiAgICAgKi9cblxuXG4gICAgcmVtb3ZlVmFsdWVDaGFuZ2VkQ2FsbGJhY2sob25WYWx1ZUNoYW5nZWQpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy52YWx1ZUNoYW5nZWRDYWxsYmFja3MuaW5kZXhPZihvblZhbHVlQ2hhbmdlZCk7XG5cbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWRDYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBgaGFkU3RhcnRlZGAgZmxhZyB0byBmYWxzZS5cbiAgICAgKi9cblxuXG4gICAgY2xlYXJTdGFydEZsYWcoKSB7XG4gICAgICB0aGlzLmhhZFN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfbG9nZ2VyJDkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX2FjY291bnQkNSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX3JlcXVlc3QkNiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2V2ZW50ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJldmVudFwiKTtcblxuICB2YXIgX3ZhcmlhYmxlcyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidmFyaWFibGVzXCIpO1xuXG4gIHZhciBfcmVtb3RlVmFyaWFibGVzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZW1vdGVWYXJpYWJsZXNcIik7XG5cbiAgdmFyIF9mZXRjaENhbGxiYWNrID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJmZXRjaENhbGxiYWNrXCIpO1xuXG4gIHZhciBfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc1wiKTtcblxuICB2YXIgX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJvbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc1wiKTtcblxuICB2YXIgX2hhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJoYXNWYXJzUmVxdWVzdENvbXBsZXRlZFwiKTtcblxuICB2YXIgX3J1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrXCIpO1xuXG4gIGNsYXNzIFZhcmlhYmxlU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgZXZlbnRcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9ydW5WYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2ssIHtcbiAgICAgICAgdmFsdWU6IF9ydW5WYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2syXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDksIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hY2NvdW50JDUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXF1ZXN0JDYsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9ldmVudCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3ZhcmlhYmxlcywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlbW90ZVZhcmlhYmxlcywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2ZldGNoQ2FsbGJhY2ssIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF92YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9oYXNWYXJzUmVxdWVzdENvbXBsZXRlZCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0gPSBhY2NvdW50O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDYpW19yZXF1ZXN0JDZdID0gcmVxdWVzdDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZXZlbnQpW19ldmVudF0gPSBldmVudDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzKVtfdmFyaWFibGVzXSA9IHt9O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZW1vdGVWYXJpYWJsZXMpW19yZW1vdGVWYXJpYWJsZXNdID0ge307XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW192YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXSA9IFtdO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXSA9IFtdO1xuICAgICAgJGN0LnZhcmlhYmxlU3RvcmUgPSB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSB2YXJpYWJsZSBpbnN0YW5jZSBpbiB0aGUgc3RvcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHZhckluc3RhbmNlIC0gVGhlIHZhcmlhYmxlIGluc3RhbmNlIHRvIGJlIHJlZ2lzdGVyZWQuXG4gICAgICovXG5cblxuICAgIHJlZ2lzdGVyVmFyaWFibGUodmFySW5zdGFuY2UpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbmFtZVxuICAgICAgfSA9IHZhckluc3RhbmNlO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXMpW192YXJpYWJsZXNdW25hbWVdID0gdmFySW5zdGFuY2U7XG4gICAgICBjb25zb2xlLmxvZygncmVnaXN0ZXJWYXJpYWJsZScsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzKVtfdmFyaWFibGVzXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHZhcmlhYmxlIGJ5IGl0cyBuYW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHZhcmlhYmxlIHRvIHJldHJpZXZlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IC0gVGhlIHZhcmlhYmxlIGluc3RhbmNlLlxuICAgICAqL1xuXG5cbiAgICBnZXRWYXJpYWJsZShuYW1lKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXMpW192YXJpYWJsZXNdW25hbWVdO1xuICAgIH1cblxuICAgIGhhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQpW19oYXNWYXJzUmVxdWVzdENvbXBsZXRlZF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmNocm9uaXplcyB2YXJpYWJsZXMgd2l0aCB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3luY1N1Y2Nlc3MgLSBDYWxsYmFjayBmdW5jdGlvbiBvbiBzdWNjZXNzZnVsIHN5bmNocm9uaXphdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN5bmNGYWlsdXJlIC0gQ2FsbGJhY2sgZnVuY3Rpb24gb24gc3luY2hyb25pemF0aW9uIGZhaWx1cmUuXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBhY2NvdW50IHRva2VuIGlzIG1pc3NpbmcuXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IC0gVGhlIHJlc3VsdCBvZiB0aGUgc3luY2hyb25pemF0aW9uIHJlcXVlc3QuXG4gICAgICovXG5cblxuICAgIHN5bmNWYXJpYWJsZXMob25TeW5jU3VjY2Vzcywgb25TeW5jRmFpbHVyZSkge1xuICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0udG9rZW4pIHtcbiAgICAgICAgY29uc3QgbSA9ICdBY2NvdW50IHRva2VuIGlzIG1pc3NpbmcuJztcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldLmVycm9yKG0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IobSkpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICB0eXBlOiAndmFyc1BheWxvYWQnLFxuICAgICAgICB2YXJzOiB7fVxuICAgICAgfTtcblxuICAgICAgZm9yIChjb25zdCBuYW1lIGluIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzKVtfdmFyaWFibGVzXSkge1xuICAgICAgICBwYXlsb2FkLnZhcnNbbmFtZV0gPSB7XG4gICAgICAgICAgZGVmYXVsdFZhbHVlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlcylbX3ZhcmlhYmxlc11bbmFtZV0uZGVmYXVsdFZhbHVlLFxuICAgICAgICAgIHR5cGU6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzKVtfdmFyaWFibGVzXVtuYW1lXS50eXBlXG4gICAgICAgIH07XG4gICAgICB9IC8vIENoZWNrIGlmIHBheWxvYWQudmFycyBpcyBlbXB0eVxuXG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhwYXlsb2FkLnZhcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBtID0gJ05vIHZhcmlhYmxlcyBhcmUgZGVmaW5lZC4nO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0uZXJyb3IobSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihtKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBtZXRhID0ge307XG4gICAgICBtZXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDYpW19yZXF1ZXN0JDZdLmFkZFN5c3RlbURhdGFUb09iamVjdChtZXRhLCB1bmRlZmluZWQpO1xuICAgICAgbWV0YS50ayA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XS50b2tlbjtcbiAgICAgIG1ldGEudHlwZSA9ICdtZXRhJztcbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeShbbWV0YSwgcGF5bG9hZF0pO1xuXG4gICAgICBjb25zdCB1cmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0uZGF0YVBvc3RQRVVSTDtcblxuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ2KVtfcmVxdWVzdCQ2XS5wb3N0KHVybCwgYm9keSkudGhlbihyID0+IHtcbiAgICAgICAgaWYgKG9uU3luY1N1Y2Nlc3MgJiYgdHlwZW9mIG9uU3luY1N1Y2Nlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvblN5bmNTdWNjZXNzKHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgICAgaWYgKG9uU3luY0ZhaWx1cmUgJiYgdHlwZW9mIG9uU3luY0ZhaWx1cmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvblN5bmNGYWlsdXJlKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldLmVycm9yKCdJbnZhbGlkIHN5bmMgcGF5bG9hZCBvciBjbGVhciB0aGUgZXhpc3RpbmcgZHJhZnQnKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XS5lcnJvcignVGhpcyBpcyBub3QgYSB0ZXN0IHByb2ZpbGUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldLmVycm9yKCdTeW5jIHZhcmlhYmxlIGZhaWxlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHZhcmlhYmxlcyBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25GZXRjaENhbGxiYWNrIC0gQ2FsbGJhY2sgZnVuY3Rpb24gb24gZmV0Y2ggY29tcGxldGlvbi5cbiAgICAgKi9cblxuXG4gICAgZmV0Y2hWYXJpYWJsZXMob25GZXRjaENhbGxiYWNrKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2V2ZW50KVtfZXZlbnRdLnB1c2goV1pSS19GRVRDSCwge1xuICAgICAgICB0OiA0XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9uRmV0Y2hDYWxsYmFjayAmJiB0eXBlb2Ygb25GZXRjaENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmV0Y2hDYWxsYmFjaylbX2ZldGNoQ2FsbGJhY2tdID0gb25GZXRjaENhbGxiYWNrO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lcmdlVmFyaWFibGVzKHZhcnMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdtc2cgdmFycyBpcyAnLCB2YXJzKTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQpW19oYXNWYXJzUmVxdWVzdENvbXBsZXRlZF0gPSB0cnVlO1xuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShWQVJJQUJMRVMsIHZhcnMpO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZW1vdGVWYXJpYWJsZXMpW19yZW1vdGVWYXJpYWJsZXNdID0gdmFycztcblxuICAgICAgZm9yIChjb25zdCBuYW1lIGluIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzKVtfdmFyaWFibGVzXSkge1xuICAgICAgICBpZiAodmFycy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzKVtfdmFyaWFibGVzXVtuYW1lXS51cGRhdGUodmFyc1tuYW1lXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmV0Y2hDYWxsYmFjaylbX2ZldGNoQ2FsbGJhY2tdKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmV0Y2hDYWxsYmFjaylbX2ZldGNoQ2FsbGJhY2tdKCk7XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrKVtfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrXSgpO1xuICAgIH1cblxuICAgIGFkZFZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgaWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW192YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXS5wdXNoKGNhbGxiYWNrKTtcblxuICAgICAgICBpZiAodGhpcy5oYXNWYXJzUmVxdWVzdENvbXBsZXRlZCgpKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XS5lcnJvcignY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRPbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkKCkpIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW19vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10uaW5kZXhPZihjYWxsYmFjayk7XG5cbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVPbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICBjb25zdCBpbmRleCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW19vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10uaW5kZXhPZihjYWxsYmFjayk7XG5cbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgdmFyIF9ydW5WYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2syID0gZnVuY3Rpb24gX3J1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjazIoKSB7XG4gICAgZm9yICh2YXIgY2FsbGJhY2sgb2YgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10pIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgY2FsbEJhY2sgb2YgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXSkge1xuICAgICAgY2FsbEJhY2soKTtcbiAgICB9XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgdmFyIF9sb2dnZXIkYSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfYXBpID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhcGlcIik7XG5cbiAgdmFyIF9vbmxvYWRjYWxsZWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9ubG9hZGNhbGxlZFwiKTtcblxuICB2YXIgX2RldmljZSQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkZXZpY2VcIik7XG5cbiAgdmFyIF9zZXNzaW9uJDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNlc3Npb25cIik7XG5cbiAgdmFyIF9hY2NvdW50JDYgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRcIik7XG5cbiAgdmFyIF9yZXF1ZXN0JDcgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF92YXJpYWJsZVN0b3JlJDEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInZhcmlhYmxlU3RvcmVcIik7XG5cbiAgdmFyIF9pc1NwYSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNTcGFcIik7XG5cbiAgdmFyIF9wcmV2aW91c1VybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicHJldmlvdXNVcmxcIik7XG5cbiAgdmFyIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImJvdW5kQ2hlY2tQYWdlQ2hhbmdlZFwiKTtcblxuICB2YXIgX2Rpc21pc3NTcGFtQ29udHJvbCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGlzbWlzc1NwYW1Db250cm9sXCIpO1xuXG4gIHZhciBfcHJvY2Vzc09sZFZhbHVlcyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicHJvY2Vzc09sZFZhbHVlc1wiKTtcblxuICB2YXIgX2RlYm91bmNlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkZWJvdW5jZVwiKTtcblxuICB2YXIgX2NoZWNrUGFnZUNoYW5nZWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImNoZWNrUGFnZUNoYW5nZWRcIik7XG5cbiAgdmFyIF9waW5nUmVxdWVzdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicGluZ1JlcXVlc3RcIik7XG5cbiAgdmFyIF9pc1BpbmdDb250aW51b3VzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BpbmdDb250aW51b3VzXCIpO1xuXG4gIHZhciBfb3ZlcnJpZGVEU3luY0ZsYWcgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm92ZXJyaWRlRFN5bmNGbGFnXCIpO1xuXG4gIHZhciBfc2VuZExvY2F0aW9uRGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2VuZExvY2F0aW9uRGF0YVwiKTtcblxuICBjbGFzcyBDbGV2ZXJUYXAge1xuICAgIGdldCBzcGEoKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1NwYSlbX2lzU3BhXTtcbiAgICB9XG5cbiAgICBzZXQgc3BhKHZhbHVlKSB7XG4gICAgICBjb25zdCBpc1NwYSA9IHZhbHVlID09PSB0cnVlO1xuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1NwYSlbX2lzU3BhXSAhPT0gaXNTcGEgJiYgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmxvYWRjYWxsZWQpW19vbmxvYWRjYWxsZWRdID09PSAxKSB7XG4gICAgICAgIC8vIGlmIGNsZXZlcnRhcC5zcGEgaXMgY2hhbmdlZCBhZnRlciBpbml0IGhhcyBiZWVuIGNhbGxlZCB0aGVuIHVwZGF0ZSB0aGUgY2xpY2sgbGlzdGVuZXJzXG4gICAgICAgIGlmIChpc1NwYSkge1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQpW19ib3VuZENoZWNrUGFnZUNoYW5nZWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYm91bmRDaGVja1BhZ2VDaGFuZ2VkKVtfYm91bmRDaGVja1BhZ2VDaGFuZ2VkXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1NwYSlbX2lzU3BhXSA9IGlzU3BhO1xuICAgIH1cblxuICAgIGdldCBkaXNtaXNzU3BhbUNvbnRyb2woKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kaXNtaXNzU3BhbUNvbnRyb2wpW19kaXNtaXNzU3BhbUNvbnRyb2xdO1xuICAgIH1cblxuICAgIHNldCBkaXNtaXNzU3BhbUNvbnRyb2wodmFsdWUpIHtcbiAgICAgIGNvbnN0IGRpc21pc3NTcGFtQ29udHJvbCA9IHZhbHVlID09PSB0cnVlO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kaXNtaXNzU3BhbUNvbnRyb2wpW19kaXNtaXNzU3BhbUNvbnRyb2xdID0gZGlzbWlzc1NwYW1Db250cm9sO1xuICAgICAgJGN0LmRpc21pc3NTcGFtQ29udHJvbCA9IGRpc21pc3NTcGFtQ29udHJvbDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHZhciBfY2xldmVydGFwJGFjY291bnQsIF9jbGV2ZXJ0YXAkYWNjb3VudDIsIF9jbGV2ZXJ0YXAkYWNjb3VudDMsIF9jbGV2ZXJ0YXAkYWNjb3VudDQsIF9jbGV2ZXJ0YXAkYWNjb3VudDU7XG5cbiAgICAgIGxldCBjbGV2ZXJ0YXAgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZW5kTG9jYXRpb25EYXRhLCB7XG4gICAgICAgIHZhbHVlOiBfc2VuZExvY2F0aW9uRGF0YTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vdmVycmlkZURTeW5jRmxhZywge1xuICAgICAgICB2YWx1ZTogX292ZXJyaWRlRFN5bmNGbGFnMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzUGluZ0NvbnRpbnVvdXMsIHtcbiAgICAgICAgdmFsdWU6IF9pc1BpbmdDb250aW51b3VzMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3BpbmdSZXF1ZXN0LCB7XG4gICAgICAgIHZhbHVlOiBfcGluZ1JlcXVlc3QyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY2hlY2tQYWdlQ2hhbmdlZCwge1xuICAgICAgICB2YWx1ZTogX2NoZWNrUGFnZUNoYW5nZWQyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGVib3VuY2UsIHtcbiAgICAgICAgdmFsdWU6IF9kZWJvdW5jZTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9wcm9jZXNzT2xkVmFsdWVzLCB7XG4gICAgICAgIHZhbHVlOiBfcHJvY2Vzc09sZFZhbHVlczJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkYSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FwaSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29ubG9hZGNhbGxlZCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RldmljZSQzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2Vzc2lvbiQzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWNjb3VudCQ2LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdCQ3LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdmFyaWFibGVTdG9yZSQxLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNTcGEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9wcmV2aW91c1VybCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2hlY2tQYWdlQ2hhbmdlZClbX2NoZWNrUGFnZUNoYW5nZWRdLmJpbmQodGhpcylcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kaXNtaXNzU3BhbUNvbnRyb2wsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbmFibGVQZXJzb25hbGl6YXRpb24gPSB2b2lkIDA7XG4gICAgICB0aGlzLnBvcHVwQ2FsbGJhY2tzID0ge307XG4gICAgICB0aGlzLnBvcHVwQ3VycmVudFd6cmtJZCA9ICcnO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmxvYWRjYWxsZWQpW19vbmxvYWRjYWxsZWRdID0gMDtcbiAgICAgIHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlID0gdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmUuYmluZCh0aGlzKTtcblxuICAgICAgdGhpcy5yYWlzZU5vdGlmaWNhdGlvbkNsaWNrZWQgPSAoKSA9PiB7fTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSA9IG5ldyBMb2dnZXIobG9nTGV2ZWxzLklORk8pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdID0gbmV3IEFjY291bnQoKF9jbGV2ZXJ0YXAkYWNjb3VudCA9IGNsZXZlcnRhcC5hY2NvdW50KSA9PT0gbnVsbCB8fCBfY2xldmVydGFwJGFjY291bnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbGV2ZXJ0YXAkYWNjb3VudFswXSwgY2xldmVydGFwLnJlZ2lvbiB8fCAoKF9jbGV2ZXJ0YXAkYWNjb3VudDIgPSBjbGV2ZXJ0YXAuYWNjb3VudCkgPT09IG51bGwgfHwgX2NsZXZlcnRhcCRhY2NvdW50MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NsZXZlcnRhcCRhY2NvdW50MlsxXSksIGNsZXZlcnRhcC50YXJnZXREb21haW4gfHwgKChfY2xldmVydGFwJGFjY291bnQzID0gY2xldmVydGFwLmFjY291bnQpID09PSBudWxsIHx8IF9jbGV2ZXJ0YXAkYWNjb3VudDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbGV2ZXJ0YXAkYWNjb3VudDNbMl0pLCBjbGV2ZXJ0YXAudG9rZW4gfHwgKChfY2xldmVydGFwJGFjY291bnQ0ID0gY2xldmVydGFwLmFjY291bnQpID09PSBudWxsIHx8IF9jbGV2ZXJ0YXAkYWNjb3VudDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbGV2ZXJ0YXAkYWNjb3VudDRbM10pKTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDMpW19kZXZpY2UkM10gPSBuZXcgRGV2aWNlTWFuYWdlcih7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXVxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Rpc21pc3NTcGFtQ29udHJvbClbX2Rpc21pc3NTcGFtQ29udHJvbF0gPSBjbGV2ZXJ0YXAuZGlzbWlzc1NwYW1Db250cm9sIHx8IGZhbHNlO1xuICAgICAgdGhpcy5zaHBmeVByb3h5UGF0aCA9IGNsZXZlcnRhcC5zaHBmeVByb3h5UGF0aCB8fCAnJztcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXSA9IG5ldyBTZXNzaW9uTWFuYWdlcih7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSxcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmU6IHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XSA9IG5ldyBSZXF1ZXN0TWFuYWdlcih7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSxcbiAgICAgICAgYWNjb3VudDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLFxuICAgICAgICBkZXZpY2U6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDMpW19kZXZpY2UkM10sXG4gICAgICAgIHNlc3Npb246IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXSxcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmU6IHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZW5hYmxlUGVyc29uYWxpemF0aW9uID0gY2xldmVydGFwLmVuYWJsZVBlcnNvbmFsaXphdGlvbiB8fCBmYWxzZTtcbiAgICAgIHRoaXMuZXZlbnQgPSBuZXcgRXZlbnRIYW5kbGVyKHtcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLFxuICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10sXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlOiB0aGlzLl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSwgY2xldmVydGFwLmV2ZW50KTtcbiAgICAgIHRoaXMucHJvZmlsZSA9IG5ldyBQcm9maWxlSGFuZGxlcih7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSxcbiAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLFxuICAgICAgICBhY2NvdW50OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0sXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlOiB0aGlzLl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSwgY2xldmVydGFwLnByb2ZpbGUpO1xuICAgICAgdGhpcy5vblVzZXJMb2dpbiA9IG5ldyBVc2VyTG9naW5IYW5kbGVyKHtcbiAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLFxuICAgICAgICBhY2NvdW50OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0sXG4gICAgICAgIHNlc3Npb246IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXSxcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLFxuICAgICAgICBkZXZpY2U6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDMpW19kZXZpY2UkM11cbiAgICAgIH0sIGNsZXZlcnRhcC5vblVzZXJMb2dpbik7XG4gICAgICB0aGlzLnByaXZhY3kgPSBuZXcgUHJpdmFjeSh7XG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XSxcbiAgICAgICAgYWNjb3VudDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLFxuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV1cbiAgICAgIH0sIGNsZXZlcnRhcC5wcml2YWN5KTtcbiAgICAgIHRoaXMubm90aWZpY2F0aW9ucyA9IG5ldyBOb3RpZmljYXRpb25IYW5kbGVyKHtcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLFxuICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10sXG4gICAgICAgIGFjY291bnQ6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XVxuICAgICAgfSwgY2xldmVydGFwLm5vdGlmaWNhdGlvbnMpO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZVN0b3JlJDEpW192YXJpYWJsZVN0b3JlJDFdID0gbmV3IFZhcmlhYmxlU3RvcmUoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0sXG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XSxcbiAgICAgICAgYWNjb3VudDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLFxuICAgICAgICBldmVudDogdGhpcy5ldmVudFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FwaSlbX2FwaV0gPSBuZXcgQ2xldmVyVGFwQVBJKHtcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLFxuICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10sXG4gICAgICAgIGRldmljZTogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMylbX2RldmljZSQzXSxcbiAgICAgICAgc2Vzc2lvbjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3BhID0gY2xldmVydGFwLnNwYTtcbiAgICAgIHRoaXMuZGlzbWlzc1NwYW1Db250cm9sID0gY2xldmVydGFwLmRpc21pc3NTcGFtQ29udHJvbDtcbiAgICAgIHRoaXMudXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmU6IHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2Vzc2lvbiA9IHtcbiAgICAgICAgZ2V0VGltZUVsYXBzZWQ6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLmdldFRpbWVFbGFwc2VkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBhZ2VDb3VudDogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uZ2V0UGFnZUNvdW50KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMubG9nb3V0ID0gKCkgPT4ge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmRlYnVnKCdsb2dvdXQgY2FsbGVkJyk7XG5cbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0SW5zdGFudERlbGV0ZUZsYWdJbksoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuY2xlYXIgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMub25Vc2VyTG9naW4uY2xlYXIoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZ2V0Q2xldmVyVGFwSUQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdLmdldEd1aWQoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZ2V0QWNjb3VudElEID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmlkO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRTQ0RvbWFpbiA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5maW5hbFRhcmdldERvbWFpbjtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0TGlicmFyeSA9IChsaWJOYW1lLCBsaWJWZXJzaW9uKSA9PiB7XG4gICAgICAgICRjdC5mbHV0dGVyVmVyc2lvbiA9IHtcbiAgICAgICAgICBbbGliTmFtZV06IGxpYlZlcnNpb25cbiAgICAgICAgfTtcbiAgICAgIH07IC8vIFNldCB0aGUgU2lnbmVkIENhbGwgc2RrIHZlcnNpb24gYW5kIGZpcmUgcmVxdWVzdFxuXG5cbiAgICAgIHRoaXMuc2V0U0NTREtWZXJzaW9uID0gdmVyID0+IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLnNjU0RLVmVyc2lvbiA9IHZlcjtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhLmFmID0ge1xuICAgICAgICAgIHNjdjogJ3NjLXNkay12JyArIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5zY1NES1ZlcnNpb25cbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0uZGF0YVBvc3RVUkw7XG5cbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCAncGFnZScpO1xuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSkpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QpO1xuICAgICAgfTtcblxuICAgICAgaWYgKGhhc1dlYkluYm94U2V0dGluZ3NJbkxTKCkpIHtcbiAgICAgICAgY2hlY2tBbmRSZWdpc3RlcldlYkluYm94RWxlbWVudHMoKTtcbiAgICAgICAgaW5pdGlhbGl6ZVdlYkluYm94KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0pO1xuICAgICAgfSAvLyBHZXQgSW5ib3ggTWVzc2FnZSBDb3VudFxuXG5cbiAgICAgIHRoaXMuZ2V0SW5ib3hNZXNzYWdlQ291bnQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1zZ0NvdW50ID0gZ2V0SW5ib3hNZXNzYWdlcygpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobXNnQ291bnQpLmxlbmd0aDtcbiAgICAgIH07IC8vIEdldCBJbmJveCBVbnJlYWQgTWVzc2FnZSBDb3VudFxuXG5cbiAgICAgIHRoaXMuZ2V0SW5ib3hNZXNzYWdlVW5yZWFkQ291bnQgPSAoKSA9PiB7XG4gICAgICAgIGlmICgkY3QuaW5ib3gpIHtcbiAgICAgICAgICByZXR1cm4gJGN0LmluYm94LnVudmlld2VkQ291bnRlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmRlYnVnKCdObyB1bnJlYWQgbWVzc2FnZXMnKTtcbiAgICAgICAgfVxuICAgICAgfTsgLy8gR2V0IEFsbCBJbmJveCBtZXNzYWdlc1xuXG5cbiAgICAgIHRoaXMuZ2V0QWxsSW5ib3hNZXNzYWdlcyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldEluYm94TWVzc2FnZXMoKTtcbiAgICAgIH07IC8vIEdldCBvbmx5IFVucmVhZCBtZXNzYWdlc1xuXG5cbiAgICAgIHRoaXMuZ2V0VW5yZWFkSW5ib3hNZXNzYWdlcyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCRjdC5pbmJveCkge1xuICAgICAgICAgIHJldHVybiAkY3QuaW5ib3gudW52aWV3ZWRNZXNzYWdlcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmRlYnVnKCdObyB1bnJlYWQgbWVzc2FnZXMnKTtcbiAgICAgICAgfVxuICAgICAgfTsgLy8gR2V0IG1lc3NhZ2Ugb2JqZWN0IGJlbG9uZ2luZyB0byB0aGUgZ2l2ZW4gbWVzc2FnZSBpZCBvbmx5LiBNZXNzYWdlIGlkIHNob3VsZCBiZSBhIFN0cmluZ1xuXG5cbiAgICAgIHRoaXMuZ2V0SW5ib3hNZXNzYWdlRm9ySWQgPSBtZXNzYWdlSWQgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGdldEluYm94TWVzc2FnZXMoKTtcblxuICAgICAgICBpZiAoKG1lc3NhZ2VJZCAhPT0gbnVsbCB8fCBtZXNzYWdlSWQgIT09ICcnKSAmJiBtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eShtZXNzYWdlSWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG1lc3NhZ2VzW21lc3NhZ2VJZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5lcnJvcignTm8gbWVzc2FnZSBhdmFpbGFibGUgZm9yIG1lc3NhZ2UgSWQgJyArIG1lc3NhZ2VJZCk7XG4gICAgICAgIH1cbiAgICAgIH07IC8vIERlbGV0ZSBtZXNzYWdlIGZyb20gdGhlIEluYm94LiBNZXNzYWdlIGlkIHNob3VsZCBiZSBhIFN0cmluZ1xuICAgICAgLy8gSWYgdGhlIG1lc3NhZ2UgdG8gYmUgZGVsZXRlZCBpcyB1bnZpZXdlZCB0aGVuIGRlY3JlbWVudCB0aGUgYmFkZ2UgY291bnQsIGRlbGV0ZSB0aGUgbWVzc2FnZSBmcm9tIHVudmlld2VkTWVzc2FnZXMgbGlzdFxuICAgICAgLy8gVGhlbiByZW1vdmUgdGhlIG1lc3NhZ2UgZnJvbSBsb2NhbCBzdG9yYWdlIGFuZCB1cGRhdGUgY29va2llXG5cblxuICAgICAgdGhpcy5kZWxldGVJbmJveE1lc3NhZ2UgPSBtZXNzYWdlSWQgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGdldEluYm94TWVzc2FnZXMoKTtcblxuICAgICAgICBpZiAoKG1lc3NhZ2VJZCAhPT0gbnVsbCB8fCBtZXNzYWdlSWQgIT09ICcnKSAmJiBtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eShtZXNzYWdlSWQpKSB7XG4gICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjdC13ZWItaW5ib3gnKS5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKG1lc3NhZ2VJZCk7XG5cbiAgICAgICAgICBpZiAobWVzc2FnZXNbbWVzc2FnZUlkXS52aWV3ZWQgPT09IDApIHtcbiAgICAgICAgICAgICRjdC5pbmJveC51bnZpZXdlZENvdW50ZXItLTtcbiAgICAgICAgICAgIGRlbGV0ZSAkY3QuaW5ib3gudW52aWV3ZWRNZXNzYWdlc1ttZXNzYWdlSWRdO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vudmlld2VkQmFkZ2UnKS5pbm5lclRleHQgPSAkY3QuaW5ib3gudW52aWV3ZWRDb3VudGVyO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vudmlld2VkQmFkZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJGN0LmluYm94LnVudmlld2VkQ291bnRlciA+IDAgPyAnZmxleCcgOiAnbm9uZSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWwgJiYgZWwucmVtb3ZlKCk7XG4gICAgICAgICAgZGVsZXRlIG1lc3NhZ2VzW21lc3NhZ2VJZF07XG4gICAgICAgICAgc2F2ZUluYm94TWVzc2FnZXMobWVzc2FnZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZXJyb3IoJ05vIG1lc3NhZ2UgYXZhaWxhYmxlIGZvciBtZXNzYWdlIElkICcgKyBtZXNzYWdlSWQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLyogTWFyayBNZXNzYWdlIGFzIFJlYWQuIE1lc3NhZ2UgaWQgc2hvdWxkIGJlIGEgU3RyaW5nXG4gICAgICAgLSBDaGVjayBpZiB0aGUgbWVzc2FnZSBJZCBleGlzdCBpbiB0aGUgdW5yZWFkIG1lc3NhZ2UgbGlzdFxuICAgICAgIC0gUmVtb3ZlIHRoZSB1bnJlYWQgbWFya2VyLCB1cGRhdGUgdGhlIHZpZXdlZCBmbGFnLCBkZWNyZW1lbnQgdGhlIGJhZ2UgQ291bnRcbiAgICAgICAtIHJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCAqL1xuXG5cbiAgICAgIHRoaXMubWFya1JlYWRJbmJveE1lc3NhZ2UgPSBtZXNzYWdlSWQgPT4ge1xuICAgICAgICBjb25zdCB1bnJlYWRNc2cgPSAkY3QuaW5ib3gudW52aWV3ZWRNZXNzYWdlcztcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRJbmJveE1lc3NhZ2VzKCk7XG5cbiAgICAgICAgaWYgKChtZXNzYWdlSWQgIT09IG51bGwgfHwgbWVzc2FnZUlkICE9PSAnJykgJiYgdW5yZWFkTXNnLmhhc093blByb3BlcnR5KG1lc3NhZ2VJZCkpIHtcbiAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2N0LXdlYi1pbmJveCcpLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQobWVzc2FnZUlkKTtcblxuICAgICAgICAgIGlmIChlbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZWwuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndW5yZWFkTWFya2VyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtZXNzYWdlc1ttZXNzYWdlSWRdLnZpZXdlZCA9IDE7XG5cbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vudmlld2VkQmFkZ2UnKSkge1xuICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW52aWV3ZWRCYWRnZScpLmlubmVyVGV4dCkgLSAxO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vudmlld2VkQmFkZ2UnKS5pbm5lclRleHQgPSBjb3VudGVyO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vudmlld2VkQmFkZ2UnKS5zdHlsZS5kaXNwbGF5ID0gY291bnRlciA+IDAgPyAnZmxleCcgOiAnbm9uZSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQoe1xuICAgICAgICAgICAgbXNnSWQ6IG1lc3NhZ2VzW21lc3NhZ2VJZF0ud3pya19pZCxcbiAgICAgICAgICAgIHBpdm90SWQ6IG1lc3NhZ2VzW21lc3NhZ2VJZF0ucGl2b3RJZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgICRjdC5pbmJveC51bnZpZXdlZENvdW50ZXItLTtcbiAgICAgICAgICBkZWxldGUgJGN0LmluYm94LnVudmlld2VkTWVzc2FnZXNbbWVzc2FnZUlkXTtcbiAgICAgICAgICBzYXZlSW5ib3hNZXNzYWdlcyhtZXNzYWdlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5lcnJvcignTm8gbWVzc2FnZSBhdmFpbGFibGUgZm9yIG1lc3NhZ2UgSWQgJyArIG1lc3NhZ2VJZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKiBNYXJrIE1lc3NhZ2UgYXMgUmVhZC4gbWVzc2FnZUlkcyBzaG91bGQgYmUgYSBhbiBhcnJheSBvZiBzdHJpbmcgKi9cblxuXG4gICAgICB0aGlzLm1hcmtSZWFkSW5ib3hNZXNzYWdlc0ZvcklkcyA9IG1lc3NhZ2VJZHMgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlSWRzKSkge1xuICAgICAgICAgIGZvciAodmFyIGlkID0gMDsgaWQgPCBtZXNzYWdlSWRzLmxlbmd0aDsgaWQrKykge1xuICAgICAgICAgICAgdGhpcy5tYXJrUmVhZEluYm94TWVzc2FnZShtZXNzYWdlSWRzW2lkXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLyogTWFyayBhbGwgbWVzc2FnZXMgYXMgcmVhZFxuICAgICAgICAtIEdldCB0aGUgY291bnQgb2YgdW5yZWFkIG1lc3NhZ2VzLCB1cGRhdGUgdW5yZWFkIG1hcmtlciBzdHlsZVxuICAgICAgICAtIHJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCwgdXBkYXRlIHRoZSBiYWRnZSBjb3VudCBhbmQgc3R5bGVcbiAgICAgICovXG5cblxuICAgICAgdGhpcy5tYXJrUmVhZEFsbEluYm94TWVzc2FnZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdW5yZWFkTXNnID0gJGN0LmluYm94LnVudmlld2VkTWVzc2FnZXM7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZ2V0SW5ib3hNZXNzYWdlcygpO1xuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh1bnJlYWRNc2cpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBtc2dJZHMgPSBPYmplY3Qua2V5cyh1bnJlYWRNc2cpO1xuICAgICAgICAgIG1zZ0lkcy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2N0LXdlYi1pbmJveCcpLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoa2V5KTtcblxuICAgICAgICAgICAgaWYgKGVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGVsLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3VucmVhZE1hcmtlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzW2tleV0udmlld2VkID0gMTtcbiAgICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uVmlld2VkKHtcbiAgICAgICAgICAgICAgbXNnSWQ6IG1lc3NhZ2VzW2tleV0ud3pya19pZCxcbiAgICAgICAgICAgICAgcGl2b3RJZDogbWVzc2FnZXNba2V5XS53enJrX3Bpdm90XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW52aWV3ZWRCYWRnZScpLmlubmVyVGV4dCA9IDA7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vudmlld2VkQmFkZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIHNhdmVJbmJveE1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgICAgICAgICAkY3QuaW5ib3gudW52aWV3ZWRDb3VudGVyID0gMDtcbiAgICAgICAgICAkY3QuaW5ib3gudW52aWV3ZWRNZXNzYWdlcyA9IHt9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZGVidWcoJ0FsbCBtZXNzYWdlcyBhcmUgYWxyZWFkeSByZWFkJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMudG9nZ2xlSW5ib3ggPSBlID0+IHtcbiAgICAgICAgdmFyIF8kY3QkaW5ib3g7XG5cbiAgICAgICAgcmV0dXJuIChfJGN0JGluYm94ID0gJGN0LmluYm94KSA9PT0gbnVsbCB8fCBfJGN0JGluYm94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJGN0JGluYm94LnRvZ2dsZUluYm94KGUpO1xuICAgICAgfTsgLy8gbWV0aG9kIGZvciBub3RpZmljYXRpb24gdmlld2VkXG5cblxuICAgICAgdGhpcy5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQgPSBkZXRhaWwgPT4ge1xuICAgICAgICBwcm9jZXNzTm90aWZpY2F0aW9uRXZlbnQoTk9USUZJQ0FUSU9OX1ZJRVdFRCwgZGV0YWlsKTtcbiAgICAgIH07IC8vIG1ldGhvZCBmb3Igbm90aWZpY2F0aW9uIGNsaWNrZWRcblxuXG4gICAgICB0aGlzLnJlbmRlck5vdGlmaWNhdGlvbkNsaWNrZWQgPSBkZXRhaWwgPT4ge1xuICAgICAgICBwcm9jZXNzTm90aWZpY2F0aW9uRXZlbnQoTk9USUZJQ0FUSU9OX0NMSUNLRUQsIGRldGFpbCk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwcm9jZXNzTm90aWZpY2F0aW9uRXZlbnQgPSAoZXZlbnROYW1lLCBldmVudERldGFpbCkgPT4ge1xuICAgICAgICBpZiAoIWV2ZW50RGV0YWlsIHx8ICFldmVudERldGFpbC5tc2dJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YS50eXBlID0gJ2V2ZW50JztcbiAgICAgICAgZGF0YS5ldnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICBkYXRhLmV2dERhdGEgPSB7XG4gICAgICAgICAgW1daUktfSURdOiBldmVudERldGFpbC5tc2dJZFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChldmVudERldGFpbC5waXZvdElkKSB7XG4gICAgICAgICAgZGF0YS5ldnREYXRhID0geyAuLi5kYXRhLmV2dERhdGEsXG4gICAgICAgICAgICB3enJrX3Bpdm90OiBldmVudERldGFpbC5waXZvdElkXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudERldGFpbC53enJrX3NsaWRlTm8pIHtcbiAgICAgICAgICBkYXRhLmV2dERhdGEgPSB7IC4uLmRhdGEuZXZ0RGF0YSxcbiAgICAgICAgICAgIHd6cmtfc2xpZGVObzogZXZlbnREZXRhaWwud3pya19zbGlkZU5vXG4gICAgICAgICAgfTtcbiAgICAgICAgfSAvLyBBZGRpbmcga3YgcGFpciB0byBldmVudCBkYXRhXG5cblxuICAgICAgICBpZiAoZXZlbnREZXRhaWwua3YgJiYgZXZlbnREZXRhaWwua3YgIT09IG51bGwgJiYgZXZlbnREZXRhaWwua3YgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGV2ZW50RGV0YWlsLmt2KSB7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoV1pSS19QUkVGSVgpKSB7XG4gICAgICAgICAgICAgIGRhdGEuZXZ0RGF0YSA9IHsgLi4uZGF0YS5ldnREYXRhLFxuICAgICAgICAgICAgICAgIFtrZXldOiBldmVudERldGFpbC5rdltrZXldXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIEFkZGluZyBtc2dDVGt2IHRvIGV2ZW50IGRhdGFcblxuXG4gICAgICAgIGlmIChldmVudERldGFpbC5tc2dDVGt2ICYmIGV2ZW50RGV0YWlsLm1zZ0NUa3YgIT09IG51bGwgJiYgZXZlbnREZXRhaWwubXNnQ1RrdiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZXZlbnREZXRhaWwubXNnQ1Rrdikge1xuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKFdaUktfUFJFRklYKSkge1xuICAgICAgICAgICAgICBkYXRhLmV2dERhdGEgPSB7IC4uLmRhdGEuZXZ0RGF0YSxcbiAgICAgICAgICAgICAgICBba2V5XTogZXZlbnREZXRhaWwubXNnQ1RrdltrZXldXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLnByb2Nlc3NFdmVudChkYXRhKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0TG9nTGV2ZWwgPSBsID0+IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5sb2dMZXZlbCA9IE51bWJlcihsKTtcblxuICAgICAgICBpZiAobCA9PT0gMykge1xuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLldaUktfRCA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBzZXNzaW9uU3RvcmFnZS5XWlJLX0Q7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICogQHBhcmFtIHt9IGtleVxuICAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICAqL1xuXG5cbiAgICAgIHRoaXMuaGFuZGxlSW5jcmVtZW50VmFsdWUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnByb2ZpbGUuX2hhbmRsZUluY3JlbWVudERlY3JlbWVudFZhbHVlKGtleSwgdmFsdWUsIENPTU1BTkRfSU5DUkVNRU5UKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuaGFuZGxlRGVjcmVtZW50VmFsdWUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnByb2ZpbGUuX2hhbmRsZUluY3JlbWVudERlY3JlbWVudFZhbHVlKGtleSwgdmFsdWUsIENPTU1BTkRfREVDUkVNRU5UKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0TXVsdGlWYWx1ZXNGb3JLZXkgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICB0aGlzLnByb2ZpbGUuX2hhbmRsZU11bHRpVmFsdWVTZXQoa2V5LCB2YWx1ZSwgQ09NTUFORF9TRVQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NldE11bHRpVmFsdWVzRm9yS2V5IHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIHZhbHVlIG9mIHR5cGUgYXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5hZGRNdWx0aVZhbHVlRm9yS2V5ID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMucHJvZmlsZS5faGFuZGxlTXVsdGlWYWx1ZUFkZChrZXksIHZhbHVlLCBDT01NQU5EX0FERCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignYWRkTXVsdGlWYWx1ZUZvcktleSBzaG91bGQgYmUgY2FsbGVkIHdpdGggYSB2YWx1ZSBvZiB0eXBlIHN0cmluZyBvciBudW1iZXIuJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYWRkTXVsdGlWYWx1ZXNGb3JLZXkgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICB0aGlzLnByb2ZpbGUuX2hhbmRsZU11bHRpVmFsdWVBZGQoa2V5LCB2YWx1ZSwgQ09NTUFORF9BREQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2FkZE11bHRpVmFsdWVzRm9yS2V5IHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIHZhbHVlIG9mIHR5cGUgYXJyYXkuJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVtb3ZlTXVsdGlWYWx1ZUZvcktleSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLnByb2ZpbGUuX2hhbmRsZU11bHRpVmFsdWVSZW1vdmUoa2V5LCB2YWx1ZSwgQ09NTUFORF9SRU1PVkUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3JlbW92ZU11bHRpVmFsdWVGb3JLZXkgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgdmFsdWUgb2YgdHlwZSBzdHJpbmcgb3IgbnVtYmVyLicpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnJlbW92ZU11bHRpVmFsdWVzRm9yS2V5ID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5wcm9maWxlLl9oYW5kbGVNdWx0aVZhbHVlUmVtb3ZlKGtleSwgdmFsdWUsIENPTU1BTkRfUkVNT1ZFKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdyZW1vdmVNdWx0aVZhbHVlc0ZvcktleSBzaG91bGQgYmUgY2FsbGVkIHdpdGggYSB2YWx1ZSBvZiB0eXBlIGFycmF5LicpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnJlbW92ZVZhbHVlRm9yS2V5ID0ga2V5ID0+IHtcbiAgICAgICAgdGhpcy5wcm9maWxlLl9oYW5kbGVNdWx0aVZhbHVlRGVsZXRlKGtleSwgQ09NTUFORF9ERUxFVEUpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uID0gKHN1YnNjcmlwdGlvbiwgcmVFbmNvZGVkLCBmZXRjaEdyb3VwcykgPT4ge1xuICAgICAgICBoYW5kbGVFbWFpbFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24sIHJlRW5jb2RlZCwgZmV0Y2hHcm91cHMsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSk7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGxhdFxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGxuZ1xuICAgICAgICogQHBhcmFtIHtjYWxsYmFjayBmdW5jdGlvbn0gaGFuZGxlQ29vcmRpbmF0ZXNcbiAgICAgICAqIEByZXR1cm5zXG4gICAgICAqL1xuXG5cbiAgICAgIHRoaXMuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbiAobGF0LCBsbmcpIHtcbiAgICAgICAgLy8gbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSBzaG91bGQgYmUgbnVtYmVyIHR5cGVcbiAgICAgICAgaWYgKGxhdCAmJiB0eXBlb2YgbGF0ICE9PSAnbnVtYmVyJyB8fCBsbmcgJiYgdHlwZW9mIGxuZyAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTGF0aXR1ZGUgYW5kIExvbmdpdHVkZSBtdXN0IGJlIG9mIG51bWJlciB0eXBlJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxhdCAmJiBsbmcpIHtcbiAgICAgICAgICAvLyB2YWxpZCBsYXRpdHVkZSByYW5nZXMgYncgKy05MFxuICAgICAgICAgIGlmIChsYXQgPD0gLTkwIHx8IGxhdCA+IDkwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQSB2YWlkIGxhdGl0dWRlIG11c3QgcmFuZ2UgYmV0d2VlbiAtOTAgYW5kIDkwJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSAvLyB2YWxpZCBsb25naXR1ZGUgcmFuZ2VzIGJ3ICstMTgwXG5cblxuICAgICAgICAgIGlmIChsbmcgPD0gLTE4MCB8fCBsbmcgPiAxODApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBIHZhbGlkIGxvbmdpdHVkZSBtdXN0IHJhbmdlIGJldHdlZW4gLTE4MCBhbmQgMTgwJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGN0LmxvY2F0aW9uID0ge1xuICAgICAgICAgICAgTGF0aXR1ZGU6IGxhdCxcbiAgICAgICAgICAgIExvbmdpdHVkZTogbG5nXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2VuZExvY2F0aW9uRGF0YSlbX3NlbmRMb2NhdGlvbkRhdGFdKHtcbiAgICAgICAgICAgIExhdGl0dWRlOiBsYXQsXG4gICAgICAgICAgICBMb25naXR1ZGU6IGxuZ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHtcbiAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oc2hvd1Bvc2l0aW9uLmJpbmQodGhpcyksIHNob3dFcnJvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHNob3dQb3NpdGlvbihwb3NpdGlvbikge1xuICAgICAgICB2YXIgbGF0ID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgICAgICB2YXIgbG5nID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgJGN0LmxvY2F0aW9uID0ge1xuICAgICAgICAgIExhdGl0dWRlOiBsYXQsXG4gICAgICAgICAgTG9uZ2l0dWRlOiBsbmdcbiAgICAgICAgfTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NlbmRMb2NhdGlvbkRhdGEpW19zZW5kTG9jYXRpb25EYXRhXSh7XG4gICAgICAgICAgTGF0aXR1ZGU6IGxhdCxcbiAgICAgICAgICBMb25naXR1ZGU6IGxuZ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvd0Vycm9yKGVycm9yKSB7XG4gICAgICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICAgIGNhc2UgZXJyb3IuUEVSTUlTU0lPTl9ERU5JRUQ6XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlciBkZW5pZWQgdGhlIHJlcXVlc3QgZm9yIEdlb2xvY2F0aW9uLicpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIGVycm9yLlBPU0lUSU9OX1VOQVZBSUxBQkxFOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvY2F0aW9uIGluZm9ybWF0aW9uIGlzIHVuYXZhaWxhYmxlLicpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIGVycm9yLlRJTUVPVVQ6XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGhlIHJlcXVlc3QgdG8gZ2V0IHVzZXIgbG9jYXRpb24gdGltZWQgb3V0LicpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIGVycm9yLlVOS05PV05fRVJST1I6XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFwaSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYXBpKVtfYXBpXTtcblxuICAgICAgYXBpLmxvZ291dCA9IHRoaXMubG9nb3V0O1xuICAgICAgYXBpLmNsZWFyID0gdGhpcy5jbGVhcjtcblxuICAgICAgYXBpLmNsb3NlSWZyYW1lID0gKGNhbXBhaWduSWQsIGRpdklkSWdub3JlZCkgPT4ge1xuICAgICAgICBjbG9zZUlmcmFtZShjYW1wYWlnbklkLCBkaXZJZElnbm9yZWQsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXS5zZXNzaW9uSWQpO1xuICAgICAgfTtcblxuICAgICAgYXBpLmVuYWJsZVdlYlB1c2ggPSAoZW5hYmxlZCwgYXBwbGljYXRpb25TZXJ2ZXJLZXkpID0+IHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLl9lbmFibGVXZWJQdXNoKGVuYWJsZWQsIGFwcGxpY2F0aW9uU2VydmVyS2V5KTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS50ciA9IG1zZyA9PiB7XG4gICAgICAgIF90cihtc2csIHtcbiAgICAgICAgICBkZXZpY2U6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDMpW19kZXZpY2UkM10sXG4gICAgICAgICAgc2Vzc2lvbjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLFxuICAgICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XSxcbiAgICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBhcGkuc2V0RW51bSA9IGVudW1WYWwgPT4ge1xuICAgICAgICBzZXRFbnVtKGVudW1WYWwsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0pO1xuICAgICAgfTtcblxuICAgICAgYXBpLmlzX29ubG9hZGNhbGxlZCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25sb2FkY2FsbGVkKVtfb25sb2FkY2FsbGVkXSA9PT0gMTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5zdWJFbWFpbCA9IHJlRW5jb2RlZCA9PiB7XG4gICAgICAgIF9oYW5kbGVFbWFpbFN1YnNjcmlwdGlvbignMScsIHJlRW5jb2RlZCk7XG4gICAgICB9O1xuXG4gICAgICBhcGkuZ2V0RW1haWwgPSAocmVFbmNvZGVkLCB3aXRoR3JvdXBzKSA9PiB7XG4gICAgICAgIF9oYW5kbGVFbWFpbFN1YnNjcmlwdGlvbignLTEnLCByZUVuY29kZWQsIHdpdGhHcm91cHMpO1xuICAgICAgfTtcblxuICAgICAgYXBpLnVuU3ViRW1haWwgPSByZUVuY29kZWQgPT4ge1xuICAgICAgICBfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24oJzAnLCByZUVuY29kZWQpO1xuICAgICAgfTtcblxuICAgICAgYXBpLnVuc3ViRW1haWxHcm91cHMgPSByZUVuY29kZWQgPT4ge1xuICAgICAgICAkY3QudW5zdWJHcm91cHMgPSBbXTtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdC11bnN1Yi1ncm91cC1pbnB1dC1pdGVtJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcblxuICAgICAgICAgIGlmIChlbGVtZW50Lm5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IGVsZW1lbnQubmFtZSxcbiAgICAgICAgICAgICAgaXNVbnN1YnNjcmliZWQ6IGVsZW1lbnQuY2hlY2tlZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRjdC51bnN1Ykdyb3Vwcy5wdXNoKGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF9oYW5kbGVFbWFpbFN1YnNjcmlwdGlvbihHUk9VUF9TVUJTQ1JJUFRJT05fUkVRVUVTVF9JRCwgcmVFbmNvZGVkKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5zZXRTdWJzY3JpcHRpb25Hcm91cHMgPSB2YWx1ZSA9PiB7XG4gICAgICAgICRjdC51bnN1Ykdyb3VwcyA9IHZhbHVlO1xuICAgICAgfTtcblxuICAgICAgYXBpLmdldFN1YnNjcmlwdGlvbkdyb3VwcyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuICRjdC51bnN1Ykdyb3VwcztcbiAgICAgIH07XG5cbiAgICAgIGFwaS5jaGFuZ2VTdWJzY3JpcHRpb25Hcm91cHMgPSAocmVFbmNvZGVkLCB1cGRhdGVkR3JvdXBzKSA9PiB7XG4gICAgICAgIGFwaS5zZXRTdWJzY3JpcHRpb25Hcm91cHModXBkYXRlZEdyb3Vwcyk7XG5cbiAgICAgICAgX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uKEdST1VQX1NVQlNDUklQVElPTl9SRVFVRVNUX0lELCByZUVuY29kZWQpO1xuICAgICAgfTtcblxuICAgICAgYXBpLmlzR2xvYmFsVW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAkY3QuZ2xvYmFsVW5zdWJzY3JpYmU7XG4gICAgICB9O1xuXG4gICAgICBhcGkuc2V0SXNHbG9iYWxVbnN1YnNjcmliZSA9IHZhbHVlID0+IHtcbiAgICAgICAgJGN0Lmdsb2JhbFVuc3Vic2NyaWJlID0gdmFsdWU7XG4gICAgICB9O1xuXG4gICAgICBhcGkuc2V0VXBkYXRlZENhdGVnb3J5TG9uZyA9IHByb2ZpbGUgPT4ge1xuICAgICAgICBpZiAocHJvZmlsZVtjYXRlZ29yeUxvbmdLZXldKSB7XG4gICAgICAgICAgJGN0LnVwZGF0ZWRDYXRlZ29yeUxvbmcgPSBwcm9maWxlW2NhdGVnb3J5TG9uZ0tleV07XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHdpbmRvdy4kQ0xUUF9XUiA9IHdpbmRvdy4kV1pSS19XUiA9IGFwaTtcblxuICAgICAgaWYgKChfY2xldmVydGFwJGFjY291bnQ1ID0gY2xldmVydGFwLmFjY291bnQpID09PSBudWxsIHx8IF9jbGV2ZXJ0YXAkYWNjb3VudDUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbGV2ZXJ0YXAkYWNjb3VudDVbMF0uaWQpIHtcbiAgICAgICAgLy8gVGhlIGFjY291bnRJZCBpcyBwcmVzZW50IHNvIGNhbiBpbml0IHdpdGggZW1wdHkgdmFsdWVzLlxuICAgICAgICAvLyBOZWVkZWQgdG8gbWFpbnRhaW4gYmFja3dhcmQgY29tcGF0YWJpbGl0eSB3aXRoIGxlZ2FjeSBpbXBsZW1lbnRhdGlvbnMuXG4gICAgICAgIC8vIE5wbSBpbXBvcnRzL3JlcXVpcmUgd2lsbCBuZWVkIHRvIGNhbGwgaW5pdCBleHBsaWN0bHkgd2l0aCBhY2NvdW50SWRcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICB9XG4gICAgfSAvLyBzdGFydHMgaGVyZVxuXG5cbiAgICBpbml0KGFjY291bnRJZCwgcmVnaW9uLCB0YXJnZXREb21haW4sIHRva2VuKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmxvYWRjYWxsZWQpW19vbmxvYWRjYWxsZWRdID09PSAxKSB7XG4gICAgICAgIC8vIGFscmVhZHkgaW5pdGFpbHNlZFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNoZWNrQnVpbGRlcihfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLCBhY2NvdW50SWQpO1xuICAgICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKCdXWlJLX1AnLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuXG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5pZCkge1xuICAgICAgICBpZiAoIWFjY291bnRJZCkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZXJyb3IoRU1CRURfRVJST1IpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmlkID0gYWNjb3VudElkO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uY29va2llTmFtZSA9IFNDT09LSUVfUFJFRklYICsgJ18nICsgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmlkO1xuXG4gICAgICBpZiAocmVnaW9uKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5yZWdpb24gPSByZWdpb247XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXREb21haW4pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLnRhcmdldERvbWFpbiA9IHRhcmdldERvbWFpbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS50b2tlbiA9IHRva2VuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjdXJyTG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmO1xuICAgICAgY29uc3QgdXJsUGFyYW1zID0gZ2V0VVJMUGFyYW1zKGN1cnJMb2NhdGlvbi50b0xvd2VyQ2FzZSgpKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXG4gICAgICBpZiAodHlwZW9mIHVybFBhcmFtcy5lICE9PSAndW5kZWZpbmVkJyAmJiB1cmxQYXJhbXMud3pya19leCA9PSAnMCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkY3QuaXNQcml2YWN5QXJyUHVzaGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKCRjdC5wcml2YWN5QXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnByaXZhY3kucHVzaCgkY3QucHJpdmFjeUFycmF5KTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzT2xkVmFsdWVzKVtfcHJvY2Vzc09sZFZhbHVlc10oKTtcblxuICAgICAgdGhpcy5wYWdlQ2hhbmdlZCgpO1xuICAgICAgY29uc3QgYmFja3VwSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdLmdjb29raWUpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGJhY2t1cEludGVydmFsKTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5wcm9jZXNzQmFja3VwRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDApO1xuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1NwYSlbX2lzU3BhXSkge1xuICAgICAgICAvLyBsaXN0ZW4gdG8gY2xpY2sgb24gdGhlIGRvY3VtZW50IGFuZCBjaGVjayBpZiBVUkwgaGFzIGNoYW5nZWQuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQpW19ib3VuZENoZWNrUGFnZUNoYW5nZWRdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlbW92ZSBleGlzdGluZyBjbGljayBsaXN0ZW5lcnMgaWYgYW55XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQpW19ib3VuZENoZWNrUGFnZUNoYW5nZWRdKTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmxvYWRjYWxsZWQpW19vbmxvYWRjYWxsZWRdID0gMTtcbiAgICB9IC8vIHByb2Nlc3MgdGhlIG9wdGlvbiBhcnJheSBwcm92aWRlZCB0byB0aGUgY2xldmVydGFwIG9iamVjdFxuICAgIC8vIGFmdGVyIGl0cyBiZWVuIGluaXRpYWxpemVkXG5cblxuICAgIHBhZ2VDaGFuZ2VkKCkge1xuICAgICAgY29uc3QgY3VyckxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCB1cmxQYXJhbXMgPSBnZXRVUkxQYXJhbXMoY3VyckxvY2F0aW9uLnRvTG93ZXJDYXNlKCkpOyAvLyAtLSB1cGRhdGUgcGFnZSBjb3VudFxuXG4gICAgICBjb25zdCBvYmogPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuXG4gICAgICBsZXQgcGdDb3VudCA9IHR5cGVvZiBvYmoucCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogb2JqLnA7XG4gICAgICBvYmoucCA9ICsrcGdDb3VudDtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLnNldFNlc3Npb25Db29raWVPYmplY3Qob2JqKTsgLy8gLS0gdXBkYXRlIHBhZ2UgY291bnRcblxuXG4gICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgbGV0IHJlZmVycmVyRG9tYWluID0gZ2V0RG9tYWluKGRvY3VtZW50LnJlZmVycmVyKTtcblxuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gcmVmZXJyZXJEb21haW4pIHtcbiAgICAgICAgY29uc3QgbWF4TGVuID0gMTIwO1xuXG4gICAgICAgIGlmIChyZWZlcnJlckRvbWFpbiAhPT0gJycpIHtcbiAgICAgICAgICByZWZlcnJlckRvbWFpbiA9IHJlZmVycmVyRG9tYWluLmxlbmd0aCA+IG1heExlbiA/IHJlZmVycmVyRG9tYWluLnN1YnN0cmluZygwLCBtYXhMZW4pIDogcmVmZXJyZXJEb21haW47XG4gICAgICAgICAgZGF0YS5yZWZlcnJlciA9IHJlZmVycmVyRG9tYWluO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHV0bVNvdXJjZSA9IHVybFBhcmFtcy51dG1fc291cmNlIHx8IHVybFBhcmFtcy53enJrX3NvdXJjZTtcblxuICAgICAgICBpZiAodHlwZW9mIHV0bVNvdXJjZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB1dG1Tb3VyY2UgPSB1dG1Tb3VyY2UubGVuZ3RoID4gbWF4TGVuID8gdXRtU291cmNlLnN1YnN0cmluZygwLCBtYXhMZW4pIDogdXRtU291cmNlO1xuICAgICAgICAgIGRhdGEudXMgPSB1dG1Tb3VyY2U7IC8vIHV0bV9zb3VyY2VcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1dG1NZWRpdW0gPSB1cmxQYXJhbXMudXRtX21lZGl1bSB8fCB1cmxQYXJhbXMud3pya19tZWRpdW07XG5cbiAgICAgICAgaWYgKHR5cGVvZiB1dG1NZWRpdW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdXRtTWVkaXVtID0gdXRtTWVkaXVtLmxlbmd0aCA+IG1heExlbiA/IHV0bU1lZGl1bS5zdWJzdHJpbmcoMCwgbWF4TGVuKSA6IHV0bU1lZGl1bTtcbiAgICAgICAgICBkYXRhLnVtID0gdXRtTWVkaXVtOyAvLyB1dG1fbWVkaXVtXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdXRtQ2FtcGFpZ24gPSB1cmxQYXJhbXMudXRtX2NhbXBhaWduIHx8IHVybFBhcmFtcy53enJrX2NhbXBhaWduO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdXRtQ2FtcGFpZ24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdXRtQ2FtcGFpZ24gPSB1dG1DYW1wYWlnbi5sZW5ndGggPiBtYXhMZW4gPyB1dG1DYW1wYWlnbi5zdWJzdHJpbmcoMCwgbWF4TGVuKSA6IHV0bUNhbXBhaWduO1xuICAgICAgICAgIGRhdGEudWMgPSB1dG1DYW1wYWlnbjsgLy8gdXRtX2NhbXBhaWduXG4gICAgICAgIH0gLy8gYWxzbyBpbmRlcGVuZGVudGx5IHNlbmQgd3pya19tZWRpdW0gdG8gdGhlIGJhY2tlbmRcblxuXG4gICAgICAgIGlmICh0eXBlb2YgdXJsUGFyYW1zLnd6cmtfbWVkaXVtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHdtID0gdXJsUGFyYW1zLnd6cmtfbWVkaXVtO1xuXG4gICAgICAgICAgaWYgKHdtLm1hdGNoKC9eZW1haWwkfF5zb2NpYWwkfF5zZWFyY2gkLykpIHtcbiAgICAgICAgICAgIGRhdGEud20gPSB3bTsgLy8gd3pya19tZWRpdW1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcbiAgICAgIGRhdGEuY3BnID0gY3VyckxvY2F0aW9uO1xuICAgICAgZGF0YVtDQU1QX0NPT0tJRV9OQU1FXSA9IGdldENhbXBhaWduT2JqRm9yTGMoKTtcblxuICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmRhdGFQb3N0VVJMO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10uYWRkRmxhZ3MoZGF0YSk7IC8vIHNlbmQgZHN5bmMgZmxhZyB3aGVuIHBhZ2UgPSAxXG5cblxuICAgICAgaWYgKHBhcnNlSW50KGRhdGEucGcpID09PSAxKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb3ZlcnJpZGVEU3luY0ZsYWcpW19vdmVycmlkZURTeW5jRmxhZ10oZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgJ3BhZ2UnKTtcbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdKSk7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QpO1xuXG4gICAgICBpZiAocGFyc2VJbnQoZGF0YS5wZykgPT09IDEpIHtcbiAgICAgICAgdGhpcy5ldmVudC5wdXNoKFdaUktfRkVUQ0gsIHtcbiAgICAgICAgICB0OiA0XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ByZXZpb3VzVXJsKVtfcHJldmlvdXNVcmxdID0gY3VyckxvY2F0aW9uO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChwZ0NvdW50IDw9IDMpIHtcbiAgICAgICAgICAvLyBzZW5kIHBpbmcgZm9yIHVwIHRvIDMgcGFnZXNcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3BpbmdSZXF1ZXN0KVtfcGluZ1JlcXVlc3RdKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BpbmdDb250aW51b3VzKVtfaXNQaW5nQ29udGludW91c10oKSkge1xuICAgICAgICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcGluZ1JlcXVlc3QpW19waW5nUmVxdWVzdF0oKTtcbiAgICAgICAgICB9LCBDT05USU5VT1VTX1BJTkdfRlJFUV9JTl9NSUxMSVMpO1xuICAgICAgICB9XG4gICAgICB9LCBGSVJTVF9QSU5HX0ZSRVFfSU5fTUlMTElTKTtcbiAgICB9XG5cbiAgICBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUoKSB7XG4gICAgICByZXR1cm4gU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkgJiYgdGhpcy5lbmFibGVQZXJzb25hbGl6YXRpb247XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGFjY2Vzc29yLXBhaXJzXG4gICAgc2V0IHBvcHVwQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIHRoaXMucG9wdXBDYWxsYmFja3NbdGhpcy5wb3B1cEN1cnJlbnRXenJrSWRdID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBheWxvYWRcbiAgICAgKi9cblxuXG4gICAgLy8gb2ZmbGluZSBtb2RlXG5cbiAgICAvKipcbiAgICAgKiBldmVudHMgd2lsbCBiZSByZWNvcmRlZCBhbmQgcXVldWVkIGxvY2FsbHkgd2hlbiBwYXNzZWQgd2l0aCB0cnVlXG4gICAgICogYnV0IHdpbGwgbm90IGJlIHNlbnQgdG8gdGhlIHNlcnZlciB1bnRpbCBvZmZsaW5lIGlzIGRpc2FibGVkIGJ5IHBhc3NpbmcgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFyZ1xuICAgICAqL1xuICAgIHNldE9mZmxpbmUoYXJnKSB7XG4gICAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NldE9mZmxpbmUgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgdmFsdWUgb2YgdHlwZSBib29sZWFuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJGN0Lm9mZmxpbmUgPSBhcmc7IC8vIGlmIG9mZmxpbmUgaXMgZGlzYWJsZWRcbiAgICAgIC8vIHByb2Nlc3MgZXZlbnRzIGZyb20gY2FjaGVcblxuICAgICAgaWYgKCFhcmcpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLnByb2Nlc3NCYWNrdXBFdmVudHMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTREtWZXJzaW9uKCkge1xuICAgICAgcmV0dXJuICd3ZWItc2RrLXYxLjkuMic7XG4gICAgfVxuXG4gICAgZGVmaW5lVmFyaWFibGUobmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gVmFyaWFibGUuZGVmaW5lKG5hbWUsIGRlZmF1bHRWYWx1ZSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZVN0b3JlJDEpW192YXJpYWJsZVN0b3JlJDFdKTtcbiAgICB9XG5cbiAgICBzeW5jVmFyaWFibGVzKG9uU3luY1N1Y2Nlc3MsIG9uU3luY0ZhaWx1cmUpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmxvZ0xldmVsID09PSA0KSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlU3RvcmUkMSlbX3ZhcmlhYmxlU3RvcmUkMV0uc3luY1ZhcmlhYmxlcyhvblN5bmNTdWNjZXNzLCBvblN5bmNGYWlsdXJlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG0gPSAnQXBwIGxvZyBsZXZlbCBpcyBub3Qgc2V0IHRvIDQnO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZXJyb3IobSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihtKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hWYXJpYWJsZXMob25GZXRjaENhbGxiYWNrKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlU3RvcmUkMSlbX3ZhcmlhYmxlU3RvcmUkMV0uZmV0Y2hWYXJpYWJsZXMob25GZXRjaENhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBhZGRWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSQxKVtfdmFyaWFibGVTdG9yZSQxXS5hZGRWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGFkZE9uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSQxKVtfdmFyaWFibGVTdG9yZSQxXS5hZGRPbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfcHJvY2Vzc09sZFZhbHVlczIgPSBmdW5jdGlvbiBfcHJvY2Vzc09sZFZhbHVlczIoKSB7XG4gICAgdGhpcy5vblVzZXJMb2dpbi5fcHJvY2Vzc09sZFZhbHVlcygpO1xuXG4gICAgdGhpcy5wcml2YWN5Ll9wcm9jZXNzT2xkVmFsdWVzKCk7XG5cbiAgICB0aGlzLmV2ZW50Ll9wcm9jZXNzT2xkVmFsdWVzKCk7XG5cbiAgICB0aGlzLnByb2ZpbGUuX3Byb2Nlc3NPbGRWYWx1ZXMoKTtcblxuICAgIHRoaXMubm90aWZpY2F0aW9ucy5fcHJvY2Vzc09sZFZhbHVlcygpO1xuICB9O1xuXG4gIHZhciBfZGVib3VuY2UyID0gZnVuY3Rpb24gX2RlYm91bmNlMihmdW5jKSB7XG4gICAgbGV0IGRlbGF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAzMDA7XG4gICAgbGV0IHRpbWVvdXQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmMsIGRlbGF5KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBfY2hlY2tQYWdlQ2hhbmdlZDIgPSBmdW5jdGlvbiBfY2hlY2tQYWdlQ2hhbmdlZDIoKSB7XG4gICAgY29uc3QgZGVib3VuY2VkUGFnZUNoYW5nZWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RlYm91bmNlKVtfZGVib3VuY2VdKCgpID0+IHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ByZXZpb3VzVXJsKVtfcHJldmlvdXNVcmxdICE9PSBsb2NhdGlvbi5ocmVmKSB7XG4gICAgICAgIHRoaXMucGFnZUNoYW5nZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlYm91bmNlZFBhZ2VDaGFuZ2VkKCk7XG4gIH07XG5cbiAgdmFyIF9waW5nUmVxdWVzdDIgPSBmdW5jdGlvbiBfcGluZ1JlcXVlc3QyKCkge1xuICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5kYXRhUG9zdFVSTDtcblxuICAgIGxldCBkYXRhID0ge307XG4gICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcbiAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QSU5HKTtcbiAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSkpO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG4gIH07XG5cbiAgdmFyIF9pc1BpbmdDb250aW51b3VzMiA9IGZ1bmN0aW9uIF9pc1BpbmdDb250aW51b3VzMigpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdy53enJrX2QgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy53enJrX2QucGluZyA9PT0gJ2NvbnRpbnVvdXMnO1xuICB9O1xuXG4gIHZhciBfb3ZlcnJpZGVEU3luY0ZsYWcyID0gZnVuY3Rpb24gX292ZXJyaWRlRFN5bmNGbGFnMihkYXRhKSB7XG4gICAgaWYgKHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlKCkpIHtcbiAgICAgIGRhdGEuZHN5bmMgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3NlbmRMb2NhdGlvbkRhdGEyID0gZnVuY3Rpb24gX3NlbmRMb2NhdGlvbkRhdGEyKHBheWxvYWQpIHtcbiAgICAvLyBTZW5kIHRoZSB1cGRhdGVkIHZhbHVlIHRvIExDXG4gICAgbGV0IGRhdGEgPSB7fTtcbiAgICBkYXRhLmFmID0ge307XG4gICAgY29uc3QgcHJvZmlsZU9iaiA9IHt9O1xuICAgIGRhdGEudHlwZSA9ICdwcm9maWxlJztcblxuICAgIGlmIChwcm9maWxlT2JqLnR6ID09IG51bGwpIHtcbiAgICAgIHByb2ZpbGVPYmoudHogPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkubWF0Y2goLyhbQS1aXStbXFwrLV1bMC05XSspLylbMV07XG4gICAgfVxuXG4gICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcblxuICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocGF5bG9hZCk7XG4gICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgZGF0YS5hZltrZXldID0gcGF5bG9hZFtrZXldO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCRjdC5sb2NhdGlvbikge1xuICAgICAgZGF0YS5hZiA9IHsgLi4uZGF0YS5hZixcbiAgICAgICAgLi4uJGN0LmxvY2F0aW9uXG4gICAgICB9O1xuICAgIH1cblxuICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10uYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHRydWUpO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLmFkZEZsYWdzKGRhdGEpO1xuXG4gICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0pO1xuXG4gICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmRhdGFQb3N0VVJMO1xuXG4gICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcbiAgfTtcblxuICBjb25zdCBjbGV2ZXJ0YXAgPSBuZXcgQ2xldmVyVGFwKHdpbmRvdy5jbGV2ZXJ0YXApO1xuICB3aW5kb3cuY2xldmVydGFwID0gd2luZG93LndpenJvY2tldCA9IGNsZXZlcnRhcDtcblxuICByZXR1cm4gY2xldmVydGFwO1xuXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xldmVydGFwLmpzLm1hcFxuIiwiLyoqXG4gKiBMb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanMuZm91bmRhdGlvbi8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAqL1xuZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKSxcbiAgICBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpLFxuICAgIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG52YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgfVxuICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICBvYmpJc09iaiA9IGZhbHNlO1xuICB9XG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKHNlZW4pIHtcbiAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgYm9vbFRhZzpcbiAgICBjYXNlIGRhdGVUYWc6XG4gICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgY2FzZSBlcnJvclRhZzpcbiAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICBjYXNlIG1hcFRhZzpcbiAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gIH1cbiAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICogZXF1aXZhbGVudC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogb2JqZWN0ID09PSBvdGhlcjtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICogLy8gPT4gW1tdLCBbXV1cbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRXF1YWw7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKlxuICogTGVhbnBsdW0gQXJnc0J1aWxkZXIsIHVzZSB0byBjb25zdHJ1Y3QgcmVxdWVzdCBwYXlsb2FkLlxuICovXG52YXIgQXJnc0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJlcXVlc3QgYXJndW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXJnc0J1aWxkZXIoKSB7XG4gICAgICAgIHRoaXMuYXJnU3RyaW5nID0gJyc7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBnaXZlbiBrZXksIHZhbHVlIHRvIHRoZSBwYXlsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBmb3IgdGhlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSBmb3IgZ2l2ZW4ga2V5LlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfSBSZXR1cm5zIGFuIG9iamVjdCBvZiBBcmdzQnVpbGRlci5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFyZ1N0cmluZykge1xuICAgICAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0gJyYnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWwgPSAnJztcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHZhbCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbCA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0gXCJcIi5jb25jYXQoa2V5LCBcIj1cIikuY29uY2F0KHZhbCk7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYm9keSA9IGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgIGlmIChib2R5KSB7XG4gICAgICAgICAgICB0aGlzLl9ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIHRvIGF0dGFjaCBnaXZlbiBhcHBJZCBhbmQgYXBwS2V5IHRvIHJlcXVlc3QuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBhcHBJZCBUaGUgYXBwSWQgdG8gYXR0YWNoLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gY2xpZW50S2V5IFRoZSBhcHBLZXkgdG8gYXR0YWNoLlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfSBSZXR1cm5zIGFuIG9iamVjdCBvZiBBcmdzQnVpbGRlci5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYXR0YWNoQXBpS2V5cyA9IGZ1bmN0aW9uIChhcHBJZCwgY2xpZW50S2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BUFBfSUQsIGFwcElkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DTElFTlQsIENvbnN0YW50c18xLmRlZmF1bHQuQ0xJRU5UKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DTElFTlRfS0VZLCBjbGllbnRLZXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcmd1bWVudHMuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBBcmd1bWVudHMgc3RyaW5nLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJnU3RyaW5nO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcmd1bWVudCB2YWx1ZXMuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgYXJndW1lbnQgdmFsdWVzLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5idWlsZERpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyZ1ZhbHVlcztcbiAgICB9O1xuICAgIHJldHVybiBBcmdzQnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBBcmdzQnVpbGRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIEJyb3dzZXIgZGV0ZWN0aW9uLiBTb3VyY2U6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZGV0ZWN0Lmh0bWxcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGRldGVjdCB3aGljaCBicm93c2VyIGNsaWVudCBpcyB1c2luZy5cbiAqL1xudmFyIEJyb3dzZXJEZXRlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgb2JqZWN0IHdpdGggY3VycmVudCBicm93c2VyIHNldHRpbmdzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJEZXRlY3Rvcih3bmQpIHtcbiAgICAgICAgdGhpcy5icm93c2VyID0gdGhpcy5zZWFyY2hTdHJpbmcodGhpcy5nZXRCcm93c2VyRGF0YSh3bmQpKSB8fCAnVW5rbm93biBCcm93c2VyJztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gKHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHxcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLmFwcFZlcnNpb24pIHx8XG4gICAgICAgICAgICAnVW5rbm93biBWZXJzaW9uJyk7XG4gICAgICAgIHRoaXMuT1MgPSB0aGlzLnNlYXJjaFN0cmluZyh0aGlzLmdldE9TRGF0YSh3bmQpKSB8fCAnVW5rbm93biBPUyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoZXMgdGhlIGNsaWVudCdzIHN5c3RlbSB0byB0aGUgcHJlZGVmaW5lZCBzeXN0ZW0gbGlzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmb3VuZCBpZGVudGl0eSBzdHJpbmcuXG4gICAgICovXG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5zZWFyY2hTdHJpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhU3RyaW5nID0gZGF0YVtpXS5zdHJpbmc7XG4gICAgICAgICAgICB2YXIgZGF0YVByb3AgPSBkYXRhW2ldLnByb3A7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcgPSBkYXRhW2ldLnZlcnNpb25TZWFyY2ggfHwgZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIGlmIChkYXRhU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcuaW5kZXhPZihkYXRhW2ldLnN1YlN0cmluZykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFQcm9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIGdpdmVuIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVN0cmluZyBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBmb3VuZCBudW1iZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLnNlYXJjaFZlcnNpb24gPSBmdW5jdGlvbiAoZGF0YVN0cmluZykge1xuICAgICAgICBpZiAoIWRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZGF0YVN0cmluZy5pbmRleE9mKHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YVN0cmluZy5zdWJzdHJpbmcoaW5kZXggKyB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcubGVuZ3RoICsgMSkpO1xuICAgIH07XG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5nZXRCcm93c2VyRGF0YSA9IGZ1bmN0aW9uICh3bmQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0Nocm9tZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdDaHJvbWUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ09tbmlXZWInLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT21uaVdlYicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ09tbmlXZWIvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdDcmlPUycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdDaHJvbWUnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdDcmlPUycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnRnhpT1MnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRmlyZWZveCcsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ0Z4aU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBcHBsZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdTYWZhcmknLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvcDogd25kLm9wZXJhLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT3BlcmEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpQ2FiJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ2lDYWInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0tERScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdLb25xdWVyb3InLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0ZpcmVmb3gnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRmlyZWZveCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ2FtaW5vJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0NhbWlubycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01TSUUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRXhwbG9yZXInLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdNU0lFJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQgQnJvd3NlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0dlY2tvJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ01vemlsbGEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdydicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTW96aWxsYScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ01vemlsbGEnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuZ2V0T1NEYXRhID0gZnVuY3Rpb24gKHduZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdXaW4nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnV2luZG93cycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNYWMnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTWFjIE9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lQYWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpUGhvbmUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTGludXgnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTGludXgnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyRGV0ZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnJvd3NlckRldGVjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIE1FVEhPRFM6IHtcbiAgICAgICAgU1RBUlQ6ICdzdGFydCcsXG4gICAgICAgIFNUT1A6ICdzdG9wJyxcbiAgICAgICAgQURWQU5DRTogJ2FkdmFuY2UnLFxuICAgICAgICBUUkFDSzogJ3RyYWNrJyxcbiAgICAgICAgUEFVU0VfU0VTU0lPTjogJ3BhdXNlU2Vzc2lvbicsXG4gICAgICAgIFJFU1VNRV9TRVNTSU9OOiAncmVzdW1lU2Vzc2lvbicsXG4gICAgICAgIFBBVVNFX1NUQVRFOiAncGF1c2VTdGF0ZScsXG4gICAgICAgIFJFU1VNRV9TVEFURTogJ3Jlc3VtZVN0YXRlJyxcbiAgICAgICAgRE9XTkxPQURfRklMRTogJ2Rvd25sb2FkRmlsZScsXG4gICAgICAgIE1VTFRJOiAnbXVsdGknLFxuICAgICAgICBTRVRfVkFSUzogJ3NldFZhcnMnLFxuICAgICAgICBHRVRfVkFSUzogJ2dldFZhcnMnLFxuICAgICAgICBTRVRfVVNFUl9BVFRSSUJVVEVTOiAnc2V0VXNlckF0dHJpYnV0ZXMnLFxuICAgICAgICBTRVRfREVWSUNFX0FUVFJJQlVURVM6ICdzZXREZXZpY2VBdHRyaWJ1dGVzJyxcbiAgICAgICAgVVBMT0FEX0ZJTEU6ICd1cGxvYWRGaWxlJyxcbiAgICAgICAgUkVHSVNURVJfREVWSUNFOiAncmVnaXN0ZXJEZXZpY2UnLFxuICAgIH0sXG4gICAgU0RLX1ZFUlNJT046ICcxLjEzLjAnLFxuICAgIENMSUVOVDogJ2pzJyxcbiAgICBQQVJBTVM6IHtcbiAgICAgICAgQUNUSU9OOiAnYWN0aW9uJyxcbiAgICAgICAgQVBQX0lEOiAnYXBwSWQnLFxuICAgICAgICBDTElFTlQ6ICdjbGllbnQnLFxuICAgICAgICBDTElFTlRfS0VZOiAnY2xpZW50S2V5JyxcbiAgICAgICAgQ1Q6ICdjdCcsXG4gICAgICAgIENVUlJFTkNZX0NPREU6ICdjdXJyZW5jeUNvZGUnLFxuICAgICAgICBERVZJQ0VfSUQ6ICdkZXZpY2VJZCcsXG4gICAgICAgIFNES19WRVJTSU9OOiAnc2RrVmVyc2lvbicsXG4gICAgICAgIFVTRVJfSUQ6ICd1c2VySWQnLFxuICAgICAgICBORVdfVVNFUl9JRDogJ25ld1VzZXJJZCcsXG4gICAgICAgIERFVl9NT0RFOiAnZGV2TW9kZScsXG4gICAgICAgIFZFUlNJT05fTkFNRTogJ3ZlcnNpb25OYW1lJyxcbiAgICAgICAgU1lTVEVNX05BTUU6ICdzeXN0ZW1OYW1lJyxcbiAgICAgICAgU1lTVEVNX1ZFUlNJT046ICdzeXN0ZW1WZXJzaW9uJyxcbiAgICAgICAgQlJPV1NFUl9OQU1FOiAnYnJvd3Nlck5hbWUnLFxuICAgICAgICBCUk9XU0VSX1ZFUlNJT046ICdicm93c2VyVmVyc2lvbicsXG4gICAgICAgIERFVklDRV9OQU1FOiAnZGV2aWNlTmFtZScsXG4gICAgICAgIERFVklDRV9NT0RFTDogJ2RldmljZU1vZGVsJyxcbiAgICAgICAgVVNFUl9BVFRSSUJVVEVTOiAndXNlckF0dHJpYnV0ZXMnLFxuICAgICAgICBMT0NBTEU6ICdsb2NhbGUnLFxuICAgICAgICBDT1VOVFJZOiAnY291bnRyeScsXG4gICAgICAgIFJFR0lPTjogJ3JlZ2lvbicsXG4gICAgICAgIENJVFk6ICdjaXR5JyxcbiAgICAgICAgTE9DQVRJT046ICdsb2NhdGlvbicsXG4gICAgICAgIFNUQVRFOiAnc3RhdGUnLFxuICAgICAgICBJTkZPOiAnaW5mbycsXG4gICAgICAgIEVWRU5UOiAnZXZlbnQnLFxuICAgICAgICBWQUxVRTogJ3ZhbHVlJyxcbiAgICAgICAgRklMRU5BTUU6ICdmaWxlbmFtZScsXG4gICAgICAgIFRJTUU6ICd0aW1lJyxcbiAgICAgICAgREFUQTogJ2RhdGEnLFxuICAgICAgICBWQVJTOiAndmFycycsXG4gICAgICAgIEZJTEU6ICdmaWxlJyxcbiAgICAgICAgU0laRTogJ3NpemUnLFxuICAgICAgICBWQVJJQVRJT046ICd2YXJpYXRpb24nLFxuICAgICAgICBIQVNIOiAnaGFzaCcsXG4gICAgICAgIEVNQUlMOiAnZW1haWwnLFxuICAgICAgICBWQVJJQUJMRVM6ICd2YXJzJyxcbiAgICAgICAgQUNUSU9OX0RFRklOSVRJT05TOiAnYWN0aW9uRGVmaW5pdGlvbnMnLFxuICAgICAgICBQQVJBTVM6ICdwYXJhbXMnLFxuICAgICAgICBJTkNMVURFX0RFRkFVTFRTOiAnaW5jbHVkZURlZmF1bHRzJyxcbiAgICAgICAgSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk86ICdpbmNsdWRlVmFyaWFudERlYnVnSW5mbycsXG4gICAgICAgIE5FV1NGRUVEX01FU1NBR0VTOiAnbmV3c2ZlZWRNZXNzYWdlcycsXG4gICAgICAgIE1FU1NBR0VfSUQ6ICdtZXNzYWdlSWQnLFxuICAgICAgICBXRUJfUFVTSF9TVUJTQ1JJUFRJT046ICd3ZWJQdXNoU3Vic2NyaXB0aW9uJyxcbiAgICB9LFxuICAgIEtFWVM6IHtcbiAgICAgICAgSVNfUkVHSVNURVJFRDogJ2lzUmVnaXN0ZXJlZCcsXG4gICAgICAgIExBVEVTVF9WRVJTSU9OOiAnbGF0ZXN0VmVyc2lvbicsXG4gICAgICAgIFNZTkNfSU5CT1g6ICdzeW5jTmV3c2ZlZWQnLFxuICAgICAgICBNRVNTQUdFUzogJ21lc3NhZ2VzJyxcbiAgICAgICAgVkFSUzogJ3ZhcnMnLFxuICAgICAgICBWQVJJQU5UUzogJ3ZhcmlhbnRzJyxcbiAgICAgICAgVkFSSUFOVF9ERUJVR19JTkZPOiAndmFyaWFudERlYnVnSW5mbycsXG4gICAgICAgIEFDVElPTl9ERUZJTklUSU9OUzogJ2FjdGlvbkRlZmluaXRpb25zJyxcbiAgICAgICAgVE9LRU46ICd0b2tlbicsXG4gICAgfSxcbiAgICBERUZBVUxUX0tFWVM6IHtcbiAgICAgICAgQ09VTlQ6ICdfX2xlYW5wbHVtX3Vuc3luY2VkJyxcbiAgICAgICAgSVRFTTogJ19fbGVhbnBsdW1fdW5zeW5jZWRfJyxcbiAgICAgICAgVkFSSUFCTEVTOiAnX19sZWFucGx1bV92YXJpYWJsZXMnLFxuICAgICAgICBWQVJJQU5UUzogJ19fbGVhbnBsdW1fdmFyaWFudHMnLFxuICAgICAgICBWQVJJQU5UX0RFQlVHX0lORk86ICdfX2xlYW5wbHVtX3ZhcmlhbnRfZGVidWdfaW5mbycsXG4gICAgICAgIEFDVElPTl9ERUZJTklUSU9OUzogJ19fbGVhbnBsdW1fYWN0aW9uX2RlZmluaXRpb25zJyxcbiAgICAgICAgSE9TVF9DT05GSUc6ICdfX2xlYW5wbHVtX2hvc3RzJyxcbiAgICAgICAgSU5CT1hfTUVTU0FHRVM6ICdfX2xlYW5wbHVtX2luYm94X21lc3NhZ2VzJyxcbiAgICAgICAgVE9LRU46ICdfX2xlYW5wbHVtX3Rva2VuJyxcbiAgICAgICAgREVWSUNFX0lEOiAnX19sZWFucGx1bV9kZXZpY2VfaWQnLFxuICAgICAgICBVU0VSX0lEOiAnX19sZWFucGx1bV91c2VyX2lkJyxcbiAgICAgICAgU0VTU0lPTjogJ19fbGVhbnBsdW1fc2Vzc2lvbicsXG4gICAgICAgIE1FU1NBR0VfT0NDVVJSRU5DRVM6ICdfX2xlYW5wbHVtX21lc3NhZ2Vfb2NjdXJyZW5jZXMnLFxuICAgICAgICBNRVNTQUdFX0NBQ0hFOiAnX19sZWFucGx1bV9tZXNzYWdlX2NhY2hlJyxcbiAgICAgICAgTUlHUkFUSU9OX1NUQVRFOiAnX19sZWFucGx1bV9taWdyYXRpb25fc3RhdGUnLFxuICAgICAgICBQVVNIX1NVQlNDUklQVElPTjogJ19fbGVhbnBsdW1fcHVzaF9zdWJzY3JpcHRpb24nLFxuICAgIH0sXG4gICAgVkFMVUVTOiB7XG4gICAgICAgIERFVEVDVDogJyhkZXRlY3QpJyxcbiAgICAgICAgREVGQVVMVF9QVVNIX0FDVElPTjogJ09wZW4gYWN0aW9uJyxcbiAgICB9LFxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEV2ZW50RW1pdHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMucHVzaCh7IGV2ZW50TmFtZTogZXZlbnROYW1lLCBjYWxsYmFjazogY2FsbGJhY2sgfSk7XG4gICAgfTtcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5ldmVudE5hbWUgIT09IGV2ZW50TmFtZSB8fCB4LmNhbGxiYWNrICE9PSBjYWxsYmFjazsgfSk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGFyZ3MpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAoaGFuZGxlci5ldmVudE5hbWUgPT09IGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbGJhY2soYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBFdmVudEVtaXR0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgSW50ZXJuYWxTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcm5hbFN0YXRlKCkge1xuICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kZXZNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZXIodGhpcy5zdGFydFN1Y2Nlc3NmdWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLnN0YXJ0SGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLnRyaWdnZXJTdGFydEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhcnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzW2ldKHRoaXMuc3RhcnRTdWNjZXNzZnVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEludGVybmFsU3RhdGU7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJuYWxTdGF0ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIExlYW5wbHVtSW50ZXJuYWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bUludGVybmFsXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbnZhciBMZWFucGx1bSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bSgpIHtcbiAgICB9XG4gICAgTGVhbnBsdW0uc2V0QXBpUGF0aCA9IGZ1bmN0aW9uIChhcGlQYXRoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcGlQYXRoKGFwaVBhdGgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGRlcHJlY2F0ZWRcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUoYXBwSWQsIGFjY2Vzc0tleSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUoYXBwSWQsIGFjY2Vzc0tleSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gKGhvc3QpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFNvY2tldEhvc3QoaG9zdCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VJZCA9IGZ1bmN0aW9uIChkZXZpY2VJZCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0RGV2aWNlSWQoZGV2aWNlSWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0TG9jYWxlKGxvY2FsZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBWZXJzaW9uKHZlcnNpb25OYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZU5hbWUgPSBmdW5jdGlvbiAoZGV2aWNlTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0RGV2aWNlTmFtZShkZXZpY2VOYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZU1vZGVsID0gZnVuY3Rpb24gKGRldmljZU1vZGVsKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VNb2RlbChkZXZpY2VNb2RlbCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRSZXF1ZXN0QmF0Y2hpbmcgPSBmdW5jdGlvbiAoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFJlcXVlc3RCYXRjaGluZyhiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTeXN0ZW1OYW1lID0gZnVuY3Rpb24gKHN5c3RlbU5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFN5c3RlbU5hbWUoc3lzdGVtTmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRTeXN0ZW1WZXJzaW9uID0gZnVuY3Rpb24gKHN5c3RlbVZlcnNpb24pIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFN5c3RlbVZlcnNpb24oc3lzdGVtVmVyc2lvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRWYXJpYWJsZXModmFyaWFibGVzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gZnVuY3Rpb24gKHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyhlbmFibGVkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnByb2Nlc3NNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBtZXNzYWdlKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5wcm9jZXNzTWVzc2FnZUV2ZW50KG1lc3NhZ2VJZCwgbWVzc2FnZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhbnREZWJ1Z0luZm8oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYWJsZXMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IExlYW5wbHVtLl9scCkuZ2V0VmFyaWFibGUuYXBwbHkoX2EsIGFyZ3MpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFudHMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmluYm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmluYm94KCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmZvcmNlQ29udGVudFVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBMZWFucGx1bS5fbHAuZm9yY2VDb250ZW50VXBkYXRlKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnVzZVNlc3Npb25MZW5ndGggPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAudXNlU2Vzc2lvbkxlbmd0aChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0YXJ0ID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdGFydCh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdGFydEZyb21DYWNoZSA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RhcnRGcm9tQ2FjaGUodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0b3AoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnBhdXNlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnBhdXNlU2Vzc2lvbigpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVzdW1lU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlc3VtZVNlc3Npb24oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnBhdXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5wYXVzZVN0YXRlKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZXN1bWVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlc3VtZVN0YXRlKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRVc2VySWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scC5nZXRVc2VySWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgTGVhbnBsdW0uc2V0VXNlckF0dHJpYnV0ZXModXNlcklkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFVzZXJBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0udHJhY2sgPSBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnRyYWNrKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnRyYWNrUHVyY2hhc2UgPSBmdW5jdGlvbiAodmFsdWUsIGN1cnJlbmN5Q29kZSwgcGFyYW1zLCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkgeyBldmVudCA9ICdQdXJjaGFzZSc7IH1cbiAgICAgICAgTGVhbnBsdW0uX2xwLnRyYWNrUHVyY2hhc2UodmFsdWUsIGN1cnJlbmN5Q29kZSwgcGFyYW1zLCBldmVudCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZHZhbmNlVG8gPSBmdW5jdGlvbiAoc3RhdGUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuYWR2YW5jZVRvKHN0YXRlLCBpbmZvLCBwYXJhbXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmlzV2ViUHVzaFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdWJzY3JpYmVkLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHRydWUsIHJlamVjdHMgaWYgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5pc1dlYlB1c2hTdWJzY3JpYmVkKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRXZWJQdXNoT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuc2V0V2ViUHVzaE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0aGUgYnJvd3NlciBmb3Igd2ViIHB1c2guXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCBvbiB5b3VyIHNlcnZlciB0aGF0IGhvc3RzIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zdy5taW4uanMgc2VydmljZSB3b3JrZXIganMgZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgICAgICBSZXNvbHZlcyBpZiByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UgZmFpbHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0ucmVnaXN0ZXJGb3JXZWJQdXNoID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5yZWdpc3RlckZvcldlYlB1c2goc2VydmljZVdvcmtlclVybCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyB0aGUgYnJvd3NlciBmb3JtIHdlYiBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgUmVzb2x2ZXMgb24gc3VjY2Vzcywgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0udW5yZWdpc3RlckZyb21XZWJQdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGNhY2hlZCB2YWx1ZXMgZm9yIG1lc3NhZ2VzLCB2YXJpYWJsZXMgYW5kIHRlc3QgYXNzaWdubWVudHMuXG4gICAgICogVXNlIHNwYXJpbmdseSBhcyBpZiB0aGUgYXBwIGlzIHVwZGF0ZWQsIHlvdSdsbCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWxseVxuICAgICAqIGluY29uc2lzdGVudCBzdGF0ZSBvciB1c2VyIGV4cGVyaWVuY2UuXG4gICAgICovXG4gICAgTGVhbnBsdW0uY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmNsZWFyVXNlckNvbnRlbnQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmRlZmluZUFjdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5kZWZpbmVBY3Rpb24ob3B0aW9ucyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hcHBseVF1ZXVlID0gZnVuY3Rpb24gKHF1ZXVlKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hcHBseVF1ZXVlKHF1ZXVlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLm9mZiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldEZpbGVVcmwoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uX19kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9scCA9IG5ldyBMZWFucGx1bUludGVybmFsXzEuZGVmYXVsdCh3aW5kb3cpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uX2xwID0gbmV3IExlYW5wbHVtSW50ZXJuYWxfMS5kZWZhdWx0KHdpbmRvdyk7XG4gICAgTGVhbnBsdW0uVkVSU0lPTiA9IENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT047XG4gICAgcmV0dXJuIExlYW5wbHVtO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MZWFucGx1bUluYm94TWVzc2FnZSA9IHZvaWQgMDtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbnZhciB2YWx1ZXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9ialtrZXldOyB9KTtcbn07XG52YXIgTGVhbnBsdW1JbmJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUluYm94KGNyZWF0ZVJlcXVlc3QsIG9uQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMub25BY3Rpb24gPSBvbkFjdGlvbjtcbiAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0ge307XG4gICAgICAgIHRoaXMuY2hhbmdlSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLmRvd25sb2FkTWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnZ2V0TmV3c2ZlZWRNZXNzYWdlcycsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5yZXNwb25zZVswXTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UubmV3c2ZlZWRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5tZXNzYWdlTWFwID0gcmVzcG9uc2UubmV3c2ZlZWRNZXNzYWdlcztcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tYXJrQXNSZWFkID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMubWVzc2FnZU1hcFttZXNzYWdlSWRdO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1lc3NhZ2UuaXNSZWFkKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmlzUmVhZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJDaGFuZ2VIYW5kbGVycygpO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgICAgICBhcmdzLmFkZCgnbmV3c2ZlZWRNZXNzYWdlSWQnLCBtZXNzYWdlSWQpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KCdtYXJrTmV3c2ZlZWRNZXNzYWdlQXNSZWFkJywgYXJncywge30pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCkge1xuICAgICAgICB0aGlzLm1hcmtBc1JlYWQobWVzc2FnZUlkKTtcbiAgICAgICAgdmFyIGluYm94TWVzc2FnZSA9IHRoaXMubWVzc2FnZShtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgaWQgPSBtZXNzYWdlSWQuc3BsaXQoJyMjJylbMF07XG4gICAgICAgIHZhciBvcGVuQWN0aW9uID0gKGluYm94TWVzc2FnZSA9PT0gbnVsbCB8fCBpbmJveE1lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluYm94TWVzc2FnZS5vcGVuQWN0aW9uKCkpIHx8IG51bGw7XG4gICAgICAgIHRoaXMub25BY3Rpb24oaWQsIG9wZW5BY3Rpb24pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMubWVzc2FnZU1hcFttZXNzYWdlSWRdO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICBhcmdzLmFkZCgnbmV3c2ZlZWRNZXNzYWdlSWQnLCBtZXNzYWdlSWQpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ2RlbGV0ZU5ld3NmZWVkTWVzc2FnZScsIGFyZ3MsIHt9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm9uQ2hhbmdlZCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2hhbmdlSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmNoYW5nZUhhbmRsZXJzID0gX3RoaXMuY2hhbmdlSGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICE9PSBoYW5kbGVyOyB9KTsgfTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnRyaWdnZXJDaGFuZ2VIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7IHJldHVybiBoYW5kbGVyKCk7IH0pO1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklOQk9YX01FU1NBR0VTLCBKU09OLnN0cmluZ2lmeSh0aGlzLm1lc3NhZ2VNYXApLCAnc2Vzc2lvbicpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JTkJPWF9NRVNTQUdFUywgJ3Nlc3Npb24nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IEpTT04ucGFyc2Uoc3RhdGUpIHx8IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VNYXAgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXModGhpcy5tZXNzYWdlTWFwKS5sZW5ndGg7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS51bnJlYWRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyh0aGlzLm1lc3NhZ2VNYXApLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4gIXguaXNSZWFkOyB9KS5sZW5ndGg7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tZXNzYWdlcyA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLm1lc3NhZ2VNYXApIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5tZXNzYWdlTWFwW2lkXTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChMZWFucGx1bUluYm94TWVzc2FnZS5jcmVhdGUoaWQsIGRhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuYWxsTWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudW5yZWFkTWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzKGZ1bmN0aW9uICh4KSB7IHJldHVybiAheC5pc1JlYWQ7IH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubWVzc2FnZUlkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubWVzc2FnZU1hcCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tZXNzYWdlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW2lkXTtcbiAgICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGVhbnBsdW1JbmJveE1lc3NhZ2UuY3JlYXRlKGlkLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bUluYm94O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtSW5ib3g7XG52YXIgTGVhbnBsdW1JbmJveE1lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbmJveE1lc3NhZ2UoX2lkLCBfdGl0bGUsIF9zdWJ0aXRsZSwgX2RhdGEsIF90aW1lc3RhbXAsIF9pc1JlYWQsIF9pbWFnZVVybCwgX29wZW5BY3Rpb24pIHtcbiAgICAgICAgdGhpcy5faWQgPSBfaWQ7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gX3RpdGxlO1xuICAgICAgICB0aGlzLl9zdWJ0aXRsZSA9IF9zdWJ0aXRsZTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IF9kYXRhO1xuICAgICAgICB0aGlzLl90aW1lc3RhbXAgPSBfdGltZXN0YW1wO1xuICAgICAgICB0aGlzLl9pc1JlYWQgPSBfaXNSZWFkO1xuICAgICAgICB0aGlzLl9pbWFnZVVybCA9IF9pbWFnZVVybDtcbiAgICAgICAgdGhpcy5fb3BlbkFjdGlvbiA9IF9vcGVuQWN0aW9uO1xuICAgIH1cbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5jcmVhdGUgPSBmdW5jdGlvbiAoaWQsIG1lc3NhZ2VJbmZvKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2w7XG4gICAgICAgIHZhciBwYXJlbnRDYW1wYWlnbklkID0gKF9hID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXJlbnRDYW1wYWlnbklkO1xuICAgICAgICB2YXIgYWN0aW9uID0gX19hc3NpZ24oX19hc3NpZ24oe30sIChfYyA9IChfYiA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudmFycykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jW0NvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFRkFVTFRfUFVTSF9BQ1RJT05dKSwgeyBwYXJlbnRDYW1wYWlnbklkOiBwYXJlbnRDYW1wYWlnbklkIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExlYW5wbHVtSW5ib3hNZXNzYWdlKGlkLCAoX2UgPSAoX2QgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnZhcnMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5UaXRsZSwgKF9nID0gKF9mID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi52YXJzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuU3VidGl0bGUsIChfaiA9IChfaCA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2gudmFycykgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLkRhdGEsIG1lc3NhZ2VJbmZvLmRlbGl2ZXJ5VGltZXN0YW1wLCBtZXNzYWdlSW5mby5pc1JlYWQsIChfbCA9IChfayA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2sudmFycykgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLkltYWdlLCBhY3Rpb24pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUudGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5zdWJ0aXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnRpdGxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVzdGFtcDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pc1JlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1JlYWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaW1hZ2VVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbWFnZVVybDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5vcGVuQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3BlbkFjdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bUluYm94TWVzc2FnZTtcbn0oKSk7XG5leHBvcnRzLkxlYW5wbHVtSW5ib3hNZXNzYWdlID0gTGVhbnBsdW1JbmJveE1lc3NhZ2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQnJvd3NlckRldGVjdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQnJvd3NlckRldGVjdG9yXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIEludGVybmFsU3RhdGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9JbnRlcm5hbFN0YXRlXCIpKTtcbnZhciBMZWFucGx1bUluYm94XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1JbmJveFwiKSk7XG52YXIgTGVhbnBsdW1SZXF1ZXN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1SZXF1ZXN0XCIpKTtcbnZhciBMZWFucGx1bVNvY2tldF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtU29ja2V0XCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBQdXNoTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1B1c2hNYW5hZ2VyXCIpKTtcbnZhciBNZXNzYWdlc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL01lc3NhZ2VzXCIpKTtcbnZhciBFdmVudEVtaXR0ZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9FdmVudEVtaXR0ZXJcIikpO1xudmFyIE1pZ3JhdGlvbk1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9NaWdyYXRpb25NYW5hZ2VyXCIpKTtcbnZhciBwdWJsaWNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzL3B1YmxpY1wiKTtcbnZhciBpbnRlcm5hbF8xID0gcmVxdWlyZShcIi4vdHlwZXMvaW50ZXJuYWxcIik7XG52YXIgVmFyQ2FjaGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WYXJDYWNoZVwiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG52YXIgU0VTU0lPTl9LRVkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5TRVNTSU9OO1xudmFyIExlYW5wbHVtSW50ZXJuYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbnRlcm5hbCh3bmQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy53bmQgPSB3bmQ7XG4gICAgICAgIHRoaXMuX21pZ3JhdGlvbiA9IG5ldyBNaWdyYXRpb25NYW5hZ2VyXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUgPSBuZXcgSW50ZXJuYWxTdGF0ZV8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fbHBJbmJveCA9IG5ldyBMZWFucGx1bUluYm94XzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSwgdGhpcy5vbkluYm94QWN0aW9uLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QgPSBuZXcgTGVhbnBsdW1SZXF1ZXN0XzEuZGVmYXVsdCh0aGlzLl9ldmVudHMpO1xuICAgICAgICB0aGlzLl92YXJDYWNoZSA9IG5ldyBWYXJDYWNoZV8xLmRlZmF1bHQodGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9scFNvY2tldCA9IG5ldyBMZWFucGx1bVNvY2tldF8xLmRlZmF1bHQodGhpcy5fdmFyQ2FjaGUsIHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlLmJpbmQodGhpcy5fbHBSZXF1ZXN0KSwgdGhpcy5fZXZlbnRzKTtcbiAgICAgICAgdGhpcy5fcHVzaE1hbmFnZXIgPSBuZXcgUHVzaE1hbmFnZXJfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMgPSBuZXcgTWVzc2FnZXNfMS5kZWZhdWx0KHRoaXMuX2V2ZW50cywgdGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcyksIHRoaXMuZ2V0RmlsZVVybC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fYnJvd3NlckRldGVjdG9yID0gbmV3IEJyb3dzZXJEZXRlY3Rvcl8xLmRlZmF1bHQod25kKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKCduYXZpZ2F0aW9uQ2hhbmdlJywgZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgdmFyIHByZXZlbnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdvcGVuVXJsJywge1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcmV2ZW50ZWQgPSB0cnVlOyB9LFxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnduZC5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbigncmVnaXN0ZXJGb3JQdXNoJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVnaXN0ZXJGb3JXZWJQdXNoKCk7IH0pO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ3VwZGF0ZURldlNlcnZlckhvc3QnLCBmdW5jdGlvbiAoaG9zdCkgeyByZXR1cm4gX3RoaXMuc2V0U29ja2V0SG9zdChob3N0KTsgfSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbignbWlncmF0ZVN0YXRlUmVjZWl2ZWQnLCBmdW5jdGlvbiAoc2hhKSB7IHJldHVybiBfdGhpcy5fbWlncmF0aW9uLnZlcmlmeVN0YXRlKHNoYSk7IH0pO1xuICAgIH1cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcGlQYXRoID0gZnVuY3Rpb24gKGFwaVBhdGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9scFJlcXVlc3QuYXBpUGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcGlQYXRoID0gYXBpUGF0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgICAgICB0aGlzLl9scFNvY2tldC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmFwcElkID0gYXBwSWQ7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5jbGllbnRLZXkgPSBhY2Nlc3NLZXk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSA9IHRydWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmFwcElkID0gYXBwSWQ7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5jbGllbnRLZXkgPSBhY2Nlc3NLZXk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSA9IGZhbHNlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LnNldFNvY2tldEhvc3QoaG9zdCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXREZXZpY2VJZCA9IGZ1bmN0aW9uIChkZXZpY2VJZCkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQgPSBkZXZpY2VJZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxlID0gbG9jYWxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwVmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uTmFtZSkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QudmVyc2lvbk5hbWUgPSB2ZXJzaW9uTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldERldmljZU5hbWUgPSBmdW5jdGlvbiAoZGV2aWNlTmFtZSkge1xuICAgICAgICB0aGlzLl9kZXZpY2VOYW1lID0gZGV2aWNlTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldERldmljZU1vZGVsID0gZnVuY3Rpb24gKGRldmljZU1vZGVsKSB7XG4gICAgICAgIHRoaXMuX2RldmljZU1vZGVsID0gZGV2aWNlTW9kZWw7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRSZXF1ZXN0QmF0Y2hpbmcgPSBmdW5jdGlvbiAoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmJhdGNoRW5hYmxlZCA9IGJhdGNoRW5hYmxlZDtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmJhdGNoQ29vbGRvd24gPSBjb29sZG93blNlY29uZHM7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRTeXN0ZW1OYW1lID0gZnVuY3Rpb24gKHN5c3RlbU5hbWUpIHtcbiAgICAgICAgdGhpcy5fc3lzdGVtTmFtZSA9IHN5c3RlbU5hbWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRTeXN0ZW1WZXJzaW9uID0gZnVuY3Rpb24gKHN5c3RlbVZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5fc3lzdGVtVmVyc2lvbiA9IHN5c3RlbVZlcnNpb247XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLnNldFZhcmlhYmxlcyh2YXJpYWJsZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbiAodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZW5hYmxlUmljaEluQXBwTWVzc2FnZXMgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9tZXNzYWdlcy5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyhlbmFibGVkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnByb2Nlc3NNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLnByb2Nlc3NNZXNzYWdlRXZlbnQobWVzc2FnZUlkLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJDYWNoZS5nZXRWYXJpYW50RGVidWdJbmZvKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJDYWNoZS5nZXRWYXJpYWJsZXMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX3ZhckNhY2hlKS5nZXRWYXJpYWJsZS5hcHBseShfYSwgYXJncyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRWYXJpYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLnZhcmlhbnRzIHx8IFtdO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaW5ib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scEluYm94O1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9ldmVudHMub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbkluYm94QWN0aW9uID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgYWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLnRyYWNrTWVzc2FnZShtZXNzYWdlSWQsIHsgZXZlbnQ6ICdPcGVuJyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBhY3Rpb24gJiYgX3RoaXMuX21lc3NhZ2VzLm9uQWN0aW9uKGFjdGlvbik7IH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZGVmaW5lQWN0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUucmVnaXN0ZXJBY3Rpb25EZWZpbml0aW9uKF9fYXNzaWduKHsga2luZDogcHVibGljXzEuTWVzc2FnZUtpbmQuVGVtcGxhdGUgfSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgLy8gVE9ETyhicmVha2luZyBjaGFuZ2UpOiByZXBsYWNlIHdpdGggZXZlbnRzIGFuZCByZW1vdmUgc3RhdGVmdWwgaGFuZGxlcnNcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldEZpbGVVcmwgPSBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwUmVxdWVzdC5nZXRGaWxlVXJsKGZpbGVuYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmZvcmNlQ29udGVudFVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX0RFRkFVTFRTLCBmYWxzZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk8sIHRoaXMuX2ludGVybmFsU3RhdGUudmFyaWFudERlYnVnSW5mb0VuYWJsZWQpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLkdFVF9WQVJTLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0VmFyc1Jlc3BvbnNlID0gX3RoaXMuX2xwUmVxdWVzdC5nZXRMYXN0UmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIHZhciBpc1N1Y2Nlc3MgPSBfdGhpcy5fbHBSZXF1ZXN0LmlzUmVzcG9uc2VTdWNjZXNzKGdldFZhcnNSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuYXBwbHlEaWZmcyhnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRTXSwgZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fREVGSU5JVElPTlNdKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnNldFZhcmlhbnREZWJ1Z0luZm8oZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UX0RFQlVHX0lORk9dKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdtZXNzYWdlc1JlY2VpdmVkJywgZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5NRVNTQUdFU10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soaXNTdWNjZXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnVzZVNlc3Npb25MZW5ndGggPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLl9zZXNzaW9uTGVuZ3RoID0gc2Vjb25kcztcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnICYmIHVzZXJJZCAhPT0gbnVsbCAmJiB1c2VySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlckF0dHJpYnV0ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0FjdGl2ZVNlc3Npb24oKSAmJiAhdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWlncmF0aW9uLmdldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkRVUExJQ0FURSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9jdCA9IF90aGlzLl9taWdyYXRpb24uaW5pdENsZXZlclRhcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuQ0xFVkVSVEFQKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2N0ID0gX3RoaXMuX21pZ3JhdGlvbi5pbml0Q2xldmVyVGFwKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubWlncmF0ZVB1c2hUb2tlbigpO1xuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gIVtcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuREVWSUNFX0lELFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5UT0tFTixcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUlHUkFUSU9OX1NUQVRFLFxuICAgICAgICAgICAgICAgIF0uaW5jbHVkZXMoa2V5KTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZShrZXkpOyB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbWVzc2FnZXMuY2xlYW51cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuX2xwUmVxdWVzdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX21pZ3JhdGlvbi5pZGVudGl0eS5zZXRVc2VySWQodXNlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5vblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUudHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5VU0VSX0FUVFJJQlVURVMsIEpTT04uc3RyaW5naWZ5KHVzZXJBdHRyaWJ1dGVzKSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNPVU5UUlksIENvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFVEVDVClcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlJFR0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ0lUWSwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTE9DQVRJT04sIENvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFVEVDVClcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9OQU1FLCBfdGhpcy5fc3lzdGVtTmFtZSB8fCBfdGhpcy5fYnJvd3NlckRldGVjdG9yLk9TKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1lTVEVNX1ZFUlNJT04sIChfdGhpcy5fc3lzdGVtVmVyc2lvbiB8fCAnJykudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkJST1dTRVJfTkFNRSwgX3RoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQlJPV1NFUl9WRVJTSU9OLCBfdGhpcy5fYnJvd3NlckRldGVjdG9yLnZlcnNpb24udG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FMRSwgX3RoaXMuX2xvY2FsZSB8fCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTkFNRSwgX3RoaXMuX2RldmljZU5hbWUgfHxcbiAgICAgICAgICAgICAgICBcIlwiLmNvbmNhdChfdGhpcy5fYnJvd3NlckRldGVjdG9yLmJyb3dzZXIsIFwiIFwiKS5jb25jYXQoX3RoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uKSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9NT0RFTCwgX3RoaXMuX2RldmljZU1vZGVsIHx8ICdXZWIgQnJvd3NlcicpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ORVdTRkVFRF9NRVNTQUdFUywgX3RoaXMuX2xwSW5ib3gubWVzc2FnZUlkcygpKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgX3RoaXMuX2ludGVybmFsU3RhdGUudmFyaWFudERlYnVnSW5mb0VuYWJsZWQpO1xuICAgICAgICAgICAgX3RoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU1RBUlQsIGFyZ3MsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLmhhc1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzU3VjY2VzcyA9IF90aGlzLl9scFJlcXVlc3QuaXNSZXNwb25zZVN1Y2Nlc3Moc3RhcnRSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnN0YXJ0U3VjY2Vzc2Z1bCA9IGlzU3VjY2VzcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VzID0gc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuTUVTU0FHRVNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0UmVzcG9uc2UuYWN0aW9uRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5hY3Rpb25EZWZpbml0aW9ucyA9IHN0YXJ0UmVzcG9uc2UuYWN0aW9uRGVmaW5pdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBtZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuU1lOQ19JTkJPWF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbHBJbmJveC5kb3dubG9hZE1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRlc3RWZXJzaW9uID0gc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuTEFURVNUX1ZFUlNJT05dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQSBuZXdlciB2ZXJzaW9uIG9mIHRoZSBMZWFucGx1bSBTREssIFwiLmNvbmNhdChsYXRlc3RWZXJzaW9uLCBcIiwgaXMgYXZhaWxhYmxlLlxcbiAgVXNlIFxcXCJucG0gdXBkYXRlIGxlYW5wbHVtLXNka1xcXCIgb3IgZ28gdG8gaHR0cHM6Ly9kb2NzLmxlYW5wbHVtLmNvbS9yZWZlcmVuY2UjamF2YXNjcmlwdC1zZXR1cCB0byBkb3dubG9hZCBpdC5cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0U29ja2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuYXBwbHlEaWZmcyhzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fREVGSU5JVElPTlNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5zZXRWYXJpYW50RGVidWdJbmZvKHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRfREVCVUdfSU5GT10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnRva2VuID0gc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVE9LRU5dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLmxvYWREaWZmcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnc3RhcnQnLCB7IHN1Y2Nlc3M6IGlzU3VjY2VzcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ludGVybmFsU3RhdGUudHJpZ2dlclN0YXJ0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RhcnRGcm9tQ2FjaGUgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTZXNzaW9uKCk7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5zdGFydFN1Y2Nlc3NmdWwgPSB0cnVlO1xuICAgICAgICB0aGlzLl9taWdyYXRpb24uZ2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuRFVQTElDQVRFIHx8IHN0YXRlID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkNMRVZFUlRBUCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9jdCA9IF90aGlzLl9taWdyYXRpb24uaW5pdENsZXZlclRhcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0U29ja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUubG9hZERpZmZzKCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS50cmlnZ2VyU3RhcnRIYW5kbGVycygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVE9QLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5yZW1vdmUoU0VTU0lPTl9LRVkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5wYXVzZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5SRVNVTUVfU0VTU0lPTiwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnBhdXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUEFVU0VfU1RBVEUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlc3VtZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlJFU1VNRV9TVEFURSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgdGhpcy5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VXNlckF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICBpZiAodXNlckF0dHJpYnV0ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICAgICAgdXNlcklkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IHNldFVzZXJBdHRyaWJ1dGVzIGV4cGVjdHMgYSBzdHJpbmcgb3IgYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9BVFRSSUJVVEVTLCB1c2VyQXR0cmlidXRlcyA/IEpTT04uc3RyaW5naWZ5KHVzZXJBdHRyaWJ1dGVzKSA6IHVuZGVmaW5lZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTkVXX1VTRVJfSUQsIHVzZXJJZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdzZXRVc2VyQXR0cmlidXRlJywgdXNlckF0dHJpYnV0ZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9VU0VSX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xwUmVxdWVzdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lELCB0aGlzLl9scFJlcXVlc3QudXNlcklkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudHJhY2sgPSBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyYW1zID0gdmFsdWU7XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcGFyYW1zID0gaW5mbztcbiAgICAgICAgICAgIGluZm8gPSB2YWx1ZTtcbiAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBpbmZvID09PSAnb2JqZWN0JyAmJiBpbmZvICE9PSBudWxsICYmIGluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyYW1zID0gaW5mbztcbiAgICAgICAgICAgIGluZm8gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuRVZFTlQsIGV2ZW50KVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WQUxVRSwgdmFsdWUgfHwgMC4wKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkZPLCBpbmZvKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5QQVJBTVMsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgndHJhY2snLCB7IGV2ZW50TmFtZTogZXZlbnQsIHBhcmFtczogcGFyYW1zIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlRSQUNLLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudXBkYXRlU2Vzc2lvbigpOyB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnRyYWNrUHVyY2hhc2UgPSBmdW5jdGlvbiAodmFsdWUsIGN1cnJlbmN5Q29kZSwgcGFyYW1zLCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkgeyBldmVudCA9ICdQdXJjaGFzZSc7IH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuRVZFTlQsIGV2ZW50KVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WQUxVRSwgdmFsdWUgfHwgMC4wKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5QQVJBTVMsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgICAgICBpZiAoY3VycmVuY3lDb2RlKSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DVVJSRU5DWV9DT0RFLCBjdXJyZW5jeUNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCd0cmFjaycsIHsgZXZlbnROYW1lOiBldmVudCB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgaXNQdXJjaGFzZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZHZhbmNlVG8gPSBmdW5jdGlvbiAoc3RhdGUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TVEFURSwgc3RhdGUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdhZHZhbmNlU3RhdGUnLCB7IHN0YXRlOiBzdGF0ZSwgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuQURWQU5DRSwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdWJzY3JpYmVkLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHRydWUsIHJlamVjdHMgaWYgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY2xpZW50VXJsID0gKChfYSA9IHRoaXMuX3dlYlB1c2hPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xpZW50VXJsKSB8fCAnJztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1YnNjcmliZWQoY2xpZW50VXJsKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFdlYlB1c2hPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fd2ViUHVzaE9wdGlvbnMgPSBfX2Fzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0aGUgYnJvd3NlciBmb3Igd2ViIHB1c2guXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCBvbiB5b3VyIHNlcnZlciB0aGF0IGhvc3RzIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zdy5taW4uanMgc2VydmljZSB3b3JrZXIganMgZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgICAgICBSZXNvbHZlcyBpZiByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UgZmFpbHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVnaXN0ZXJGb3JXZWJQdXNoID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9wdXNoTWFuYWdlci5zdWJzY3JpYmVVc2VyKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLl93ZWJQdXNoT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgIHZhciB3b3JrZXJVcmwgPSBzZXJ2aWNlV29ya2VyVXJsIHx8IG9wdGlvbnMuc2VydmljZVdvcmtlclVybDtcbiAgICAgICAgICAgIHZhciBzY29wZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zY29wZSA/IHsgc2NvcGU6IG9wdGlvbnMuc2NvcGUgfSA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIucmVnaXN0ZXIod29ya2VyVXJsLCBzY29wZSwgc3Vic2NyaWJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnTGVhbnBsdW06IFdlYlB1c2ggaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgdGhlIGJyb3dzZXIgZm9ybSB3ZWIgcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgIFJlc29sdmVzIG9uIHN1Y2Nlc3MsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY2xpZW50VXJsID0gKChfYSA9IHRoaXMuX3dlYlB1c2hPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xpZW50VXJsKSB8fCAnJztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLnVuc3Vic2NyaWJlVXNlcihjbGllbnRVcmwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGNhY2hlZCB2YWx1ZXMgZm9yIG1lc3NhZ2VzLCB2YXJpYWJsZXMgYW5kIHRlc3QgYXNzaWdubWVudHMuXG4gICAgICogVXNlIHNwYXJpbmdseSBhcyBpZiB0aGUgYXBwIGlzIHVwZGF0ZWQsIHlvdSdsbCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWxseVxuICAgICAqIGluY29uc2lzdGVudCBzdGF0ZSBvciB1c2VyIGV4cGVyaWVuY2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuY2xlYXJVc2VyQ29udGVudCgpO1xuICAgIH07XG4gICAgLy8gdXNlZCBieSBHb29nbGUgVGFnIE1hbmFnZXIgdG8gYXBwbHkgY29tbWFuZHMgcXVldWVkIGR1cmluZyBhc3luYyBzY3JpcHQgbG9hZGluZ1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFwcGx5UXVldWUgPSBmdW5jdGlvbiAocXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcXVldWUuZm9yRWFjaChmdW5jdGlvbiAoaW52b2NhdGlvbikgeyByZXR1cm4gX3RoaXNbaW52b2NhdGlvbi5uYW1lXS5hcHBseShfdGhpcywgaW52b2NhdGlvbi5hcmdzKTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgYXJncywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgc3VwcHJlc3MgPSB0aGlzLl9taWdyYXRpb24uZHVwbGljYXRlUmVxdWVzdChhY3Rpb24sIGFyZ3MsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIXN1cHByZXNzKSB7XG4gICAgICAgICAgICB0aGlzLl9scFJlcXVlc3QucmVxdWVzdChhY3Rpb24sIGFyZ3MsIF9fYXNzaWduKHsgZGV2TW9kZTogdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlIH0sIG9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuY29ubmVjdFNvY2tldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuY29ubmVjdCh7XG4gICAgICAgICAgICBhcHBJZDogdGhpcy5fbHBSZXF1ZXN0LmFwcElkLFxuICAgICAgICAgICAgZGV2aWNlSWQ6IHRoaXMuX2xwUmVxdWVzdC5kZXZpY2VJZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5oYXNBY3RpdmVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Nlc3Npb25MZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbGFzdEFjdGl2ZSA9IHBhcnNlSW50KFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoU0VTU0lPTl9LRVkpKTtcbiAgICAgICAgaWYgKGlzTmFOKGxhc3RBY3RpdmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lIC0gbGFzdEFjdGl2ZSA8IHRoaXMuX3Nlc3Npb25MZW5ndGggKiAxMDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS51cGRhdGVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShTRVNTSU9OX0tFWSwgU3RyaW5nKERhdGUubm93KCkpKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLm1pZ3JhdGVQdXNoVG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlBVU0hfU1VCU0NSSVBUSU9OKSkge1xuICAgICAgICAgICAgLy8gbW92ZSBzdWJzY3JpcHRpb24gaW4gQ1RcbiAgICAgICAgICAgIHRoaXMuaXNXZWJQdXNoU3Vic2NyaWJlZCgpLnRoZW4oZnVuY3Rpb24gKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9wdXNoTWFuYWdlci51bnN1YnNjcmliZVVzZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlcnZpY2VXb3JrZXJQYXRoID0gKF9hID0gX3RoaXMuX3dlYlB1c2hPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2VydmljZVdvcmtlclVybDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzZXJ2aWNlV29ya2VyUGF0aCA/IHsgc2VydmljZVdvcmtlclBhdGg6IHNlcnZpY2VXb3JrZXJQYXRoIH0gOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2N0ICYmIF90aGlzLl9jdC5ub3RpZmljYXRpb25zLnB1c2goX19hc3NpZ24oeyB0aXRsZVRleHQ6ICcnLCBib2R5VGV4dDogJycsIG9rQnV0dG9uVGV4dDogJycsIHJlamVjdEJ1dHRvblRleHQ6ICcnIH0sIHBhdGgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW50ZXJuYWw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbnRlcm5hbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBOZXR3b3JrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTmV0d29ya1wiKSk7XG52YXIgTGVhbnBsdW1SZXF1ZXN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtUmVxdWVzdChldmVudHMsIG5ldHdvcmspIHtcbiAgICAgICAgaWYgKG5ldHdvcmsgPT09IHZvaWQgMCkgeyBuZXR3b3JrID0gbmV3IE5ldHdvcmtfMS5kZWZhdWx0KCk7IH1cbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldHdvcms7XG4gICAgICAgIHRoaXMuY29vbGRvd25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudXNlcklkVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYXBpUGF0aCA9ICdodHRwczovL2FwaS5sZWFucGx1bS5jb20vYXBpJztcbiAgICAgICAgdGhpcy5iYXRjaENvb2xkb3duID0gNTtcbiAgICAgICAgdGhpcy5iYXRjaEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxvYWRIb3N0Q29uZmlnKCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLCBcInVzZXJJZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnVzZXJJZFZhbHVlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lEKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5kZXZpY2VJZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJJZFZhbHVlID0gdXNlcklkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICAvLyBHZXQgb3IgY3JlYXRlIGRldmljZSBJRCBhbmQgdXNlciBJRC5cbiAgICAgICAgaWYgKCF0aGlzLmRldmljZUlkKSB7XG4gICAgICAgICAgICB0aGlzLmRldmljZUlkID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuREVWSUNFX0lEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGV2aWNlSWQpIHtcbiAgICAgICAgICAgIHZhciBpZCA9ICcnO1xuICAgICAgICAgICAgdmFyIHBvc3NpYmxlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICAgIGlkICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGV2aWNlSWQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCwgaWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQsIHRoaXMudXNlcklkKTtcbiAgICAgICAgdmFyIGFyZ3NCdWlsZGVyID0gcGFyYW1zXG4gICAgICAgICAgICAuYXR0YWNoQXBpS2V5cyh0aGlzLmFwcElkLCB0aGlzLmNsaWVudEtleSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU0RLX1ZFUlNJT04sIENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT04pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9JRCwgdGhpcy5kZXZpY2VJZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9JRCwgdGhpcy51c2VySWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgYWN0aW9uKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WRVJTSU9OX05BTUUsIHRoaXMudmVyc2lvbk5hbWUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVl9NT0RFLCBvcHRpb25zLmRldk1vZGUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlRJTUUsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLnRvU3RyaW5nKCkpO1xuICAgICAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcyB8fCBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICB2YXIgZXJyb3IgPSBvcHRpb25zLmVycm9yIHx8IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIGlmICghdGhpcy5hcHBJZCB8fCAhdGhpcy5jbGllbnRLZXkpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSAnTGVhbnBsdW0gQXBwIElEIGFuZCBjbGllbnQga2V5IGFyZSBub3Qgc2V0LiBNYWtlIHN1cmUgeW91ICcgK1xuICAgICAgICAgICAgICAgICdhcmUgY2FsbGluZyBzZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSBvciBzZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlICcgK1xuICAgICAgICAgICAgICAgICdiZWZvcmUgaXNzdWluZyBBUEkgY2FsbHMuJztcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICBlcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuYm9keSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KFwiP1wiLmNvbmNhdChhcmdzQnVpbGRlci5idWlsZCgpKSwgcGFyYW1zLmJvZHkoKSwgc3VjY2VzcywgZXJyb3IsIG9wdGlvbnMucXVldWVkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VuZE5vdyA9IG9wdGlvbnMuZGV2TW9kZSB8fCBvcHRpb25zLnNlbmROb3cgfHwgIXRoaXMuYmF0Y2hFbmFibGVkO1xuICAgICAgICB2YXIgc2VuZFVuc2VudFJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3RzVG9TZW5kID0gX3RoaXMucG9wVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0c1RvU2VuZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHJlcXVlc3RzVG9TZW5kLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBtdWx0aVJlcXVlc3RBcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRhY2hBcGlLZXlzKF90aGlzLmFwcElkLCBfdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU0RLX1ZFUlNJT04sIENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT04pXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuTVVMVEkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVElNRSwgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkudG9TdHJpbmcoKS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChcIj9cIi5jb25jYXQobXVsdGlSZXF1ZXN0QXJncyksIHJlcXVlc3REYXRhLCBzdWNjZXNzLCBlcnJvciwgb3B0aW9ucy5xdWV1ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBEZWFsIHdpdGggY29vbGRvd24uXG4gICAgICAgIGlmICghc2VuZE5vdyAmJiB0aGlzLmJhdGNoQ29vbGRvd24pIHtcbiAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgICAgICBpZiAoIXRoaXMubGFzdFJlcXVlc3RUaW1lIHx8IG5vdyAtIHRoaXMubGFzdFJlcXVlc3RUaW1lID49IHRoaXMuYmF0Y2hDb29sZG93bikge1xuICAgICAgICAgICAgICAgIHNlbmROb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gbm93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29vbGRvd25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29vbGRvd25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGFzdFJlcXVlc3RUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICBzZW5kVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgICAgICAgICB9LCAodGhpcy5iYXRjaENvb2xkb3duIC0gKG5vdyAtIHRoaXMubGFzdFJlcXVlc3RUaW1lKSkgKiAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVSZXF1ZXN0Rm9yTGF0ZXIoYXJnc0J1aWxkZXIuYnVpbGREaWN0KCkpO1xuICAgICAgICBpZiAoc2VuZE5vdykge1xuICAgICAgICAgICAgc2VuZFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9eaHR0cHM/Oi8udGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxlbmFtZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sICdkb3dubG9hZEZpbGUnKVxuICAgICAgICAgICAgLmFkZCgnZmlsZW5hbWUnLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLmFwaVBhdGgsIFwiP1wiKS5jb25jYXQoYXJncy5idWlsZCgpKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmsuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmdldExhc3RSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdmFyIGNvdW50ID0gKF9iID0gKF9hID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICByZXR1cm4gKGNvdW50ID4gMCkgPyAoX2MgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1tjb3VudCAtIDFdIDogbnVsbDtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0Rmlyc3RSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdmFyIGNvdW50ID0gKF9iID0gKF9hID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICByZXR1cm4gKGNvdW50ID4gMCkgPyAoX2MgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1swXSA6IG51bGw7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmlzUmVzcG9uc2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5zdWNjZXNzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2F2ZVJlcXVlc3RGb3JMYXRlciA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKSB8fCAwO1xuICAgICAgICB2YXIgaXRlbUtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklURU0gKyBjb3VudDtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoaXRlbUtleSwgSlNPTi5zdHJpbmdpZnkoYXJncykpO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCwgY291bnQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5zZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIChxdWVyeSwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm5ldHdvcmsuYWpheCgnUE9TVCcsIFwiXCIuY29uY2F0KHRoaXMuYXBpUGF0aCkuY29uY2F0KHF1ZXJ5KSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB2YXIgbWV0aG9kUmVzcG9uc2UgPSBfdGhpcy5nZXRGaXJzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHZhciBzaGEyNTYgPSAoKF9hID0gcmVzcG9uc2UubWlncmF0ZVN0YXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2hhMjU2KSB8fCBtZXRob2RSZXNwb25zZS5zaGEyNTY7XG4gICAgICAgICAgICBpZiAoIS9cXGJnZXRNaWdyYXRlU3RhdGVcXGIvLnRlc3QoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMuZW1pdCgnbWlncmF0ZVN0YXRlUmVjZWl2ZWQnLCBzaGEyNTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtZXRob2RSZXNwb25zZS5zdWNjZXNzICYmIG1ldGhvZFJlc3BvbnNlLmFwaUhvc3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXBpSG9zdCA9IG1ldGhvZFJlc3BvbnNlLmFwaUhvc3QsIGFwaVBhdGggPSBtZXRob2RSZXNwb25zZS5hcGlQYXRoLCBkZXZTZXJ2ZXJIb3N0ID0gbWV0aG9kUmVzcG9uc2UuZGV2U2VydmVySG9zdDtcbiAgICAgICAgICAgICAgICBfdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSE9TVF9DT05GSUcsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgYXBpSG9zdDogYXBpSG9zdCxcbiAgICAgICAgICAgICAgICAgICAgYXBpUGF0aDogYXBpUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGV2U2VydmVySG9zdDogZGV2U2VydmVySG9zdCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYXBpUGF0aCA9IFwiaHR0cHM6Ly9cIi5jb25jYXQoYXBpSG9zdCwgXCIvXCIpLmNvbmNhdChhcGlQYXRoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChxdWVyeSwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ3VwZGF0ZURldlNlcnZlckhvc3QnLCBkZXZTZXJ2ZXJIb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZXJyb3IsIHF1ZXVlZCk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucG9wVW5zZW50UmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IFtdO1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCkgfHwgMDtcbiAgICAgICAgdGhpcy5yZW1vdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW1LZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JVEVNICsgaTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdERhdGEucHVzaChKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKGl0ZW1LZXkpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxvY2FsKGl0ZW1LZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0RGF0YTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUubG9hZEhvc3RDb25maWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBob3N0Q29uZmlnID0gSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5IT1NUX0NPTkZJRykgfHwgJ251bGwnKTtcbiAgICAgICAgaWYgKGhvc3RDb25maWcpIHtcbiAgICAgICAgICAgIHZhciBhcGlIb3N0ID0gaG9zdENvbmZpZy5hcGlIb3N0LCBhcGlQYXRoID0gaG9zdENvbmZpZy5hcGlQYXRoLCBkZXZTZXJ2ZXJIb3N0ID0gaG9zdENvbmZpZy5kZXZTZXJ2ZXJIb3N0O1xuICAgICAgICAgICAgdGhpcy5hcGlQYXRoID0gXCJodHRwczovL1wiLmNvbmNhdChhcGlIb3N0LCBcIi9cIikuY29uY2F0KGFwaVBhdGgpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgndXBkYXRlRGV2U2VydmVySG9zdCcsIGRldlNlcnZlckhvc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmxvYWRMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoa2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2F2ZUxvY2FsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoa2V5LCB2YWx1ZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnJlbW92ZUxvY2FsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQucmVtb3ZlKGtleSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1SZXF1ZXN0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtUmVxdWVzdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbG9kYXNoX2lzZXF1YWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoLmlzZXF1YWxcIikpO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU29ja2V0SW9DbGllbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Tb2NrZXRJb0NsaWVudFwiKSk7XG52YXIgTGVhbnBsdW1Tb2NrZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1Tb2NrZXQoY2FjaGUsIGNyZWF0ZVJlcXVlc3QsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZ2V0TGFzdFJlc3BvbnNlLCBldmVudHMpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IGNhY2hlO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLmdldExhc3RSZXNwb25zZSA9IGdldExhc3RSZXNwb25zZTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gMTA7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb2NrZXRIb3N0ID0gJ2Rldi5sZWFucGx1bS5jb20nO1xuICAgICAgICB0aGlzLmF1dGggPSBudWxsO1xuICAgIH1cbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChhdXRoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghV2ViU29ja2V0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IFdlYlNvY2tldHMuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdXRoID0gYXV0aDtcbiAgICAgICAgdmFyIGF1dGhTZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50ID0gbmV3IFNvY2tldElvQ2xpZW50XzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5zZXROZXR3b3JrVGltZW91dCh0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICghYXV0aFNlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IENvbm5lY3RlZCB0byBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0Q2xpZW50LnNlbmQoJ2F1dGgnLCAoX2EgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQVBQX0lEXSA9IGF1dGguYXBwSWQsXG4gICAgICAgICAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9JRF0gPSBhdXRoLmRldmljZUlkLFxuICAgICAgICAgICAgICAgICAgICBfYSkpO1xuICAgICAgICAgICAgICAgIGF1dGhTZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTb2NrZXQgZXJyb3InLCBldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ubWVzc2FnZSA9IHRoaXMub25NZXNzYWdlUmVjZWl2ZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogRGlzY29ubmVjdGVkIGZyb20gZGV2ZWxvcG1lbnQgc2VydmVyLicpO1xuICAgICAgICAgICAgYXV0aFNlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdCh0aGlzLnNvY2tldEhvc3QpO1xuICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnNvY2tldENsaWVudC5jb25uZWN0ZWQgJiYgIV90aGlzLnNvY2tldENsaWVudC5jb25uZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3QoX3RoaXMuc29ja2V0SG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH07XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zb2NrZXRIb3N0ID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnNvY2tldENsaWVudC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCh0aGlzLmF1dGgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gc2Vjb25kcztcbiAgICAgICAgKF9hID0gdGhpcy5zb2NrZXRDbGllbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5vbk1lc3NhZ2VSZWNlaXZlZCA9IGZ1bmN0aW9uIChldmVudCwgYXJncykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZXZlbnQgPT09ICd1cGRhdGVWYXJzJykge1xuICAgICAgICAgICAgdmFyIGFyZ3NfMSA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5HRVRfVkFSUywgYXJnc18xLCB7XG4gICAgICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldFZhcnNSZXNwb25zZSA9IF90aGlzLmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFyaWFudHMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRTXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbkRlZmluaXRpb25zID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fREVGSU5JVElPTlNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoISgwLCBsb2Rhc2hfaXNlcXVhbF8xLmRlZmF1bHQpKHZhbHVlcywgX3RoaXMuY2FjaGUuZGlmZnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYWNoZS5hcHBseURpZmZzKHZhbHVlcywgdmFyaWFudHMsIGFjdGlvbkRlZmluaXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ2dldFZhcmlhYmxlcycpIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2VuZFZhcmlhYmxlcygpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgICd1cGRhdGVkJzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0QWN0aW9ucycpIHtcbiAgICAgICAgICAgIHZhciB1cGRhdGVkID0gdGhpcy5jYWNoZS5zZW5kQWN0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IHVwZGF0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ3JlZ2lzdGVyRGV2aWNlJykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgICAgICAgICBhbGVydChcIllvdXIgZGV2aWNlIGhhcyBiZWVuIHJlZ2lzdGVyZWQgdG8gXCIuY29uY2F0KG1lc3NhZ2UuZW1haWwsIFwiLlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICd0cmlnZ2VyJykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncHJldmlld1JlcXVlc3QnLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtU29ja2V0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtU29ja2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBWYWx1ZVRyYW5zZm9ybXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WYWx1ZVRyYW5zZm9ybXNcIikpO1xudmFyIE9jY3VycmVuY2VUcmFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9jY3VycmVuY2VUcmFja2VyKCkge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgICAgdGhpcy50cmlnZ2VycyA9IHt9O1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VzID0ge307XG4gICAgfVxuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5yZWNvcmRPY2N1cnJlbmNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBzZXNzaW9uT2NjdXJyZW5jZXMgPSAodGhpcy5zZXNzaW9uW2lkXSB8fCAwKSArIDE7XG4gICAgICAgIHRoaXMuc2Vzc2lvbltpZF0gPSBzZXNzaW9uT2NjdXJyZW5jZXM7XG4gICAgICAgIHZhciBvY2N1cnJlbmNlcyA9ICh0aGlzLm9jY3VycmVuY2VzW2lkXSB8fCBbXSk7XG4gICAgICAgIG9jY3VycmVuY2VzLnB1c2goRGF0ZS5ub3coKSk7XG4gICAgICAgIHRoaXMub2NjdXJyZW5jZXNbaWRdID0gb2NjdXJyZW5jZXM7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLnJlY29yZFRyaWdnZXJPY2N1cnJlbmNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyT2NjdXJyZW5jZXMgPSB0aGlzLnRyaWdnZXJzW2lkXSB8fCBbXTtcbiAgICAgICAgdHJpZ2dlck9jY3VycmVuY2VzLnB1c2goRGF0ZS5ub3coKSk7XG4gICAgICAgIHRoaXMudHJpZ2dlcnNbaWRdID0gdHJpZ2dlck9jY3VycmVuY2VzO1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgICAgcmV0dXJuIHRyaWdnZXJPY2N1cnJlbmNlcy5sZW5ndGg7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uW2lkXSB8fCAwO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmdldE9jY3VycmVuY2VzID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9jY3VycmVuY2VzW2lkXSB8fCBbXTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5jbGVhclNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9PQ0NVUlJFTkNFUyk7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgdmFyIGpzb24gPSBtYXliZUpTT04oY2FjaGUpO1xuICAgICAgICAgICAgaWYgKGpzb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBqc29uLnNlc3Npb247XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VycyA9IGpzb24udHJpZ2dlcnM7XG4gICAgICAgICAgICAgICAgdGhpcy5vY2N1cnJlbmNlcyA9IGpzb24ub2NjdXJyZW5jZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9PQ0NVUlJFTkNFUztcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoa2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sXG4gICAgICAgICAgICB0cmlnZ2VyczogdGhpcy50cmlnZ2VycyxcbiAgICAgICAgICAgIG9jY3VycmVuY2VzOiB0aGlzLm9jY3VycmVuY2VzLFxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2NjdXJyZW5jZVRyYWNrZXI7XG59KCkpO1xudmFyIHZlcmJUb0ludGVydmFsID0gZnVuY3Rpb24gKHZlcmIpIHtcbiAgICB2YXIgU0VDT05EID0gMTAwMDtcbiAgICB2YXIgTUlOVVRFID0gNjAgKiBTRUNPTkQ7XG4gICAgdmFyIEhPVVIgPSA2MCAqIE1JTlVURTtcbiAgICB2YXIgREFZID0gMjQgKiBIT1VSO1xuICAgIHN3aXRjaCAodmVyYikge1xuICAgICAgICBjYXNlICdsaW1pdFNlY29uZCc6IHJldHVybiBTRUNPTkQ7XG4gICAgICAgIGNhc2UgJ2xpbWl0TWludXRlJzogcmV0dXJuIE1JTlVURTtcbiAgICAgICAgY2FzZSAnbGltaXRIb3VyJzogcmV0dXJuIEhPVVI7XG4gICAgICAgIGNhc2UgJ2xpbWl0RGF5JzogcmV0dXJuIERBWTtcbiAgICB9XG59O1xudmFyIG1heWJlSlNPTiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07XG52YXIgTWVzc2FnZXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVzc2FnZXMoZXZlbnRzLCBjcmVhdGVSZXF1ZXN0LCBnZXRGaWxlVXJsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLmdldEZpbGVVcmwgPSBnZXRGaWxlVXJsO1xuICAgICAgICB0aGlzLl9tZXNzYWdlQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlVHJhY2tlciA9IG5ldyBPY2N1cnJlbmNlVHJhY2tlcigpO1xuICAgICAgICB0aGlzLl9zaG93UmljaElBTSA9IGZhbHNlO1xuICAgICAgICBldmVudHMub24oJ3ByZXZpZXdSZXF1ZXN0JywgdGhpcy5vbk1lc3NhZ2VQcmV2aWV3LmJpbmQodGhpcykpO1xuICAgICAgICBldmVudHMub24oJ21lc3NhZ2VzUmVjZWl2ZWQnLCB0aGlzLm9uTWVzc2FnZXNSZWNlaXZlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgZXZlbnRzLm9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmxvYWQoKTtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmNsZWFyU2Vzc2lvbigpO1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3N0YXJ0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbigncmVzdW1lJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfQ0FDSEU7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBtYXliZUpTT04oU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChrZXkpKTtcbiAgICAgICAgICAgIF90aGlzLl9tZXNzYWdlQ2FjaGUgPSBjYWNoZSB8fCBfdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICAgICAgX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIubG9hZCgpO1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3Jlc3VtZScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ3RyYWNrJywgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIF90aGlzLm9uVHJpZ2dlcih7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2V2ZW50JyxcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6IGFyZ3MuZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIHBhcmFtczogYXJncy5wYXJhbXMgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbignYWR2YW5jZVN0YXRlJywgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblRyaWdnZXIoe1xuICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdzdGF0ZScsXG4gICAgICAgICAgICAgICAgc3RhdGU6IGFyZ3Muc3RhdGUsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBhcmdzLnBhcmFtcyB8fCB7fSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCdzZXRVc2VyQXR0cmlidXRlJywgZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblRyaWdnZXIoeyB0cmlnZ2VyOiAndXNlckF0dHJpYnV0ZScsIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuY2xlYW51cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NRVNTQUdFX0NBQ0hFKTtcbiAgICAgICAgdGhpcy5fbWVzc2FnZUNhY2hlID0ge307XG4gICAgICAgIHRoaXMub25UcmlnZ2VyID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5fc2hvd1JpY2hJQU0gPSBlbmFibGVkO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm9uVHJpZ2dlciA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMuZ2V0TWVzc2FnZXMoKTtcbiAgICAgICAgdmFyIG1lc3NhZ2VJZHMgPSBPYmplY3Qua2V5cyhtZXNzYWdlcyk7XG4gICAgICAgIG1lc3NhZ2VJZHNcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7IHJldHVybiBfdGhpcy5zaG91bGRTaG93TWVzc2FnZShpZCwgbWVzc2FnZXNbaWRdLCBjb250ZXh0KTsgfSlcbiAgICAgICAgICAgIC5zbGljZSgwLCAxKSAvLyBUT0RPOiBjaG9vc2UgcmFuZG9tbHlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gX3RoaXMuc2hvd01lc3NhZ2UoaWQsIG1lc3NhZ2VzW2lkXSk7IH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm9uTWVzc2FnZVByZXZpZXcgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgdmFycyA9IG1lc3NhZ2UuYWN0aW9uO1xuICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgIHRyYWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRJbmZvID0gZXZlbnQgPyBcImV2ZW50ICdcIi5jb25jYXQoZXZlbnQsIFwiJ1wiKSA6ICdpbXByZXNzaW9uJztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyYWNraW5nIFwiLmNvbmNhdChldmVudEluZm8sIFwiIGZvciBcIikuY29uY2F0KG1lc3NhZ2UubWVzc2FnZUlkKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuQWN0aW9uTmFtZWQ6IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFwiUnVubmluZyB1bnRyYWNrZWQgYWN0aW9uICdcIi5jb25jYXQoYWN0aW9uTmFtZSwgXCInXCIpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5UcmFja2VkQWN0aW9uTmFtZWQ6IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFwiUnVubmluZyB0cmFja2VkIGFjdGlvbiAnXCIuY29uY2F0KGFjdGlvbk5hbWUsIFwiJ1wiKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgaXNQcmV2aWV3OiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5hZGREZWZhdWx0cyhfX2Fzc2lnbih7IG1lc3NhZ2VJZDogbWVzc2FnZS5tZXNzYWdlSWQgfSwgdmFycykpLFxuICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25NZXNzYWdlc1JlY2VpdmVkID0gZnVuY3Rpb24gKHJlY2VpdmVkTWVzc2FnZXMpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gcmVjZWl2ZWRNZXNzYWdlcyB8fCB7fTtcbiAgICAgICAgdGhpcy5fbWVzc2FnZUNhY2hlID0gbWVzc2FnZXM7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KG1lc3NhZ2VzKSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuc2hvdWxkU2hvd01lc3NhZ2UgPSBmdW5jdGlvbiAoaWQsIG1lc3NhZ2UsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBtYXRjaGVzVHJpZ2dlciA9IHRoaXMubWF0Y2hlc1RyaWdnZXIobWVzc2FnZS53aGVuVHJpZ2dlcnMsIGNvbnRleHQpO1xuICAgICAgICB2YXIgbWF0Y2hlc1VubGVzcyA9IHRoaXMubWF0Y2hlc1RyaWdnZXIobWVzc2FnZS51bmxlc3NUcmlnZ2VycywgY29udGV4dCk7XG4gICAgICAgIGlmICghbWF0Y2hlc1RyaWdnZXIgfHwgbWF0Y2hlc1VubGVzcykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmlnZ2Vyc0NvdW50ID0gdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5yZWNvcmRUcmlnZ2VyT2NjdXJyZW5jZShpZCk7XG4gICAgICAgIGlmICghdGhpcy5tYXRjaGVzTGltaXRzKGlkLCBtZXNzYWdlLndoZW5MaW1pdHMsIHRyaWdnZXJzQ291bnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhcnRUaW1lICYmIG1lc3NhZ2UuZW5kVGltZSkge1xuICAgICAgICAgICAgdmFyIG91dHNpZGVBY3RpdmVQZXJpb2QgPSBub3cgPCBtZXNzYWdlLnN0YXJ0VGltZSB8fCBtZXNzYWdlLmVuZFRpbWUgPCBub3c7XG4gICAgICAgICAgICBpZiAob3V0c2lkZUFjdGl2ZVBlcmlvZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5zaG93TWVzc2FnZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdmFycyA9IHRoaXMuYWRkRGVmYXVsdHMoX19hc3NpZ24oe30sIG1lc3NhZ2UudmFycykpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgIHRyYWNrOiBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5yZWNvcmRPY2N1cnJlbmNlKGlkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmFja01lc3NhZ2UoaWQsIHsgZXZlbnQ6IGV2ZW50LCB2YWx1ZTogdmFsdWUsIGluZm86IGluZm8sIHBhcmFtczogcGFyYW1zIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bkFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkgeyByZXR1cm4gX3RoaXMub25BY3Rpb24odmFyc1thY3Rpb25OYW1lXSwgaWQpOyB9LFxuICAgICAgICAgICAgcnVuVHJhY2tlZEFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGFjdGlvbk5hbWUucmVwbGFjZSgvIGFjdGlvbiQvLCAnJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJhY2tNZXNzYWdlKGlkLCB7IGV2ZW50OiBldmVudCB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbih2YXJzW2FjdGlvbk5hbWVdLCBpZCk7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBtZXNzYWdlOiBfX2Fzc2lnbih7IG1lc3NhZ2VJZDogaWQgfSwgdmFycyksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnByb2Nlc3NNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBldmVudFVybCkge1xuICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJscC1tZXNzYWdlLVwiLmNvbmNhdChtZXNzYWdlSWQpKTtcbiAgICAgICAgaWYgKCFpZnJhbWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNzYWdlIGNsb3NlZCwgc2tpcHBpbmcgZXZlbnQgcHJvY2Vzc2luZycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGV2ZW50VXJsLnJlcGxhY2UoL15odHRwOlxcL1xcL2xlYW5wbHVtXFwvLywgJycpLnNwbGl0KCc/JyksIGV2ZW50ID0gX2FbMF0sIF9iID0gX2FbMV0sIHF1ZXJ5ID0gX2IgPT09IHZvaWQgMCA/ICcnIDogX2I7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHZhciBwYXJhbXMgPSBxdWVyeS5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwYXJhbSkge1xuICAgICAgICAgICAgdmFyIF9hID0gcGFyYW0uc3BsaXQoJz0nKSwga2V5ID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHZhciBfYyA9IGlmcmFtZS5tZXRhZGF0YSwgbWVzc2FnZSA9IF9jLm1lc3NhZ2UsIGNvbnRleHQgPSBfYy5jb250ZXh0O1xuICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlICdsb2FkRmluaXNoZWQnOlxuICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlWydIVE1MIEhlaWdodCddID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBtZXNzYWdlWydIVE1MIFdpZHRoJ107XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSBcIlwiLmNvbmNhdChtZXNzYWdlWydIVE1MIEhlaWdodCddLCBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmxlZnQgPSBcImNhbGMoKDEwMCUgLSBcIi5jb25jYXQod2lkdGgsIFwiKSAvIDIpXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYW5jaG9yUHJvcCA9IG1lc3NhZ2VbJ0hUTUwgQWxpZ24nXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWx0UHJvcCA9IGFuY2hvclByb3AgPT09ICd0b3AnID8gJ2JvdHRvbScgOiAndG9wJztcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlW2FuY2hvclByb3BdID0gJzAnO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGVbYWx0UHJvcF0gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFjaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhY2snOlxuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhY2socGFyYW1zLmV2ZW50LCBwYXJzZUZsb2F0KHBhcmFtcy52YWx1ZSksIHBhcmFtcy5pbmZvLCBtYXliZUpTT04ocGFyYW1zLnBhcmFtZXRlcnMpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3J1bkFjdGlvbic6XG4gICAgICAgICAgICBjYXNlICdydW5UcmFja2VkQWN0aW9uJzpcbiAgICAgICAgICAgICAgICBjb250ZXh0W1wiXCIuY29uY2F0KGV2ZW50LCBcIk5hbWVkXCIpXShwYXJhbXMuYWN0aW9uKTtcbiAgICAgICAgICAgIC8vIGZhbGwgdGhyb3VnaCBhbmQgY2xvc2VcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgICAgICAgICBpZnJhbWUubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dSaWNoSUFNICYmIG9wdGlvbnMubWVzc2FnZS5fX25hbWVfXyA9PT0gJ0hUTUwnKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVGaWxlcyhvcHRpb25zLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlTmFtZSA9IG9wdGlvbnMubWVzc2FnZVsnVGVtcGxhdGUnXSB8fCAnJztcbiAgICAgICAgICAgIG5ldyBOZXR3b3JrXzEuZGVmYXVsdCgpLmFqYXgoJ2dldCcsIHRlbXBsYXRlTmFtZS5yZXBsYWNlKCctMTAuaHRtbCcsICctMTEuaHRtbCcpLCAnJywgZnVuY3Rpb24gKHRlbXBsYXRlKSB7IHJldHVybiBfdGhpcy5yZW5kZXJSaWNoSW5BcHBNZXNzYWdlKHRlbXBsYXRlLCBvcHRpb25zKTsgfSwgZnVuY3Rpb24gKCkgeyB9LCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdzaG93TWVzc2FnZScsIHRoaXMucmVzb2x2ZUZpZWxkcyhvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5yZW5kZXJSaWNoSW5BcHBNZXNzYWdlID0gZnVuY3Rpb24gKHRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBtZXNzYWdlSWQgPSBvcHRpb25zLm1lc3NhZ2UubWVzc2FnZUlkO1xuICAgICAgICB2YXIgdmFycyA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMubWVzc2FnZSk7XG4gICAgICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnaWQnLCBcImxwLW1lc3NhZ2UtXCIuY29uY2F0KG1lc3NhZ2VJZCkpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCd0aXRsZScsICdQb3B1cCcpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLW1vZGFsJywgJ3RydWUnKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLmNzc1RleHQgPSBbXG4gICAgICAgICAgICAnYm9yZGVyLXdpZHRoOiAwJyxcbiAgICAgICAgICAgICdwb3NpdGlvbjogZml4ZWQnLFxuICAgICAgICAgICAgJ3RvcDogLTEwMCUnLFxuICAgICAgICAgICAgJ2xlZnQ6IC0xMDAlJyxcbiAgICAgICAgICAgICd3aWR0aDogMTAwJScsXG4gICAgICAgICAgICAnaGVpZ2h0OiAxMDAlJyxcbiAgICAgICAgICAgICd2aXNpYmlsaXR5OiBoaWRkZW4nLFxuICAgICAgICAgICAgJ3otaW5kZXg6IDEwMDAwMCcsXG4gICAgICAgIF0uam9pbignOycpO1xuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShpZnJhbWUsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgIC8vIHBhc3MgbWVzc2FnZSBpbmZvXG4gICAgICAgIGlmcmFtZS5tZXRhZGF0YSA9IG9wdGlvbnM7XG4gICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93Lm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZDtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB0ZW1wbGF0ZVxuICAgICAgICAgICAgLnJlcGxhY2UoJyMjVmFycyMjJywgdmFycylcbiAgICAgICAgICAgIC5yZXBsYWNlKCc8Ym9keT4nLCBcIjxib2R5PjxzY3JpcHQ+d2luZG93Lm1lc3NhZ2VJZD0nXCIuY29uY2F0KG1lc3NhZ2VJZCwgXCInPC9zY3JpcHQ+XCIpKTtcbiAgICAgICAgaWYgKCdzcmNkb2MnIGluIGlmcmFtZSkge1xuICAgICAgICAgICAgaWZyYW1lLnNyY2RvYyA9IGNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZG9jID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgICAgICBkb2Mub3BlbigpO1xuICAgICAgICAgICAgZG9jLndyaXRlKGNvbnRlbnQpO1xuICAgICAgICAgICAgZG9jLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS50cmFja01lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCB0cmFja09wdGlvbnMsIHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0cmFja09wdGlvbnMgPT09IHZvaWQgMCkgeyB0cmFja09wdGlvbnMgPSB7IGV2ZW50OiBudWxsIH07IH1cbiAgICAgICAgaWYgKHJlc3BvbnNlID09PSB2b2lkIDApIHsgcmVzcG9uc2UgPSBmdW5jdGlvbiAoKSB7IH07IH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTUVTU0FHRV9JRCwgbWVzc2FnZUlkKTtcbiAgICAgICAgdmFyIGRlZmluZWQgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggIT09ICd1bmRlZmluZWQnOyB9O1xuICAgICAgICBpZiAodHJhY2tPcHRpb25zLmV2ZW50KSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5FVkVOVCwgdHJhY2tPcHRpb25zLmV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMudmFsdWUpKSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WQUxVRSwgdHJhY2tPcHRpb25zLnZhbHVlIHx8IDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmluZWQodHJhY2tPcHRpb25zLmluZm8pKSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkZPLCB0cmFja09wdGlvbnMuaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmluZWQodHJhY2tPcHRpb25zLnBhcmFtcykpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkodHJhY2tPcHRpb25zLnBhcmFtcykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm9uQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbiwgcGFyZW50TWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChwYXJlbnRNZXNzYWdlSWQgPT09IHZvaWQgMCkgeyBwYXJlbnRNZXNzYWdlSWQgPSAnJzsgfVxuICAgICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMuX21lc3NhZ2VDYWNoZTtcbiAgICAgICAgaWYgKGFjdGlvbi5fX25hbWVfXyA9PT0gJ0NoYWluIHRvIEV4aXN0aW5nIE1lc3NhZ2UnKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5lZE1lc3NhZ2VJZF8xID0gYWN0aW9uWydDaGFpbmVkIG1lc3NhZ2UnXTtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlXzEgPSBtZXNzYWdlc1tjaGFpbmVkTWVzc2FnZUlkXzFdO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2VfMS5hY3Rpb24gPT09ICdPcGVuIFVSTCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrTWVzc2FnZShjaGFpbmVkTWVzc2FnZUlkXzEsIHsgZXZlbnQ6ICdWaWV3JyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbihtZXNzYWdlXzEudmFycywgY2hhaW5lZE1lc3NhZ2VJZF8xKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZXNzYWdlXzEuYWN0aW9uID09PSAnUmVnaXN0ZXIgRm9yIFB1c2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVnaXN0ZXJGb3JQdXNoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKGNoYWluZWRNZXNzYWdlSWRfMSwgbWVzc2FnZV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgYXBwIGZ1bmN0aW9uXG4gICAgICAgIHZhciBwcm9jZXNzQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBhY3Rpb24uX19uYW1lX187XG4gICAgICAgICAgICBpZiAoYWN0aW9uLl9fbmFtZV9fID09PSAnT3BlbiBVUkwnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ25hdmlnYXRpb25DaGFuZ2UnLCBhY3Rpb24uVVJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFjdGlvbi5fX25hbWVfXyA9PT0gJ1JlZ2lzdGVyIEZvciBQdXNoJykge1xuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50cy5lbWl0KCdyZWdpc3RlckZvclB1c2gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBlbWJlZGRlZCBjaGFpbmVkIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TWVzc2FnZShwYXJlbnRNZXNzYWdlSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBwYXJlbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFyczogYWN0aW9uLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtZXNzYWdlSWQgPSB0aGlzLm1lc3NhZ2VJZEZyb21BY3Rpb24oYWN0aW9uKTtcbiAgICAgICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgdGhpcy50cmFja01lc3NhZ2UobWVzc2FnZUlkLCB7IGV2ZW50OiBudWxsIH0sIHByb2Nlc3NBY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzc0FjdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuZ2V0TWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlQ2FjaGUgfHwge307XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuYWRkRGVmYXVsdHMgPSBmdW5jdGlvbiAodmFycykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGVmaW5pdGlvbnMgPSB0aGlzLmdldE1lc3NhZ2VzKCkuYWN0aW9uRGVmaW5pdGlvbnMgfHwge307XG4gICAgICAgIHZhciBkZWZpbml0aW9uID0gZGVmaW5pdGlvbnNbdmFycy5fX25hbWVfX107XG4gICAgICAgIHZhciBraW5kcyA9IGRlZmluaXRpb24gPT09IG51bGwgfHwgZGVmaW5pdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVmaW5pdGlvbi5raW5kcztcbiAgICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFycztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXNlRGVmYXVsdHMgPSBmdW5jdGlvbiAob2JqLCBkZWZhdWx0VmFsdWVzLCBwYXRoKSB7XG4gICAgICAgICAgICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7IHBhdGggPSAnJzsgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKGRlZmF1bHRWYWx1ZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVmYXVsdFZhbHVlc1trZXldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdXNlRGVmYXVsdHMob2JqW2tleV0gfHwge30sIHZhbHVlLCBcIlwiLmNvbmNhdChwYXRoKS5jb25jYXQoa2V5LCBcIi5cIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChraW5kc1tcIlwiLmNvbmNhdChwYXRoKS5jb25jYXQoa2V5KV0gPT09ICdGSUxFJykge1xuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IF90aGlzLmdldEZpbGVVcmwob2JqW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB1c2VEZWZhdWx0cyhfX2Fzc2lnbih7fSwgdmFycyksIGRlZmluaXRpb24udmFsdWVzKTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5yZXNvbHZlRmlsZXMgPSBmdW5jdGlvbiAodmFycykge1xuICAgICAgICB2YXIgZmlsZVByZWZpeCA9IC9eX19maWxlX18vO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFycykge1xuICAgICAgICAgICAgaWYgKGZpbGVQcmVmaXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBrZXkucmVwbGFjZShmaWxlUHJlZml4LCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyc1tuYW1lXSA9IHRoaXMuZ2V0RmlsZVVybCh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhcnNba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB2YXJzW2tleV0gPSB0aGlzLnJlc29sdmVGaWxlcyh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXJzO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnJlc29sdmVGaWVsZHMgPSBmdW5jdGlvbiAodmFycykge1xuICAgICAgICB2YXIgY29sb3JTdWZmaXggPSAvXFxiY29sb3IvaTtcbiAgICAgICAgdmFyIGZpbGVQcmVmaXggPSAvXl9fZmlsZV9fLztcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHZhcnMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlUHJlZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0ga2V5LnJlcGxhY2UoZmlsZVByZWZpeCwgJycpO1xuICAgICAgICAgICAgICAgIHZhcnNbbmFtZSArICcgVVJMJ10gPSB0aGlzLmdldEZpbGVVcmwodmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbG9yU3VmZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IFZhbHVlVHJhbnNmb3Jtc18xLmRlZmF1bHQuZGVjb2RlQ29sb3IodmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YXJzW2tleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdmFyc1trZXldID0gdGhpcy5yZXNvbHZlRmllbGRzKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZUlkRnJvbUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICB2YXIgdmFycyA9IF9fYXNzaWduKHt9LCBhY3Rpb24pO1xuICAgICAgICBkZWxldGUgdmFyc1sncGFyZW50Q2FtcGFpZ25JZCddO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMobWVzc2FnZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGlkID0gX2FbX2ldO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBtZXNzYWdlc1tpZF07XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5wYXJlbnRDYW1wYWlnbklkICE9PSBhY3Rpb24ucGFyZW50Q2FtcGFpZ25JZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCgwLCBsb2Rhc2hfaXNlcXVhbF8xLmRlZmF1bHQpKG1lc3NhZ2UudmFycywgdmFycykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tYXRjaGVzVHJpZ2dlciA9IGZ1bmN0aW9uICh3aGVuVHJpZ2dlcnMsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKCF3aGVuVHJpZ2dlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWdub3JlQ2FzZUVxdWFscyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICBpZiAoYiA9PT0gdm9pZCAwKSB7IGIgPSAnJzsgfVxuICAgICAgICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKS5sb2NhbGVDb21wYXJlKGIudG9TdHJpbmcoKSwgdW5kZWZpbmVkLCB7IHNlbnNpdGl2aXR5OiAnYWNjZW50JyB9KSA9PT0gMDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1hdGNoZXNUcmlnZ2VycyA9IGZ1bmN0aW9uIChjb250ZXh0Tm91biwgcGFyYW1zLCB0cmlnZ2VyKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlc05vdW4gPSBjb250ZXh0Tm91biA9PT0gdHJpZ2dlci5ub3VuO1xuICAgICAgICAgICAgaWYgKHRyaWdnZXIudmVyYiA9PT0gJ3RyaWdnZXJzJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzTm91bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRyaWdnZXIudmVyYiA9PT0gJ3RyaWdnZXJzV2l0aFBhcmFtZXRlcicpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSB0cmlnZ2VyLm9iamVjdHMsIHBhcmFtZXRlciA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluc1BhcmFtID0gcGFyYW1ldGVyIGluIHBhcmFtcztcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlc1BhcmFtID0gY29udGFpbnNQYXJhbSAmJiBpZ25vcmVDYXNlRXF1YWxzKHZhbHVlLCBwYXJhbXNbcGFyYW1ldGVyXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNOb3VuICYmIG1hdGNoZXNQYXJhbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHdoZW5UcmlnZ2Vycy5jaGlsZHJlbi5zb21lKGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG4gICAgICAgICAgICB2YXIgc3ViamVjdCA9IHRyaWdnZXIuc3ViamVjdDtcbiAgICAgICAgICAgIHN3aXRjaCAoY29udGV4dC50cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RhcnQnOiByZXR1cm4gc3ViamVjdCA9PT0gJ3N0YXJ0JyB8fCBzdWJqZWN0ID09PSAncmVzdW1lJztcbiAgICAgICAgICAgICAgICBjYXNlICdyZXN1bWUnOiByZXR1cm4gc3ViamVjdCA9PT0gJ3Jlc3VtZSc7XG4gICAgICAgICAgICAgICAgY2FzZSAnZXZlbnQnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViamVjdCAhPT0gJ2V2ZW50Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzVHJpZ2dlcnMoY29udGV4dC5ldmVudE5hbWUsIGNvbnRleHQucGFyYW1zLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgICAgICBjYXNlICd1c2VyQXR0cmlidXRlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmplY3QgIT09ICd1c2VyQXR0cmlidXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluc0F0dHJpYnV0ZSA9IHRyaWdnZXIubm91biBpbiBjb250ZXh0LmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLnZlcmIgPT09ICdjaGFuZ2VzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5zQXR0cmlidXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRyaWdnZXIudmVyYiA9PT0gJ2NoYW5nZXNUbycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGFpbnNBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGV4dFZhbHVlXzEgPSBjb250ZXh0LmF0dHJpYnV0ZXNbdHJpZ2dlci5ub3VuXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyLm9iamVjdHMuc29tZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgJiYgY29udGV4dFZhbHVlXzEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiBjb250ZXh0VmFsdWVfMSAmJiBpZ25vcmVDYXNlRXF1YWxzKHZhbHVlLCBjb250ZXh0VmFsdWVfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0ICE9PSAnc3RhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNUcmlnZ2Vycyhjb250ZXh0LnN0YXRlLCBjb250ZXh0LnBhcmFtcywgdHJpZ2dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm1hdGNoZXNMaW1pdHMgPSBmdW5jdGlvbiAoaWQsIHdoZW5MaW1pdHMsIHRyaWdnZXJPY2N1cnJlbmNlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXdoZW5MaW1pdHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aGVuTGltaXRzLmNoaWxkcmVuLmV2ZXJ5KGZ1bmN0aW9uIChsaW1pdCkge1xuICAgICAgICAgICAgdmFyIHN1YmplY3QgPSBsaW1pdC5zdWJqZWN0LCB2ZXJiID0gbGltaXQudmVyYjtcbiAgICAgICAgICAgIHZhciBub3VuID0gcGFyc2VJbnQobGltaXQubm91bi50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGlmIChzdWJqZWN0ID09PSAndGltZXMnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmIgPT09ICdsaW1pdFNlc3Npb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uT2NjdXJyZW5jZXMgPSBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5nZXRTZXNzaW9uT2NjdXJyYW5jZUNvdW50KGlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25PY2N1cnJlbmNlcyArIDEgPT09IG5vdW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZlcmIgPT09ICdsaW1pdFVzZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvY2N1cnJlbmNlcyA9IF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmdldE9jY3VycmVuY2VzKGlkKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvY2N1cnJlbmNlcyArIDEgPD0gbm91bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFggaW4gWSAoc2Vjb25kc3xtaW51dGVzfGRheXN8aG91cnMpXG4gICAgICAgICAgICAgICAgICAgIHZhciBwZXJJbnRlcnZhbCA9IHBhcnNlSW50KGxpbWl0Lm9iamVjdHNbMF0udG9TdHJpbmcoKSkgfHwgMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVTbG90ID0gdmVyYlRvSW50ZXJ2YWwodmVyYikgKiBwZXJJbnRlcnZhbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9jY3VycmVuY2VzID0gX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuZ2V0T2NjdXJyZW5jZXMoaWQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSBvY2N1cnJlbmNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA8IG5vdW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNsaWNlID0gb2NjdXJyZW5jZXMuc2xpY2UoY291bnQgLSBub3VuLCBjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGUgdGltZSBvZiB0aGUgZmlyc3Qgb2YgdGhlIGxhc3QgTiBvY2N1cnJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNsaWNlWzBdIDwgRGF0ZS5ub3coKSAtIHRpbWVTbG90O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViamVjdCA9PT0gJ29uTnRoT2NjdXJyZW5jZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJpZ2dlck9jY3VycmVuY2VzID09PSBub3VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViamVjdCA9PT0gJ2V2ZXJ5TnRoT2NjdXJyZW5jZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRyaWdnZXJPY2N1cnJlbmNlcyAlIG5vdW4pID09PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBNZXNzYWdlcztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBNZXNzYWdlcztcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JZGVudGl0eU1hbmFnZXIgPSBleHBvcnRzLklkZW50aXR5U3RhdGUgPSB2b2lkIDA7XG52YXIgY2xldmVydGFwX3dlYl9zZGtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiY2xldmVydGFwLXdlYi1zZGtcIikpO1xudmFyIGludGVybmFsXzEgPSByZXF1aXJlKFwiLi90eXBlcy9pbnRlcm5hbFwiKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7IH07XG52YXIgdG9NaWdyYXRpb25TdGF0ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICBzd2l0Y2ggKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9iai5zZGspIHtcbiAgICAgICAgY2FzZSAnbHAnOlxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuTEVBTlBMVU07XG4gICAgICAgIGNhc2UgJ2xwK2N0JzpcbiAgICAgICAgICAgIHJldHVybiBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkRVUExJQ0FURTtcbiAgICAgICAgY2FzZSAnY3QnOlxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuQ0xFVkVSVEFQO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuVU5LTk9XTjtcbiAgICB9XG59O1xudmFyIE1pZ3JhdGlvbk1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWlncmF0aW9uTWFuYWdlcihjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZldGNoaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIHNhdmVkUmVzcG9uc2UgPSBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1JR1JBVElPTl9TVEFURSk7XG4gICAgICAgIHZhciBkZXZpY2VJZCA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuREVWSUNFX0lEKTtcbiAgICAgICAgdmFyIHVzZXJJZCA9IChfYSA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRldmljZUlkO1xuICAgICAgICB0aGlzLmlkZW50aXR5ID0gbmV3IElkZW50aXR5TWFuYWdlcih1c2VySWQsIGRldmljZUlkKTtcbiAgICAgICAgaWYgKHNhdmVkUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSBKU09OLnBhcnNlKHNhdmVkUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayA9PT0gdm9pZCAwKSB7IGNhbGxiYWNrID0gbm9vcDsgfVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlO1xuICAgICAgICB2YXIgc3RhdGUgPSB0b01pZ3JhdGlvblN0YXRlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICBpZiAocmVzcG9uc2UgJiYgc3RhdGUgIT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuVU5LTk9XTikge1xuICAgICAgICAgICAgY2FsbGJhY2soc3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0TWlncmF0aW9uU3RhdGUoY2FsbGJhY2spO1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUudmVyaWZ5U3RhdGUgPSBmdW5jdGlvbiAoc2hhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHNoYSAmJiAoKF9hID0gdGhpcy5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNoYTI1NikgIT09IHNoYSkge1xuICAgICAgICAgICAgdGhpcy5nZXRNaWdyYXRpb25TdGF0ZShmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIGlmIChzID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkRVUExJQ0FURSB8fCBzID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkNMRVZFUlRBUCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbml0Q2xldmVyVGFwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuaWRlbnRpdHkuaXNBbm9ueW1vdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZXZlcnRhcF93ZWJfc2RrXzEuZGVmYXVsdC5vblVzZXJMb2dpbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlOiBfdGhpcy5pZGVudGl0eS5wcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUuaW5pdENsZXZlclRhcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY29uZmlnID0gKF9hID0gdGhpcy5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmN0O1xuICAgICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNsZXZlcnRhcF93ZWJfc2RrXzEuZGVmYXVsdC5pbml0KGNvbmZpZy5hY2NvdW50SWQsIGNvbmZpZy5yZWdpb25Db2RlLCAnJywgY29uZmlnLnRva2VuKTtcbiAgICAgICAgcmV0dXJuIGNsZXZlcnRhcF93ZWJfc2RrXzEuZGVmYXVsdDtcbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLmR1cGxpY2F0ZVJlcXVlc3QgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRvTWlncmF0aW9uU3RhdGUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5MRUFOUExVTSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXJncykge1xuICAgICAgICAgICAgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuRFVQTElDQVRFKSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DVCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3NEaWN0ID0gKGFyZ3MgPT09IG51bGwgfHwgYXJncyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXJncy5idWlsZERpY3QoKSkgfHwge307XG4gICAgICAgIHZhciB1c2VySWQgPSBhcmdzRGljdFtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5VU0VSX0lEXTtcbiAgICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICAgICAgdGhpcy5pZGVudGl0eS5zZXRVc2VySWQodXNlcklkKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU1RBUlQ6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlkZW50aXR5LmlzQW5vbnltb3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZXZlcnRhcF93ZWJfc2RrXzEuZGVmYXVsdC5vblVzZXJMb2dpbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGU6IHRoaXMuaWRlbnRpdHkucHJvZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0s6XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFB1c2goYXJnc0RpY3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuQURWQU5DRTpcbiAgICAgICAgICAgICAgICBhcmdzRGljdC5ldmVudCA9IFwic3RhdGVfXCIuY29uY2F0KGFyZ3NEaWN0LnN0YXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50UHVzaChhcmdzRGljdCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfVVNFUl9BVFRSSUJVVEVTOlxuICAgICAgICAgICAgICAgIHRoaXMucHJvZmlsZVB1c2goYXJnc0RpY3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZSA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5DTEVWRVJUQVA7XG4gICAgfTtcbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9maWxlUHVzaCA9IGZ1bmN0aW9uIChhcmdzRGljdCkge1xuICAgICAgICB2YXIgdXNlcklkID0gYXJnc0RpY3RbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTkVXX1VTRVJfSURdO1xuICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLm1hcEF0dHJpYnV0ZXModGhpcy5jb252ZXJ0QXJyYXlzKEpTT04ucGFyc2UoYXJnc0RpY3QudXNlckF0dHJpYnV0ZXMgfHwgJ3t9JykpKTtcbiAgICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICAgICAgdGhpcy5pZGVudGl0eS5zZXRVc2VySWQodXNlcklkKTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXR0cnMsIHRoaXMuaWRlbnRpdHkucHJvZmlsZSk7XG4gICAgICAgICAgICBjbGV2ZXJ0YXBfd2ViX3Nka18xLmRlZmF1bHQub25Vc2VyTG9naW4ucHVzaCh7IFNpdGU6IGF0dHJzIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0LnByb2ZpbGUucHVzaCh7IFNpdGU6IGF0dHJzIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5ldmVudFB1c2ggPSBmdW5jdGlvbiAoYXJnc0RpY3QsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGlzRW5nYWdlbWVudEV2ZW50ID0gYXJnc0RpY3RbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTUVTU0FHRV9JRF07XG4gICAgICAgIHZhciBldmVudE5hbWUgPSBvcHRpb25zLmlzUHVyY2hhc2UgPyAnQ2hhcmdlZCcgOiBhcmdzRGljdC5ldmVudDtcbiAgICAgICAgaWYgKGV2ZW50TmFtZSAmJiAhaXNFbmdhZ2VtZW50RXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBldmVudFBhcmFtcyA9IHt9O1xuICAgICAgICAgICAgaWYgKGFyZ3NEaWN0LnBhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB0aGlzLmNvbnZlcnRBcnJheXMoSlNPTi5wYXJzZShhcmdzRGljdC5wYXJhbXMpKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGV2ZW50UGFyYW1zLCBwYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyZ3NEaWN0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihldmVudFBhcmFtcywgeyB2YWx1ZTogYXJnc0RpY3QudmFsdWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJnc0RpY3QuaW5mbykge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZXZlbnRQYXJhbXMsIHsgaW5mbzogYXJnc0RpY3QuaW5mbyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzUHVyY2hhc2UgJiYgYXJnc0RpY3QuY3VycmVuY3lDb2RlKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihldmVudFBhcmFtcywge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGFyZ3NEaWN0LmN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZXZlcnRhcF93ZWJfc2RrXzEuZGVmYXVsdC5ldmVudC5wdXNoKGV2ZW50TmFtZSwgZXZlbnRQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5jb252ZXJ0QXJyYXlzID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBcIltcIi5jb25jYXQoYXJyLmpvaW4oJywnKSwgXCJdXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLm1hcEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHZhciBtYXBwaW5nID0gKF9iID0gKF9hID0gdGhpcy5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmN0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYXR0cmlidXRlTWFwcGluZ3M7XG4gICAgICAgIGlmICghbWFwcGluZylcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgICAgIGlmIChtYXBwaW5nW2tleV0pIHtcbiAgICAgICAgICAgICAgICBhY2NbbWFwcGluZ1trZXldXSA9IG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldE1pZ3JhdGlvblN0YXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9mZXRjaGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZmV0Y2hpbmcgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jcmVhdGVSZXF1ZXN0KCdnZXRNaWdyYXRlU3RhdGUnLCBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCksIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSAoX2EgPSByID09PSBudWxsIHx8IHIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHIucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRvTWlncmF0aW9uU3RhdGUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlICYmIHN0YXRlICE9PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLlVOS05PV04pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NSUdSQVRJT05fU1RBVEUsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmV0Y2hpbmcudGhlbihjYWxsYmFjaylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9mZXRjaGluZyA9IG51bGw7IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1pZ3JhdGlvbk1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTWlncmF0aW9uTWFuYWdlcjtcbnZhciBJZGVudGl0eVN0YXRlO1xuKGZ1bmN0aW9uIChJZGVudGl0eVN0YXRlKSB7XG4gICAgSWRlbnRpdHlTdGF0ZVtcIkFOT05ZTU9VU1wiXSA9IFwiYW5vbnltb3VzXCI7XG4gICAgSWRlbnRpdHlTdGF0ZVtcIklERU5USUZJRURcIl0gPSBcImlkZW50aWZpZWRcIjtcbn0pKElkZW50aXR5U3RhdGUgPSBleHBvcnRzLklkZW50aXR5U3RhdGUgfHwgKGV4cG9ydHMuSWRlbnRpdHlTdGF0ZSA9IHt9KSk7XG52YXIgSWRlbnRpdHlNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElkZW50aXR5TWFuYWdlcih1c2VySWQsIGRldmljZUlkKSB7XG4gICAgICAgIHRoaXMudXNlcklkID0gdXNlcklkO1xuICAgICAgICB0aGlzLmRldmljZUlkID0gZGV2aWNlSWQ7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBJZGVudGl0eVN0YXRlLkFOT05ZTU9VUztcbiAgICAgICAgdGhpcy5pZGVudGlmeSgpO1xuICAgIH1cbiAgICBJZGVudGl0eU1hbmFnZXIucHJvdG90eXBlLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IElkZW50aXR5U3RhdGUuQU5PTllNT1VTKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gSWRlbnRpdHlTdGF0ZS5JREVOVElGSUVEO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXNlcklkID0gdXNlcklkO1xuICAgIH07XG4gICAgSWRlbnRpdHlNYW5hZ2VyLnByb3RvdHlwZS5pZGVudGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBbm9ueW1vdXMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBJZGVudGl0eVN0YXRlLkFOT05ZTU9VUztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpZnlOb25Bbm9ueW1vdXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSWRlbnRpdHlNYW5hZ2VyLnByb3RvdHlwZS5pZGVudGlmeU5vbkFub255bW91cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IElkZW50aXR5U3RhdGUuSURFTlRJRklFRDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJZGVudGl0eU1hbmFnZXIucHJvdG90eXBlLCBcInByb2ZpbGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IElkZW50aXR5OiB0aGlzLnVzZXJJZCB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElkZW50aXR5TWFuYWdlci5wcm90b3R5cGUsIFwiaXNBbm9ueW1vdXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJJZCA9PT0gdGhpcy5kZXZpY2VJZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBJZGVudGl0eU1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5JZGVudGl0eU1hbmFnZXIgPSBJZGVudGl0eU1hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQWpheCBmdW5jdGlvbnMgZnJvbTpcbiAqXG4gKiBQYXJzZSBKYXZhU2NyaXB0IFNES1xuICogVmVyc2lvbjogMS4xLjVcbiAqIEJ1aWx0OiBNb24gT2N0IDAxIDIwMTIgMTc6NTc6MTNcbiAqIGh0dHA6Ly9wYXJzZS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgMjAxMiBQYXJzZSwgSW5jLlxuICogVGhlIFBhcnNlIEphdmFTY3JpcHQgU0RLIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5ldHdvcmsgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmV0d29yaygpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSAxMDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gc2Vjb25kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gYWpheCByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgVGhlIGh0dHAgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCB0byBvcGVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfEJsb2J8RG9jdW1lbnR8Rm9ybURhdGF9IGRhdGEgVGhlIGRhdGEgdG8gYmUgc2VudCBpbiBib2R5LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3MgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gc3VjY2Vzcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvciBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1ZXVlZCBXaGV0aGVyIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBxdWV1ZWQgb3IgaW1tZWRpYXRlbHkgc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwbGFpblRleHRdIFdoZXRoZXIgdGhlIHJlc3BvbnNlIHNob3VsZCBiZSByZXR1cm5lZCBhcyBwbGFpbiB0ZXh0IG9yIGpzb24uXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5hamF4ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucnVubmluZ1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5xdWV1ZVJlcXVlc3QoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucnVubmluZ1JlcXVlc3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgWERvbWFpblJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwOicgJiYgdXJsLmluZGV4T2YoJ2h0dHBzOicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gXCJodHRwOlwiLmNvbmNhdCh1cmwuc3Vic3RyaW5nKDYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFqYXhJRTgobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VfMTtcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChwbGFpblRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfMSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfMSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihudWxsLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlXzEsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IocmVzcG9uc2VfMSwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlcXVldWVSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB4aHIub25lcnJvciA9IHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlcXVlc3RRdWV1ZS5zcGxpY2UoMCwgX3RoaXMucmVxdWVzdFF1ZXVlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICghYmxvY2tlZCkge1xuICAgICAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7IC8vIEF2b2lkIHByZS1mbGlnaHQuXG4gICAgICAgICAgICB4aHIuc2VuZChkYXRhKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyAqIDEwMDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGFuIGFqYXggcmVxdWVzdCBmb3IgSUU4LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgVGhlIGh0dHAgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCB0byBvcGVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfEJsb2J8RG9jdW1lbnR8Rm9ybURhdGF9IGRhdGEgVGhlIGRhdGEgdG8gYmUgc2VudCBpbiBib2R5LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3MgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gc3VjY2Vzcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvciBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1ZXVlZCBXaGV0aGVyIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBxdWV1ZWQgb3IgaW1tZWRpYXRlbHkgc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBsYWluVGV4dCBXaGV0aGVyIHRoZSByZXNwb25zZSBzaG91bGQgYmUgcmV0dXJuZWQgYXMgcGxhaW4gdGV4dCBvciBqc29uLlxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmFqYXhJRTggPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgeGRyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgIHhkci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgICAgICB2YXIgcGFyc2VFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBsYWluVGV4dCkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0geGRyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZSh4ZHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihudWxsLCB4ZHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXJzZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlLCB4ZHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4ZHIub25lcnJvciA9IHhkci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGRyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlcXVldWVSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhkci5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB4ZHIub3BlbihtZXRob2QsIHVybCk7XG4gICAgICAgIHhkci50aW1lb3V0ID0gdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgKiAxMDAwO1xuICAgICAgICB4ZHIuc2VuZChkYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHJlcXVlc3QgdG8gdGhlIHJlcXVlc3QgcXVldWUuXG4gICAgICogQHBhcmFtIHJlcXVlc3RBcmd1bWVudHMgVGhlIHJlcXVlc3QgYXJndW1lbnRzIGZyb20gdGhlIGluaXRpYWwgbWV0aG9kIGNhbGwuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5lbnF1ZXVlUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0QXJndW1lbnRzKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFF1ZXVlLnB1c2gocmVxdWVzdEFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSByZXF1ZXN0IGZyb20gdGhlIHJlcXVlc3QgcXVldWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5kZXF1ZXVlUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSB0aGlzLnJlcXVlc3RRdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoYXJncykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICAgICAgICAgIHRoaXMuYWpheC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5ldHdvcms7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTmV0d29yaztcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBBUFBMSUNBVElPTl9TRVJWRVJfUFVCTElDX0tFWSA9ICdCSW5XUHBXbnRmUjM5cmdYU1AwNHBxZG1FZERHYTUwejZ6cWJNdnh5eEpDd3pYSXVTcFNoOEM4ODgtQ2ZKODJXRUxsN1hlOGNqQW5mQ3QtM3ZLMENpNjgnO1xuLyoqXG4gKiBQdXNoIE1hbmFnZXIgaGFuZGxlcyB0aGUgcmVnaXN0cmF0aW9uIGFuZCBzdWJzY3JpcHRpb24gZm9yIHdlYiBwdXNoLlxuICovXG52YXIgUHVzaE1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHVzaE1hbmFnZXIoY3JlYXRlUmVxdWVzdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHVzaE1hbmFnZXIucHJvdG90eXBlLCBcInNlcnZpY2VXb3JrZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnNlcnZpY2VXb3JrZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oKHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5uYXZpZ2F0b3IpICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICdzZXJ2aWNlV29ya2VyJyBpbiB3aW5kb3cubmF2aWdhdG9yICYmXG4gICAgICAgICAgICAnUHVzaE1hbmFnZXInIGluIHdpbmRvdyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYnJvd3NlciBpcyBzdWJzY3JpYmVkIHRvIHdlYiBwdXNoIG5vdGlmaWNhdGlvbnMuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gVHJ1ZSBpZiBzdWJzY3JpYmVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKGNsaWVudFVybCkge1xuICAgICAgICBpZiAoY2xpZW50VXJsID09PSB2b2lkIDApIHsgY2xpZW50VXJsID0gJyc7IH1cbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZWdpc3RyYXRpb24sIHN1YnNjcmlwdGlvbiwgaXNTdWJzY3JpYmVkO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbihjbGllbnRVcmwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkID0gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpc1N1YnNjcmliZWRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGZvciBXZWJQdXNoLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBzZXJ2aWNlV29ya2VyVXJsIFRoZSB1cmwgdGhhdCBzZXJ2ZXMgdGhlIHNlcnZpY2Ugd29ya2VyIG9uIHlvdXIgZG9tYWluLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgIFRoZSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2l0aCByZXN1bHQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gVHJ1ZSBpZiBzdWJzY3JpYmVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyVXJsLCBzY29wZSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgc3Vic2NyaXB0aW9uLCBpc1N1YnNjcmliZWQsIGVycm9yXzE7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFB1c2ggbWVzc2FnaW5nIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgNCwgLCA1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc2VydmljZVdvcmtlclVybCB8fCAnL3N3Lm1pbi5qcycsIHNjb3BlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1YnNjcmliZWQgPSBzdWJzY3JpcHRpb24gIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlcihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGlzU3Vic2NyaWJlZCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8xID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTZXJ2aWNlIFdvcmtlciBFcnJvcjogJywgZXJyb3JfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRoZSB1c2VyIChicm93c2VyKSB0byBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHN1YnNjcmlwdGlvbiBzdWNjZXNzZnVsLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuc3Vic2NyaWJlVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcHBsaWNhdGlvblNlcnZlcktleSwgc3Vic2NyaXB0aW9uLCBlcnJvcl8yO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXkgPSB0aGlzLnVybEI2NFRvVWludDhBcnJheShBUFBMSUNBVElPTl9TRVJWRVJfUFVCTElDX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleTogYXBwbGljYXRpb25TZXJ2ZXJLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlcihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZWFucGx1bTogRmFpbGVkIHRvIHN1YnNjcmliZSB0aGUgdXNlcjogXCIuY29uY2F0KGVycm9yXzIpKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmUgdGhlIHVzZXIoYnJvd3NlcikgZnJvbSBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHVuc3Vic2NyaWJlZCwgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlVXNlciA9IGZ1bmN0aW9uIChjbGllbnRVcmwpIHtcbiAgICAgICAgaWYgKGNsaWVudFVybCA9PT0gdm9pZCAwKSB7IGNsaWVudFVybCA9ICcnOyB9XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlZCwgc3Vic2NyaXB0aW9uLCBlcnJvcl8zO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmlzV2ViUHVzaFN1YnNjcmliZWQoY2xpZW50VXJsKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZWQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZWQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzIsIDUsICwgNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZWFucGx1bTogRXJyb3IgdW5zdWJzY3JpYmluZzogXCIuY29uY2F0KGVycm9yXzMpKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBzZXJ2aWNlIHdvcmtlciByZWdpc3RyYXRpb24gb2JqZWN0IGZyb20gYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFJldHVybnMgdGhlIHJlZ2lzdHJhdGlvbiBvciBudWxsLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKGNsaWVudFVybCkge1xuICAgICAgICBpZiAoY2xpZW50VXJsID09PSB2b2lkIDApIHsgY2xpZW50VXJsID0gJyc7IH1cbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9uKGNsaWVudFVybCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb25dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuY29kZXMgYSBiYXNlNjQgVVJMIHN0cmluZyB0byBhbiBVaW50OCBhcnJheS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudXJsQjY0VG9VaW50OEFycmF5ID0gZnVuY3Rpb24gKGJhc2U2NFN0cmluZykge1xuICAgICAgICB2YXIgcGFkZGluZyA9ICc9Jy5yZXBlYXQoKDQgLSBiYXNlNjRTdHJpbmcubGVuZ3RoICUgNCkgJSA0KTtcbiAgICAgICAgdmFyIGJhc2U2NCA9IChiYXNlNjRTdHJpbmcgKyBwYWRkaW5nKS5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHRoaXMuZGVjb2RlRGF0YShiYXNlNjQpO1xuICAgICAgICB2YXIgb3V0cHV0QXJyYXkgPSBuZXcgVWludDhBcnJheShyYXdEYXRhLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF3RGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgb3V0cHV0QXJyYXlbaV0gPSByYXdEYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dEFycmF5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG5ldyBzdWJzY3JpcHRpb24gb2JqZWN0IHRvIHRoZSBMZWFucGx1bSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN1YnNjcmlwdGlvbiBUaGUgc3Vic2NyaXB0aW9uLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlciA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdmFyIHByZXBhcmVkU3Vic2NyaXB0aW9uID0gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB2YXIgcHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShwcmVwYXJlZFN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdTdWJzY3JpcHRpb25TdHJpbmcgPSBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlBVU0hfU1VCU0NSSVBUSU9OKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1N1YnNjcmlwdGlvblN0cmluZyAhPT0gcHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5QVVNIX1NVQlNDUklQVElPTiwgcHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnByZXBhcmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBrZXkgPSAoJ2dldEtleScgaW4gc3Vic2NyaXB0aW9uKSA/IHN1YnNjcmlwdGlvbi5nZXRLZXkoJ3AyNTZkaCcpIDogW107XG4gICAgICAgIHZhciBhdXRoID0gKCdnZXRLZXknIGluIHN1YnNjcmlwdGlvbikgPyBzdWJzY3JpcHRpb24uZ2V0S2V5KCdhdXRoJykgOiBbXTtcbiAgICAgICAgdmFyIGtleUFzY2lpID0gdGhpcy5lbmNvZGVEYXRhKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoa2V5KSkpO1xuICAgICAgICB2YXIgYXV0aEFzY2lpID0gdGhpcy5lbmNvZGVEYXRhKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYXV0aCkpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuZHBvaW50OiBzdWJzY3JpcHRpb24uZW5kcG9pbnQsXG4gICAgICAgICAgICBrZXk6IGtleUFzY2lpLFxuICAgICAgICAgICAgYXV0aDogYXV0aEFzY2lpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZSBMZWFucGx1bSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1YnNjcmlwdGlvbiBUaGUgc3Vic2NyaXB0aW9uIHN0cmluZy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuc2V0U3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuV0VCX1BVU0hfU1VCU0NSSVBUSU9OLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfREVWSUNFX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmVuY29kZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmJ0b2EoZGF0YSk7XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZGVjb2RlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYXRvYihkYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBQdXNoTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBQdXNoTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOZXR3b3JrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTmV0d29ya1wiKSk7XG4vKipcbiAqIFNvY2tldC5pbyAxLjAgY2xpZW50IGNsYXNzLlxuICovXG52YXIgU29ja2V0SW9DbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBuZXcgU29ja2V0SW9DbGllbnQsIG5vdCBjb25uZWN0ZWQgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTb2NrZXRJb0NsaWVudCgpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV3IE5ldHdvcmtfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdHMgdG8gdGhlIGdpdmVuIHNvY2tldEhvc3QuXG4gICAgICogQHBhcmFtIHNvY2tldEhvc3QgVGhlIGhvc3QgdG8gY29ubmVjdCB0by5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChzb2NrZXRIb3N0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubmV0d29yay5hamF4KCdQT1NUJywgXCJodHRwczovL1wiLmNvbmNhdChzb2NrZXRIb3N0LCBcIi9zb2NrZXQuaW8vMVwiKSwgJycsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlYXJ0YmVhdCA9IHBhcnNlSW50KHBhcnRzWzFdKSAvIDIgKiAxMDAwO1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzczovL1wiLmNvbmNhdChzb2NrZXRIb3N0LCBcIi9zb2NrZXQuaW8vMS93ZWJzb2NrZXQvXCIpLmNvbmNhdChzZXNzaW9uKSk7XG4gICAgICAgICAgICB2YXIgaGVhcnRiZWF0SW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9ub3BlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoZWFydGJlYXRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoJzI6OjonKTtcbiAgICAgICAgICAgICAgICB9LCBoZWFydGJlYXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaGVhcnRiZWF0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlUGFydHMgPSBldmVudC5kYXRhLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBwYXJzZUludChtZXNzYWdlUGFydHNbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKCcyOjonKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUlkID0gbWVzc2FnZVBhcnRzWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZVBhcnRzLnNsaWNlKDMpLmpvaW4oJzonKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlRXZlbnQgPSBkYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gZGF0YS5hcmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZChcIjY6OjpcIi5jb25jYXQobWVzc2FnZUlkKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLm9ubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25tZXNzYWdlKG1lc3NhZ2VFdmVudCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNvY2tldCBlcnJvcjogXCIuY29uY2F0KGV2ZW50LmRhdGEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbmVycm9yKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBudWxsLCBmYWxzZSwgdHJ1ZSAvLyBudWxsLCBxdWV1ZWQsIHBsYWluVGV4dFxuICAgICAgICApO1xuICAgIH07XG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZHMgZ2l2ZW4gZXZlbnQgd2l0aCBhcmd1bWVudHMgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3NKc29uID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKFwiNTo6OlwiLmNvbmNhdChhcmdzSnNvbikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29yay5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIHJldHVybiBTb2NrZXRJb0NsaWVudDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBTb2NrZXRJb0NsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzdG9yYWdlRW5hYmxlZCA9IHtcbiAgICBsb2NhbDogdHJ1ZSxcbiAgICBzZXNzaW9uOiB0cnVlLFxufTtcbnZhciBhbHRlcm5hdGVTdG9yYWdlID0ge1xuICAgIGxvY2FsOiB7fSxcbiAgICBzZXNzaW9uOiB7fSxcbn07XG52YXIgU3RvcmFnZU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RvcmFnZU1hbmFnZXIoKSB7XG4gICAgfVxuICAgIFN0b3JhZ2VNYW5hZ2VyLmdldCA9IGZ1bmN0aW9uIChrZXksIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gJ2xvY2FsJzsgfVxuICAgICAgICBpZiAoIXN0b3JhZ2VFbmFibGVkW3R5cGVdKSB7XG4gICAgICAgICAgICByZXR1cm4gYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHN0b3JhZ2VFbmFibGVkW3R5cGVdID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdG9yYWdlTWFuYWdlci5zYXZlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gJ2xvY2FsJzsgfVxuICAgICAgICBpZiAoIXN0b3JhZ2VFbmFibGVkW3R5cGVdKSB7XG4gICAgICAgICAgICBhbHRlcm5hdGVTdG9yYWdlW3R5cGVdW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc3RvcmFnZUVuYWJsZWRbdHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCB0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9ICdsb2NhbCc7IH1cbiAgICAgICAgaWYgKCFzdG9yYWdlRW5hYmxlZFt0eXBlXSkge1xuICAgICAgICAgICAgZGVsZXRlIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzdG9yYWdlRW5hYmxlZFt0eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgZGVsZXRlIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN0b3JhZ2VNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFN0b3JhZ2VNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVmFsdWVUcmFuc2Zvcm1zID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhbHVlVHJhbnNmb3JtcygpIHtcbiAgICB9XG4gICAgVmFsdWVUcmFuc2Zvcm1zLmRlY29kZUNvbG9yID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHZhciBiID0gY29sb3IgJiAweGZmO1xuICAgICAgICBjb2xvciA+Pj0gODtcbiAgICAgICAgdmFyIGcgPSBjb2xvciAmIDB4ZmY7XG4gICAgICAgIGNvbG9yID4+PSA4O1xuICAgICAgICB2YXIgciA9IGNvbG9yICYgMHhmZjtcbiAgICAgICAgY29sb3IgPj49IDg7XG4gICAgICAgIHZhciBhID0gKGNvbG9yICYgMHhmZikgLyAyNTU7XG4gICAgICAgIHJldHVybiBcInJnYmEoXCIuY29uY2F0KHIsIFwiLFwiKS5jb25jYXQoZywgXCIsXCIpLmNvbmNhdChiLCBcIixcIikuY29uY2F0KGEsIFwiKVwiKTtcbiAgICB9O1xuICAgIFZhbHVlVHJhbnNmb3Jtcy5lbmNvZGVDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJnYmEgLT4gbnVtYmVyXG4gICAgICAgIHZhciByZ2JhUmUgPSAvXnJnYmFcXCgoXFxkKyksKFxcZCspLChcXGQrKSwoXFxkKyhcXC5cXGQrKT8pXFwpJC87XG4gICAgICAgIHZhciByZ2JhID0gcmdiYVJlLmV4ZWMoY29sb3IpO1xuICAgICAgICBpZiAocmdiYSkge1xuICAgICAgICAgICAgdmFyIGEgPSBwYXJzZUludChyZ2JhWzRdLCAxMCkgKiAyNTU7XG4gICAgICAgICAgICB2YXIgciA9IHBhcnNlSW50KHJnYmFbMV0sIDEwKSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgZyA9IHBhcnNlSW50KHJnYmFbMl0sIDEwKSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgYiA9IHBhcnNlSW50KHJnYmFbM10sIDEwKSAmIDB4ZmY7XG4gICAgICAgICAgICByZXR1cm4gKGEgPDwgMjQpICsgKHIgPDwgMTYpICsgKGcgPDwgOCkgKyBiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhleCAtPiBudW1iZXJcbiAgICAgICAgdmFyIGhleFJlID0gL14jKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pJC9pO1xuICAgICAgICB2YXIgaGV4ID0gaGV4UmUuZXhlYyhjb2xvcik7XG4gICAgICAgIGlmIChoZXgpIHtcbiAgICAgICAgICAgIHZhciByID0gcGFyc2VJbnQoaGV4WzFdLCAxNikgJiAweGZmO1xuICAgICAgICAgICAgdmFyIGcgPSBwYXJzZUludChoZXhbMl0sIDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgYiA9IHBhcnNlSW50KGhleFszXSwgMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHJldHVybiAoMjU1IDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcGFyc2UgY29sb3IgXFxcIlwiLmNvbmNhdChjb2xvciwgXCJcXFwiXCIpKTtcbiAgICB9O1xuICAgIHJldHVybiBWYWx1ZVRyYW5zZm9ybXM7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gVmFsdWVUcmFuc2Zvcm1zO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIFZhbHVlVHJhbnNmb3Jtc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZhbHVlVHJhbnNmb3Jtc1wiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vLyB0cmFuc2Zvcm1zIHRoZSBzZXJ2ZXIgcmVzcG9uc2UgdG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBzZXRWYXJzXG4vLyAtIGxvd2VyY2FzZSBraW5kc1xuLy8gLSBhY3Rpb25zIGFzIGVtcHR5IHN0cmluZ3NcbmZ1bmN0aW9uIHRvU2V0VmFyc0Zvcm1hdChvKSB7XG4gICAgaWYgKCFvKVxuICAgICAgICByZXR1cm4gbztcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGFjdGlvbikge1xuICAgICAgICBhY2NbYWN0aW9uXSA9IF9fYXNzaWduKHt9LCBvW2FjdGlvbl0pO1xuICAgICAgICB2YXIga2luZHMgPSBvW2FjdGlvbl0ua2luZHM7XG4gICAgICAgIGlmIChraW5kcykge1xuICAgICAgICAgICAgYWNjW2FjdGlvbl0ua2luZHMgPSBPYmplY3Qua2V5cyhraW5kcylcbiAgICAgICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChrLCBreCkge1xuICAgICAgICAgICAgICAgIHZhciBraW5kID0ga2luZHNba3hdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAga1treF0gPSBraW5kO1xuICAgICAgICAgICAgICAgIGlmIChraW5kID09PSAnYWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBhY2NbYWN0aW9uXS52YWx1ZXNba3hdID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxudmFyIFZhckNhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhckNhY2hlKGNyZWF0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5hY3Rpb25EZWZpbml0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmhhc1JlY2VpdmVkRGlmZnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0ge307XG4gICAgICAgIHRoaXMuZGlmZnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudG9rZW4gPSAnJztcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xuICAgIH1cbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuYXBwbHlEaWZmcyA9IGZ1bmN0aW9uIChkaWZmcywgdmFyaWFudHMsIGFjdGlvbkRlZmluaXRpb25zKSB7XG4gICAgICAgIHRoaXMuZGlmZnMgPSBkaWZmcztcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IHZhcmlhbnRzO1xuICAgICAgICB0aGlzLmFjdGlvbkRlZmluaXRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMpLCB0b1NldFZhcnNGb3JtYXQoYWN0aW9uRGVmaW5pdGlvbnMpKTtcbiAgICAgICAgdGhpcy5oYXNSZWNlaXZlZERpZmZzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSBtZXJnZUhlbHBlcih0aGlzLnZhcmlhYmxlcywgZGlmZnMpO1xuICAgICAgICB0aGlzLnNhdmVEaWZmcygpO1xuICAgICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUubG9hZERpZmZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5hcHBseURpZmZzKEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFCTEVTKSB8fCBudWxsKSwgSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UUykgfHwgbnVsbCksIEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQUNUSU9OX0RFRklOSVRJT05TKSB8fCBudWxsKSk7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVE9LRU4pO1xuICAgICAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVF9ERUJVR19JTkZPKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZWFucGx1bTogSW52YWxpZCBkaWZmczogXCIuY29uY2F0KGUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNhdmVEaWZmcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFCTEVTLCBKU09OLnN0cmluZ2lmeSh0aGlzLmRpZmZzIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRTLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhcmlhbnRzIHx8IFtdKSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkFDVElPTl9ERUZJTklUSU9OUywgSlNPTi5zdHJpbmdpZnkodGhpcy5hY3Rpb25EZWZpbml0aW9ucyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UX0RFQlVHX0lORk8sIEpTT04uc3RyaW5naWZ5KHRoaXMudmFyaWFudERlYnVnSW5mbyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5UT0tFTiwgdGhpcy50b2tlbik7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmdldFZhcmlhYmxlcygpO1xuICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbYXJnc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXJnZWQgIT09IHVuZGVmaW5lZCA/IHRoaXMubWVyZ2VkIDogdGhpcy52YXJpYWJsZXM7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IHZhcmlhYmxlcztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLmhhc1JlY2VpdmVkRGlmZnMpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyc1tpXSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudERlYnVnSW5mbztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHZhbHVlO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNlbmRBY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGhpcy5hY3Rpb25EZWZpbml0aW9ucykubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRWYXJzKChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OX0RFRklOSVRJT05TXSA9IHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMsXG4gICAgICAgICAgICBfYSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZW5kVmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuc2V0VmFycygoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBUklBQkxFU10gPSB0aGlzLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIF9hKSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFycyA9IGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmJvZHkoSlNPTi5zdHJpbmdpZnkoYm9keSkpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9WQVJTLCBhcmdzLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpZmZzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSBbXTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0ge307XG4gICAgICAgIHRoaXMubWVyZ2VkID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnJlZ2lzdGVyQWN0aW9uRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnNbb3B0aW9ucy5uYW1lXSA9IG9wdGlvbnNUb0RlZmluaXRpb25zKG9wdGlvbnMpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmxvYWRMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoa2V5KTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zYXZlTG9jYWwgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBWYXJDYWNoZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWYXJDYWNoZTtcbmZ1bmN0aW9uIGFyZ3VtZW50VHJlZShhcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHgpIHtcbiAgICAgICAgaWYgKHgudmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSBhcmd1bWVudFRyZWUoeC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeC50eXBlID09PSAnYWN0aW9uJykge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4LnR5cGUgPT09ICdjb2xvcicpIHtcbiAgICAgICAgICAgIGFjY1t4Lm5hbWVdID0gVmFsdWVUcmFuc2Zvcm1zXzEuZGVmYXVsdC5lbmNvZGVDb2xvcih4LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjY1t4Lm5hbWVdID0geC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIGFyZ3VtZW50S2luZHMoYXJncywgcHJlZml4KSB7XG4gICAgaWYgKHByZWZpeCA9PT0gdm9pZCAwKSB7IHByZWZpeCA9ICcnOyB9XG4gICAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBcIlwiLmNvbmNhdChwcmVmaXgpLmNvbmNhdCh4Lm5hbWUpO1xuICAgICAgICBpZiAoeC52YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBhY2MgPSBfX2Fzc2lnbigoX2EgPSB7fSwgX2FbcHJvcE5hbWVdID0gJ2dyb3VwJywgX2EpLCBhcmd1bWVudEtpbmRzKHgudmFsdWUsIFwiXCIuY29uY2F0KHByb3BOYW1lLCBcIi5cIikpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjY1twcm9wTmFtZV0gPSB4LnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIG9wdGlvbnNUb0RlZmluaXRpb25zKG9wdGlvbnMpIHtcbiAgICB2YXIgZGVmaW5pdGlvbnMgPSB7XG4gICAgICAgIGtpbmQ6IG9wdGlvbnMua2luZCB8fCAzLFxuICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICB2YWx1ZXM6IGFyZ3VtZW50VHJlZShvcHRpb25zLmFyZ3MpLFxuICAgICAgICBraW5kczogYXJndW1lbnRLaW5kcyhvcHRpb25zLmFyZ3MpLFxuICAgIH07XG4gICAgcmV0dXJuIGRlZmluaXRpb25zO1xufVxuZnVuY3Rpb24gbWVyZ2VIZWxwZXIodmFycywgZGlmZikge1xuICAgIGlmICh0eXBlb2YgZGlmZiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGRpZmYgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgZGlmZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfVxuICAgIGlmIChkaWZmID09PSBudWxsIHx8IGRpZmYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdmFycztcbiAgICB9XG4gICAgdmFyIG9iakl0ZXJhdG9yID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaXRlcmF0ZShmKSB7XG4gICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmKG9ialtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyB0byBiZSBiZXN0IHByYWN0aWNlOiBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvNzA3MVxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlZmxlY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBhdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZihhdHRyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciB2YXJzSXRlcmF0b3IgPSBvYmpJdGVyYXRvcih2YXJzKTtcbiAgICB2YXIgZGlmZkl0ZXJhdG9yID0gb2JqSXRlcmF0b3IoZGlmZik7XG4gICAgLy8gSW5mZXIgdGhhdCB0aGUgZGlmZnMgaXMgYW4gYXJyYXkgaWYgdGhlIHZhcnMgdmFsdWUgZG9lc24ndCBleGlzdCB0byB0ZWxsIHVzIHRoZSB0eXBlLlxuICAgIHZhciBpc0FycmF5ID0gZmFsc2U7XG4gICAgaWYgKHZhcnMgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKCEoZGlmZiBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgaXNBcnJheSA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gZGlmZikge1xuICAgICAgICAgICAgICAgIGlmICghZGlmZi5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUubGVuZ3RoIDwgMyB8fCBhdHRyaWJ1dGUuY2hhckF0KDApICE9PSAnWycgfHxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLmNoYXJBdChhdHRyaWJ1dGUubGVuZ3RoIC0gMSkgIT09ICddJykge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBNZXJnZSBhcnJheXMuXG4gICAgaWYgKHZhcnMgaW5zdGFuY2VvZiBBcnJheSB8fCBpc0FycmF5KSB7XG4gICAgICAgIHZhciBtZXJnZWRfMSA9IFtdO1xuICAgICAgICB2YXJzSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgICAgIG1lcmdlZF8xLnB1c2goYXR0cik7XG4gICAgICAgIH0pO1xuICAgICAgICBkaWZmSXRlcmF0b3IoZnVuY3Rpb24gKHZhclN1YnNjcmlwdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdCA9IHBhcnNlSW50KHZhclN1YnNjcmlwdC5zdWJzdHJpbmcoMSwgdmFyU3Vic2NyaXB0Lmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgIHZhciBkaWZmVmFsdWUgPSBkaWZmW3ZhclN1YnNjcmlwdF07XG4gICAgICAgICAgICB3aGlsZSAoc3Vic2NyaXB0ID49IG1lcmdlZF8xLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG1lcmdlZF8xLnB1c2gobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXJnZWRfMVtzdWJzY3JpcHRdID0gbWVyZ2VIZWxwZXIobWVyZ2VkXzFbc3Vic2NyaXB0XSwgZGlmZlZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWRfMTtcbiAgICB9XG4gICAgLy8gTWVyZ2UgZGljdGlvbmFyaWVzLlxuICAgIHZhciBtZXJnZWQgPSB7fTtcbiAgICB2YXJzSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgaWYgKGRpZmZbYXR0cl0gPT09IG51bGwgfHwgZGlmZlthdHRyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtZXJnZWRbYXR0cl0gPSB2YXJzW2F0dHJdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZGlmZkl0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIG1lcmdlZFthdHRyXSA9IG1lcmdlSGVscGVyKHZhcnMgPT09IG51bGwgPyBudWxsIDogdmFyc1thdHRyXSB8fCB7fSwgZGlmZlthdHRyXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZDtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbnZhciBMZWFucGx1bSA9IHJlcXVpcmUoJy4uL0xlYW5wbHVtLnRzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IExlYW5wbHVtLmRlZmF1bHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWlncmF0aW9uU3RhdGUgPSB2b2lkIDA7XG52YXIgTWlncmF0aW9uU3RhdGU7XG4oZnVuY3Rpb24gKE1pZ3JhdGlvblN0YXRlKSB7XG4gICAgTWlncmF0aW9uU3RhdGVbXCJVTktOT1dOXCJdID0gXCJ1bmtub3duXCI7XG4gICAgTWlncmF0aW9uU3RhdGVbXCJMRUFOUExVTVwiXSA9IFwibHBcIjtcbiAgICBNaWdyYXRpb25TdGF0ZVtcIkRVUExJQ0FURVwiXSA9IFwibHArY3RcIjtcbiAgICBNaWdyYXRpb25TdGF0ZVtcIkNMRVZFUlRBUFwiXSA9IFwiY3RcIjtcbn0pKE1pZ3JhdGlvblN0YXRlID0gZXhwb3J0cy5NaWdyYXRpb25TdGF0ZSB8fCAoZXhwb3J0cy5NaWdyYXRpb25TdGF0ZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWVzc2FnZUtpbmQgPSBleHBvcnRzLkFjdGlvblBhcmFtZXRlclR5cGUgPSB2b2lkIDA7XG52YXIgQWN0aW9uUGFyYW1ldGVyVHlwZTtcbihmdW5jdGlvbiAoQWN0aW9uUGFyYW1ldGVyVHlwZSkge1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJJbnRlZ2VyXCJdID0gXCJpbnRlZ2VyXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkNvbG9yXCJdID0gXCJjb2xvclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJGbG9hdFwiXSA9IFwiZmxvYXRcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiRGVjaW1hbFwiXSA9IFwiZGVjaW1hbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJOdW1iZXJcIl0gPSBcIm51bWJlclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJCb29sZWFuXCJdID0gXCJib29sXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlN0cmluZ1wiXSA9IFwic3RyaW5nXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlRleHRcIl0gPSBcInRleHRcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiSFRNTFwiXSA9IFwiaHRtbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJGaWxlXCJdID0gXCJmaWxlXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkxpc3RcIl0gPSBcImxpc3RcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiR3JvdXBcIl0gPSBcImdyb3VwXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkFjdGlvblwiXSA9IFwiYWN0aW9uXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlVua25vd25cIl0gPSBcIlwiO1xufSkoQWN0aW9uUGFyYW1ldGVyVHlwZSA9IGV4cG9ydHMuQWN0aW9uUGFyYW1ldGVyVHlwZSB8fCAoZXhwb3J0cy5BY3Rpb25QYXJhbWV0ZXJUeXBlID0ge30pKTtcbjtcbnZhciBNZXNzYWdlS2luZDtcbihmdW5jdGlvbiAoTWVzc2FnZUtpbmQpIHtcbiAgICBNZXNzYWdlS2luZFtNZXNzYWdlS2luZFtcIkFjdGlvblwiXSA9IDJdID0gXCJBY3Rpb25cIjtcbiAgICBNZXNzYWdlS2luZFtNZXNzYWdlS2luZFtcIlRlbXBsYXRlXCJdID0gM10gPSBcIlRlbXBsYXRlXCI7XG59KShNZXNzYWdlS2luZCA9IGV4cG9ydHMuTWVzc2FnZUtpbmQgfHwgKGV4cG9ydHMuTWVzc2FnZUtpbmQgPSB7fSkpO1xuO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwNCk7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsImlkIiwiX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkiLCJuYW1lIiwiX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlIiwicmVjZWl2ZXIiLCJwcml2YXRlS2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiVHlwZUVycm9yIiwiVEFSR0VUX0RPTUFJTiIsIlRBUkdFVF9QUk9UT0NPTCIsIl9hY2NvdW50SWQiLCJfcmVnaW9uIiwiX3RhcmdldERvbWFpbiIsIl9kY1Nka3ZlcnNpb24iLCJfdG9rZW4iLCJBY2NvdW50IiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJyZWdpb24iLCJ0YXJnZXREb21haW4iLCJ0b2tlbiIsImRlZmluZVByb3BlcnR5IiwidGhpcyIsIndyaXRhYmxlIiwidmFsdWUiLCJhY2NvdW50SWQiLCJkY1NES1ZlcnNpb24iLCJmaW5hbFRhcmdldERvbWFpbiIsImNvbmNhdCIsImRhdGFQb3N0UEVVUkwiLCJkYXRhUG9zdFVSTCIsInJlY29yZGVyVVJMIiwiZW1haWxVUkwiLCJ1bnN1cHBvcnRlZEtleUNoYXJSZWdleCIsIlJlZ0V4cCIsInVuc3VwcG9ydGVkVmFsdWVDaGFyUmVnZXgiLCJzaW5nbGVRdW90ZVJlZ2V4IiwiQ0xFQVIiLCJDSEFSR0VEX0lEIiwiQ0hBUkdFRElEX0NPT0tJRV9OQU1FIiwiR0NPT0tJRV9OQU1FIiwiS0NPT0tJRV9OQU1FIiwiQ0FNUF9DT09LSUVfTkFNRSIsIkNBTVBfQ09PS0lFX0ciLCJFVl9DT09LSUUiLCJNRVRBX0NPT0tJRSIsIlBSX0NPT0tJRSIsIkFSUF9DT09LSUUiLCJMQ09PS0lFX05BTUUiLCJHTE9CQUwiLCJESVNQTEFZIiwiT1BUT1VUX0tFWSIsIlVTRUlQX0tFWSIsIkxSVV9DQUNIRSIsIklTX09VTCIsIkVWVF9QVVNIIiwiQ09PS0lFX0VYUElSWSIsImNhdGVnb3J5TG9uZ0tleSIsIldaUktfUFJFRklYIiwiV1pSS19JRCIsIk5PVElGSUNBVElPTl9WSUVXRUQiLCJOT1RJRklDQVRJT05fQ0xJQ0tFRCIsIkZJUkVfUFVTSF9VTlJFR0lTVEVSRUQiLCJQVVNIX1NVQlNDUklQVElPTl9EQVRBIiwiQ09NTUFORF9JTkNSRU1FTlQiLCJDT01NQU5EX0FERCIsIkNPTU1BTkRfUkVNT1ZFIiwiQ09NTUFORF9ERUxFVEUiLCJXRUJJTkJPWF9DT05GSUciLCJXRUJJTkJPWCIsIlBVU0hfREVMQVlfTVMiLCJXWlJLX0ZFVENIIiwiU1lTVEVNX0VWRU5UUyIsImlzU3RyaW5nIiwiaW5wdXQiLCJTdHJpbmciLCJpc09iamVjdCIsInRvU3RyaW5nIiwiaXNEYXRlT2JqZWN0IiwiRGF0ZSIsImlzT2JqZWN0RW1wdHkiLCJvYmoiLCJwcm9wIiwiaXNDb252ZXJ0aWJsZVRvTnVtYmVyIiwibiIsImlzTmFOIiwicGFyc2VGbG9hdCIsImlzRmluaXRlIiwiaXNOdW1iZXIiLCJ0ZXN0IiwiaXNWYWx1ZVZhbGlkIiwicmVtb3ZlVW5zdXBwb3J0ZWRDaGFycyIsIm8iLCJsb2dnZXIiLCJ2YWwiLCJzYW5pdGl6ZSIsInN1YnN0cmluZyIsInJlcG9ydEVycm9yIiwia2V5Iiwic2FuaXRpemVkVmFsIiwic2FuaXRpemVkS2V5IiwicmVnZXgiLCJyZXBsYWNlIiwiZ2V0VG9kYXkiLCJ0b2RheSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXkiLCJnZXROb3ciLCJNYXRoIiwiZmxvb3IiLCJnZXRUaW1lIiwiY29udmVydFRvV1pSS0RhdGUiLCJkYXRlT2JqIiwicm91bmQiLCJzZXREYXRlIiwiZHQiLCJpc0RhdGVWYWxpZCIsImRhdGUiLCJtYXRjaGVzIiwiZXhlYyIsImQiLCJtIiwieSIsImNvbXBvc2VkRGF0ZSIsImdldERhdGUiLCJTdG9yYWdlTWFuYWdlciIsInN0YXRpYyIsIl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImdldEl0ZW0iLCJwYXJzZSIsImUiLCJyZW1vdmVJdGVtIiwiZG9tYWluIiwiY29va2llU3RyIiwiZG9jdW1lbnQiLCJjb29raWUiLCJzZWNvbmRzIiwiZXhwaXJlcyIsImRvbWFpblN0ciIsInNldFRpbWUiLCJ0b0dNVFN0cmluZyIsImVuY29kZVVSSUNvbXBvbmVudCIsIm5hbWVFUSIsImNhIiwic3BsaXQiLCJpZHgiLCJjIiwiY2hhckF0IiwiaW5kZXhPZiIsImRlY29kZVVSSUNvbXBvbmVudCIsIndpbmRvdyIsInByb3BlcnR5Iiwic2F2ZSIsImNyZWF0ZUNvb2tpZSIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCIkY3QiLCJnbG9iYWxDYWNoZSIsInJlYWQiLCJyZWFkQ29va2llIiwidHJpbSIsImVyciIsImJyb2FkRG9tYWluIiwiZG9tYWluUGFydHMiLCJ0ZXN0QnJvYWREb21haW4iLCJ0ZXN0Q29va2llTmFtZSIsInJlbW92ZUNvb2tpZSIsIm1ldGFPYmoiLCJyZWFkRnJvbUxTb3JDb29raWUiLCJ3enJrTWV0YU9iaiIsInNhdmVUb0xTb3JDb29raWUiLCJnZXRNZXRhUHJvcCIsInNldE1ldGFQcm9wIiwiayIsImZsYWciLCJyZXFObyIsImJhY2t1cEFyciIsInEiLCJkZWJ1ZyIsInJlc3BObyIsImJhY2t1cE1hcCIsImdjb29raWUiLCJSRVFfTiIsIlJFU1BfTiIsImdsb2JhbFByb2ZpbGVNYXAiLCJnbG9iYWxFdmVudHNNYXAiLCJibG9ja1JlcXVlc3QiLCJpc09wdEluUmVxdWVzdCIsIndlYlB1c2hFbmFibGVkIiwiY2FtcGFpZ25EaXZNYXAiLCJjdXJyZW50U2Vzc2lvbklkIiwid2l6X2NvdW50ZXIiLCJub3RpZkFwaSIsIm5vdGlmRW5hYmxlZEZyb21BcGkiLCJ1bnN1Ykdyb3VwcyIsInVwZGF0ZWRDYXRlZ29yeUxvbmciLCJpbmJveCIsImlzUHJpdmFjeUFyclB1c2hlZCIsInByaXZhY3lBcnJheSIsIm9mZmxpbmUiLCJkaXNtaXNzU3BhbUNvbnRyb2wiLCJnbG9iYWxVbnN1YnNjcmliZSIsImZsdXR0ZXJWZXJzaW9uIiwidmFyaWFibGVTdG9yZSIsIl9rZXlPcmRlciIsIl9kZWxldGVGcm9tT2JqZWN0IiwiTFJVQ2FjaGUiLCJtYXgiLCJfZGVsZXRlRnJvbU9iamVjdDIiLCJscnVDYWNoZSIsInRlbXBMcnVDYWNoZSIsImNhY2hlIiwiZW50cnkiLCJwdXNoIiwiZ2V0IiwiaXRlbSIsInNhdmVDYWNoZVRvTFMiLCJzZXQiLCJhbGxLZXlzIiwib2JqVG9BcnJheSIsImluZGV4IiwidGVtcCIsImdldEtleSIsImdldFNlY29uZExhc3RLZXkiLCJrZXlzQXJyIiwiZ2V0TGFzdEtleSIsImtleXNMZW5ndGgiLCJuZXdDYWNoZSIsImluZGV4VG9EZWxldGUiLCJzcGxpY2UiLCJfbG9nZ2VyIiwiX3JlcXVlc3QiLCJfZGV2aWNlIiwiX3Nlc3Npb24iLCJDbGV2ZXJUYXBBUEkiLCJfcmVmIiwicmVxdWVzdCIsImRldmljZSIsInNlc3Npb24iLCJzIiwiZ2xvYmFsIiwicmVzdW1lIiwicmVzcE51bWJlciIsIm9wdE91dFJlc3BvbnNlIiwib3VsUmVxIiwibmV3R3VpZCIsImlzT1VMSW5Qcm9ncmVzcyIsIm91bFJlcU4iLCJyZW1vdmVCYWNrdXAiLCJzZXNzaW9uT2JqIiwiZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCIsImdldEFuZENsZWFyTWV0YVByb3AiLCJrSWRGcm9tTFMiLCJndWlkRnJvbUxSVUNhY2hlIiwibGFzdEsiLCJsYXN0R1VJRCIsInVucmVnaXN0ZXJUb2tlbkZvckd1aWQiLCJjcmVhdGVCcm9hZENvb2tpZSIsIm1hbmFnZVNlc3Npb24iLCJ0Iiwic2V0U2Vzc2lvbkNvb2tpZU9iamVjdCIsInByb2Nlc3NpbmdCYWNrdXAiLCJwcm9jZXNzQmFja3VwRXZlbnRzIiwiX2xvZ2dlciQxIiwiRGV2aWNlTWFuYWdlciIsImdldEd1aWQiLCJndWlkIiwiZXJyb3IiLCJEQVRBX05PVF9TRU5UX1RFWFQiLCJDTEVWRVJUQVBfRVJST1JfUFJFRklYIiwiRU1CRURfRVJST1IiLCJFVkVOVF9FUlJPUiIsIkdFTkRFUl9FUlJPUiIsIkVNUExPWUVEX0VSUk9SIiwiTUFSUklFRF9FUlJPUiIsIkVEVUNBVElPTl9FUlJPUiIsIkFHRV9FUlJPUiIsIkRPQl9FUlJPUiIsIkVOVU1fRk9STUFUX0VSUk9SIiwiUEhPTkVfRk9STUFUX0VSUk9SIiwiX2dsb2JhbENoYXJnZWRJZCIsImlzRXZlbnRTdHJ1Y3R1cmVGbGF0IiwiZXZlbnRPYmoiLCJBcnJheSIsImlzQXJyYXkiLCJpc0NoYXJnZWRFdmVudFN0cnVjdHVyZVZhbGlkIiwiY2hhcmdlZE9iaiIsIml0ZW1LZXkiLCJjaGFyZ2VkSWQiLCJfbG9nZ2VyJDIiLCJfb2xkVmFsdWVzIiwiX3JlcXVlc3QkMSIsIl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSIsIl9wcm9jZXNzRXZlbnRBcnJheSIsIkV2ZW50SGFuZGxlciIsInZhbHVlcyIsImlzUGVyc29uYWxpc2F0aW9uQWN0aXZlIiwic3VwZXIiLCJfcHJvY2Vzc0V2ZW50QXJyYXkyIiwiX2xlbiIsImV2ZW50c0FyciIsIl9rZXkiLCJfcHJvY2Vzc09sZFZhbHVlcyIsImdldERldGFpbHMiLCJldnROYW1lIiwiZXZ0T2JqIiwicmVzcE9iaiIsImZpcnN0VGltZSIsImxhc3RUaW1lIiwiY291bnQiLCJldmVudE5hbWUiLCJzaGlmdCIsImluY2x1ZGVzIiwiZXZ0RGF0YSIsInVuc2hpZnQiLCJwcm9jZXNzRXZlbnQiLCJnZXRVUkxQYXJhbXMiLCJ1cmwiLCJ1cmxQYXJhbXMiLCJ1cmkiLCJtYXRjaCIsInBsIiwic2VhcmNoIiwiZGVjb2RlIiwicmVwbGFjZW1lbnQiLCJhZGRUb1VSTCIsInYiLCJnZXRIb3N0TmFtZSIsImNvbXByZXNzRGF0YSIsImRhdGFPYmplY3QiLCJjb21wcmVzc1RvQmFzZTY0IiwiX2tleVN0ciIsImkiLCJmcm9tQ2hhckNvZGUiLCJnZXRLZXlTdHIiLCJjaHIxIiwiY2hyMiIsImNocjMiLCJlbmMxIiwiZW5jMiIsImVuYzMiLCJlbmM0Iiwib3V0cHV0IiwidW5jb21wcmVzc2VkIiwiaWkiLCJjb250ZXh0X2RpY3Rpb25hcnkiLCJjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZSIsImNvbnRleHRfYyIsImNvbnRleHRfd2MiLCJjb250ZXh0X3ciLCJjb250ZXh0X2VubGFyZ2VJbiIsImNvbnRleHRfZGljdFNpemUiLCJjb250ZXh0X251bUJpdHMiLCJjb250ZXh0X2RhdGFfc3RyaW5nIiwiY29udGV4dF9kYXRhX3ZhbCIsImNvbnRleHRfZGF0YV9wb3NpdGlvbiIsImYiLCJjaGFyQ29kZUF0IiwicG93IiwiY29tcHJlc3MiLCJOYU4iLCJfZmlyZVJlcXVlc3QiLCJfZHJvcFJlcXVlc3REdWVUb09wdE91dCIsIl9hZGRVc2VJUFRvUmVxdWVzdCIsIl9hZGRBUlBUb1JlcXVlc3QiLCJSZXF1ZXN0RGlzcGF0Y2hlciIsIm5ldHdvcmtSZXRyeUNvdW50IiwibWluRGVsYXlGcmVxdWVuY3kiLCJza2lwQVJQIiwic2VuZE9VTEZsYWciLCJnZXREZWxheUZyZXF1ZW5jeSIsImFjY291bnQiLCJyYW5kb21EZWxheSIsInJhbmRvbSIsInRyaWVzIiwiX3dpbmRvdyRjbGV2ZXJ0YXAiLCJfd2luZG93JHdpenJvY2tldCIsInNldFRpbWVvdXQiLCJjbGV2ZXJ0YXAiLCJ3aXpyb2NrZXQiLCJwbHVnaW4iLCJjdENiU2NyaXB0cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYXN5bmMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZENoaWxkIiwic2xpY2UiLCJwYWdlTG9hZFVybCIsInVzZUlQIiwic2tpcFJlc0FSUCIsIl9hcnAiLCJnZXRDYW1wYWlnbk9iamVjdCIsImZpbmFsY2FtcE9iaiIsImNhbXBPYmoiLCJ3cCIsInNhdmVDYW1wYWlnbk9iamVjdCIsImNhbXBhaWduT2JqIiwibmV3T2JqIiwic2V0Q2FtcGFpZ25PYmplY3RGb3JHdWlkIiwiZ3VpZENhbXBPYmoiLCJmaW5hbENhbXBPYmoiLCJrZXlzIiwiZm9yRWFjaCIsImNhbXBLZXlPYmoiLCJnbG9iYWxPYmoiLCJkYWlseU9iaiIsImNhbXBhaWduSWRBcnJheSIsInJlc3VsdE9iaiIsImRhaWx5QyIsInRvdGFsQyIsImNhbXBhaWduSWQiLCJjb25zb2xlIiwiZ2V0Q2FtcGFpZ25PYmpGb3JMYyIsInN0b3JhZ2VWYWx1ZSIsImRlY29kZWRWYWx1ZSIsInBhcnNlZFZhbHVlIiwicmVzdWx0T2JqV1AiLCJyZXN1bHRPYmpXSSIsIndpIiwidG9kYXlDd3AiLCJ0b2RheUN3aSIsInRjIiwid21wIiwid2ltcCIsInRsYyIsIndpdGxjIiwiaXNQcm9maWxlVmFsaWQiLCJwcm9maWxlT2JqIiwidmFsaWQiLCJwcm9maWxlS2V5IiwicHJvZmlsZVZhbCIsIkFnZSIsIlBob25lIiwicHJvY2Vzc0ZCVXNlck9iaiIsInVzZXIiLCJwcm9maWxlRGF0YSIsIk5hbWUiLCJGQklEIiwiZ2VuZGVyIiwiR2VuZGVyIiwicmVsYXRpb25zaGlwX3N0YXR1cyIsIk1hcnJpZWQiLCJlZHUiLCJlZHVBcnIiLCJjb2xsZWdlIiwiaGlnaHNjaG9vbCIsInR5cGUiLCJnZXRIaWdoZXN0RWR1Y2F0aW9uIiwiZWR1Y2F0aW9uIiwiRWR1Y2F0aW9uIiwid29yayIsIkVtcGxveWVkIiwiZW1haWwiLCJFbWFpbCIsImJpcnRoZGF5IiwibW1kZHl5IiwiRE9CIiwicHJvY2Vzc0dQbHVzVXNlck9iaiIsIl9yZWYyIiwiZGlzcGxheU5hbWUiLCJHUElEIiwiaW1hZ2UiLCJpc0RlZmF1bHQiLCJQaG90byIsImVtYWlscyIsImVtYWlsSWR4IiwiZW1haWxPYmoiLCJvcmdhbml6YXRpb25zIiwieXl5eW1tZGQiLCJyZWxhdGlvbnNoaXBTdGF0dXMiLCJhZGRUb0xvY2FsUHJvZmlsZU1hcCIsIm92ZXJyaWRlIiwiX2N1c3RvbSIsImNsb3NlSWZyYW1lIiwiZGl2SWRJZ25vcmVkIiwic2Vzc2lvbkNhbXBhaWduT2JqIiwiZGl2SWQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsIl9sb2dnZXIkMyIsIl9yZXF1ZXN0JDIiLCJfYWNjb3VudCIsIl9vbGRWYWx1ZXMkMSIsIl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQxIiwiX3Byb2Nlc3NQcm9maWxlQXJyYXkiLCJQcm9maWxlSGFuZGxlciIsIl9wcm9jZXNzUHJvZmlsZUFycmF5MiIsInByb2ZpbGVzQXJyIiwiZ2V0QXR0cmlidXRlIiwicHJvcE5hbWUiLCJfaGFuZGxlSW5jcmVtZW50RGVjcmVtZW50VmFsdWUiLCJjb21tYW5kIiwiXyRjdCRnbG9iYWxQcm9maWxlTWFwIiwidHoiLCJwcm9maWxlIiwiYWRkU3lzdGVtRGF0YVRvT2JqZWN0IiwiYWRkRmxhZ3MiLCJjb21wcmVzc2VkRGF0YSIsInNhdmVBbmRGaXJlUmVxdWVzdCIsIl9oYW5kbGVNdWx0aVZhbHVlU2V0IiwiYXJyYXlWYWwiLCJhcnJheSIsInRvTG93ZXJDYXNlIiwiX1N0b3JhZ2VNYW5hZ2VyJHJlYWRGIiwic2VuZE11bHRpVmFsdWVEYXRhIiwiX2hhbmRsZU11bHRpVmFsdWVBZGQiLCJwcm9wS2V5IiwicHJvcFZhbCIsIl9oYW5kbGVNdWx0aVZhbHVlUmVtb3ZlIiwiXyRjdCRnbG9iYWxQcm9maWxlTWFwMiIsIl9oYW5kbGVNdWx0aVZhbHVlRGVsZXRlIiwiXyRjdCRnbG9iYWxQcm9maWxlTWFwMyIsInByb2ZpbGVBcnIiLCJvdXRlck9iaiIsIlNpdGUiLCJGYWNlYm9vayIsIkZiUHJvZmlsZU9iaiIsIkdQbHVzUHJvZmlsZU9iaiIsIl9yZXF1ZXN0JDMiLCJfbG9nZ2VyJDQiLCJfYWNjb3VudCQxIiwiX3Nlc3Npb24kMSIsIl9vbGRWYWx1ZXMkMiIsIl9kZXZpY2UkMSIsIl9wcm9jZXNzT1VMIiwiX2hhbmRsZUNvb2tpZUZyb21DYWNoZSIsIl9kZWxldGVVc2VyIiwiX3Byb2Nlc3NMb2dpbkFycmF5IiwiVXNlckxvZ2luSGFuZGxlciIsIl9wcm9jZXNzTG9naW5BcnJheTIiLCJfZGVsZXRlVXNlcjIiLCJfaGFuZGxlQ29va2llRnJvbUNhY2hlMiIsIl9wcm9jZXNzT1VMMiIsImNsZWFyIiwiYWRkVG9LIiwiaWRzIiwiZyIsImtJZCIsImFub255bW91c1VzZXIiLCJmb3VuZEluQ2FjaGUiLCJnRnJvbUNhY2hlIiwiSWRlbnRpdHkiLCJjb29raWVOYW1lIiwibG9naW5BcnIiLCJwb3AiLCJzZXRJbnN0YW50RGVsZXRlRmxhZ0luSyIsIkNUV2ViUGVyc29uYWxpc2F0aW9uQmFubmVyIiwiSFRNTEVsZW1lbnQiLCJfZGV0YWlscyIsInNoYWRvdyIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJkZXRhaWxzIiwicmVuZGVyQmFubmVyIiwiaW5uZXJIVE1MIiwiZ2V0QmFubmVyQ29udGVudCIsInRyYWNrQ2xpY2siLCJhZGRFdmVudExpc3RlbmVyIiwib25DbGlja1VybCIsIm9uQ2xpY2siLCJvcGVuIiwicGFyZW50IiwiaHJlZiIsInJlbmRlck5vdGlmaWNhdGlvbkNsaWNrZWQiLCJtc2dJZCIsInBpdm90SWQiLCJyZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQiLCJkaXZIZWlnaHQiLCJjc3MiLCJkZXNrdG9wSW1hZ2VVUkwiLCJtb2JpbGVJbWFnZVVSTCIsImh0bWwiLCJDVFdlYlBlcnNvbmFsaXNhdGlvbkNhcm91c2VsIiwiX3RhcmdldCIsIl9jYXJvdXNlbCIsInNsaWRlcyIsInByZXZpb3VzbHlTZWxlY3RlZEl0ZW0iLCJzZWxlY3RlZEl0ZW0iLCJhdXRvU2xpZGUiLCJzdG9wQXV0b1NsaWRlVGltZW91dCIsImN1c3RvbUVsZW1lbnRzIiwidGFyZ2V0IiwicmVuZGVyQ2Fyb3VzZWwiLCJnZXRTdHlsZXMiLCJjYXJvdXNlbCIsImdldENhcm91c2VsQ29udGVudCIsInNob3dOYXZCdG5zIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwibmF2QnRuc0h0bWwiLCJzaG93TmF2QXJyb3dzIiwibGVmdE5hdkFycm93SHRtbCIsInJpZ2h0TmF2QXJyb3dIdG1sIiwic2V0dXBDbGljayIsInVwZGF0ZVNlbGVjdGVkSXRlbSIsInN0YXJ0QXV0b1NsaWRlIiwic2V0dXBPbkhvdmVyIiwid3pya19pZCIsInd6cmtfcGl2b3QiLCJldmVudCIsImV2ZW50SUQiLCJzdGFydHNXaXRoIiwic2VsZWN0ZWQiLCJlbmRzV2l0aCIsImdvVG9OZXh0IiwiZ29Ub1ByZXYiLCJ3enJrX3NsaWRlTm8iLCJjbGVhckludGVydmFsIiwiY2xlYXJUaW1lb3V0IiwiZGV0YWlsIiwiYmFubmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwiX3RoaXMkdGFyZ2V0IiwiX3RoaXMkdGFyZ2V0JGRpc3BsYXkiLCJuYXZCdG5zQ3NzIiwibmF2QXJyb3dzQ3NzIiwicHJldkl0ZW0iLCJwcmV2QnV0dG9uIiwicmVtb3ZlIiwiYnV0dG9uIiwic2V0SW50ZXJ2YWwiLCJzbGlkZXJUaW1lIiwiZ29UbyIsInByZXYiLCJjdXIiLCJDVFdlYlBvcHVwSW1hZ2VPbmx5IiwicG9wdXAiLCJjb250YWluZXIiLCJyZXNpemVPYnNlcnZlciIsInJlbmRlckltYWdlT25seVBvcHVwIiwic2Vzc2lvbklkIiwiZ2V0SW1hZ2VPbmx5UG9wdXBDb250ZW50Iiwic2hhZG93Um9vdCIsImNsb3NlSWNvbiIsInVwZGF0ZUltYWdlQW5kQ29udGFpbmVyV2lkdGgiLCJSZXNpemVPYnNlcnZlciIsImhhbmRsZVJlc2l6ZSIsIm9ic2VydmUiLCJ1bm9ic2VydmUiLCJ3aWR0aCIsImdldFJlbmRlcmVkSW1hZ2VXaWR0aCIsInNldFByb3BlcnR5IiwibXNnQ29udGVudCIsInZpc2liaWxpdHkiLCJpbWciLCJyYXRpbyIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJoZWlnaHQiLCJNZXNzYWdlIiwiY29uZmlnIiwibWVzc2FnZSIsIndyYXBwZXIiLCJzbmFja0JhciIsInJlbmRlck1lc3NhZ2UiLCJjcmVhdGVFbCIsInBhcnQiLCJfZWwiLCJtc2ciLCJ0ZW1wbGF0ZVR5cGUiLCJwcmVwYXJlQmFzaWNNZXNzYWdlIiwidGltZVN0YW1wIiwiZGV0ZXJtaW5lVGltZVN0YW1wVGV4dCIsInZpZXdlZCIsInVucmVhZE1hcmtlciIsImltYWdlVXJsIiwiaW1hZ2VDb250YWluZXIiLCJhZGRJbWFnZSIsImljb25UaXRsZURlc2NXcmFwcGVyIiwiaWNvblVybCIsImljb25Db250YWluZXIiLCJ0aXRsZURlc2NXcmFwcGVyIiwidGl0bGUiLCJpbm5lclRleHQiLCJkZXNjcmlwdGlvbiIsImJ1dHRvbnMiLCJidXR0b25zQ29udGFpbmVyIiwiYWRkQnV0dG9ucyIsImhhc0NvcHlBY3Rpb24iLCJiIiwidGV4dCIsImNzc1RleHQiLCJhY3Rpb24iLCJhZGRTbmFja2JhciIsImdyZWVuVGlja1N2ZyIsImNsaXBib2FyZE1zZyIsInJhaXNlQ2xpY2tlZEV2ZW50IiwicGF0aCIsImlzUHJldmlldyIsInJhaXNlQ2xpY2tlZEZvckJhc2ljVGVtcGxhdGVzIiwicGF5bG9hZCIsInRhZ05hbWUiLCJrdiIsInd6cmtfYzJhIiwib3BlblVybEluTmV3VGFiIiwiZm9jdXMiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJjbGlwYm9hcmRUZXh0IiwibG9nIiwiSW5ib3giLCJpc0luYm94T3BlbiIsImlzSW5ib3hGcm9tRmx1dHRlciIsInNlbGVjdGVkQ2F0ZWdvcnkiLCJ1bnZpZXdlZE1lc3NhZ2VzIiwidW52aWV3ZWRDb3VudGVyIiwiaW5ib3hDb25maWdGb3JQcmV2aWV3IiwiaW5ib3hTZWxlY3RvciIsImVtcHR5SW5ib3hNc2ciLCJpbmJveENhcmQiLCJ1bnZpZXdlZEJhZGdlIiwib2JzZXJ2ZXIiLCJzZWxlY3RlZENhdGVnb3J5UmVmIiwiYWRkQ2xpY2tMaXN0ZW5lck9uRG9jdW1lbnQiLCJjb21wb3NlZFBhdGgiLCJ0b2dnbGVJbmJveCIsInByZXZDYXRlZ29yeVJlZiIsInVwZGF0ZUFjdGl2ZUNhdGVnb3J5IiwiX3BhdGgiLCJmaWx0ZXIiLCJwIiwiX3AkaWQiLCJjb250YWlucyIsInNldEJhZGdlU3R5bGUiLCJtc2dDb3VudCIsImluY29taW5nTWVzc2FnZXMiLCJtc2dzIiwidXBkYXRlSW5ib3hNZXNzYWdlcyIsImluY29taW5nTWVzc2FnZXNGb3JQcmV2aWV3IiwicHJldmlld01zZ3MiLCJub3ciLCJidWlsZFVJRm9yTWVzc2FnZXMiLCJ1cGRhdGVVbnZpZXdlZEJhZGdlQ291bnRlciIsImNvbm5lY3RlZENhbGxiYWNrIiwiaW5pdCIsInN0eWxlcyIsIm5vdGlmaWNhdGlvbnNCYWRnZSIsImFkZFVudmlld2VkQmFkZ2UiLCJjcmVhdGVpbmJveCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjYXRlZ29yaWVzIiwiZ2V0SW5ib3hTdHlsZXMiLCJhZGRNc2dzVG9JbmJveEZyb21MUyIsIm1lc3NhZ2VzIiwiZGVsZXRlRXhwaXJlZEFuZEdldFVuZXhwaXJlZE1zZ3MiLCJtc2dJZHMiLCJkZWxldGVNc2dzRnJvbVVJIiwiZ2V0SW5ib3hNZXNzYWdlcyIsInd6cmtfdHRsIiwiZWwiLCJzb3J0IiwiYSIsInJlZHVjZSIsImFjYyIsInNhdmVJbmJveE1lc3NhZ2VzIiwiaW5ib3hNc2dzIiwiaW5jb21pbmdNc2dzIiwiYmFja2dyb3VuZENvbG9yIiwidGV4dENvbG9yIiwiYm9keSIsInVwZGF0ZVVudmlld2VkQmFkZ2VQb3NpdGlvbiIsInRvcCIsInJpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsImhlYWRlciIsImhlYWRlclRpdGxlIiwiY3JlYXRlQ2F0ZWdvcmllcyIsIm9wdGlvbnMiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiaGFuZGxlTWVzc2FnZVZpZXdlZCIsImNhdGVnb3JpZXNDb250YWluZXIiLCJsZWZ0QXJyb3ciLCJhcnJvd1N2ZyIsImNoaWxkcmVuIiwic2Nyb2xsQnkiLCJjYXRlZ29yaWVzV3JhcHBlciIsImNhdGVnb3J5IiwicmlnaHRBcnJvdyIsImZpcnN0Q2F0ZWdvcnkiLCJsYXN0Q2F0ZWdvcnkiLCJjYXRlZ29yeU9ic2VydmVyQ2IiLCJpbnRlcnNlY3Rpb25SYXRpbyIsImhpZGUiLCJhY3RpdmVDYXRlZ29yeSIsInNjcm9sbFRvcCIsImNvdW50ZXIiLCJjaGlsZE5vZGVzIiwiX3RoaXMkY29uZmlnJG1heE1zZ3NJIiwidXBkYXRlVFNGb3JSZW5kZXJlZE1zZ3MiLCJtYXhNc2dzSW5JbmJveCIsImZpcnN0Q2hpbGQiLCJzb3J0ZWRNc2dzIiwibWFwIiwidGFncyIsImluc2VydEJlZm9yZSIsIm1zZ1RvdGFsQ291bnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3RJbmJveE1zZ3MiLCJoYXNNZXNzYWdlcyIsInJhaXNlVmlld2VkRXZlbnQiLCJpc0ludGVyc2VjdGluZyIsInVwZGF0ZU1lc3NhZ2VJbkxTIiwicmVjdCIsInpJbmRleCIsInNjcm9sbExlZnQiLCJzY3JvbGxXaWR0aCIsInNldEluYm94UG9zaXRpb24iLCJ3aW5kb3dXaWR0aCIsIm91dGVyV2lkdGgiLCJjdXN0b21JbmJveFN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiYm90dG9tIiwicmVzIiwiZ2V0SW5ib3hQb3NpdGlvbiIsImNsaWVudEhlaWdodCIsImNsaWVudFdpZHRoIiwieFBvcyIsInlQb3MiLCJ0cyIsImNhdGVnb3JpZXNIZWlnaHQiLCJwYW5lbEJhY2tncm91bmRDb2xvciIsInBhbmVsQm9yZGVyQ29sb3IiLCJoZWFkZXJCYWNrZ3JvdW5kQ29sb3IiLCJoZWFkZXJUaXRsZUNvbG9yIiwidGl0bGVDb2xvciIsImNsb3NlSWNvbkNvbG9yIiwiY2F0ZWdvcmllc1RhYkNvbG9yIiwidGFiQ29sb3IiLCJjYXRlZ29yaWVzVGl0bGVDb2xvciIsInNlbGVjdGVkQ2F0ZWdvcnlUYWJDb2xvciIsInNlbGVjdGVkVGFiIiwic2VsZWN0ZWRDYXRlZ29yeVRpdGxlQ29sb3IiLCJoZWFkZXJDYXRlZ29yeUhlaWdodCIsImJvcmRlckNvbG9yIiwiY2F0ZWdvcmllc0JvcmRlckNvbG9yIiwic2VsZWN0ZWRDYXRlZ29yeUJvcmRlckNvbG9yIiwiaW5ib3hTdHlsZXMiLCJpbmJveENvbnRhaW5lclN0eWxlcyIsImNhcmRTdHlsZXMiLCJjYXJkcyIsImRlc2NyaXB0aW9uQ29sb3IiLCJidXR0b25Db2xvciIsImJ1dHRvblRleHRDb2xvciIsInVucmVhZE1hcmtlckNvbG9yIiwibWVzc2FnZVN0eWxlcyIsInByb2Nlc3NJbmJveE5vdGlmcyIsImluYm94X3ByZXZpZXciLCJpbmJveF9ub3RpZnMiLCJhZGRXZWJJbmJveCIsImNoZWNrQW5kUmVnaXN0ZXJXZWJJbmJveEVsZW1lbnRzIiwiZ2V0QW5kTWlncmF0ZUluYm94TWVzc2FnZXMiLCJndWRJbmJveE9iaiIsImluaXRpYWxpemVXZWJJbmJveCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhZHlTdGF0ZSIsIm9uTG9hZGVkIiwiaW5ib3hIZWlnaHQiLCJpbmJveFdpZHRoIiwiaG9yaXpvbnRhbFNjcm9sbCIsInNjcm9sbGluZ0VsZW1lbnQiLCJ2ZXJ0aWNhbFNjcm9sbCIsImlubmVyV2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsInNlbGVjdG9yUmVjdCIsInNlbGVjdG9yWCIsIngiLCJzZWxlY3RvclkiLCJzZWxlY3RvckxlZnQiLCJzZWxlY3RvclJpZ2h0Iiwic2VsZWN0b3JUb3AiLCJzZWxlY3RvckJvdHRvbSIsInNlbGVjdG9ySGVpZ2h0Iiwic2VsZWN0b3JDZW50ZXIiLCJpbmJveE9uU2lkZSIsInBhZGRpbmciLCJhdmFpbGFibGVIZWlnaHQiLCJpbmJveFJpZ2h0IiwiaW5ib3hMZWZ0IiwiZGlmZiIsImhhc1dlYkluYm94U2V0dGluZ3NJbkxTIiwiQ1NTX1BBVEgiLCJoYW5kbGVNZXNzYWdlRXZlbnQiLCJzdHJpbmciLCJVUkwiLCJCb29sZWFuIiwiX2VyciIsImlzVmFsaWRVcmwiLCJvcmlnaW5VcmwiLCJtc2dPcmlnaW4iLCJvcmlnaW4iLCJfZXZlbnQkZGF0YSR2YXJpYW50IiwiX2V2ZW50JGRhdGEkZGV0YWlscyIsImluaXRpYWxpc2VDVEJ1aWxkZXIiLCJ2YXJpYW50IiwicmVuZGVyVmlzdWFsQnVpbGRlciIsIm9uQ29udGVudExvYWQiLCJjb250ZW50TG9hZGVkIiwibGluayIsInBvc2l0aW9uIiwib3ZlcmxheVBhdGgiLCJzY3JpcHQiLCJzcmMiLCJvbmxvYWQiLCJPdmVybGF5IiwiRXJyb3IiLCJvbmVycm9yIiwiaGVhZCIsImxvYWRPdmVybGF5U2NyaXB0IiwidGhlbiIsImNhdGNoIiwicmVsIiwia2l0SWQiLCJzY3JpcHRUaW1lb3V0IiwiZG9jRWxlbWVudCIsImRvY3VtZW50RWxlbWVudCIsInRpbWVvdXRJZCIsImNsYXNzTmFtZSIsInR5cGVLaXRTY3JpcHQiLCJzY3JpcHRMb2FkZWQiLCJmaXJzdFNjcmlwdCIsInNjcmlwdFJlYWR5U3RhdGUiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJUeXBla2l0IiwibG9hZCIsImxvYWRUeXBlS2l0IiwidGFyZ2V0aW5nTXNnSnNvbiIsInNpdGVVcmwiLCJzZWxlY3RvcnMiLCJlbGVtZW50RGlzcGxheWVkIiwicHJvY2Vzc0VsZW1lbnQiLCJlbGVtZW50Iiwic2VsZWN0b3IiLCJvdXRlckhUTUwiLCJqc29uIiwiaW5hT2JqIiwia3ZQYWlyc0V2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZGlzcGF0Y2hKc29uRGF0YSIsImZvcm1TdHlsZSIsInVuZGVybGluZSIsImN1clRleHREZWNvcmF0aW9uIiwidGV4dERlY29yYXRpb24iLCJjbGlja0RldGFpbHMiLCJjbGlja1VybCIsIm9uY2xpY2siLCJuZXdUYWIiLCJpbWdVUkwiLCJlbGVtZW50Q3NzIiwidXBkYXRlRm9ybURhdGEiLCJmb3JtIiwicXVlcnlTZWxlY3RvciIsImludGVydmFsSWQiLCJyZXRyeUVsZW1lbnQiLCJ0cnlGaW5kaW5nRWxlbWVudCIsIl90ciIsIl93aXpDb3VudGVyIiwiZG9DYW1wSG91c2VLZWVwaW5nIiwiaW5jckNvdW50IiwiZXhjbHVkZUZyb21GcmVxQ2FwcyIsImN1cnJlbnRDb3VudCIsInRvdGFsQ291bnQiLCJzZXNzaW9uU3RvcmFnZSIsImNhbXBUeXBlT2JqIiwid3RhcmdldF90eXBlIiwid21jIiwid2ltYyIsImNhbXBhaWduU2Vzc2lvbkxpbWl0IiwiY2FtcGFpZ25EYWlseUxpbWl0IiwiY2FtcGFpZ25Ub3RhbExpbWl0IiwidG90YWxEYWlseUxpbWl0IiwidG90YWxTZXNzaW9uTGltaXQiLCJ0b3RhbEluYm94U2Vzc2lvbkxpbWl0IiwiZWZjIiwicGFyc2VJbnQiLCJtZGMiLCJ0ZGMiLCJjYW1wYWlnblNlc3Npb25Db3VudCIsInRvdGFsU2Vzc2lvbkNvdW50IiwiY2FtcGFpZ25EYWlseUNvdW50IiwidG90YWxEYWlseUNvdW50IiwiY2FtcGFpZ25Ub3RhbENvdW50IiwiZGVsYXkiLCJjYW1wS2V5IiwibmV3Q2FtcE9iaiIsImdldENvb2tpZVBhcmFtcyIsInNjb29raWVPYmoiLCJpbnZva2VFeHRlcm5hbEpzIiwianNGdW5jIiwiZnVuYyIsInNldHVwQ2xpY2tVcmwiLCJjb250ZW50RGl2IiwiaXNMZWdhY3kiLCJpbmNyZW1lbnRJbXByZXNzaW9uIiwiY3RhRWxlbWVudCIsImpzQ1RBRWxlbWVudHMiLCJwcmV2aWV3IiwiZmlyZVJlcXVlc3QiLCJzZXR1cENsaWNrRXZlbnQiLCJyZW5kZXJQZXJzb25hbGlzYXRpb25CYW5uZXIiLCJfdGFyZ2V0aW5nTXNnSnNvbiRkaXMiLCJkaXZTZWxlY3RvciIsImJhbm5lckVsIiwiY29udGFpbmVyRWwiLCJyZW5kZXJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCIsIl90YXJnZXRpbmdNc2dKc29uJGRpczIiLCJyZW5kZXJGb290ZXJOb3RpZmljYXRpb24iLCJkaXNwbGF5T2JqIiwibGF5b3V0Iiwic2hvd0V4aXRJbnRlbnQiLCJtc2dEaXYiLCJwb3B1cEltYWdlT25seSIsInJlbmRlclBvcFVwSW1hZ2VPbmx5IiwiaXNCYW5uZXIiLCJ2aWV3SGVpZ2h0Iiwidmlld1dpZHRoIiwibGVnYWN5IiwiaUZyYW1lU3R5bGUiLCJjb250ZW50SGVpZ2h0IiwiYm90dG9tUG9zaXRpb24iLCJ3aWR0aFBlcmN0IiwidXNlckFnZW50IiwicHJvdG8iLCJpZnJhbWUiLCJib3JkZXJSYWRpdXMiLCJiciIsImZyYW1lYm9yZGVyIiwibWFyZ2luaGVpZ2h0IiwibWFyZ2lud2lkdGgiLCJzY3JvbGxpbmciLCJwb2ludGVyQ3NzIiwic2FuZGJveCIsImJnQ29sb3IiLCJidG5CZyIsImxlZnRUZCIsImJ0Q29sb3IiLCJ0aGVtZSIsInRpdGxlVGV4dCIsImRlc2NyaXB0aW9uVGV4dCIsImltYWdlVGQiLCJjbG9zZUNhbXBhaWduIiwiRXZlbnQiLCJhcHBlbmRTY3JpcHRGb3JDdXN0b21FdmVudCIsInNyY2RvYyIsImFkanVzdElGcmFtZUhlaWdodCIsImNvbnRlbnREb2N1bWVudCIsInNjcm9sbEhlaWdodCIsIm1hcmdpbiIsInVhIiwiaW5Eb2MiLCJjb250ZW50V2luZG93IiwiX3RpbWVyIiwiX2NhbGxCYWNrQ2FsbGVkIiwic2hvd0Zvb3Rlck5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkNhbGxiYWNrIiwicmFpc2VOb3RpZmljYXRpb25DbGlja2VkIiwicmFpc2VOb3RpZmljYXRpb25WaWV3ZWQiLCJwb3B1cEN1cnJlbnRXenJrSWQiLCJwb3B1cENhbGxiYWNrcyIsInBvcHVwQ2FsbGJhY2siLCJtc2dDVGt2Iiwid3pya1ByZWZpeEtleSIsInd6cmtKc29uIiwicmFpc2VQb3B1cE5vdGlmaWNhdGlvbkNsaWNrZWQiLCJub3RpZmljYXRpb25EYXRhIiwiZXZlbnREYXRhIiwid3pya1ByZWZpeE9iaiIsImV4aXRpbnRlbnRPYmoiLCJ0YXJnZXRPYmoiLCJjbGllbnRZIiwib3BhY2l0eURpdiIsIm9wYWNpdHkiLCJyZ2JhQ29sb3IiLCJjdGFUZXh0IiwicHJvY2Vzc05hdGl2ZURpc3BsYXlBcnIiLCJhcnJJbkFwcE5vdGlmcyIsImVsZW1lbnRJZCIsImluYXBwX25vdGlmcyIsInRhcmdldE5vdGlmIiwib25tb3VzZWxlYXZlIiwiYWRkTG9hZExpc3RlbmVyIiwiaGFuZGxlSW5ib3hOb3RpZmljYXRpb25zIiwibXNnQXJyIiwid2ViSW5ib3hTZXR0aW5nIiwiX3NldHRpbmdzIiwicHJvY2Vzc1dlYkluYm94U2V0dGluZ3MiLCJ2YXJzIiwibWVyZ2VWYXJpYWJsZXMiLCJzdGFsZURhdGFVcGRhdGUiLCJzdGFsZWRhdGEiLCJjYW1wVHlwZSIsImV2cHIiLCJldmVudHNNYXAiLCJldmVudHMiLCJwcm9maWxlTWFwIiwic3luY0V4cGlyeSIsImV4cGlyZXNfaW4iLCJuZXdFdnRNYXAiLCJvbGRFdnRPYmoiLCJuZXdFdnRPYmoiLCJtZXJnZUV2ZW50TWFwIiwiYXJwIiwianNvbk1hcCIsImlzT1VMQVJQIiwiYXJwRnJvbVN0b3JhZ2UiLCJpbmFwcF9zdGFsZSIsImluYm94X3N0YWxlIiwiX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIiLCJVc2VyIiwiZ2V0VG90YWxWaXNpdHMiLCJ2aXNpdENvdW50IiwiZ2V0TGFzdFZpc2l0IiwicHJldlNlc3Npb24iLCJsb2dMZXZlbHMiLCJfbG9nTGV2ZWwiLCJfbG9nIiwiX2lzTGVnYWN5RGVidWciLCJMb2dnZXIiLCJsb2dMZXZlbCIsIl9nZXRfaXNMZWdhY3lEZWJ1ZyIsIl9sb2cyIiwid3pya0Vycm9yIiwiaW5mbyIsImRlYnVnUEUiLCJjb2RlIiwibGV2ZWwiLCJXWlJLX0QiLCJfbG9nZ2VyJDUiLCJfc2Vzc2lvbklkIiwiX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDMiLCJTZXNzaW9uTWFuYWdlciIsInNjb29raWVTdHIiLCJTQ09PS0lFX0VYUF9USU1FX0lOX1NFQ1MiLCJvYmpTdHIiLCJjdXJyZW50U2Vzc2lvbkluTFMiLCJzZXNzaW9uQ291bnQiLCJnZXRUaW1lRWxhcHNlZCIsInNlc3Npb25TdGFydCIsImdldFBhZ2VDb3VudCIsInNlcU5vIiwicmVxdWVzdFRpbWUiLCJfbG9nZ2VyJDYiLCJfYWNjb3VudCQyIiwiX2RldmljZSQyIiwiX3Nlc3Npb24kMiIsIl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0IiwiX2NsZWFyQ29va2llIiwiX2FkZFRvTG9jYWxFdmVudE1hcCIsIlJlcXVlc3RNYW5hZ2VyIiwiX2FkZFRvTG9jYWxFdmVudE1hcDIiLCJiYWNrdXBFdmVudCIsImZpcmVkIiwiaWdub3JlVHJpbSIsInd6cmtfZXJyb3IiLCJwZyIsInByb3RvY29sIiwiYWYiLCJsaWIiLCJyYyIsImxhc3RTeW5jVGltZSIsImV4cGlyeVNlY29uZHMiLCJkc3luYyIsImdpdmVuR1VJRCIsInJlZ2lzdGVyVG9rZW4iLCJwb3N0IiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJvayIsIm5vd1RzIiwiZXZ0RGV0YWlsIiwiX3JlcXVlc3QkNCIsIl9hY2NvdW50JDMiLCJfb2xkVmFsdWVzJDMiLCJfbG9nZ2VyJDciLCJfcHJvY2Vzc1ByaXZhY3lBcnJheSIsIlByaXZhY3kiLCJfcHJvY2Vzc1ByaXZhY3lBcnJheTIiLCJwcml2YWN5QXJyIiwicHJpdmFjeU9iaiIsImN1cnIiLCJvcHRPdXQiLCJzaG91bGRVc2VJUCIsIl9vbGRWYWx1ZXMkNCIsIl9sb2dnZXIkOCIsIl9yZXF1ZXN0JDUiLCJfYWNjb3VudCQ0IiwiX3dpekFsZXJ0SlNQYXRoIiwiX2ZjbVB1YmxpY0tleSIsIl9zZXRVcFdlYlB1c2giLCJfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucyIsIl9zZXRBcHBsaWNhdGlvblNlcnZlcktleSIsIl9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMiLCJfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9ucyIsIl9hZGRXaXpBbGVydEpTIiwiX3JlbW92ZVdpekFsZXJ0SlMiLCJfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uIiwiTm90aWZpY2F0aW9uSGFuZGxlciIsIl9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24yIiwiX3JlbW92ZVdpekFsZXJ0SlMyIiwiX2FkZFdpekFsZXJ0SlMyIiwiX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMyIiwiX3NldFVwU2FmYXJpTm90aWZpY2F0aW9uczIiLCJfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkyIiwiX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMyIiwiX3NldFVwV2ViUHVzaDIiLCJkaXNwbGF5QXJncyIsIl9lbmFibGVXZWJQdXNoIiwiZW5hYmxlZCIsImFwcGxpY2F0aW9uU2VydmVyS2V5Iiwic3Vic2NyaXB0aW9uQ2FsbGJhY2siLCJzZXJ2aWNlV29ya2VyUGF0aCIsImFwbnNXZWJQdXNoSWQiLCJhcG5zU2VydmljZVVybCIsInNhZmFyaSIsInB1c2hOb3RpZmljYXRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbiIsInN1YnNjcmlwdGlvbiIsInBlcm1pc3Npb24iLCJzdWJzY3JpcHRpb25EYXRhIiwiZW5kcG9pbnQiLCJkZXZpY2VUb2tlbiIsImJyb3dzZXIiLCJyZWdpc3RyYXRpb25TY29wZSIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbiIsIl9fd3pya19hY2NvdW50X2lkIiwic2NvcGUiLCJyZWFkeSIsImdldFJlZ2lzdHJhdGlvbnMiLCJzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIiwic3Vic2NyaWJlT2JqIiwidXNlclZpc2libGVPbmx5IiwiYmFzZTY0U3RyaW5nIiwiYmFzZTY0IiwicmVwZWF0IiwicmF3RGF0YSIsImF0b2IiLCJwcm9jZXNzZWREYXRhIiwiVWludDhBcnJheSIsInVybEJhc2U2NFRvVWludDhBcnJheSIsInB1c2hNYW5hZ2VyIiwic3Vic2NyaWJlIiwiZ2V0U3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJzdWNjZXNzZnVsIiwic2NyaXB0VGFnIiwiYm9keVRleHQiLCJva0J1dHRvblRleHQiLCJyZWplY3RCdXR0b25UZXh0Iiwib2tCdXR0b25Db2xvciIsInNraXBEaWFsb2ciLCJhc2tBZ2FpblRpbWVJblNlY29uZHMiLCJva0NhbGxiYWNrIiwicmVqZWN0Q2FsbGJhY2siLCJodHRwc1BvcHVwUGF0aCIsImh0dHBzSWZyYW1lUGF0aCIsImFwbnNXZWJQdXNoU2VydmljZVVybCIsIm5vdGlmT2JqIiwiaXNIVFRQIiwiY2hyb21lQWdlbnQiLCJmaXJlZm94QWdlbnQiLCJzYWZhcmlBZ2VudCIsIk5vdGlmaWNhdGlvbiIsImh0dHBzSWZyYW1lIiwic3RhdGUiLCJmcm9tIiwid3pya1Blcm1pc3Npb25Qb3B1cCIsIndpekFsZXJ0IiwiY29uZmlybUJ1dHRvblRleHQiLCJjb25maXJtQnV0dG9uQ29sb3IiLCJfdmFyaWFibGVTdG9yZSIsIlZhcmlhYmxlIiwiZGVmYXVsdFZhbHVlIiwiaGFkU3RhcnRlZCIsInZhbHVlQ2hhbmdlZENhbGxiYWNrcyIsImdldFZhbHVlIiwiZ2V0ZGVmYXVsdFZhbHVlIiwidHlwZU9mRGVmYXVsdFZhbHVlIiwiZXhpc3RpbmciLCJnZXRWYXJpYWJsZSIsInZhckluc3RhbmNlIiwicmVnaXN0ZXJWYXJpYWJsZSIsInVwZGF0ZSIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCJoYXNWYXJzUmVxdWVzdENvbXBsZXRlZCIsInRyaWdnZXJWYWx1ZUNoYW5nZWQiLCJvblZhbHVlQ2hhbmdlZCIsImFkZFZhbHVlQ2hhbmdlZENhbGxiYWNrIiwicmVtb3ZlVmFsdWVDaGFuZ2VkQ2FsbGJhY2siLCJjbGVhclN0YXJ0RmxhZyIsIl9sb2dnZXIkOSIsIl9hY2NvdW50JDUiLCJfcmVxdWVzdCQ2IiwiX2V2ZW50IiwiX3ZhcmlhYmxlcyIsIl9yZW1vdGVWYXJpYWJsZXMiLCJfZmV0Y2hDYWxsYmFjayIsIl92YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzIiwiX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzIiwiX2hhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkIiwiX3J1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayIsIlZhcmlhYmxlU3RvcmUiLCJfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrMiIsInN5bmNWYXJpYWJsZXMiLCJvblN5bmNTdWNjZXNzIiwib25TeW5jRmFpbHVyZSIsIm1ldGEiLCJ0ayIsInIiLCJzdGF0dXMiLCJmZXRjaFZhcmlhYmxlcyIsIm9uRmV0Y2hDYWxsYmFjayIsImFkZFZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayIsImNhbGxiYWNrIiwiYWRkT25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayIsInJlbW92ZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayIsInJlbW92ZU9uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2siLCJjYWxsQmFjayIsIl9sb2dnZXIkYSIsIl9hcGkiLCJfb25sb2FkY2FsbGVkIiwiX2RldmljZSQzIiwiX3Nlc3Npb24kMyIsIl9hY2NvdW50JDYiLCJfcmVxdWVzdCQ3IiwiX3ZhcmlhYmxlU3RvcmUkMSIsIl9pc1NwYSIsIl9wcmV2aW91c1VybCIsIl9ib3VuZENoZWNrUGFnZUNoYW5nZWQiLCJfZGlzbWlzc1NwYW1Db250cm9sIiwiX2RlYm91bmNlIiwiX2NoZWNrUGFnZUNoYW5nZWQiLCJfcGluZ1JlcXVlc3QiLCJfaXNQaW5nQ29udGludW91cyIsIl9vdmVycmlkZURTeW5jRmxhZyIsIl9zZW5kTG9jYXRpb25EYXRhIiwiX3Byb2Nlc3NPbGRWYWx1ZXMyIiwib25Vc2VyTG9naW4iLCJwcml2YWN5Iiwibm90aWZpY2F0aW9ucyIsIl9kZWJvdW5jZTIiLCJ0aW1lb3V0IiwiX2NoZWNrUGFnZUNoYW5nZWQyIiwicGFnZUNoYW5nZWQiLCJkZWJvdW5jZWRQYWdlQ2hhbmdlZCIsIl9waW5nUmVxdWVzdDIiLCJfaXNQaW5nQ29udGludW91czIiLCJ3enJrX2QiLCJwaW5nIiwiX292ZXJyaWRlRFN5bmNGbGFnMiIsIl9zZW5kTG9jYXRpb25EYXRhMiIsInNwYSIsImlzU3BhIiwiX2NsZXZlcnRhcCRhY2NvdW50IiwiX2NsZXZlcnRhcCRhY2NvdW50MiIsIl9jbGV2ZXJ0YXAkYWNjb3VudDMiLCJfY2xldmVydGFwJGFjY291bnQ0IiwiX2NsZXZlcnRhcCRhY2NvdW50NSIsImJpbmQiLCJlbmFibGVQZXJzb25hbGl6YXRpb24iLCJzaHBmeVByb3h5UGF0aCIsImxvZ291dCIsImdldENsZXZlclRhcElEIiwiZ2V0QWNjb3VudElEIiwiZ2V0U0NEb21haW4iLCJzZXRMaWJyYXJ5IiwibGliTmFtZSIsImxpYlZlcnNpb24iLCJzZXRTQ1NES1ZlcnNpb24iLCJ2ZXIiLCJzY1NES1ZlcnNpb24iLCJzY3YiLCJnZXRJbmJveE1lc3NhZ2VDb3VudCIsImdldEluYm94TWVzc2FnZVVucmVhZENvdW50IiwiZ2V0QWxsSW5ib3hNZXNzYWdlcyIsImdldFVucmVhZEluYm94TWVzc2FnZXMiLCJnZXRJbmJveE1lc3NhZ2VGb3JJZCIsIm1lc3NhZ2VJZCIsImRlbGV0ZUluYm94TWVzc2FnZSIsIm1hcmtSZWFkSW5ib3hNZXNzYWdlIiwidW5yZWFkTXNnIiwibWFya1JlYWRJbmJveE1lc3NhZ2VzRm9ySWRzIiwibWVzc2FnZUlkcyIsIm1hcmtSZWFkQWxsSW5ib3hNZXNzYWdlIiwiXyRjdCRpbmJveCIsInByb2Nlc3NOb3RpZmljYXRpb25FdmVudCIsImV2ZW50RGV0YWlsIiwic2V0TG9nTGV2ZWwiLCJsIiwiTnVtYmVyIiwiaGFuZGxlSW5jcmVtZW50VmFsdWUiLCJoYW5kbGVEZWNyZW1lbnRWYWx1ZSIsInNldE11bHRpVmFsdWVzRm9yS2V5IiwiYWRkTXVsdGlWYWx1ZUZvcktleSIsImFkZE11bHRpVmFsdWVzRm9yS2V5IiwicmVtb3ZlTXVsdGlWYWx1ZUZvcktleSIsInJlbW92ZU11bHRpVmFsdWVzRm9yS2V5IiwicmVtb3ZlVmFsdWVGb3JLZXkiLCJfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24iLCJyZUVuY29kZWQiLCJmZXRjaEdyb3VwcyIsInVybFBhcmFtc0FzSXMiLCJlbmNvZGVkRW1haWxJZCIsImVuY29kZWRQcm9maWxlUHJvcHMiLCJwYWdlVHlwZSIsInBhZ2VfdHlwZSIsImhhbmRsZUVtYWlsU3Vic2NyaXB0aW9uIiwic2hvd1Bvc2l0aW9uIiwibGF0IiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsbmciLCJsb25naXR1ZGUiLCJMYXRpdHVkZSIsIkxvbmdpdHVkZSIsInNob3dFcnJvciIsIlBFUk1JU1NJT05fREVOSUVEIiwiUE9TSVRJT05fVU5BVkFJTEFCTEUiLCJUSU1FT1VUIiwiVU5LTk9XTl9FUlJPUiIsImdldExvY2F0aW9uIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJhcGkiLCJlbmFibGVXZWJQdXNoIiwidHIiLCJzZXRFbnVtIiwiZW51bVZhbCIsImlzX29ubG9hZGNhbGxlZCIsInN1YkVtYWlsIiwiZ2V0RW1haWwiLCJ3aXRoR3JvdXBzIiwidW5TdWJFbWFpbCIsInVuc3ViRW1haWxHcm91cHMiLCJlbGVtZW50cyIsImlzVW5zdWJzY3JpYmVkIiwiY2hlY2tlZCIsInNldFN1YnNjcmlwdGlvbkdyb3VwcyIsImdldFN1YnNjcmlwdGlvbkdyb3VwcyIsImNoYW5nZVN1YnNjcmlwdGlvbkdyb3VwcyIsInVwZGF0ZWRHcm91cHMiLCJpc0dsb2JhbFVuc3Vic2NyaWJlIiwic2V0SXNHbG9iYWxVbnN1YnNjcmliZSIsInNldFVwZGF0ZWRDYXRlZ29yeUxvbmciLCIkQ0xUUF9XUiIsIiRXWlJLX1dSIiwicGFyZW50V2luZG93Iiwib3BlbmVyIiwicG9zdE1lc3NhZ2UiLCJzZGtWZXJzaW9uIiwiY2hlY2tCdWlsZGVyIiwiU0NPT0tJRV9QUkVGSVgiLCJjdXJyTG9jYXRpb24iLCJ3enJrX2V4IiwiYmFja3VwSW50ZXJ2YWwiLCJwZ0NvdW50IiwicmVmZXJyZXJEb21haW4iLCJnZXREb21haW4iLCJyZWZlcnJlciIsIm1heExlbiIsInV0bVNvdXJjZSIsInV0bV9zb3VyY2UiLCJ3enJrX3NvdXJjZSIsInVzIiwidXRtTWVkaXVtIiwidXRtX21lZGl1bSIsInd6cmtfbWVkaXVtIiwidW0iLCJ1dG1DYW1wYWlnbiIsInV0bV9jYW1wYWlnbiIsInd6cmtfY2FtcGFpZ24iLCJ1YyIsIndtIiwiY3BnIiwic2V0T2ZmbGluZSIsImFyZyIsImdldFNES1ZlcnNpb24iLCJkZWZpbmVWYXJpYWJsZSIsIkhBU0hfVU5ERUZJTkVEIiwiTUFYX1NBRkVfSU5URUdFUiIsImFyZ3NUYWciLCJhcnJheVRhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZXJyb3JUYWciLCJmdW5jVGFnIiwibWFwVGFnIiwibnVtYmVyVGFnIiwib2JqZWN0VGFnIiwicHJvbWlzZVRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsIndlYWtNYXBUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwicmVJc0hvc3RDdG9yIiwicmVJc1VpbnQiLCJ0eXBlZEFycmF5VGFncyIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJiaW5kaW5nIiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImFycmF5U29tZSIsInByZWRpY2F0ZSIsIm1hcFRvQXJyYXkiLCJyZXN1bHQiLCJzaXplIiwic2V0VG9BcnJheSIsInVpZCIsInRyYW5zZm9ybSIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJtYXNrU3JjS2V5IiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJTeW1ib2wiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInN5bVRvU3RyaW5nVGFnIiwidG9TdHJpbmdUYWciLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUtleXMiLCJEYXRhVmlldyIsImdldE5hdGl2ZSIsIk1hcCIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJIYXNoIiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiU3RhY2siLCJhc3NvY0luZGV4T2YiLCJlcSIsImJhc2VHZXRUYWciLCJpc093biIsInRhZyIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlSXNBcmd1bWVudHMiLCJpc09iamVjdExpa2UiLCJiYXNlSXNFcXVhbCIsIm90aGVyIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJzdGFjayIsIm9iamVjdCIsImVxdWFsRnVuYyIsIm9iaklzQXJyIiwib3RoSXNBcnIiLCJvYmpUYWciLCJnZXRUYWciLCJvdGhUYWciLCJvYmpJc09iaiIsIm90aElzT2JqIiwiaXNTYW1lVGFnIiwiZXF1YWxBcnJheXMiLCJieXRlTGVuZ3RoIiwiYnl0ZU9mZnNldCIsImJ1ZmZlciIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJzdGFja2VkIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwiZ2V0QWxsS2V5cyIsIm9iakxlbmd0aCIsInNraXBDdG9yIiwib2JqVmFsdWUiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwib2JqQ3RvciIsIm90aEN0b3IiLCJlcXVhbE9iamVjdHMiLCJiYXNlSXNFcXVhbERlZXAiLCJhcnJMZW5ndGgiLCJvdGhMZW5ndGgiLCJzZWVuIiwiYXJyVmFsdWUiLCJvdGhJbmRleCIsImhhcyIsImtleXNGdW5jIiwic3ltYm9sc0Z1bmMiLCJvZmZzZXQiLCJhcnJheVB1c2giLCJiYXNlR2V0QWxsS2V5cyIsImdldFN5bWJvbHMiLCJnZXRNYXBEYXRhIiwiaXNNYXNrZWQiLCJpc0Z1bmN0aW9uIiwiYmFzZUlzTmF0aXZlIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwicmVzSW5kZXgiLCJzeW1ib2wiLCJhcnJheUZpbHRlciIsImlzSW5kZXgiLCJBcnJheUJ1ZmZlciIsIkN0b3IiLCJjdG9yU3RyaW5nIiwiaXNBcmd1bWVudHMiLCJpc0xlbmd0aCIsImJhc2VVbmFyeSIsImluaGVyaXRlZCIsImlzQXJyIiwiaXNBcmciLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsIml0ZXJhdGVlIiwiYmFzZVRpbWVzIiwiYXJyYXlMaWtlS2V5cyIsImJhc2VLZXlzIiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiX19lc01vZHVsZSIsIkNvbnN0YW50c18xIiwiQXJnc0J1aWxkZXIiLCJhcmdTdHJpbmciLCJhcmdWYWx1ZXMiLCJfYm9keSIsImF0dGFjaEFwaUtleXMiLCJhcHBJZCIsImNsaWVudEtleSIsImRlZmF1bHQiLCJQQVJBTVMiLCJBUFBfSUQiLCJDTElFTlQiLCJDTElFTlRfS0VZIiwiYnVpbGQiLCJidWlsZERpY3QiLCJCcm93c2VyRGV0ZWN0b3IiLCJ3bmQiLCJzZWFyY2hTdHJpbmciLCJnZXRCcm93c2VyRGF0YSIsInZlcnNpb24iLCJzZWFyY2hWZXJzaW9uIiwiYXBwVmVyc2lvbiIsIk9TIiwiZ2V0T1NEYXRhIiwiZGF0YVN0cmluZyIsImRhdGFQcm9wIiwidmVyc2lvblNlYXJjaFN0cmluZyIsInZlcnNpb25TZWFyY2giLCJpZGVudGl0eSIsInN1YlN0cmluZyIsInZlbmRvciIsIm9wZXJhIiwicGxhdGZvcm0iLCJNRVRIT0RTIiwiU1RBUlQiLCJTVE9QIiwiQURWQU5DRSIsIlRSQUNLIiwiUEFVU0VfU0VTU0lPTiIsIlJFU1VNRV9TRVNTSU9OIiwiUEFVU0VfU1RBVEUiLCJSRVNVTUVfU1RBVEUiLCJET1dOTE9BRF9GSUxFIiwiTVVMVEkiLCJTRVRfVkFSUyIsIkdFVF9WQVJTIiwiU0VUX1VTRVJfQVRUUklCVVRFUyIsIlNFVF9ERVZJQ0VfQVRUUklCVVRFUyIsIlVQTE9BRF9GSUxFIiwiUkVHSVNURVJfREVWSUNFIiwiU0RLX1ZFUlNJT04iLCJBQ1RJT04iLCJDVCIsIkNVUlJFTkNZX0NPREUiLCJERVZJQ0VfSUQiLCJVU0VSX0lEIiwiTkVXX1VTRVJfSUQiLCJERVZfTU9ERSIsIlZFUlNJT05fTkFNRSIsIlNZU1RFTV9OQU1FIiwiU1lTVEVNX1ZFUlNJT04iLCJCUk9XU0VSX05BTUUiLCJCUk9XU0VSX1ZFUlNJT04iLCJERVZJQ0VfTkFNRSIsIkRFVklDRV9NT0RFTCIsIlVTRVJfQVRUUklCVVRFUyIsIkxPQ0FMRSIsIkNPVU5UUlkiLCJSRUdJT04iLCJDSVRZIiwiTE9DQVRJT04iLCJTVEFURSIsIklORk8iLCJFVkVOVCIsIlZBTFVFIiwiRklMRU5BTUUiLCJUSU1FIiwiREFUQSIsIlZBUlMiLCJGSUxFIiwiU0laRSIsIlZBUklBVElPTiIsIkhBU0giLCJFTUFJTCIsIlZBUklBQkxFUyIsIkFDVElPTl9ERUZJTklUSU9OUyIsIklOQ0xVREVfREVGQVVMVFMiLCJJTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTyIsIk5FV1NGRUVEX01FU1NBR0VTIiwiTUVTU0FHRV9JRCIsIldFQl9QVVNIX1NVQlNDUklQVElPTiIsIktFWVMiLCJJU19SRUdJU1RFUkVEIiwiTEFURVNUX1ZFUlNJT04iLCJTWU5DX0lOQk9YIiwiTUVTU0FHRVMiLCJWQVJJQU5UUyIsIlZBUklBTlRfREVCVUdfSU5GTyIsIlRPS0VOIiwiREVGQVVMVF9LRVlTIiwiQ09VTlQiLCJJVEVNIiwiSE9TVF9DT05GSUciLCJJTkJPWF9NRVNTQUdFUyIsIlNFU1NJT04iLCJNRVNTQUdFX09DQ1VSUkVOQ0VTIiwiTUVTU0FHRV9DQUNIRSIsIk1JR1JBVElPTl9TVEFURSIsIlBVU0hfU1VCU0NSSVBUSU9OIiwiVkFMVUVTIiwiREVURUNUIiwiREVGQVVMVF9QVVNIX0FDVElPTiIsIkV2ZW50RW1pdHRlciIsImhhbmRsZXJzIiwib24iLCJvZmYiLCJlbWl0IiwiYXJncyIsImhhbmRsZXIiLCJJbnRlcm5hbFN0YXRlIiwic3RhcnRIYW5kbGVycyIsImRldk1vZGUiLCJoYXNTdGFydGVkIiwic3RhcnRTdWNjZXNzZnVsIiwidmFyaWFudERlYnVnSW5mb0VuYWJsZWQiLCJhZGRTdGFydFJlc3BvbnNlSGFuZGxlciIsInJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyIiwidHJpZ2dlclN0YXJ0SGFuZGxlcnMiLCJMZWFucGx1bUludGVybmFsXzEiLCJMZWFucGx1bSIsInNldEFwaVBhdGgiLCJhcGlQYXRoIiwiX2xwIiwic2V0RW1haWwiLCJzZXROZXR3b3JrVGltZW91dCIsInNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlIiwiYWNjZXNzS2V5Iiwic2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSIsInNldFNvY2tldEhvc3QiLCJob3N0Iiwic2V0RGV2aWNlSWQiLCJkZXZpY2VJZCIsInNldExvY2FsZSIsImxvY2FsZSIsInNldEFwcFZlcnNpb24iLCJ2ZXJzaW9uTmFtZSIsInNldERldmljZU5hbWUiLCJkZXZpY2VOYW1lIiwic2V0RGV2aWNlTW9kZWwiLCJkZXZpY2VNb2RlbCIsInNldFJlcXVlc3RCYXRjaGluZyIsImJhdGNoRW5hYmxlZCIsImNvb2xkb3duU2Vjb25kcyIsInNldFN5c3RlbU5hbWUiLCJzeXN0ZW1OYW1lIiwic2V0U3lzdGVtVmVyc2lvbiIsInN5c3RlbVZlcnNpb24iLCJzZXRWYXJpYWJsZXMiLCJ2YXJpYWJsZXMiLCJzZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCIsImVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzIiwicHJvY2Vzc01lc3NhZ2VFdmVudCIsImdldFZhcmlhbnREZWJ1Z0luZm8iLCJnZXRWYXJpYWJsZXMiLCJfYSIsIl9pIiwiYXBwbHkiLCJnZXRWYXJpYW50cyIsImFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyIiwicmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIiLCJmb3JjZUNvbnRlbnRVcGRhdGUiLCJ1c2VTZXNzaW9uTGVuZ3RoIiwic3RhcnQiLCJ1c2VySWQiLCJ1c2VyQXR0cmlidXRlcyIsInN0YXJ0RnJvbUNhY2hlIiwic3RvcCIsInBhdXNlU2Vzc2lvbiIsInJlc3VtZVNlc3Npb24iLCJwYXVzZVN0YXRlIiwicmVzdW1lU3RhdGUiLCJnZXRVc2VySWQiLCJzZXRVc2VySWQiLCJzZXRVc2VyQXR0cmlidXRlcyIsInRyYWNrIiwicGFyYW1zIiwidHJhY2tQdXJjaGFzZSIsImN1cnJlbmN5Q29kZSIsImFkdmFuY2VUbyIsImlzV2ViUHVzaFN1cHBvcnRlZCIsImlzV2ViUHVzaFN1YnNjcmliZWQiLCJzZXRXZWJQdXNoT3B0aW9ucyIsInJlZ2lzdGVyRm9yV2ViUHVzaCIsInNlcnZpY2VXb3JrZXJVcmwiLCJ1bnJlZ2lzdGVyRnJvbVdlYlB1c2giLCJjbGVhclVzZXJDb250ZW50IiwiZGVmaW5lQWN0aW9uIiwiYXBwbHlRdWV1ZSIsInF1ZXVlIiwiZ2V0RmlsZVVybCIsImZpbGVuYW1lIiwiX19kZXN0cm95IiwiVkVSU0lPTiIsIl9fYXNzaWduIiwiYXNzaWduIiwiTGVhbnBsdW1JbmJveE1lc3NhZ2UiLCJBcmdzQnVpbGRlcl8xIiwiU3RvcmFnZU1hbmFnZXJfMSIsIkxlYW5wbHVtSW5ib3giLCJjcmVhdGVSZXF1ZXN0Iiwib25BY3Rpb24iLCJtZXNzYWdlTWFwIiwiY2hhbmdlSGFuZGxlcnMiLCJkb3dubG9hZE1lc3NhZ2VzIiwiX3RoaXMiLCJxdWV1ZWQiLCJzZW5kTm93IiwibmV3c2ZlZWRNZXNzYWdlcyIsInRyaWdnZXJDaGFuZ2VIYW5kbGVycyIsIm1hcmtBc1JlYWQiLCJpc1JlYWQiLCJpbmJveE1lc3NhZ2UiLCJvcGVuQWN0aW9uIiwib25DaGFuZ2VkIiwidW5yZWFkQ291bnQiLCJjcmVhdGUiLCJhbGxNZXNzYWdlcyIsInVucmVhZE1lc3NhZ2VzIiwiX2lkIiwiX3RpdGxlIiwiX3N1YnRpdGxlIiwiX2RhdGEiLCJfdGltZXN0YW1wIiwiX2lzUmVhZCIsIl9pbWFnZVVybCIsIl9vcGVuQWN0aW9uIiwibWVzc2FnZUluZm8iLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJfaCIsIl9qIiwiX2siLCJfbCIsInBhcmVudENhbXBhaWduSWQiLCJtZXNzYWdlRGF0YSIsIlRpdGxlIiwiU3VidGl0bGUiLCJEYXRhIiwiZGVsaXZlcnlUaW1lc3RhbXAiLCJJbWFnZSIsInN1YnRpdGxlIiwidGltZXN0YW1wIiwiQnJvd3NlckRldGVjdG9yXzEiLCJJbnRlcm5hbFN0YXRlXzEiLCJMZWFucGx1bUluYm94XzEiLCJMZWFucGx1bVJlcXVlc3RfMSIsIkxlYW5wbHVtU29ja2V0XzEiLCJQdXNoTWFuYWdlcl8xIiwiTWVzc2FnZXNfMSIsIkV2ZW50RW1pdHRlcl8xIiwiTWlncmF0aW9uTWFuYWdlcl8xIiwicHVibGljXzEiLCJpbnRlcm5hbF8xIiwiVmFyQ2FjaGVfMSIsIlNFU1NJT05fS0VZIiwiTGVhbnBsdW1JbnRlcm5hbCIsIl9taWdyYXRpb24iLCJfZXZlbnRzIiwiX2ludGVybmFsU3RhdGUiLCJfbHBJbmJveCIsIm9uSW5ib3hBY3Rpb24iLCJfbHBSZXF1ZXN0IiwiX3ZhckNhY2hlIiwiX2xwU29ja2V0IiwiZ2V0TGFzdFJlc3BvbnNlIiwiX3B1c2hNYW5hZ2VyIiwiX21lc3NhZ2VzIiwiX2Jyb3dzZXJEZXRlY3RvciIsInByZXZlbnRlZCIsInByZXZlbnREZWZhdWx0Iiwic2hhIiwidmVyaWZ5U3RhdGUiLCJfbG9jYWxlIiwiX2RldmljZU5hbWUiLCJfZGV2aWNlTW9kZWwiLCJiYXRjaENvb2xkb3duIiwiX3N5c3RlbU5hbWUiLCJfc3lzdGVtVmVyc2lvbiIsInZhcmlhbnRzIiwidHJhY2tNZXNzYWdlIiwicmVnaXN0ZXJBY3Rpb25EZWZpbml0aW9uIiwia2luZCIsIk1lc3NhZ2VLaW5kIiwiVGVtcGxhdGUiLCJnZXRWYXJzUmVzcG9uc2UiLCJpc1N1Y2Nlc3MiLCJpc1Jlc3BvbnNlU3VjY2VzcyIsImFwcGx5RGlmZnMiLCJzZXRWYXJpYW50RGVidWdJbmZvIiwiX3Nlc3Npb25MZW5ndGgiLCJoYXNBY3RpdmVTZXNzaW9uIiwiZ2V0U3RhdGUiLCJNaWdyYXRpb25TdGF0ZSIsIkRVUExJQ0FURSIsIl9jdCIsImluaXRDbGV2ZXJUYXAiLCJDTEVWRVJUQVAiLCJtaWdyYXRlUHVzaFRva2VuIiwiY2xlYW51cCIsIm9uVXBkYXRlIiwidHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyIsInN0YXJ0UmVzcG9uc2UiLCJ1cGRhdGVTZXNzaW9uIiwiYWN0aW9uRGVmaW5pdGlvbnMiLCJsYXRlc3RWZXJzaW9uIiwiY29ubmVjdFNvY2tldCIsImxvYWREaWZmcyIsInN1Y2Nlc3MiLCJpc1B1cmNoYXNlIiwiY2xpZW50VXJsIiwiX3dlYlB1c2hPcHRpb25zIiwid29ya2VyVXJsIiwiaXNTdWJzY3JpYmVkIiwic3Vic2NyaWJlVXNlciIsInVuc3Vic2NyaWJlVXNlciIsImludm9jYXRpb24iLCJkdXBsaWNhdGVSZXF1ZXN0IiwiY29ubmVjdCIsImN1cnJlbnRUaW1lIiwibGFzdEFjdGl2ZSIsIk5ldHdvcmtfMSIsIkxlYW5wbHVtUmVxdWVzdCIsIm5ldHdvcmsiLCJjb29sZG93blRpbWVvdXQiLCJsYXN0UmVxdWVzdFRpbWUiLCJ1c2VySWRWYWx1ZSIsImxvYWRIb3N0Q29uZmlnIiwibG9hZExvY2FsIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInBvc3NpYmxlIiwic2F2ZUxvY2FsIiwiYXJnc0J1aWxkZXIiLCJzZW5kUmVxdWVzdCIsInNlbmRVbnNlbnRSZXF1ZXN0cyIsInJlcXVlc3RzVG9TZW5kIiwicG9wVW5zZW50UmVxdWVzdHMiLCJyZXF1ZXN0RGF0YSIsIm11bHRpUmVxdWVzdEFyZ3MiLCJzYXZlUmVxdWVzdEZvckxhdGVyIiwiZ2V0Rmlyc3RSZXNwb25zZSIsInF1ZXJ5IiwiYWpheCIsIm1ldGhvZFJlc3BvbnNlIiwic2hhMjU2IiwibWlncmF0ZVN0YXRlIiwiYXBpSG9zdCIsImRldlNlcnZlckhvc3QiLCJyZW1vdmVMb2NhbCIsImlnbm9yZWQiLCJob3N0Q29uZmlnIiwibG9kYXNoX2lzZXF1YWxfMSIsIlNvY2tldElvQ2xpZW50XzEiLCJMZWFucGx1bVNvY2tldCIsIm5ldHdvcmtUaW1lb3V0U2Vjb25kcyIsInNvY2tldENsaWVudCIsInNvY2tldEhvc3QiLCJhdXRoIiwiV2ViU29ja2V0IiwiYXV0aFNlbnQiLCJvbm9wZW4iLCJzZW5kIiwib25tZXNzYWdlIiwib25NZXNzYWdlUmVjZWl2ZWQiLCJvbmNsb3NlIiwiY29ubmVjdGVkIiwiY29ubmVjdGluZyIsImRpc2Nvbm5lY3QiLCJhcmdzXzEiLCJkaWZmcyIsInNlbmRWYXJpYWJsZXMiLCJ1cGRhdGVkIiwic2VuZEFjdGlvbnMiLCJhbGVydCIsIlZhbHVlVHJhbnNmb3Jtc18xIiwiT2NjdXJyZW5jZVRyYWNrZXIiLCJ0cmlnZ2VycyIsIm9jY3VycmVuY2VzIiwicmVjb3JkT2NjdXJyZW5jZSIsInNlc3Npb25PY2N1cnJlbmNlcyIsInJlY29yZFRyaWdnZXJPY2N1cnJlbmNlIiwidHJpZ2dlck9jY3VycmVuY2VzIiwiZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudCIsImdldE9jY3VycmVuY2VzIiwiY2xlYXJTZXNzaW9uIiwibWF5YmVKU09OIiwic3RyIiwiTWVzc2FnZXMiLCJfbWVzc2FnZUNhY2hlIiwib2NjdXJyZW5jZVRyYWNrZXIiLCJfc2hvd1JpY2hJQU0iLCJvbk1lc3NhZ2VQcmV2aWV3Iiwib25NZXNzYWdlc1JlY2VpdmVkIiwib25UcmlnZ2VyIiwidHJpZ2dlciIsImF0dHJpYnV0ZXMiLCJjb250ZXh0IiwiZ2V0TWVzc2FnZXMiLCJzaG91bGRTaG93TWVzc2FnZSIsInNob3dNZXNzYWdlIiwiZXZlbnRJbmZvIiwicnVuQWN0aW9uTmFtZWQiLCJhY3Rpb25OYW1lIiwicnVuVHJhY2tlZEFjdGlvbk5hbWVkIiwiaGFuZGxlTWVzc2FnZSIsImFkZERlZmF1bHRzIiwicmVjZWl2ZWRNZXNzYWdlcyIsIm1hdGNoZXNUcmlnZ2VyIiwid2hlblRyaWdnZXJzIiwibWF0Y2hlc1VubGVzcyIsInVubGVzc1RyaWdnZXJzIiwidHJpZ2dlcnNDb3VudCIsIm1hdGNoZXNMaW1pdHMiLCJ3aGVuTGltaXRzIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImV2ZW50VXJsIiwicGFyYW0iLCJtZXRhZGF0YSIsImFuY2hvclByb3AiLCJhbHRQcm9wIiwicGFyYW1ldGVycyIsIl9fbmFtZV9fIiwicmVzb2x2ZUZpbGVzIiwidGVtcGxhdGVOYW1lIiwidGVtcGxhdGUiLCJyZW5kZXJSaWNoSW5BcHBNZXNzYWdlIiwicmVzb2x2ZUZpZWxkcyIsImpvaW4iLCJjb250ZW50IiwiZG9jIiwid3JpdGUiLCJjbG9zZSIsInRyYWNrT3B0aW9ucyIsImRlZmluZWQiLCJwYXJlbnRNZXNzYWdlSWQiLCJwcm9jZXNzQWN0aW9uIiwibWVzc2FnZUlkRnJvbUFjdGlvbiIsImNoYWluZWRNZXNzYWdlSWRfMSIsIm1lc3NhZ2VfMSIsImRlZmluaXRpb24iLCJraW5kcyIsInVzZURlZmF1bHRzIiwiZGVmYXVsdFZhbHVlcyIsImZpbGVQcmVmaXgiLCJjb2xvclN1ZmZpeCIsImRlY29kZUNvbG9yIiwiaWdub3JlQ2FzZUVxdWFscyIsImxvY2FsZUNvbXBhcmUiLCJzZW5zaXRpdml0eSIsIm1hdGNoZXNUcmlnZ2VycyIsImNvbnRleHROb3VuIiwibWF0Y2hlc05vdW4iLCJub3VuIiwidmVyYiIsIm9iamVjdHMiLCJwYXJhbWV0ZXIiLCJtYXRjaGVzUGFyYW0iLCJzb21lIiwic3ViamVjdCIsImNvbnRhaW5zQXR0cmlidXRlIiwiY29udGV4dFZhbHVlXzEiLCJldmVyeSIsImxpbWl0IiwicGVySW50ZXJ2YWwiLCJ0aW1lU2xvdCIsInZlcmJUb0ludGVydmFsIiwiSWRlbnRpdHlNYW5hZ2VyIiwiSWRlbnRpdHlTdGF0ZSIsImNsZXZlcnRhcF93ZWJfc2RrXzEiLCJub29wIiwidG9NaWdyYXRpb25TdGF0ZSIsInNkayIsIkxFQU5QTFVNIiwiVU5LTk9XTiIsIk1pZ3JhdGlvbk1hbmFnZXIiLCJfZmV0Y2hpbmciLCJzYXZlZFJlc3BvbnNlIiwiZ2V0TWlncmF0aW9uU3RhdGUiLCJpc0Fub255bW91cyIsImN0IiwicmVnaW9uQ29kZSIsImFyZ3NEaWN0IiwiZXZlbnRQdXNoIiwicHJvZmlsZVB1c2giLCJhdHRycyIsIm1hcEF0dHJpYnV0ZXMiLCJjb252ZXJ0QXJyYXlzIiwiaXNFbmdhZ2VtZW50RXZlbnQiLCJldmVudFBhcmFtcyIsImFyciIsIm1hcHBpbmciLCJhdHRyaWJ1dGVNYXBwaW5ncyIsIkFOT05ZTU9VUyIsImlkZW50aWZ5IiwiSURFTlRJRklFRCIsImlkZW50aWZ5Tm9uQW5vbnltb3VzIiwiTmV0d29yayIsInJlcXVlc3RRdWV1ZSIsInJ1bm5pbmdSZXF1ZXN0IiwicGxhaW5UZXh0IiwiZW5xdWV1ZVJlcXVlc3QiLCJYRG9tYWluUmVxdWVzdCIsImFqYXhJRTgiLCJoYW5kbGVkIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZV8xIiwicGFyc2VFcnJvciIsInJlc3BvbnNlVGV4dCIsImRlcXVldWVSZXF1ZXN0IiwiYmxvY2tlZCIsIm9udGltZW91dCIsInNldFJlcXVlc3RIZWFkZXIiLCJhYm9ydCIsInhkciIsIm9ucHJvZ3Jlc3MiLCJyZXF1ZXN0QXJndW1lbnRzIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsImRvbmUiLCJfX2dlbmVyYXRvciIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwiaXRlcmF0b3IiLCJvcCIsIlB1c2hNYW5hZ2VyIiwiZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsInVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyIiwiZXJyb3JfMSIsImVycm9yXzIiLCJ1cmxCNjRUb1VpbnQ4QXJyYXkiLCJlcnJvcl8zIiwiZ2V0UmVnaXN0cmF0aW9uIiwiZGVjb2RlRGF0YSIsIm91dHB1dEFycmF5IiwicHJlcGFyZWRTdWJzY3JpcHRpb24iLCJwcmVwYXJlU3Vic2NyaXB0aW9uIiwicHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmciLCJzZXRTdWJzY3JpcHRpb24iLCJrZXlBc2NpaSIsImVuY29kZURhdGEiLCJhdXRoQXNjaWkiLCJidG9hIiwiU29ja2V0SW9DbGllbnQiLCJsaW5lIiwicGFydHMiLCJoZWFydGJlYXQiLCJzb2NrZXQiLCJoZWFydGJlYXRJbnRlcnZhbCIsIm1lc3NhZ2VQYXJ0cyIsIm1lc3NhZ2VFdmVudCIsImFyZ3NKc29uIiwic3RvcmFnZUVuYWJsZWQiLCJsb2NhbCIsImFsdGVybmF0ZVN0b3JhZ2UiLCJWYWx1ZVRyYW5zZm9ybXMiLCJjb2xvciIsImVuY29kZUNvbG9yIiwicmdiYSIsImhleCIsIlZhckNhY2hlIiwiaGFzUmVjZWl2ZWREaWZmcyIsIm1lcmdlZCIsInZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyIsInZhcmlhbnREZWJ1Z0luZm8iLCJreCIsIm1lcmdlSGVscGVyIiwic2F2ZURpZmZzIiwiY3VycmVudCIsInNldFZhcnMiLCJhcmd1bWVudFRyZWUiLCJhcmd1bWVudEtpbmRzIiwib3B0aW9uc1RvRGVmaW5pdGlvbnMiLCJwcmVmaXgiLCJvYmpJdGVyYXRvciIsImF0dHIiLCJ2YXJzSXRlcmF0b3IiLCJkaWZmSXRlcmF0b3IiLCJhdHRyaWJ1dGUiLCJtZXJnZWRfMSIsInZhclN1YnNjcmlwdCIsInN1YnNjcmlwdCIsImRpZmZWYWx1ZSIsIkFjdGlvblBhcmFtZXRlclR5cGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2xvYmFsVGhpcyIsIm5tZCIsInBhdGhzIl0sInNvdXJjZVJvb3QiOiIifQ==